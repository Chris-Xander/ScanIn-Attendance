function WC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var f1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ey(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var p2={exports:{}},Lh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw;function j8(){if(Yw)return Lh;Yw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var g in i)g!=="key"&&(o[g]=i[g])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:u,ref:i!==void 0?i:null,props:o}}return Lh.Fragment=e,Lh.jsx=n,Lh.jsxs=n,Lh}var Xw;function H8(){return Xw||(Xw=1,p2.exports=j8()),p2.exports}var F=H8(),x2={exports:{}},Jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kw;function z8(){if(Kw)return Jt;Kw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),A=Symbol.iterator;function C(me){return me===null||typeof me!="object"?null:(me=A&&me[A]||me["@@iterator"],typeof me=="function"?me:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,I={};function k(me,Ge,ie){this.props=me,this.context=Ge,this.refs=I,this.updater=ie||R}k.prototype.isReactComponent={},k.prototype.setState=function(me,Ge){if(typeof me!="object"&&typeof me!="function"&&me!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,me,Ge,"setState")},k.prototype.forceUpdate=function(me){this.updater.enqueueForceUpdate(this,me,"forceUpdate")};function H(){}H.prototype=k.prototype;function Y(me,Ge,ie){this.props=me,this.context=Ge,this.refs=I,this.updater=ie||R}var W=Y.prototype=new H;W.constructor=Y,O(W,k.prototype),W.isPureReactComponent=!0;var te=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},ve=Object.prototype.hasOwnProperty;function B(me,Ge,ie,fe,he,pe){return ie=pe.ref,{$$typeof:t,type:me,key:Ge,ref:ie!==void 0?ie:null,props:pe}}function V(me,Ge){return B(me.type,Ge,void 0,void 0,void 0,me.props)}function L(me){return typeof me=="object"&&me!==null&&me.$$typeof===t}function M(me){var Ge={"=":"=0",":":"=2"};return"$"+me.replace(/[=:]/g,function(ie){return Ge[ie]})}var q=/\/+/g;function Q(me,Ge){return typeof me=="object"&&me!==null&&me.key!=null?M(""+me.key):Ge.toString(36)}function Z(){}function pt(me){switch(me.status){case"fulfilled":return me.value;case"rejected":throw me.reason;default:switch(typeof me.status=="string"?me.then(Z,Z):(me.status="pending",me.then(function(Ge){me.status==="pending"&&(me.status="fulfilled",me.value=Ge)},function(Ge){me.status==="pending"&&(me.status="rejected",me.reason=Ge)})),me.status){case"fulfilled":return me.value;case"rejected":throw me.reason}}throw me}function Ee(me,Ge,ie,fe,he){var pe=typeof me;(pe==="undefined"||pe==="boolean")&&(me=null);var _e=!1;if(me===null)_e=!0;else switch(pe){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(me.$$typeof){case t:case e:_e=!0;break;case _:return _e=me._init,Ee(_e(me._payload),Ge,ie,fe,he)}}if(_e)return he=he(me),_e=fe===""?"."+Q(me,0):fe,te(he)?(ie="",_e!=null&&(ie=_e.replace(q,"$&/")+"/"),Ee(he,Ge,ie,"",function(mt){return mt})):he!=null&&(L(he)&&(he=V(he,ie+(he.key==null||me&&me.key===he.key?"":(""+he.key).replace(q,"$&/")+"/")+_e)),Ge.push(he)),1;_e=0;var lt=fe===""?".":fe+":";if(te(me))for(var Ze=0;Ze<me.length;Ze++)fe=me[Ze],pe=lt+Q(fe,Ze),_e+=Ee(fe,Ge,ie,pe,he);else if(Ze=C(me),typeof Ze=="function")for(me=Ze.call(me),Ze=0;!(fe=me.next()).done;)fe=fe.value,pe=lt+Q(fe,Ze++),_e+=Ee(fe,Ge,ie,pe,he);else if(pe==="object"){if(typeof me.then=="function")return Ee(pt(me),Ge,ie,fe,he);throw Ge=String(me),Error("Objects are not valid as a React child (found: "+(Ge==="[object Object]"?"object with keys {"+Object.keys(me).join(", ")+"}":Ge)+"). If you meant to render a collection of children, use an array instead.")}return _e}function be(me,Ge,ie){if(me==null)return me;var fe=[],he=0;return Ee(me,fe,"","",function(pe){return Ge.call(ie,pe,he++)}),fe}function Ue(me){if(me._status===-1){var Ge=me._result;Ge=Ge(),Ge.then(function(ie){(me._status===0||me._status===-1)&&(me._status=1,me._result=ie)},function(ie){(me._status===0||me._status===-1)&&(me._status=2,me._result=ie)}),me._status===-1&&(me._status=0,me._result=Ge)}if(me._status===1)return me._result.default;throw me._result}var xt=typeof reportError=="function"?reportError:function(me){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Ge=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof me=="object"&&me!==null&&typeof me.message=="string"?String(me.message):String(me),error:me});if(!window.dispatchEvent(Ge))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",me);return}console.error(me)};function wt(){}return Jt.Children={map:be,forEach:function(me,Ge,ie){be(me,function(){Ge.apply(this,arguments)},ie)},count:function(me){var Ge=0;return be(me,function(){Ge++}),Ge},toArray:function(me){return be(me,function(Ge){return Ge})||[]},only:function(me){if(!L(me))throw Error("React.Children.only expected to receive a single React element child.");return me}},Jt.Component=k,Jt.Fragment=n,Jt.Profiler=i,Jt.PureComponent=Y,Jt.StrictMode=r,Jt.Suspense=x,Jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Jt.__COMPILER_RUNTIME={__proto__:null,c:function(me){return oe.H.useMemoCache(me)}},Jt.cache=function(me){return function(){return me.apply(null,arguments)}},Jt.cloneElement=function(me,Ge,ie){if(me==null)throw Error("The argument must be a React element, but you passed "+me+".");var fe=O({},me.props),he=me.key,pe=void 0;if(Ge!=null)for(_e in Ge.ref!==void 0&&(pe=void 0),Ge.key!==void 0&&(he=""+Ge.key),Ge)!ve.call(Ge,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&Ge.ref===void 0||(fe[_e]=Ge[_e]);var _e=arguments.length-2;if(_e===1)fe.children=ie;else if(1<_e){for(var lt=Array(_e),Ze=0;Ze<_e;Ze++)lt[Ze]=arguments[Ze+2];fe.children=lt}return B(me.type,he,void 0,void 0,pe,fe)},Jt.createContext=function(me){return me={$$typeof:u,_currentValue:me,_currentValue2:me,_threadCount:0,Provider:null,Consumer:null},me.Provider=me,me.Consumer={$$typeof:o,_context:me},me},Jt.createElement=function(me,Ge,ie){var fe,he={},pe=null;if(Ge!=null)for(fe in Ge.key!==void 0&&(pe=""+Ge.key),Ge)ve.call(Ge,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(he[fe]=Ge[fe]);var _e=arguments.length-2;if(_e===1)he.children=ie;else if(1<_e){for(var lt=Array(_e),Ze=0;Ze<_e;Ze++)lt[Ze]=arguments[Ze+2];he.children=lt}if(me&&me.defaultProps)for(fe in _e=me.defaultProps,_e)he[fe]===void 0&&(he[fe]=_e[fe]);return B(me,pe,void 0,void 0,null,he)},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(me){return{$$typeof:g,render:me}},Jt.isValidElement=L,Jt.lazy=function(me){return{$$typeof:_,_payload:{_status:-1,_result:me},_init:Ue}},Jt.memo=function(me,Ge){return{$$typeof:m,type:me,compare:Ge===void 0?null:Ge}},Jt.startTransition=function(me){var Ge=oe.T,ie={};oe.T=ie;try{var fe=me(),he=oe.S;he!==null&&he(ie,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(wt,xt)}catch(pe){xt(pe)}finally{oe.T=Ge}},Jt.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Jt.use=function(me){return oe.H.use(me)},Jt.useActionState=function(me,Ge,ie){return oe.H.useActionState(me,Ge,ie)},Jt.useCallback=function(me,Ge){return oe.H.useCallback(me,Ge)},Jt.useContext=function(me){return oe.H.useContext(me)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(me,Ge){return oe.H.useDeferredValue(me,Ge)},Jt.useEffect=function(me,Ge,ie){var fe=oe.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(me,Ge)},Jt.useId=function(){return oe.H.useId()},Jt.useImperativeHandle=function(me,Ge,ie){return oe.H.useImperativeHandle(me,Ge,ie)},Jt.useInsertionEffect=function(me,Ge){return oe.H.useInsertionEffect(me,Ge)},Jt.useLayoutEffect=function(me,Ge){return oe.H.useLayoutEffect(me,Ge)},Jt.useMemo=function(me,Ge){return oe.H.useMemo(me,Ge)},Jt.useOptimistic=function(me,Ge){return oe.H.useOptimistic(me,Ge)},Jt.useReducer=function(me,Ge,ie){return oe.H.useReducer(me,Ge,ie)},Jt.useRef=function(me){return oe.H.useRef(me)},Jt.useState=function(me){return oe.H.useState(me)},Jt.useSyncExternalStore=function(me,Ge,ie){return oe.H.useSyncExternalStore(me,Ge,ie)},Jt.useTransition=function(){return oe.H.useTransition()},Jt.version="19.1.0",Jt}var Qw;function B0(){return Qw||(Qw=1,x2.exports=z8()),x2.exports}var de=B0();const G8=ey(de),hx=WC({__proto__:null,default:G8},[de]);var y2={exports:{}},Ph={},v2={exports:{}},_2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function W8(){return $w||($w=1,function(t){function e(be,Ue){var xt=be.length;be.push(Ue);e:for(;0<xt;){var wt=xt-1>>>1,me=be[wt];if(0<i(me,Ue))be[wt]=Ue,be[xt]=me,xt=wt;else break e}}function n(be){return be.length===0?null:be[0]}function r(be){if(be.length===0)return null;var Ue=be[0],xt=be.pop();if(xt!==Ue){be[0]=xt;e:for(var wt=0,me=be.length,Ge=me>>>1;wt<Ge;){var ie=2*(wt+1)-1,fe=be[ie],he=ie+1,pe=be[he];if(0>i(fe,xt))he<me&&0>i(pe,fe)?(be[wt]=pe,be[he]=xt,wt=he):(be[wt]=fe,be[ie]=xt,wt=ie);else if(he<me&&0>i(pe,xt))be[wt]=pe,be[he]=xt,wt=he;else break e}}return Ue}function i(be,Ue){var xt=be.sortIndex-Ue.sortIndex;return xt!==0?xt:be.id-Ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,g=u.now();t.unstable_now=function(){return u.now()-g}}var x=[],m=[],_=1,A=null,C=3,R=!1,O=!1,I=!1,k=!1,H=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function te(be){for(var Ue=n(m);Ue!==null;){if(Ue.callback===null)r(m);else if(Ue.startTime<=be)r(m),Ue.sortIndex=Ue.expirationTime,e(x,Ue);else break;Ue=n(m)}}function oe(be){if(I=!1,te(be),!O)if(n(x)!==null)O=!0,ve||(ve=!0,Q());else{var Ue=n(m);Ue!==null&&Ee(oe,Ue.startTime-be)}}var ve=!1,B=-1,V=5,L=-1;function M(){return k?!0:!(t.unstable_now()-L<V)}function q(){if(k=!1,ve){var be=t.unstable_now();L=be;var Ue=!0;try{e:{O=!1,I&&(I=!1,Y(B),B=-1),R=!0;var xt=C;try{t:{for(te(be),A=n(x);A!==null&&!(A.expirationTime>be&&M());){var wt=A.callback;if(typeof wt=="function"){A.callback=null,C=A.priorityLevel;var me=wt(A.expirationTime<=be);if(be=t.unstable_now(),typeof me=="function"){A.callback=me,te(be),Ue=!0;break t}A===n(x)&&r(x),te(be)}else r(x);A=n(x)}if(A!==null)Ue=!0;else{var Ge=n(m);Ge!==null&&Ee(oe,Ge.startTime-be),Ue=!1}}break e}finally{A=null,C=xt,R=!1}Ue=void 0}}finally{Ue?Q():ve=!1}}}var Q;if(typeof W=="function")Q=function(){W(q)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,pt=Z.port2;Z.port1.onmessage=q,Q=function(){pt.postMessage(null)}}else Q=function(){H(q,0)};function Ee(be,Ue){B=H(function(){be(t.unstable_now())},Ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(be){be.callback=null},t.unstable_forceFrameRate=function(be){0>be||125<be?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<be?Math.floor(1e3/be):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_next=function(be){switch(C){case 1:case 2:case 3:var Ue=3;break;default:Ue=C}var xt=C;C=Ue;try{return be()}finally{C=xt}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(be,Ue){switch(be){case 1:case 2:case 3:case 4:case 5:break;default:be=3}var xt=C;C=be;try{return Ue()}finally{C=xt}},t.unstable_scheduleCallback=function(be,Ue,xt){var wt=t.unstable_now();switch(typeof xt=="object"&&xt!==null?(xt=xt.delay,xt=typeof xt=="number"&&0<xt?wt+xt:wt):xt=wt,be){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=xt+me,be={id:_++,callback:Ue,priorityLevel:be,startTime:xt,expirationTime:me,sortIndex:-1},xt>wt?(be.sortIndex=xt,e(m,be),n(x)===null&&be===n(m)&&(I?(Y(B),B=-1):I=!0,Ee(oe,xt-wt))):(be.sortIndex=me,e(x,be),O||R||(O=!0,ve||(ve=!0,Q()))),be},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(be){var Ue=C;return function(){var xt=C;C=Ue;try{return be.apply(this,arguments)}finally{C=xt}}}}(_2)),_2}var Zw;function q8(){return Zw||(Zw=1,v2.exports=W8()),v2.exports}var E2={exports:{}},es={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jw;function Y8(){if(Jw)return es;Jw=1;var t=B0();function e(x){var m="https://react.dev/errors/"+x;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+x+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(x,m,_){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:A==null?null:""+A,children:x,containerInfo:m,implementation:_}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(x,m){if(x==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return es.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,es.createPortal=function(x,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(x,m,null,_)},es.flushSync=function(x){var m=u.T,_=r.p;try{if(u.T=null,r.p=2,x)return x()}finally{u.T=m,r.p=_,r.d.f()}},es.preconnect=function(x,m){typeof x=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(x,m))},es.prefetchDNS=function(x){typeof x=="string"&&r.d.D(x)},es.preinit=function(x,m){if(typeof x=="string"&&m&&typeof m.as=="string"){var _=m.as,A=g(_,m.crossOrigin),C=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(x,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:A,integrity:C,fetchPriority:R}):_==="script"&&r.d.X(x,{crossOrigin:A,integrity:C,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},es.preinitModule=function(x,m){if(typeof x=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=g(m.as,m.crossOrigin);r.d.M(x,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(x)},es.preload=function(x,m){if(typeof x=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,A=g(_,m.crossOrigin);r.d.L(x,_,{crossOrigin:A,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},es.preloadModule=function(x,m){if(typeof x=="string")if(m){var _=g(m.as,m.crossOrigin);r.d.m(x,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(x)},es.requestFormReset=function(x){r.d.r(x)},es.unstable_batchedUpdates=function(x,m){return x(m)},es.useFormState=function(x,m,_){return u.H.useFormState(x,m,_)},es.useFormStatus=function(){return u.H.useHostTransitionStatus()},es.version="19.1.0",es}var eT;function X8(){if(eT)return E2.exports;eT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),E2.exports=Y8(),E2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tT;function K8(){if(tT)return Ph;tT=1;var t=q8(),e=B0(),n=X8();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function u(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function g(s){if(o(s)!==s)throw Error(r(188))}function x(s){var l=s.alternate;if(!l){if(l=o(s),l===null)throw Error(r(188));return l!==s?null:s}for(var h=s,y=l;;){var T=h.return;if(T===null)break;var b=T.alternate;if(b===null){if(y=T.return,y!==null){h=y;continue}break}if(T.child===b.child){for(b=T.child;b;){if(b===h)return g(T),s;if(b===y)return g(T),l;b=b.sibling}throw Error(r(188))}if(h.return!==y.return)h=T,y=b;else{for(var j=!1,J=T.child;J;){if(J===h){j=!0,h=T,y=b;break}if(J===y){j=!0,y=T,h=b;break}J=J.sibling}if(!j){for(J=b.child;J;){if(J===h){j=!0,h=b,y=T;break}if(J===y){j=!0,y=b,h=T;break}J=J.sibling}if(!j)throw Error(r(189))}}if(h.alternate!==y)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?s:l}function m(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=m(s),l!==null)return l;s=s.sibling}return null}var _=Object.assign,A=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),W=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function Q(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Symbol.for("react.client.reference");function pt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Z?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case O:return"Fragment";case k:return"Profiler";case I:return"StrictMode";case oe:return"Suspense";case ve:return"SuspenseList";case L:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case R:return"Portal";case W:return(s.displayName||"Context")+".Provider";case Y:return(s._context.displayName||"Context")+".Consumer";case te:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return l=s.displayName||null,l!==null?l:pt(s.type)||"Memo";case V:l=s._payload,s=s._init;try{return pt(s(l))}catch{}}return null}var Ee=Array.isArray,be=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xt={pending:!1,data:null,method:null,action:null},wt=[],me=-1;function Ge(s){return{current:s}}function ie(s){0>me||(s.current=wt[me],wt[me]=null,me--)}function fe(s,l){me++,wt[me]=s.current,s.current=l}var he=Ge(null),pe=Ge(null),_e=Ge(null),lt=Ge(null);function Ze(s,l){switch(fe(_e,l),fe(pe,s),fe(he,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?Ew(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=Ew(l),s=ww(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ie(he),fe(he,s)}function mt(){ie(he),ie(pe),ie(_e)}function ot(s){s.memoizedState!==null&&fe(lt,s);var l=he.current,h=ww(l,s.type);l!==h&&(fe(pe,s),fe(he,h))}function Ot(s){pe.current===s&&(ie(he),ie(pe)),lt.current===s&&(ie(lt),Nh._currentValue=xt)}var Pt=Object.prototype.hasOwnProperty,St=t.unstable_scheduleCallback,Ut=t.unstable_cancelCallback,Bn=t.unstable_shouldYield,vn=t.unstable_requestPaint,rt=t.unstable_now,jt=t.unstable_getCurrentPriorityLevel,Tt=t.unstable_ImmediatePriority,vr=t.unstable_UserBlockingPriority,gt=t.unstable_NormalPriority,Ri=t.unstable_LowPriority,ls=t.unstable_IdlePriority,Un=t.log,Yi=t.unstable_setDisableYieldValue,Zt=null,nn=null;function wn(s){if(typeof Un=="function"&&Yi(s),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(Zt,s)}catch{}}var on=Math.clz32?Math.clz32:Zr,ur=Math.log,Tn=Math.LN2;function Zr(s){return s>>>=0,s===0?32:31-(ur(s)/Tn|0)|0}var $t=256,et=4194304;function fn(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function hn(s,l,h){var y=s.pendingLanes;if(y===0)return 0;var T=0,b=s.suspendedLanes,j=s.pingedLanes;s=s.warmLanes;var J=y&134217727;return J!==0?(y=J&~b,y!==0?T=fn(y):(j&=J,j!==0?T=fn(j):h||(h=J&~s,h!==0&&(T=fn(h))))):(J=y&~b,J!==0?T=fn(J):j!==0?T=fn(j):h||(h=y&~s,h!==0&&(T=fn(h)))),T===0?0:l!==0&&l!==T&&(l&b)===0&&(b=T&-T,h=l&-l,b>=h||b===32&&(h&4194048)!==0)?l:T}function Sn(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function ps(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ua(){var s=$t;return $t<<=1,($t&4194048)===0&&($t=256),s}function ka(){var s=et;return et<<=1,(et&62914560)===0&&(et=4194304),s}function Qt(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function ui(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ks(s,l,h,y,T,b){var j=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var J=s.entanglements,ge=s.expirationTimes,Oe=s.hiddenUpdates;for(h=j&~h;0<h;){var We=31-on(h),Ke=1<<We;J[We]=0,ge[We]=-1;var ke=Oe[We];if(ke!==null)for(Oe[We]=null,We=0;We<ke.length;We++){var Fe=ke[We];Fe!==null&&(Fe.lane&=-536870913)}h&=~Ke}y!==0&&cs(s,y,0),b!==0&&T===0&&s.tag!==0&&(s.suspendedLanes|=b&~(j&~l))}function cs(s,l,h){s.pendingLanes|=l,s.suspendedLanes&=~l;var y=31-on(l);s.entangledLanes|=l,s.entanglements[y]=s.entanglements[y]|1073741824|h&4194090}function fi(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var y=31-on(h),T=1<<y;T&l|s[y]&l&&(s[y]|=l),h&=~T}}function xs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function fr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ni(){var s=Ue.p;return s!==0?s:(s=window.event,s===void 0?32:jw(s.type))}function La(s,l){var h=Ue.p;try{return Ue.p=s,l()}finally{Ue.p=h}}var ln=Math.random().toString(36).slice(2),Rr="__reactFiber$"+ln,Cn="__reactProps$"+ln,_i="__reactContainer$"+ln,Dr="__reactEvents$"+ln,Ls="__reactListeners$"+ln,X="__reactHandles$"+ln,ee="__reactResources$"+ln,re="__reactMarker$"+ln;function se(s){delete s[Rr],delete s[Cn],delete s[Dr],delete s[Ls],delete s[X]}function le(s){var l=s[Rr];if(l)return l;for(var h=s.parentNode;h;){if(l=h[_i]||h[Rr]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=Cw(s);s!==null;){if(h=s[Rr])return h;s=Cw(s)}return l}s=h,h=s.parentNode}return null}function ue(s){if(s=s[Rr]||s[_i]){var l=s.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return s}return null}function Ie(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function Ve(s){var l=s[ee];return l||(l=s[ee]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Te(s){s[re]=!0}var De=new Set,Me={};function Xe(s,l){Je(s,l),Je(s+"Capture",l)}function Je(s,l){for(Me[s]=l,s=0;s<l.length;s++)De.add(l[s])}var it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},ct={};function Mt(s){return Pt.call(ct,s)?!0:Pt.call(st,s)?!1:it.test(s)?ct[s]=!0:(st[s]=!0,!1)}function je(s,l,h){if(Mt(l))if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var y=l.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+h)}}function dn(s,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+h)}}function Ct(s,l,h,y){if(y===null)s.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(l,h,""+y)}}var Jr,fa;function Ht(s){if(Jr===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Jr=l&&l[1]||"",fa=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+s+fa}var zt=!1;function Gt(s,l){if(!s||zt)return"";zt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(l){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Fe){var ke=Fe}Reflect.construct(s,[],Ke)}else{try{Ke.call()}catch(Fe){ke=Fe}s.call(Ke.prototype)}}else{try{throw Error()}catch(Fe){ke=Fe}(Ke=s())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(Fe){if(Fe&&ke&&typeof Fe.stack=="string")return[Fe.stack,ke.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=y.DetermineComponentFrameRoot(),j=b[0],J=b[1];if(j&&J){var ge=j.split(`
`),Oe=J.split(`
`);for(T=y=0;y<ge.length&&!ge[y].includes("DetermineComponentFrameRoot");)y++;for(;T<Oe.length&&!Oe[T].includes("DetermineComponentFrameRoot");)T++;if(y===ge.length||T===Oe.length)for(y=ge.length-1,T=Oe.length-1;1<=y&&0<=T&&ge[y]!==Oe[T];)T--;for(;1<=y&&0<=T;y--,T--)if(ge[y]!==Oe[T]){if(y!==1||T!==1)do if(y--,T--,0>T||ge[y]!==Oe[T]){var We=`
`+ge[y].replace(" at new "," at ");return s.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",s.displayName)),We}while(1<=y&&0<=T);break}}}finally{zt=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Ht(h):""}function hi(s){switch(s.tag){case 26:case 27:case 5:return Ht(s.type);case 16:return Ht("Lazy");case 13:return Ht("Suspense");case 19:return Ht("SuspenseList");case 0:case 15:return Gt(s.type,!1);case 11:return Gt(s.type.render,!1);case 1:return Gt(s.type,!0);case 31:return Ht("Activity");default:return""}}function eo(s){try{var l="";do l+=hi(s),s=s.return;while(s);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function di(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function hr(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ha(s){var l=hr(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),y=""+s[l];if(!s.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var T=h.get,b=h.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return T.call(this)},set:function(j){y=""+j,b.call(this,j)}}),Object.defineProperty(s,l,{enumerable:h.enumerable}),{getValue:function(){return y},setValue:function(j){y=""+j},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function vl(s){s._valueTracker||(s._valueTracker=ha(s))}function Jn(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),y="";return s&&(y=hr(s)?s.checked?"true":"false":s.value),s=y,s!==h?(l.setValue(s),!0):!1}function Xi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Kf=/[\n"\\]/g;function er(s){return s.replace(Kf,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function en(s,l,h,y,T,b,j,J){s.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?s.type=j:s.removeAttribute("type"),l!=null?j==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+di(l)):s.value!==""+di(l)&&(s.value=""+di(l)):j!=="submit"&&j!=="reset"||s.removeAttribute("value"),l!=null?Se(s,j,di(l)):h!=null?Se(s,j,di(h)):y!=null&&s.removeAttribute("value"),T==null&&b!=null&&(s.defaultChecked=!!b),T!=null&&(s.checked=T&&typeof T!="function"&&typeof T!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?s.name=""+di(J):s.removeAttribute("name")}function _r(s,l,h,y,T,b,j,J){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),l!=null||h!=null){if(!(b!=="submit"&&b!=="reset"||l!=null))return;h=h!=null?""+di(h):"",l=l!=null?""+di(l):h,J||l===s.value||(s.value=l),s.defaultValue=l}y=y??T,y=typeof y!="function"&&typeof y!="symbol"&&!!y,s.checked=J?s.checked:!!y,s.defaultChecked=!!y,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(s.name=j)}function Se(s,l,h){l==="number"&&Xi(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function ae(s,l,h,y){if(s=s.options,l){l={};for(var T=0;T<h.length;T++)l["$"+h[T]]=!0;for(h=0;h<s.length;h++)T=l.hasOwnProperty("$"+s[h].value),s[h].selected!==T&&(s[h].selected=T),T&&y&&(s[h].defaultSelected=!0)}else{for(h=""+di(h),l=null,T=0;T<s.length;T++){if(s[T].value===h){s[T].selected=!0,y&&(s[T].defaultSelected=!0);return}l!==null||s[T].disabled||(l=s[T])}l!==null&&(l.selected=!0)}}function ft(s,l,h){if(l!=null&&(l=""+di(l),l!==s.value&&(s.value=l),h==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=h!=null?""+di(h):""}function or(s,l,h,y){if(l==null){if(y!=null){if(h!=null)throw Error(r(92));if(Ee(y)){if(1<y.length)throw Error(r(93));y=y[0]}h=y}h==null&&(h=""),l=h}h=di(l),s.defaultValue=h,y=s.textContent,y===h&&y!==""&&y!==null&&(s.value=y)}function dr(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var Mo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _l(s,l,h){var y=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?y?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":y?s.setProperty(l,h):typeof h!="number"||h===0||Mo.has(l)?l==="float"?s.cssFloat=h:s[l]=(""+h).trim():s[l]=h+"px"}function Ei(s,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,h!=null){for(var y in h)!h.hasOwnProperty(y)||l!=null&&l.hasOwnProperty(y)||(y.indexOf("--")===0?s.setProperty(y,""):y==="float"?s.cssFloat="":s[y]="");for(var T in l)y=l[T],l.hasOwnProperty(T)&&h[T]!==y&&_l(s,T,y)}else for(var b in l)l.hasOwnProperty(b)&&_l(s,b,l[b])}function At(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function El(s){return yu.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ps=null;function Oi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Fs=null,Pa=null;function Er(s){var l=ue(s);if(l&&(s=l.stateNode)){var h=s[Cn]||null;e:switch(s=l.stateNode,l.type){case"input":if(en(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+er(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var y=h[l];if(y!==s&&y.form===s.form){var T=y[Cn]||null;if(!T)throw Error(r(90));en(y,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(l=0;l<h.length;l++)y=h[l],y.form===s.form&&Jn(y)}break e;case"textarea":ft(s,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&ae(s,!!h.multiple,l,!1)}}}var Ki=!1;function Bs(s,l,h){if(Ki)return s(l,h);Ki=!0;try{var y=s(l);return y}finally{if(Ki=!1,(Fs!==null||Pa!==null)&&(Gd(),Fs&&(l=Fs,s=Pa,Pa=Fs=null,Er(l),s)))for(l=0;l<s.length;l++)Er(s[l])}}function bt(s,l){var h=s.stateNode;if(h===null)return null;var y=h[Cn]||null;if(y===null)return null;h=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(s=s.type,y=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!y;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var Us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dt=!1;if(Us)try{var gr={};Object.defineProperty(gr,"passive",{get:function(){Dt=!0}}),window.addEventListener("test",gr,gr),window.removeEventListener("test",gr,gr)}catch{Dt=!1}var da=null,ga=null,ma=null;function Vs(){if(ma)return ma;var s,l=ga,h=l.length,y,T="value"in da?da.value:da.textContent,b=T.length;for(s=0;s<h&&l[s]===T[s];s++);var j=h-s;for(y=1;y<=j&&l[h-y]===T[b-y];y++);return ma=T.slice(s,1<y?1-y:void 0)}function pa(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Qi(){return!0}function Fa(){return!1}function wr(s){function l(h,y,T,b,j){this._reactName=h,this._targetInst=T,this.type=y,this.nativeEvent=b,this.target=j,this.currentTarget=null;for(var J in s)s.hasOwnProperty(J)&&(h=s[J],this[J]=h?h(b):b[J]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Qi:Fa,this.isPropagationStopped=Fa,this}return _(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),l}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=wr(An),js=_({},An,{view:0,detail:0}),gi=wr(js),ko,Lo,Hs,Po=_({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hs&&(Hs&&s.type==="mousemove"?(ko=s.screenX-Hs.screenX,Lo=s.screenY-Hs.screenY):Lo=ko=0,Hs=s),ko)},movementY:function(s){return"movementY"in s?s.movementY:Lo}}),ys=wr(Po),vu=_({},Po,{dataTransfer:0}),bn=wr(vu),to=_({},js,{relatedTarget:0}),Ba=wr(to),vs=_({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),wl=wr(vs),Pe=_({},An,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wt=wr(Pe),Wr=_({},An,{data:0}),no=wr(Wr),ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rc(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Eu[s])?!!l[s]:!1}function Ua(){return Rc}var Tr=_({},js,{key:function(s){if(s.key){var l=ro[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=pa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?_u[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(s){return s.type==="keypress"?pa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?pa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),io=wr(Tr),nr=_({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),so=wr(nr),Di=_({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),In=wr(Di),Rt=_({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),wu=wr(Rt),Ln=_({},Po,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),_s=wr(Ln),Mr=_({},An,{newState:0,oldState:0}),Tu=wr(Mr),us=[9,13,27,32],Es=Us&&"CompositionEvent"in window,w=null;Us&&"documentMode"in document&&(w=document.documentMode);var D=Us&&"TextEvent"in window&&!w,U=Us&&(!Es||w&&8<w&&11>=w),ne=" ",Ce=!1;function Be(s,l){switch(s){case"keyup":return us.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var gn=!1;function mr(s,l){switch(s){case"compositionend":return ut(l);case"keypress":return l.which!==32?null:(Ce=!0,ne);case"textInput":return s=l.data,s===ne&&Ce?null:s;default:return null}}function mn(s,l){if(gn)return s==="compositionend"||!Es&&Be(s,l)?(s=Vs(),ma=ga=da=null,gn=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return U&&l.locale!=="ko"?null:l.data;default:return null}}var rr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ar(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!rr[s.type]:l==="textarea"}function kr(s,l,h,y){Fs?Pa?Pa.push(y):Pa=[y]:Fs=y,l=Qd(l,"onChange"),0<l.length&&(h=new xa("onChange","change",null,h,y),s.push({event:h,listeners:l}))}var ei=null,qr=null;function Nc(s){pw(s,0)}function Tl(s){var l=Ie(s);if(Jn(l))return s}function ud(s,l){if(s==="change")return l}var Qf=!1;if(Us){var ws;if(Us){var $f="oninput"in document;if(!$f){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),$f=typeof Au.oninput=="function"}ws=$f}else ws=!1;Qf=ws&&(!document.documentMode||9<document.documentMode)}function Al(){ei&&(ei.detachEvent("onpropertychange",pn),qr=ei=null)}function pn(s){if(s.propertyName==="value"&&Tl(qr)){var l=[];kr(l,qr,s,Oi(s)),Bs(Nc,l)}}function Su(s,l,h){s==="focusin"?(Al(),ei=l,qr=h,ei.attachEvent("onpropertychange",pn)):s==="focusout"&&Al()}function z(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Tl(qr)}function a(s,l){if(s==="click")return Tl(l)}function c(s,l){if(s==="input"||s==="change")return Tl(l)}function f(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var d=typeof Object.is=="function"?Object.is:f;function p(s,l){if(d(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),y=Object.keys(l);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var T=h[y];if(!Pt.call(l,T)||!d(s[T],l[T]))return!1}return!0}function v(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function E(s,l){var h=v(s);s=0;for(var y;h;){if(h.nodeType===3){if(y=s+h.textContent.length,s<=l&&y>=l)return{node:h,offset:l-s};s=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=v(h)}}function S(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?S(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function N(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Xi(s.document);l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=Xi(s.document)}return l}function P(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var G=Us&&"documentMode"in document&&11>=document.documentMode,K=null,ce=null,xe=null,ye=!1;function Re(s,l,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ye||K==null||K!==Xi(y)||(y=K,"selectionStart"in y&&P(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),xe&&p(xe,y)||(xe=y,y=Qd(ce,"onSelect"),0<y.length&&(l=new xa("onSelect","select",null,l,h),s.push({event:l,listeners:y}),l.target=K)))}function Le(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var nt={animationend:Le("Animation","AnimationEnd"),animationiteration:Le("Animation","AnimationIteration"),animationstart:Le("Animation","AnimationStart"),transitionrun:Le("Transition","TransitionRun"),transitionstart:Le("Transition","TransitionStart"),transitioncancel:Le("Transition","TransitionCancel"),transitionend:Le("Transition","TransitionEnd")},at={},tt={};Us&&(tt=document.createElement("div").style,"AnimationEvent"in window||(delete nt.animationend.animation,delete nt.animationiteration.animation,delete nt.animationstart.animation),"TransitionEvent"in window||delete nt.transitionend.transition);function Xt(s){if(at[s])return at[s];if(!nt[s])return s;var l=nt[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in tt)return at[s]=l[h];return s}var qt=Xt("animationend"),Mi=Xt("animationiteration"),Ts=Xt("animationstart"),$i=Xt("transitionrun"),Vn=Xt("transitionstart"),mi=Xt("transitioncancel"),Zi=Xt("transitionend"),Fo=new Map,ao="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ao.push("scrollEnd");function zs(s,l){Fo.set(s,l),Xe(l,[s])}var fd=new WeakMap;function ya(s,l){if(typeof s=="object"&&s!==null){var h=fd.get(s);return h!==void 0?h:(l={value:s,source:l,stack:eo(l)},fd.set(s,l),l)}return{value:s,source:l,stack:eo(l)}}var va=[],Cu=0,Mm=0;function hd(){for(var s=Cu,l=Mm=Cu=0;l<s;){var h=va[l];va[l++]=null;var y=va[l];va[l++]=null;var T=va[l];va[l++]=null;var b=va[l];if(va[l++]=null,y!==null&&T!==null){var j=y.pending;j===null?T.next=T:(T.next=j.next,j.next=T),y.pending=T}b!==0&&e_(h,T,b)}}function dd(s,l,h,y){va[Cu++]=s,va[Cu++]=l,va[Cu++]=h,va[Cu++]=y,Mm|=y,s.lanes|=y,s=s.alternate,s!==null&&(s.lanes|=y)}function km(s,l,h,y){return dd(s,l,h,y),gd(s)}function bu(s,l){return dd(s,null,null,l),gd(s)}function e_(s,l,h){s.lanes|=h;var y=s.alternate;y!==null&&(y.lanes|=h);for(var T=!1,b=s.return;b!==null;)b.childLanes|=h,y=b.alternate,y!==null&&(y.childLanes|=h),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(T=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,T&&l!==null&&(T=31-on(h),s=b.hiddenUpdates,y=s[T],y===null?s[T]=[l]:y.push(l),l.lane=h|536870912),b):null}function gd(s){if(50<wh)throw wh=0,Vp=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Iu={};function C6(s,l,h,y){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(s,l,h,y){return new C6(s,l,h,y)}function Lm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Bo(s,l){var h=s.alternate;return h===null?(h=Gs(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function t_(s,l){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,l=h.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function md(s,l,h,y,T,b){var j=0;if(y=s,typeof s=="function")Lm(s)&&(j=1);else if(typeof s=="string")j=I8(s,h,he.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case L:return s=Gs(31,h,l,T),s.elementType=L,s.lanes=b,s;case O:return Oc(h.children,T,b,l);case I:j=8,T|=24;break;case k:return s=Gs(12,h,l,T|2),s.elementType=k,s.lanes=b,s;case oe:return s=Gs(13,h,l,T),s.elementType=oe,s.lanes=b,s;case ve:return s=Gs(19,h,l,T),s.elementType=ve,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:case W:j=10;break e;case Y:j=9;break e;case te:j=11;break e;case B:j=14;break e;case V:j=16,y=null;break e}j=29,h=Error(r(130,s===null?"null":typeof s,"")),y=null}return l=Gs(j,h,l,T),l.elementType=s,l.type=y,l.lanes=b,l}function Oc(s,l,h,y){return s=Gs(7,s,y,l),s.lanes=h,s}function Pm(s,l,h){return s=Gs(6,s,null,l),s.lanes=h,s}function Fm(s,l,h){return l=Gs(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var Ru=[],Nu=0,pd=null,xd=0,_a=[],Ea=0,Dc=null,Uo=1,Vo="";function Mc(s,l){Ru[Nu++]=xd,Ru[Nu++]=pd,pd=s,xd=l}function n_(s,l,h){_a[Ea++]=Uo,_a[Ea++]=Vo,_a[Ea++]=Dc,Dc=s;var y=Uo;s=Vo;var T=32-on(y)-1;y&=~(1<<T),h+=1;var b=32-on(l)+T;if(30<b){var j=T-T%5;b=(y&(1<<j)-1).toString(32),y>>=j,T-=j,Uo=1<<32-on(l)+T|h<<T|y,Vo=b+s}else Uo=1<<b|h<<T|y,Vo=s}function Bm(s){s.return!==null&&(Mc(s,1),n_(s,1,0))}function Um(s){for(;s===pd;)pd=Ru[--Nu],Ru[Nu]=null,xd=Ru[--Nu],Ru[Nu]=null;for(;s===Dc;)Dc=_a[--Ea],_a[Ea]=null,Vo=_a[--Ea],_a[Ea]=null,Uo=_a[--Ea],_a[Ea]=null}var fs=null,Lr=null,On=!1,kc=null,oo=!1,Vm=Error(r(519));function Lc(s){var l=Error(r(418,""));throw eh(ya(l,s)),Vm}function r_(s){var l=s.stateNode,h=s.type,y=s.memoizedProps;switch(l[Rr]=s,l[Cn]=y,h){case"dialog":un("cancel",l),un("close",l);break;case"iframe":case"object":case"embed":un("load",l);break;case"video":case"audio":for(h=0;h<Ah.length;h++)un(Ah[h],l);break;case"source":un("error",l);break;case"img":case"image":case"link":un("error",l),un("load",l);break;case"details":un("toggle",l);break;case"input":un("invalid",l),_r(l,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),vl(l);break;case"select":un("invalid",l);break;case"textarea":un("invalid",l),or(l,y.value,y.defaultValue,y.children),vl(l)}h=y.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||y.suppressHydrationWarning===!0||_w(l.textContent,h)?(y.popover!=null&&(un("beforetoggle",l),un("toggle",l)),y.onScroll!=null&&un("scroll",l),y.onScrollEnd!=null&&un("scrollend",l),y.onClick!=null&&(l.onclick=$d),l=!0):l=!1,l||Lc(s)}function i_(s){for(fs=s.return;fs;)switch(fs.tag){case 5:case 13:oo=!1;return;case 27:case 3:oo=!0;return;default:fs=fs.return}}function Zf(s){if(s!==fs)return!1;if(!On)return i_(s),On=!0,!1;var l=s.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||n2(s.type,s.memoizedProps)),h=!h),h&&Lr&&Lc(s),i_(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8)if(h=s.data,h==="/$"){if(l===0){Lr=ja(s.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;s=s.nextSibling}Lr=null}}else l===27?(l=Lr,Vl(s.type)?(s=a2,a2=null,Lr=s):Lr=l):Lr=fs?ja(s.stateNode.nextSibling):null;return!0}function Jf(){Lr=fs=null,On=!1}function s_(){var s=kc;return s!==null&&(Cs===null?Cs=s:Cs.push.apply(Cs,s),kc=null),s}function eh(s){kc===null?kc=[s]:kc.push(s)}var jm=Ge(null),Pc=null,jo=null;function Sl(s,l,h){fe(jm,l._currentValue),l._currentValue=h}function Ho(s){s._currentValue=jm.current,ie(jm)}function Hm(s,l,h){for(;s!==null;){var y=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),s===h)break;s=s.return}}function zm(s,l,h,y){var T=s.child;for(T!==null&&(T.return=s);T!==null;){var b=T.dependencies;if(b!==null){var j=T.child;b=b.firstContext;e:for(;b!==null;){var J=b;b=T;for(var ge=0;ge<l.length;ge++)if(J.context===l[ge]){b.lanes|=h,J=b.alternate,J!==null&&(J.lanes|=h),Hm(b.return,h,s),y||(j=null);break e}b=J.next}}else if(T.tag===18){if(j=T.return,j===null)throw Error(r(341));j.lanes|=h,b=j.alternate,b!==null&&(b.lanes|=h),Hm(j,h,s),j=null}else j=T.child;if(j!==null)j.return=T;else for(j=T;j!==null;){if(j===s){j=null;break}if(T=j.sibling,T!==null){T.return=j.return,j=T;break}j=j.return}T=j}}function th(s,l,h,y){s=null;for(var T=l,b=!1;T!==null;){if(!b){if((T.flags&524288)!==0)b=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var j=T.alternate;if(j===null)throw Error(r(387));if(j=j.memoizedProps,j!==null){var J=T.type;d(T.pendingProps.value,j.value)||(s!==null?s.push(J):s=[J])}}else if(T===lt.current){if(j=T.alternate,j===null)throw Error(r(387));j.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(s!==null?s.push(Nh):s=[Nh])}T=T.return}s!==null&&zm(l,s,h,y),l.flags|=262144}function yd(s){for(s=s.firstContext;s!==null;){if(!d(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Fc(s){Pc=s,jo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ji(s){return a_(Pc,s)}function vd(s,l){return Pc===null&&Fc(s),a_(s,l)}function a_(s,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},jo===null){if(s===null)throw Error(r(308));jo=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else jo=jo.next=l;return h}var b6=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(h,y){s.push(y)}};this.abort=function(){l.aborted=!0,s.forEach(function(h){return h()})}},I6=t.unstable_scheduleCallback,R6=t.unstable_NormalPriority,pi={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gm(){return{controller:new b6,data:new Map,refCount:0}}function nh(s){s.refCount--,s.refCount===0&&I6(R6,function(){s.controller.abort()})}var rh=null,Wm=0,Ou=0,Du=null;function N6(s,l){if(rh===null){var h=rh=[];Wm=0,Ou=Yp(),Du={status:"pending",value:void 0,then:function(y){h.push(y)}}}return Wm++,l.then(o_,o_),l}function o_(){if(--Wm===0&&rh!==null){Du!==null&&(Du.status="fulfilled");var s=rh;rh=null,Ou=0,Du=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function O6(s,l){var h=[],y={status:"pending",value:null,reason:null,then:function(T){h.push(T)}};return s.then(function(){y.status="fulfilled",y.value=l;for(var T=0;T<h.length;T++)(0,h[T])(l)},function(T){for(y.status="rejected",y.reason=T,T=0;T<h.length;T++)(0,h[T])(void 0)}),y}var l_=be.S;be.S=function(s,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&N6(s,l),l_!==null&&l_(s,l)};var Bc=Ge(null);function qm(){var s=Bc.current;return s!==null?s:lr.pooledCache}function _d(s,l){l===null?fe(Bc,Bc.current):fe(Bc,l.pool)}function c_(){var s=qm();return s===null?null:{parent:pi._currentValue,pool:s}}var ih=Error(r(460)),u_=Error(r(474)),Ed=Error(r(542)),Ym={then:function(){}};function f_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function wd(){}function h_(s,l,h){switch(h=s[h],h===void 0?s.push(l):h!==l&&(l.then(wd,wd),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,g_(s),s;default:if(typeof l.status=="string")l.then(wd,wd);else{if(s=lr,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(y){if(l.status==="pending"){var T=l;T.status="fulfilled",T.value=y}},function(y){if(l.status==="pending"){var T=l;T.status="rejected",T.reason=y}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,g_(s),s}throw sh=l,ih}}var sh=null;function d_(){if(sh===null)throw Error(r(459));var s=sh;return sh=null,s}function g_(s){if(s===ih||s===Ed)throw Error(r(483))}var Cl=!1;function Xm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Km(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function bl(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Il(s,l,h){var y=s.updateQueue;if(y===null)return null;if(y=y.shared,(jn&2)!==0){var T=y.pending;return T===null?l.next=l:(l.next=T.next,T.next=l),y.pending=l,l=gd(s),e_(s,null,h),l}return dd(s,y,l,h),gd(s)}function ah(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var y=l.lanes;y&=s.pendingLanes,h|=y,l.lanes=h,fi(s,h)}}function Qm(s,l){var h=s.updateQueue,y=s.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var T=null,b=null;if(h=h.firstBaseUpdate,h!==null){do{var j={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};b===null?T=b=j:b=b.next=j,h=h.next}while(h!==null);b===null?T=b=l:b=b.next=l}else T=b=l;h={baseState:y.baseState,firstBaseUpdate:T,lastBaseUpdate:b,shared:y.shared,callbacks:y.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}var $m=!1;function oh(){if($m){var s=Du;if(s!==null)throw s}}function lh(s,l,h,y){$m=!1;var T=s.updateQueue;Cl=!1;var b=T.firstBaseUpdate,j=T.lastBaseUpdate,J=T.shared.pending;if(J!==null){T.shared.pending=null;var ge=J,Oe=ge.next;ge.next=null,j===null?b=Oe:j.next=Oe,j=ge;var We=s.alternate;We!==null&&(We=We.updateQueue,J=We.lastBaseUpdate,J!==j&&(J===null?We.firstBaseUpdate=Oe:J.next=Oe,We.lastBaseUpdate=ge))}if(b!==null){var Ke=T.baseState;j=0,We=Oe=ge=null,J=b;do{var ke=J.lane&-536870913,Fe=ke!==J.lane;if(Fe?(_n&ke)===ke:(y&ke)===ke){ke!==0&&ke===Ou&&($m=!0),We!==null&&(We=We.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var Vt=s,kt=J;ke=l;var Qn=h;switch(kt.tag){case 1:if(Vt=kt.payload,typeof Vt=="function"){Ke=Vt.call(Qn,Ke,ke);break e}Ke=Vt;break e;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=kt.payload,ke=typeof Vt=="function"?Vt.call(Qn,Ke,ke):Vt,ke==null)break e;Ke=_({},Ke,ke);break e;case 2:Cl=!0}}ke=J.callback,ke!==null&&(s.flags|=64,Fe&&(s.flags|=8192),Fe=T.callbacks,Fe===null?T.callbacks=[ke]:Fe.push(ke))}else Fe={lane:ke,tag:J.tag,payload:J.payload,callback:J.callback,next:null},We===null?(Oe=We=Fe,ge=Ke):We=We.next=Fe,j|=ke;if(J=J.next,J===null){if(J=T.shared.pending,J===null)break;Fe=J,J=Fe.next,Fe.next=null,T.lastBaseUpdate=Fe,T.shared.pending=null}}while(!0);We===null&&(ge=Ke),T.baseState=ge,T.firstBaseUpdate=Oe,T.lastBaseUpdate=We,b===null&&(T.shared.lanes=0),Pl|=j,s.lanes=j,s.memoizedState=Ke}}function m_(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function p_(s,l){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)m_(h[s],l)}var Mu=Ge(null),Td=Ge(0);function x_(s,l){s=Ko,fe(Td,s),fe(Mu,l),Ko=s|l.baseLanes}function Zm(){fe(Td,Ko),fe(Mu,Mu.current)}function Jm(){Ko=Td.current,ie(Mu),ie(Td)}var Rl=0,rn=null,Xn=null,ti=null,Ad=!1,ku=!1,Uc=!1,Sd=0,ch=0,Lu=null,D6=0;function Yr(){throw Error(r(321))}function ep(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!d(s[h],l[h]))return!1;return!0}function tp(s,l,h,y,T,b){return Rl=b,rn=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,be.H=s===null||s.memoizedState===null?eE:tE,Uc=!1,b=h(y,T),Uc=!1,ku&&(b=v_(l,h,y,T)),y_(s),b}function y_(s){be.H=Od;var l=Xn!==null&&Xn.next!==null;if(Rl=0,ti=Xn=rn=null,Ad=!1,ch=0,Lu=null,l)throw Error(r(300));s===null||wi||(s=s.dependencies,s!==null&&yd(s)&&(wi=!0))}function v_(s,l,h,y){rn=s;var T=0;do{if(ku&&(Lu=null),ch=0,ku=!1,25<=T)throw Error(r(301));if(T+=1,ti=Xn=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}be.H=U6,b=l(h,y)}while(ku);return b}function M6(){var s=be.H,l=s.useState()[0];return l=typeof l.then=="function"?uh(l):l,s=s.useState()[0],(Xn!==null?Xn.memoizedState:null)!==s&&(rn.flags|=1024),l}function np(){var s=Sd!==0;return Sd=0,s}function rp(s,l,h){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~h}function ip(s){if(Ad){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Ad=!1}Rl=0,ti=Xn=rn=null,ku=!1,ch=Sd=0,Lu=null}function As(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ti===null?rn.memoizedState=ti=s:ti=ti.next=s,ti}function ni(){if(Xn===null){var s=rn.alternate;s=s!==null?s.memoizedState:null}else s=Xn.next;var l=ti===null?rn.memoizedState:ti.next;if(l!==null)ti=l,Xn=s;else{if(s===null)throw rn.alternate===null?Error(r(467)):Error(r(310));Xn=s,s={memoizedState:Xn.memoizedState,baseState:Xn.baseState,baseQueue:Xn.baseQueue,queue:Xn.queue,next:null},ti===null?rn.memoizedState=ti=s:ti=ti.next=s}return ti}function sp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uh(s){var l=ch;return ch+=1,Lu===null&&(Lu=[]),s=h_(Lu,s,l),l=rn,(ti===null?l.memoizedState:ti.next)===null&&(l=l.alternate,be.H=l===null||l.memoizedState===null?eE:tE),s}function Cd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return uh(s);if(s.$$typeof===W)return Ji(s)}throw Error(r(438,String(s)))}function ap(s){var l=null,h=rn.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var y=rn.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(l={data:y.data.map(function(T){return T.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=sp(),rn.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(s),y=0;y<s;y++)h[y]=M;return l.index++,h}function zo(s,l){return typeof l=="function"?l(s):l}function bd(s){var l=ni();return op(l,Xn,s)}function op(s,l,h){var y=s.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=h;var T=s.baseQueue,b=y.pending;if(b!==null){if(T!==null){var j=T.next;T.next=b.next,b.next=j}l.baseQueue=T=b,y.pending=null}if(b=s.baseState,T===null)s.memoizedState=b;else{l=T.next;var J=j=null,ge=null,Oe=l,We=!1;do{var Ke=Oe.lane&-536870913;if(Ke!==Oe.lane?(_n&Ke)===Ke:(Rl&Ke)===Ke){var ke=Oe.revertLane;if(ke===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Ke===Ou&&(We=!0);else if((Rl&ke)===ke){Oe=Oe.next,ke===Ou&&(We=!0);continue}else Ke={lane:0,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ge===null?(J=ge=Ke,j=b):ge=ge.next=Ke,rn.lanes|=ke,Pl|=ke;Ke=Oe.action,Uc&&h(b,Ke),b=Oe.hasEagerState?Oe.eagerState:h(b,Ke)}else ke={lane:Ke,revertLane:Oe.revertLane,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},ge===null?(J=ge=ke,j=b):ge=ge.next=ke,rn.lanes|=Ke,Pl|=Ke;Oe=Oe.next}while(Oe!==null&&Oe!==l);if(ge===null?j=b:ge.next=J,!d(b,s.memoizedState)&&(wi=!0,We&&(h=Du,h!==null)))throw h;s.memoizedState=b,s.baseState=j,s.baseQueue=ge,y.lastRenderedState=b}return T===null&&(y.lanes=0),[s.memoizedState,y.dispatch]}function lp(s){var l=ni(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=s;var y=h.dispatch,T=h.pending,b=l.memoizedState;if(T!==null){h.pending=null;var j=T=T.next;do b=s(b,j.action),j=j.next;while(j!==T);d(b,l.memoizedState)||(wi=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),h.lastRenderedState=b}return[b,y]}function __(s,l,h){var y=rn,T=ni(),b=On;if(b){if(h===void 0)throw Error(r(407));h=h()}else h=l();var j=!d((Xn||T).memoizedState,h);j&&(T.memoizedState=h,wi=!0),T=T.queue;var J=T_.bind(null,y,T,s);if(fh(2048,8,J,[s]),T.getSnapshot!==l||j||ti!==null&&ti.memoizedState.tag&1){if(y.flags|=2048,Pu(9,Id(),w_.bind(null,y,T,h,l),null),lr===null)throw Error(r(349));b||(Rl&124)!==0||E_(y,l,h)}return h}function E_(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=rn.updateQueue,l===null?(l=sp(),rn.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function w_(s,l,h,y){l.value=h,l.getSnapshot=y,A_(l)&&S_(s)}function T_(s,l,h){return h(function(){A_(l)&&S_(s)})}function A_(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!d(s,h)}catch{return!0}}function S_(s){var l=bu(s,2);l!==null&&Ks(l,s,2)}function cp(s){var l=As();if(typeof s=="function"){var h=s;if(s=h(),Uc){wn(!0);try{h()}finally{wn(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:s},l}function C_(s,l,h,y){return s.baseState=h,op(s,Xn,typeof y=="function"?y:zo)}function k6(s,l,h,y,T){if(Nd(s))throw Error(r(485));if(s=l.action,s!==null){var b={payload:T,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){b.listeners.push(j)}};be.T!==null?h(!0):b.isTransition=!1,y(b),h=l.pending,h===null?(b.next=l.pending=b,b_(l,b)):(b.next=h.next,l.pending=h.next=b)}}function b_(s,l){var h=l.action,y=l.payload,T=s.state;if(l.isTransition){var b=be.T,j={};be.T=j;try{var J=h(T,y),ge=be.S;ge!==null&&ge(j,J),I_(s,l,J)}catch(Oe){up(s,l,Oe)}finally{be.T=b}}else try{b=h(T,y),I_(s,l,b)}catch(Oe){up(s,l,Oe)}}function I_(s,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(y){R_(s,l,y)},function(y){return up(s,l,y)}):R_(s,l,h)}function R_(s,l,h){l.status="fulfilled",l.value=h,N_(l),s.state=h,l=s.pending,l!==null&&(h=l.next,h===l?s.pending=null:(h=h.next,l.next=h,b_(s,h)))}function up(s,l,h){var y=s.pending;if(s.pending=null,y!==null){y=y.next;do l.status="rejected",l.reason=h,N_(l),l=l.next;while(l!==y)}s.action=null}function N_(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function O_(s,l){return l}function D_(s,l){if(On){var h=lr.formState;if(h!==null){e:{var y=rn;if(On){if(Lr){t:{for(var T=Lr,b=oo;T.nodeType!==8;){if(!b){T=null;break t}if(T=ja(T.nextSibling),T===null){T=null;break t}}b=T.data,T=b==="F!"||b==="F"?T:null}if(T){Lr=ja(T.nextSibling),y=T.data==="F!";break e}}Lc(y)}y=!1}y&&(l=h[0])}}return h=As(),h.memoizedState=h.baseState=l,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O_,lastRenderedState:l},h.queue=y,h=$_.bind(null,rn,y),y.dispatch=h,y=cp(!1),b=mp.bind(null,rn,!1,y.queue),y=As(),T={state:l,dispatch:null,action:s,pending:null},y.queue=T,h=k6.bind(null,rn,T,b,h),T.dispatch=h,y.memoizedState=s,[l,h,!1]}function M_(s){var l=ni();return k_(l,Xn,s)}function k_(s,l,h){if(l=op(s,l,O_)[0],s=bd(zo)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var y=uh(l)}catch(j){throw j===ih?Ed:j}else y=l;l=ni();var T=l.queue,b=T.dispatch;return h!==l.memoizedState&&(rn.flags|=2048,Pu(9,Id(),L6.bind(null,T,h),null)),[y,b,s]}function L6(s,l){s.action=l}function L_(s){var l=ni(),h=Xn;if(h!==null)return k_(l,h,s);ni(),l=l.memoizedState,h=ni();var y=h.queue.dispatch;return h.memoizedState=s,[l,y,!1]}function Pu(s,l,h,y){return s={tag:s,create:h,deps:y,inst:l,next:null},l=rn.updateQueue,l===null&&(l=sp(),rn.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=s.next=s:(y=h.next,h.next=s,s.next=y,l.lastEffect=s),s}function Id(){return{destroy:void 0,resource:void 0}}function P_(){return ni().memoizedState}function Rd(s,l,h,y){var T=As();y=y===void 0?null:y,rn.flags|=s,T.memoizedState=Pu(1|l,Id(),h,y)}function fh(s,l,h,y){var T=ni();y=y===void 0?null:y;var b=T.memoizedState.inst;Xn!==null&&y!==null&&ep(y,Xn.memoizedState.deps)?T.memoizedState=Pu(l,b,h,y):(rn.flags|=s,T.memoizedState=Pu(1|l,b,h,y))}function F_(s,l){Rd(8390656,8,s,l)}function B_(s,l){fh(2048,8,s,l)}function U_(s,l){return fh(4,2,s,l)}function V_(s,l){return fh(4,4,s,l)}function j_(s,l){if(typeof l=="function"){s=s();var h=l(s);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function H_(s,l,h){h=h!=null?h.concat([s]):null,fh(4,4,j_.bind(null,l,s),h)}function fp(){}function z_(s,l){var h=ni();l=l===void 0?null:l;var y=h.memoizedState;return l!==null&&ep(l,y[1])?y[0]:(h.memoizedState=[s,l],s)}function G_(s,l){var h=ni();l=l===void 0?null:l;var y=h.memoizedState;if(l!==null&&ep(l,y[1]))return y[0];if(y=s(),Uc){wn(!0);try{s()}finally{wn(!1)}}return h.memoizedState=[y,l],y}function hp(s,l,h){return h===void 0||(Rl&1073741824)!==0?s.memoizedState=l:(s.memoizedState=h,s=YE(),rn.lanes|=s,Pl|=s,h)}function W_(s,l,h,y){return d(h,l)?h:Mu.current!==null?(s=hp(s,h,y),d(s,l)||(wi=!0),s):(Rl&42)===0?(wi=!0,s.memoizedState=h):(s=YE(),rn.lanes|=s,Pl|=s,l)}function q_(s,l,h,y,T){var b=Ue.p;Ue.p=b!==0&&8>b?b:8;var j=be.T,J={};be.T=J,mp(s,!1,l,h);try{var ge=T(),Oe=be.S;if(Oe!==null&&Oe(J,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var We=O6(ge,y);hh(s,l,We,Xs(s))}else hh(s,l,y,Xs(s))}catch(Ke){hh(s,l,{then:function(){},status:"rejected",reason:Ke},Xs())}finally{Ue.p=b,be.T=j}}function P6(){}function dp(s,l,h,y){if(s.tag!==5)throw Error(r(476));var T=Y_(s).queue;q_(s,T,l,xt,h===null?P6:function(){return X_(s),h(y)})}function Y_(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:xt,baseState:xt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:xt},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:h},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function X_(s){var l=Y_(s).next.queue;hh(s,l,{},Xs())}function gp(){return Ji(Nh)}function K_(){return ni().memoizedState}function Q_(){return ni().memoizedState}function F6(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var h=Xs();s=bl(h);var y=Il(l,s,h);y!==null&&(Ks(y,l,h),ah(y,l,h)),l={cache:Gm()},s.payload=l;return}l=l.return}}function B6(s,l,h){var y=Xs();h={lane:y,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Nd(s)?Z_(l,h):(h=km(s,l,h,y),h!==null&&(Ks(h,s,y),J_(h,l,y)))}function $_(s,l,h){var y=Xs();hh(s,l,h,y)}function hh(s,l,h,y){var T={lane:y,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Nd(s))Z_(l,T);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var j=l.lastRenderedState,J=b(j,h);if(T.hasEagerState=!0,T.eagerState=J,d(J,j))return dd(s,l,T,0),lr===null&&hd(),!1}catch{}finally{}if(h=km(s,l,T,y),h!==null)return Ks(h,s,y),J_(h,l,y),!0}return!1}function mp(s,l,h,y){if(y={lane:2,revertLane:Yp(),action:y,hasEagerState:!1,eagerState:null,next:null},Nd(s)){if(l)throw Error(r(479))}else l=km(s,h,y,2),l!==null&&Ks(l,s,2)}function Nd(s){var l=s.alternate;return s===rn||l!==null&&l===rn}function Z_(s,l){ku=Ad=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function J_(s,l,h){if((h&4194048)!==0){var y=l.lanes;y&=s.pendingLanes,h|=y,l.lanes=h,fi(s,h)}}var Od={readContext:Ji,use:Cd,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useLayoutEffect:Yr,useInsertionEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useSyncExternalStore:Yr,useId:Yr,useHostTransitionStatus:Yr,useFormState:Yr,useActionState:Yr,useOptimistic:Yr,useMemoCache:Yr,useCacheRefresh:Yr},eE={readContext:Ji,use:Cd,useCallback:function(s,l){return As().memoizedState=[s,l===void 0?null:l],s},useContext:Ji,useEffect:F_,useImperativeHandle:function(s,l,h){h=h!=null?h.concat([s]):null,Rd(4194308,4,j_.bind(null,l,s),h)},useLayoutEffect:function(s,l){return Rd(4194308,4,s,l)},useInsertionEffect:function(s,l){Rd(4,2,s,l)},useMemo:function(s,l){var h=As();l=l===void 0?null:l;var y=s();if(Uc){wn(!0);try{s()}finally{wn(!1)}}return h.memoizedState=[y,l],y},useReducer:function(s,l,h){var y=As();if(h!==void 0){var T=h(l);if(Uc){wn(!0);try{h(l)}finally{wn(!1)}}}else T=l;return y.memoizedState=y.baseState=T,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:T},y.queue=s,s=s.dispatch=B6.bind(null,rn,s),[y.memoizedState,s]},useRef:function(s){var l=As();return s={current:s},l.memoizedState=s},useState:function(s){s=cp(s);var l=s.queue,h=$_.bind(null,rn,l);return l.dispatch=h,[s.memoizedState,h]},useDebugValue:fp,useDeferredValue:function(s,l){var h=As();return hp(h,s,l)},useTransition:function(){var s=cp(!1);return s=q_.bind(null,rn,s.queue,!0,!1),As().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,h){var y=rn,T=As();if(On){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),lr===null)throw Error(r(349));(_n&124)!==0||E_(y,l,h)}T.memoizedState=h;var b={value:h,getSnapshot:l};return T.queue=b,F_(T_.bind(null,y,b,s),[s]),y.flags|=2048,Pu(9,Id(),w_.bind(null,y,b,h,l),null),h},useId:function(){var s=As(),l=lr.identifierPrefix;if(On){var h=Vo,y=Uo;h=(y&~(1<<32-on(y)-1)).toString(32)+h,l=""+l+"R"+h,h=Sd++,0<h&&(l+="H"+h.toString(32)),l+=""}else h=D6++,l=""+l+"r"+h.toString(32)+"";return s.memoizedState=l},useHostTransitionStatus:gp,useFormState:D_,useActionState:D_,useOptimistic:function(s){var l=As();l.memoizedState=l.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=mp.bind(null,rn,!0,h),h.dispatch=l,[s,l]},useMemoCache:ap,useCacheRefresh:function(){return As().memoizedState=F6.bind(null,rn)}},tE={readContext:Ji,use:Cd,useCallback:z_,useContext:Ji,useEffect:B_,useImperativeHandle:H_,useInsertionEffect:U_,useLayoutEffect:V_,useMemo:G_,useReducer:bd,useRef:P_,useState:function(){return bd(zo)},useDebugValue:fp,useDeferredValue:function(s,l){var h=ni();return W_(h,Xn.memoizedState,s,l)},useTransition:function(){var s=bd(zo)[0],l=ni().memoizedState;return[typeof s=="boolean"?s:uh(s),l]},useSyncExternalStore:__,useId:K_,useHostTransitionStatus:gp,useFormState:M_,useActionState:M_,useOptimistic:function(s,l){var h=ni();return C_(h,Xn,s,l)},useMemoCache:ap,useCacheRefresh:Q_},U6={readContext:Ji,use:Cd,useCallback:z_,useContext:Ji,useEffect:B_,useImperativeHandle:H_,useInsertionEffect:U_,useLayoutEffect:V_,useMemo:G_,useReducer:lp,useRef:P_,useState:function(){return lp(zo)},useDebugValue:fp,useDeferredValue:function(s,l){var h=ni();return Xn===null?hp(h,s,l):W_(h,Xn.memoizedState,s,l)},useTransition:function(){var s=lp(zo)[0],l=ni().memoizedState;return[typeof s=="boolean"?s:uh(s),l]},useSyncExternalStore:__,useId:K_,useHostTransitionStatus:gp,useFormState:L_,useActionState:L_,useOptimistic:function(s,l){var h=ni();return Xn!==null?C_(h,Xn,s,l):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:ap,useCacheRefresh:Q_},Fu=null,dh=0;function Dd(s){var l=dh;return dh+=1,Fu===null&&(Fu=[]),h_(Fu,s,l)}function gh(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function Md(s,l){throw l.$$typeof===A?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function nE(s){var l=s._init;return l(s._payload)}function rE(s){function l(Ae,we){if(s){var Ne=Ae.deletions;Ne===null?(Ae.deletions=[we],Ae.flags|=16):Ne.push(we)}}function h(Ae,we){if(!s)return null;for(;we!==null;)l(Ae,we),we=we.sibling;return null}function y(Ae){for(var we=new Map;Ae!==null;)Ae.key!==null?we.set(Ae.key,Ae):we.set(Ae.index,Ae),Ae=Ae.sibling;return we}function T(Ae,we){return Ae=Bo(Ae,we),Ae.index=0,Ae.sibling=null,Ae}function b(Ae,we,Ne){return Ae.index=Ne,s?(Ne=Ae.alternate,Ne!==null?(Ne=Ne.index,Ne<we?(Ae.flags|=67108866,we):Ne):(Ae.flags|=67108866,we)):(Ae.flags|=1048576,we)}function j(Ae){return s&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function J(Ae,we,Ne,qe){return we===null||we.tag!==6?(we=Pm(Ne,Ae.mode,qe),we.return=Ae,we):(we=T(we,Ne),we.return=Ae,we)}function ge(Ae,we,Ne,qe){var Et=Ne.type;return Et===O?We(Ae,we,Ne.props.children,qe,Ne.key):we!==null&&(we.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===V&&nE(Et)===we.type)?(we=T(we,Ne.props),gh(we,Ne),we.return=Ae,we):(we=md(Ne.type,Ne.key,Ne.props,null,Ae.mode,qe),gh(we,Ne),we.return=Ae,we)}function Oe(Ae,we,Ne,qe){return we===null||we.tag!==4||we.stateNode.containerInfo!==Ne.containerInfo||we.stateNode.implementation!==Ne.implementation?(we=Fm(Ne,Ae.mode,qe),we.return=Ae,we):(we=T(we,Ne.children||[]),we.return=Ae,we)}function We(Ae,we,Ne,qe,Et){return we===null||we.tag!==7?(we=Oc(Ne,Ae.mode,qe,Et),we.return=Ae,we):(we=T(we,Ne),we.return=Ae,we)}function Ke(Ae,we,Ne){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=Pm(""+we,Ae.mode,Ne),we.return=Ae,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case C:return Ne=md(we.type,we.key,we.props,null,Ae.mode,Ne),gh(Ne,we),Ne.return=Ae,Ne;case R:return we=Fm(we,Ae.mode,Ne),we.return=Ae,we;case V:var qe=we._init;return we=qe(we._payload),Ke(Ae,we,Ne)}if(Ee(we)||Q(we))return we=Oc(we,Ae.mode,Ne,null),we.return=Ae,we;if(typeof we.then=="function")return Ke(Ae,Dd(we),Ne);if(we.$$typeof===W)return Ke(Ae,vd(Ae,we),Ne);Md(Ae,we)}return null}function ke(Ae,we,Ne,qe){var Et=we!==null?we.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Et!==null?null:J(Ae,we,""+Ne,qe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case C:return Ne.key===Et?ge(Ae,we,Ne,qe):null;case R:return Ne.key===Et?Oe(Ae,we,Ne,qe):null;case V:return Et=Ne._init,Ne=Et(Ne._payload),ke(Ae,we,Ne,qe)}if(Ee(Ne)||Q(Ne))return Et!==null?null:We(Ae,we,Ne,qe,null);if(typeof Ne.then=="function")return ke(Ae,we,Dd(Ne),qe);if(Ne.$$typeof===W)return ke(Ae,we,vd(Ae,Ne),qe);Md(Ae,Ne)}return null}function Fe(Ae,we,Ne,qe,Et){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return Ae=Ae.get(Ne)||null,J(we,Ae,""+qe,Et);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case C:return Ae=Ae.get(qe.key===null?Ne:qe.key)||null,ge(we,Ae,qe,Et);case R:return Ae=Ae.get(qe.key===null?Ne:qe.key)||null,Oe(we,Ae,qe,Et);case V:var an=qe._init;return qe=an(qe._payload),Fe(Ae,we,Ne,qe,Et)}if(Ee(qe)||Q(qe))return Ae=Ae.get(Ne)||null,We(we,Ae,qe,Et,null);if(typeof qe.then=="function")return Fe(Ae,we,Ne,Dd(qe),Et);if(qe.$$typeof===W)return Fe(Ae,we,Ne,vd(we,qe),Et);Md(we,qe)}return null}function Vt(Ae,we,Ne,qe){for(var Et=null,an=null,It=we,Lt=we=0,Ai=null;It!==null&&Lt<Ne.length;Lt++){It.index>Lt?(Ai=It,It=null):Ai=It.sibling;var Rn=ke(Ae,It,Ne[Lt],qe);if(Rn===null){It===null&&(It=Ai);break}s&&It&&Rn.alternate===null&&l(Ae,It),we=b(Rn,we,Lt),an===null?Et=Rn:an.sibling=Rn,an=Rn,It=Ai}if(Lt===Ne.length)return h(Ae,It),On&&Mc(Ae,Lt),Et;if(It===null){for(;Lt<Ne.length;Lt++)It=Ke(Ae,Ne[Lt],qe),It!==null&&(we=b(It,we,Lt),an===null?Et=It:an.sibling=It,an=It);return On&&Mc(Ae,Lt),Et}for(It=y(It);Lt<Ne.length;Lt++)Ai=Fe(It,Ae,Lt,Ne[Lt],qe),Ai!==null&&(s&&Ai.alternate!==null&&It.delete(Ai.key===null?Lt:Ai.key),we=b(Ai,we,Lt),an===null?Et=Ai:an.sibling=Ai,an=Ai);return s&&It.forEach(function(Wl){return l(Ae,Wl)}),On&&Mc(Ae,Lt),Et}function kt(Ae,we,Ne,qe){if(Ne==null)throw Error(r(151));for(var Et=null,an=null,It=we,Lt=we=0,Ai=null,Rn=Ne.next();It!==null&&!Rn.done;Lt++,Rn=Ne.next()){It.index>Lt?(Ai=It,It=null):Ai=It.sibling;var Wl=ke(Ae,It,Rn.value,qe);if(Wl===null){It===null&&(It=Ai);break}s&&It&&Wl.alternate===null&&l(Ae,It),we=b(Wl,we,Lt),an===null?Et=Wl:an.sibling=Wl,an=Wl,It=Ai}if(Rn.done)return h(Ae,It),On&&Mc(Ae,Lt),Et;if(It===null){for(;!Rn.done;Lt++,Rn=Ne.next())Rn=Ke(Ae,Rn.value,qe),Rn!==null&&(we=b(Rn,we,Lt),an===null?Et=Rn:an.sibling=Rn,an=Rn);return On&&Mc(Ae,Lt),Et}for(It=y(It);!Rn.done;Lt++,Rn=Ne.next())Rn=Fe(It,Ae,Lt,Rn.value,qe),Rn!==null&&(s&&Rn.alternate!==null&&It.delete(Rn.key===null?Lt:Rn.key),we=b(Rn,we,Lt),an===null?Et=Rn:an.sibling=Rn,an=Rn);return s&&It.forEach(function(V8){return l(Ae,V8)}),On&&Mc(Ae,Lt),Et}function Qn(Ae,we,Ne,qe){if(typeof Ne=="object"&&Ne!==null&&Ne.type===O&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case C:e:{for(var Et=Ne.key;we!==null;){if(we.key===Et){if(Et=Ne.type,Et===O){if(we.tag===7){h(Ae,we.sibling),qe=T(we,Ne.props.children),qe.return=Ae,Ae=qe;break e}}else if(we.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===V&&nE(Et)===we.type){h(Ae,we.sibling),qe=T(we,Ne.props),gh(qe,Ne),qe.return=Ae,Ae=qe;break e}h(Ae,we);break}else l(Ae,we);we=we.sibling}Ne.type===O?(qe=Oc(Ne.props.children,Ae.mode,qe,Ne.key),qe.return=Ae,Ae=qe):(qe=md(Ne.type,Ne.key,Ne.props,null,Ae.mode,qe),gh(qe,Ne),qe.return=Ae,Ae=qe)}return j(Ae);case R:e:{for(Et=Ne.key;we!==null;){if(we.key===Et)if(we.tag===4&&we.stateNode.containerInfo===Ne.containerInfo&&we.stateNode.implementation===Ne.implementation){h(Ae,we.sibling),qe=T(we,Ne.children||[]),qe.return=Ae,Ae=qe;break e}else{h(Ae,we);break}else l(Ae,we);we=we.sibling}qe=Fm(Ne,Ae.mode,qe),qe.return=Ae,Ae=qe}return j(Ae);case V:return Et=Ne._init,Ne=Et(Ne._payload),Qn(Ae,we,Ne,qe)}if(Ee(Ne))return Vt(Ae,we,Ne,qe);if(Q(Ne)){if(Et=Q(Ne),typeof Et!="function")throw Error(r(150));return Ne=Et.call(Ne),kt(Ae,we,Ne,qe)}if(typeof Ne.then=="function")return Qn(Ae,we,Dd(Ne),qe);if(Ne.$$typeof===W)return Qn(Ae,we,vd(Ae,Ne),qe);Md(Ae,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,we!==null&&we.tag===6?(h(Ae,we.sibling),qe=T(we,Ne),qe.return=Ae,Ae=qe):(h(Ae,we),qe=Pm(Ne,Ae.mode,qe),qe.return=Ae,Ae=qe),j(Ae)):h(Ae,we)}return function(Ae,we,Ne,qe){try{dh=0;var Et=Qn(Ae,we,Ne,qe);return Fu=null,Et}catch(It){if(It===ih||It===Ed)throw It;var an=Gs(29,It,null,Ae.mode);return an.lanes=qe,an.return=Ae,an}finally{}}}var Bu=rE(!0),iE=rE(!1),wa=Ge(null),lo=null;function Nl(s){var l=s.alternate;fe(xi,xi.current&1),fe(wa,s),lo===null&&(l===null||Mu.current!==null||l.memoizedState!==null)&&(lo=s)}function sE(s){if(s.tag===22){if(fe(xi,xi.current),fe(wa,s),lo===null){var l=s.alternate;l!==null&&l.memoizedState!==null&&(lo=s)}}else Ol()}function Ol(){fe(xi,xi.current),fe(wa,wa.current)}function Go(s){ie(wa),lo===s&&(lo=null),ie(xi)}var xi=Ge(0);function kd(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||s2(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function pp(s,l,h,y){l=s.memoizedState,h=h(y,l),h=h==null?l:_({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var xp={enqueueSetState:function(s,l,h){s=s._reactInternals;var y=Xs(),T=bl(y);T.payload=l,h!=null&&(T.callback=h),l=Il(s,T,y),l!==null&&(Ks(l,s,y),ah(l,s,y))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var y=Xs(),T=bl(y);T.tag=1,T.payload=l,h!=null&&(T.callback=h),l=Il(s,T,y),l!==null&&(Ks(l,s,y),ah(l,s,y))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=Xs(),y=bl(h);y.tag=2,l!=null&&(y.callback=l),l=Il(s,y,h),l!==null&&(Ks(l,s,h),ah(l,s,h))}};function aE(s,l,h,y,T,b,j){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(y,b,j):l.prototype&&l.prototype.isPureReactComponent?!p(h,y)||!p(T,b):!0}function oE(s,l,h,y){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,y),l.state!==s&&xp.enqueueReplaceState(l,l.state,null)}function Vc(s,l){var h=l;if("ref"in l){h={};for(var y in l)y!=="ref"&&(h[y]=l[y])}if(s=s.defaultProps){h===l&&(h=_({},h));for(var T in s)h[T]===void 0&&(h[T]=s[T])}return h}var Ld=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function lE(s){Ld(s)}function cE(s){console.error(s)}function uE(s){Ld(s)}function Pd(s,l){try{var h=s.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(y){setTimeout(function(){throw y})}}function fE(s,l,h){try{var y=s.onCaughtError;y(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function yp(s,l,h){return h=bl(h),h.tag=3,h.payload={element:null},h.callback=function(){Pd(s,l)},h}function hE(s){return s=bl(s),s.tag=3,s}function dE(s,l,h,y){var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var b=y.value;s.payload=function(){return T(b)},s.callback=function(){fE(l,h,y)}}var j=h.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(s.callback=function(){fE(l,h,y),typeof T!="function"&&(Fl===null?Fl=new Set([this]):Fl.add(this));var J=y.stack;this.componentDidCatch(y.value,{componentStack:J!==null?J:""})})}function V6(s,l,h,y,T){if(h.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(l=h.alternate,l!==null&&th(l,h,T,!0),h=wa.current,h!==null){switch(h.tag){case 13:return lo===null?Hp():h.alternate===null&&Pr===0&&(Pr=3),h.flags&=-257,h.flags|=65536,h.lanes=T,y===Ym?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([y]):l.add(y),Gp(s,y,T)),!1;case 22:return h.flags|=65536,y===Ym?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([y])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([y]):h.add(y)),Gp(s,y,T)),!1}throw Error(r(435,h.tag))}return Gp(s,y,T),Hp(),!1}if(On)return l=wa.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=T,y!==Vm&&(s=Error(r(422),{cause:y}),eh(ya(s,h)))):(y!==Vm&&(l=Error(r(423),{cause:y}),eh(ya(l,h))),s=s.current.alternate,s.flags|=65536,T&=-T,s.lanes|=T,y=ya(y,h),T=yp(s.stateNode,y,T),Qm(s,T),Pr!==4&&(Pr=2)),!1;var b=Error(r(520),{cause:y});if(b=ya(b,h),Eh===null?Eh=[b]:Eh.push(b),Pr!==4&&(Pr=2),l===null)return!0;y=ya(y,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,s=T&-T,h.lanes|=s,s=yp(h.stateNode,y,s),Qm(h,s),!1;case 1:if(l=h.type,b=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Fl===null||!Fl.has(b))))return h.flags|=65536,T&=-T,h.lanes|=T,T=hE(T),dE(T,s,h,y),Qm(h,T),!1}h=h.return}while(h!==null);return!1}var gE=Error(r(461)),wi=!1;function ki(s,l,h,y){l.child=s===null?iE(l,null,h,y):Bu(l,s.child,h,y)}function mE(s,l,h,y,T){h=h.render;var b=l.ref;if("ref"in y){var j={};for(var J in y)J!=="ref"&&(j[J]=y[J])}else j=y;return Fc(l),y=tp(s,l,h,j,b,T),J=np(),s!==null&&!wi?(rp(s,l,T),Wo(s,l,T)):(On&&J&&Bm(l),l.flags|=1,ki(s,l,y,T),l.child)}function pE(s,l,h,y,T){if(s===null){var b=h.type;return typeof b=="function"&&!Lm(b)&&b.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=b,xE(s,l,b,y,T)):(s=md(h.type,null,y,l,l.mode,T),s.ref=l.ref,s.return=l,l.child=s)}if(b=s.child,!Cp(s,T)){var j=b.memoizedProps;if(h=h.compare,h=h!==null?h:p,h(j,y)&&s.ref===l.ref)return Wo(s,l,T)}return l.flags|=1,s=Bo(b,y),s.ref=l.ref,s.return=l,l.child=s}function xE(s,l,h,y,T){if(s!==null){var b=s.memoizedProps;if(p(b,y)&&s.ref===l.ref)if(wi=!1,l.pendingProps=y=b,Cp(s,T))(s.flags&131072)!==0&&(wi=!0);else return l.lanes=s.lanes,Wo(s,l,T)}return vp(s,l,h,y,T)}function yE(s,l,h){var y=l.pendingProps,T=y.children,b=s!==null?s.memoizedState:null;if(y.mode==="hidden"){if((l.flags&128)!==0){if(y=b!==null?b.baseLanes|h:h,s!==null){for(T=l.child=s.child,b=0;T!==null;)b=b|T.lanes|T.childLanes,T=T.sibling;l.childLanes=b&~y}else l.childLanes=0,l.child=null;return vE(s,l,y,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&_d(l,b!==null?b.cachePool:null),b!==null?x_(l,b):Zm(),sE(l);else return l.lanes=l.childLanes=536870912,vE(s,l,b!==null?b.baseLanes|h:h,h)}else b!==null?(_d(l,b.cachePool),x_(l,b),Ol(),l.memoizedState=null):(s!==null&&_d(l,null),Zm(),Ol());return ki(s,l,T,h),l.child}function vE(s,l,h,y){var T=qm();return T=T===null?null:{parent:pi._currentValue,pool:T},l.memoizedState={baseLanes:h,cachePool:T},s!==null&&_d(l,null),Zm(),sE(l),s!==null&&th(s,l,y,!0),null}function Fd(s,l){var h=l.ref;if(h===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(s===null||s.ref!==h)&&(l.flags|=4194816)}}function vp(s,l,h,y,T){return Fc(l),h=tp(s,l,h,y,void 0,T),y=np(),s!==null&&!wi?(rp(s,l,T),Wo(s,l,T)):(On&&y&&Bm(l),l.flags|=1,ki(s,l,h,T),l.child)}function _E(s,l,h,y,T,b){return Fc(l),l.updateQueue=null,h=v_(l,y,h,T),y_(s),y=np(),s!==null&&!wi?(rp(s,l,b),Wo(s,l,b)):(On&&y&&Bm(l),l.flags|=1,ki(s,l,h,b),l.child)}function EE(s,l,h,y,T){if(Fc(l),l.stateNode===null){var b=Iu,j=h.contextType;typeof j=="object"&&j!==null&&(b=Ji(j)),b=new h(y,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=xp,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=y,b.state=l.memoizedState,b.refs={},Xm(l),j=h.contextType,b.context=typeof j=="object"&&j!==null?Ji(j):Iu,b.state=l.memoizedState,j=h.getDerivedStateFromProps,typeof j=="function"&&(pp(l,h,j,y),b.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(j=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),j!==b.state&&xp.enqueueReplaceState(b,b.state,null),lh(l,y,b,T),oh(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),y=!0}else if(s===null){b=l.stateNode;var J=l.memoizedProps,ge=Vc(h,J);b.props=ge;var Oe=b.context,We=h.contextType;j=Iu,typeof We=="object"&&We!==null&&(j=Ji(We));var Ke=h.getDerivedStateFromProps;We=typeof Ke=="function"||typeof b.getSnapshotBeforeUpdate=="function",J=l.pendingProps!==J,We||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(J||Oe!==j)&&oE(l,b,y,j),Cl=!1;var ke=l.memoizedState;b.state=ke,lh(l,y,b,T),oh(),Oe=l.memoizedState,J||ke!==Oe||Cl?(typeof Ke=="function"&&(pp(l,h,Ke,y),Oe=l.memoizedState),(ge=Cl||aE(l,h,ge,y,ke,Oe,j))?(We||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=Oe),b.props=y,b.state=Oe,b.context=j,y=ge):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{b=l.stateNode,Km(s,l),j=l.memoizedProps,We=Vc(h,j),b.props=We,Ke=l.pendingProps,ke=b.context,Oe=h.contextType,ge=Iu,typeof Oe=="object"&&Oe!==null&&(ge=Ji(Oe)),J=h.getDerivedStateFromProps,(Oe=typeof J=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j!==Ke||ke!==ge)&&oE(l,b,y,ge),Cl=!1,ke=l.memoizedState,b.state=ke,lh(l,y,b,T),oh();var Fe=l.memoizedState;j!==Ke||ke!==Fe||Cl||s!==null&&s.dependencies!==null&&yd(s.dependencies)?(typeof J=="function"&&(pp(l,h,J,y),Fe=l.memoizedState),(We=Cl||aE(l,h,We,y,ke,Fe,ge)||s!==null&&s.dependencies!==null&&yd(s.dependencies))?(Oe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(y,Fe,ge),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(y,Fe,ge)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||j===s.memoizedProps&&ke===s.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&ke===s.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=Fe),b.props=y,b.state=Fe,b.context=ge,y=We):(typeof b.componentDidUpdate!="function"||j===s.memoizedProps&&ke===s.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||j===s.memoizedProps&&ke===s.memoizedState||(l.flags|=1024),y=!1)}return b=y,Fd(s,l),y=(l.flags&128)!==0,b||y?(b=l.stateNode,h=y&&typeof h.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,s!==null&&y?(l.child=Bu(l,s.child,null,T),l.child=Bu(l,null,h,T)):ki(s,l,h,T),l.memoizedState=b.state,s=l.child):s=Wo(s,l,T),s}function wE(s,l,h,y){return Jf(),l.flags|=256,ki(s,l,h,y),l.child}var _p={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ep(s){return{baseLanes:s,cachePool:c_()}}function wp(s,l,h){return s=s!==null?s.childLanes&~h:0,l&&(s|=Ta),s}function TE(s,l,h){var y=l.pendingProps,T=!1,b=(l.flags&128)!==0,j;if((j=b)||(j=s!==null&&s.memoizedState===null?!1:(xi.current&2)!==0),j&&(T=!0,l.flags&=-129),j=(l.flags&32)!==0,l.flags&=-33,s===null){if(On){if(T?Nl(l):Ol(),On){var J=Lr,ge;if(ge=J){e:{for(ge=J,J=oo;ge.nodeType!==8;){if(!J){J=null;break e}if(ge=ja(ge.nextSibling),ge===null){J=null;break e}}J=ge}J!==null?(l.memoizedState={dehydrated:J,treeContext:Dc!==null?{id:Uo,overflow:Vo}:null,retryLane:536870912,hydrationErrors:null},ge=Gs(18,null,null,0),ge.stateNode=J,ge.return=l,l.child=ge,fs=l,Lr=null,ge=!0):ge=!1}ge||Lc(l)}if(J=l.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return s2(J)?l.lanes=32:l.lanes=536870912,null;Go(l)}return J=y.children,y=y.fallback,T?(Ol(),T=l.mode,J=Bd({mode:"hidden",children:J},T),y=Oc(y,T,h,null),J.return=l,y.return=l,J.sibling=y,l.child=J,T=l.child,T.memoizedState=Ep(h),T.childLanes=wp(s,j,h),l.memoizedState=_p,y):(Nl(l),Tp(l,J))}if(ge=s.memoizedState,ge!==null&&(J=ge.dehydrated,J!==null)){if(b)l.flags&256?(Nl(l),l.flags&=-257,l=Ap(s,l,h)):l.memoizedState!==null?(Ol(),l.child=s.child,l.flags|=128,l=null):(Ol(),T=y.fallback,J=l.mode,y=Bd({mode:"visible",children:y.children},J),T=Oc(T,J,h,null),T.flags|=2,y.return=l,T.return=l,y.sibling=T,l.child=y,Bu(l,s.child,null,h),y=l.child,y.memoizedState=Ep(h),y.childLanes=wp(s,j,h),l.memoizedState=_p,l=T);else if(Nl(l),s2(J)){if(j=J.nextSibling&&J.nextSibling.dataset,j)var Oe=j.dgst;j=Oe,y=Error(r(419)),y.stack="",y.digest=j,eh({value:y,source:null,stack:null}),l=Ap(s,l,h)}else if(wi||th(s,l,h,!1),j=(h&s.childLanes)!==0,wi||j){if(j=lr,j!==null&&(y=h&-h,y=(y&42)!==0?1:xs(y),y=(y&(j.suspendedLanes|h))!==0?0:y,y!==0&&y!==ge.retryLane))throw ge.retryLane=y,bu(s,y),Ks(j,s,y),gE;J.data==="$?"||Hp(),l=Ap(s,l,h)}else J.data==="$?"?(l.flags|=192,l.child=s.child,l=null):(s=ge.treeContext,Lr=ja(J.nextSibling),fs=l,On=!0,kc=null,oo=!1,s!==null&&(_a[Ea++]=Uo,_a[Ea++]=Vo,_a[Ea++]=Dc,Uo=s.id,Vo=s.overflow,Dc=l),l=Tp(l,y.children),l.flags|=4096);return l}return T?(Ol(),T=y.fallback,J=l.mode,ge=s.child,Oe=ge.sibling,y=Bo(ge,{mode:"hidden",children:y.children}),y.subtreeFlags=ge.subtreeFlags&65011712,Oe!==null?T=Bo(Oe,T):(T=Oc(T,J,h,null),T.flags|=2),T.return=l,y.return=l,y.sibling=T,l.child=y,y=T,T=l.child,J=s.child.memoizedState,J===null?J=Ep(h):(ge=J.cachePool,ge!==null?(Oe=pi._currentValue,ge=ge.parent!==Oe?{parent:Oe,pool:Oe}:ge):ge=c_(),J={baseLanes:J.baseLanes|h,cachePool:ge}),T.memoizedState=J,T.childLanes=wp(s,j,h),l.memoizedState=_p,y):(Nl(l),h=s.child,s=h.sibling,h=Bo(h,{mode:"visible",children:y.children}),h.return=l,h.sibling=null,s!==null&&(j=l.deletions,j===null?(l.deletions=[s],l.flags|=16):j.push(s)),l.child=h,l.memoizedState=null,h)}function Tp(s,l){return l=Bd({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Bd(s,l){return s=Gs(22,s,null,l),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Ap(s,l,h){return Bu(l,s.child,null,h),s=Tp(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function AE(s,l,h){s.lanes|=l;var y=s.alternate;y!==null&&(y.lanes|=l),Hm(s.return,l,h)}function Sp(s,l,h,y,T){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:T}:(b.isBackwards=l,b.rendering=null,b.renderingStartTime=0,b.last=y,b.tail=h,b.tailMode=T)}function SE(s,l,h){var y=l.pendingProps,T=y.revealOrder,b=y.tail;if(ki(s,l,y.children,h),y=xi.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&AE(s,h,l);else if(s.tag===19)AE(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}y&=1}switch(fe(xi,y),T){case"forwards":for(h=l.child,T=null;h!==null;)s=h.alternate,s!==null&&kd(s)===null&&(T=h),h=h.sibling;h=T,h===null?(T=l.child,l.child=null):(T=h.sibling,h.sibling=null),Sp(l,!1,T,h,b);break;case"backwards":for(h=null,T=l.child,l.child=null;T!==null;){if(s=T.alternate,s!==null&&kd(s)===null){l.child=T;break}s=T.sibling,T.sibling=h,h=T,T=s}Sp(l,!0,h,null,b);break;case"together":Sp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Wo(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),Pl|=l.lanes,(h&l.childLanes)===0)if(s!==null){if(th(s,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,h=Bo(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=Bo(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function Cp(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&yd(s)))}function j6(s,l,h){switch(l.tag){case 3:Ze(l,l.stateNode.containerInfo),Sl(l,pi,s.memoizedState.cache),Jf();break;case 27:case 5:ot(l);break;case 4:Ze(l,l.stateNode.containerInfo);break;case 10:Sl(l,l.type,l.memoizedProps.value);break;case 13:var y=l.memoizedState;if(y!==null)return y.dehydrated!==null?(Nl(l),l.flags|=128,null):(h&l.child.childLanes)!==0?TE(s,l,h):(Nl(l),s=Wo(s,l,h),s!==null?s.sibling:null);Nl(l);break;case 19:var T=(s.flags&128)!==0;if(y=(h&l.childLanes)!==0,y||(th(s,l,h,!1),y=(h&l.childLanes)!==0),T){if(y)return SE(s,l,h);l.flags|=128}if(T=l.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),fe(xi,xi.current),y)break;return null;case 22:case 23:return l.lanes=0,yE(s,l,h);case 24:Sl(l,pi,s.memoizedState.cache)}return Wo(s,l,h)}function CE(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps)wi=!0;else{if(!Cp(s,h)&&(l.flags&128)===0)return wi=!1,j6(s,l,h);wi=(s.flags&131072)!==0}else wi=!1,On&&(l.flags&1048576)!==0&&n_(l,xd,l.index);switch(l.lanes=0,l.tag){case 16:e:{s=l.pendingProps;var y=l.elementType,T=y._init;if(y=T(y._payload),l.type=y,typeof y=="function")Lm(y)?(s=Vc(y,s),l.tag=1,l=EE(null,l,y,s,h)):(l.tag=0,l=vp(null,l,y,s,h));else{if(y!=null){if(T=y.$$typeof,T===te){l.tag=11,l=mE(null,l,y,s,h);break e}else if(T===B){l.tag=14,l=pE(null,l,y,s,h);break e}}throw l=pt(y)||y,Error(r(306,l,""))}}return l;case 0:return vp(s,l,l.type,l.pendingProps,h);case 1:return y=l.type,T=Vc(y,l.pendingProps),EE(s,l,y,T,h);case 3:e:{if(Ze(l,l.stateNode.containerInfo),s===null)throw Error(r(387));y=l.pendingProps;var b=l.memoizedState;T=b.element,Km(s,l),lh(l,y,null,h);var j=l.memoizedState;if(y=j.cache,Sl(l,pi,y),y!==b.cache&&zm(l,[pi],h,!0),oh(),y=j.element,b.isDehydrated)if(b={element:y,isDehydrated:!1,cache:j.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=wE(s,l,y,h);break e}else if(y!==T){T=ya(Error(r(424)),l),eh(T),l=wE(s,l,y,h);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Lr=ja(s.firstChild),fs=l,On=!0,kc=null,oo=!0,h=iE(l,null,y,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Jf(),y===T){l=Wo(s,l,h);break e}ki(s,l,y,h)}l=l.child}return l;case 26:return Fd(s,l),s===null?(h=Nw(l.type,null,l.pendingProps,null))?l.memoizedState=h:On||(h=l.type,s=l.pendingProps,y=Zd(_e.current).createElement(h),y[Rr]=l,y[Cn]=s,Pi(y,h,s),Te(y),l.stateNode=y):l.memoizedState=Nw(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return ot(l),s===null&&On&&(y=l.stateNode=bw(l.type,l.pendingProps,_e.current),fs=l,oo=!0,T=Lr,Vl(l.type)?(a2=T,Lr=ja(y.firstChild)):Lr=T),ki(s,l,l.pendingProps.children,h),Fd(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&On&&((T=y=Lr)&&(y=m8(y,l.type,l.pendingProps,oo),y!==null?(l.stateNode=y,fs=l,Lr=ja(y.firstChild),oo=!1,T=!0):T=!1),T||Lc(l)),ot(l),T=l.type,b=l.pendingProps,j=s!==null?s.memoizedProps:null,y=b.children,n2(T,b)?y=null:j!==null&&n2(T,j)&&(l.flags|=32),l.memoizedState!==null&&(T=tp(s,l,M6,null,null,h),Nh._currentValue=T),Fd(s,l),ki(s,l,y,h),l.child;case 6:return s===null&&On&&((s=h=Lr)&&(h=p8(h,l.pendingProps,oo),h!==null?(l.stateNode=h,fs=l,Lr=null,s=!0):s=!1),s||Lc(l)),null;case 13:return TE(s,l,h);case 4:return Ze(l,l.stateNode.containerInfo),y=l.pendingProps,s===null?l.child=Bu(l,null,y,h):ki(s,l,y,h),l.child;case 11:return mE(s,l,l.type,l.pendingProps,h);case 7:return ki(s,l,l.pendingProps,h),l.child;case 8:return ki(s,l,l.pendingProps.children,h),l.child;case 12:return ki(s,l,l.pendingProps.children,h),l.child;case 10:return y=l.pendingProps,Sl(l,l.type,y.value),ki(s,l,y.children,h),l.child;case 9:return T=l.type._context,y=l.pendingProps.children,Fc(l),T=Ji(T),y=y(T),l.flags|=1,ki(s,l,y,h),l.child;case 14:return pE(s,l,l.type,l.pendingProps,h);case 15:return xE(s,l,l.type,l.pendingProps,h);case 19:return SE(s,l,h);case 31:return y=l.pendingProps,h=l.mode,y={mode:y.mode,children:y.children},s===null?(h=Bd(y,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=Bo(s.child,y),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return yE(s,l,h);case 24:return Fc(l),y=Ji(pi),s===null?(T=qm(),T===null&&(T=lr,b=Gm(),T.pooledCache=b,b.refCount++,b!==null&&(T.pooledCacheLanes|=h),T=b),l.memoizedState={parent:y,cache:T},Xm(l),Sl(l,pi,T)):((s.lanes&h)!==0&&(Km(s,l),lh(l,null,null,h),oh()),T=s.memoizedState,b=l.memoizedState,T.parent!==y?(T={parent:y,cache:y},l.memoizedState=T,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=T),Sl(l,pi,y)):(y=b.cache,Sl(l,pi,y),y!==T.cache&&zm(l,[pi],h,!0))),ki(s,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function qo(s){s.flags|=4}function bE(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Lw(l)){if(l=wa.current,l!==null&&((_n&4194048)===_n?lo!==null:(_n&62914560)!==_n&&(_n&536870912)===0||l!==lo))throw sh=Ym,u_;s.flags|=8192}}function Ud(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?ka():536870912,s.lanes|=l,Hu|=l)}function mh(s,l){if(!On)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:y.sibling=null}}function Nr(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,y=0;if(l)for(var T=s.child;T!==null;)h|=T.lanes|T.childLanes,y|=T.subtreeFlags&65011712,y|=T.flags&65011712,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)h|=T.lanes|T.childLanes,y|=T.subtreeFlags,y|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=y,s.childLanes=h,l}function H6(s,l,h){var y=l.pendingProps;switch(Um(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(l),null;case 1:return Nr(l),null;case 3:return h=l.stateNode,y=null,s!==null&&(y=s.memoizedState.cache),l.memoizedState.cache!==y&&(l.flags|=2048),Ho(pi),mt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Zf(l)?qo(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,s_())),Nr(l),null;case 26:return h=l.memoizedState,s===null?(qo(l),h!==null?(Nr(l),bE(l,h)):(Nr(l),l.flags&=-16777217)):h?h!==s.memoizedState?(qo(l),Nr(l),bE(l,h)):(Nr(l),l.flags&=-16777217):(s.memoizedProps!==y&&qo(l),Nr(l),l.flags&=-16777217),null;case 27:Ot(l),h=_e.current;var T=l.type;if(s!==null&&l.stateNode!=null)s.memoizedProps!==y&&qo(l);else{if(!y){if(l.stateNode===null)throw Error(r(166));return Nr(l),null}s=he.current,Zf(l)?r_(l):(s=bw(T,y,h),l.stateNode=s,qo(l))}return Nr(l),null;case 5:if(Ot(l),h=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==y&&qo(l);else{if(!y){if(l.stateNode===null)throw Error(r(166));return Nr(l),null}if(s=he.current,Zf(l))r_(l);else{switch(T=Zd(_e.current),s){case 1:s=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:s=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":s=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":s=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof y.is=="string"?T.createElement("select",{is:y.is}):T.createElement("select"),y.multiple?s.multiple=!0:y.size&&(s.size=y.size);break;default:s=typeof y.is=="string"?T.createElement(h,{is:y.is}):T.createElement(h)}}s[Rr]=l,s[Cn]=y;e:for(T=l.child;T!==null;){if(T.tag===5||T.tag===6)s.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===l)break e;for(;T.sibling===null;){if(T.return===null||T.return===l)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}l.stateNode=s;e:switch(Pi(s,h,y),h){case"button":case"input":case"select":case"textarea":s=!!y.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&qo(l)}}return Nr(l),l.flags&=-16777217,null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==y&&qo(l);else{if(typeof y!="string"&&l.stateNode===null)throw Error(r(166));if(s=_e.current,Zf(l)){if(s=l.stateNode,h=l.memoizedProps,y=null,T=fs,T!==null)switch(T.tag){case 27:case 5:y=T.memoizedProps}s[Rr]=l,s=!!(s.nodeValue===h||y!==null&&y.suppressHydrationWarning===!0||_w(s.nodeValue,h)),s||Lc(l)}else s=Zd(s).createTextNode(y),s[Rr]=l,l.stateNode=s}return Nr(l),null;case 13:if(y=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(T=Zf(l),y!==null&&y.dehydrated!==null){if(s===null){if(!T)throw Error(r(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Rr]=l}else Jf(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Nr(l),T=!1}else T=s_(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=T),T=!0;if(!T)return l.flags&256?(Go(l),l):(Go(l),null)}if(Go(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=y!==null,s=s!==null&&s.memoizedState!==null,h){y=l.child,T=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(T=y.alternate.memoizedState.cachePool.pool);var b=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(b=y.memoizedState.cachePool.pool),b!==T&&(y.flags|=2048)}return h!==s&&h&&(l.child.flags|=8192),Ud(l,l.updateQueue),Nr(l),null;case 4:return mt(),s===null&&$p(l.stateNode.containerInfo),Nr(l),null;case 10:return Ho(l.type),Nr(l),null;case 19:if(ie(xi),T=l.memoizedState,T===null)return Nr(l),null;if(y=(l.flags&128)!==0,b=T.rendering,b===null)if(y)mh(T,!1);else{if(Pr!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(b=kd(s),b!==null){for(l.flags|=128,mh(T,!1),s=b.updateQueue,l.updateQueue=s,Ud(l,s),l.subtreeFlags=0,s=h,h=l.child;h!==null;)t_(h,s),h=h.sibling;return fe(xi,xi.current&1|2),l.child}s=s.sibling}T.tail!==null&&rt()>Hd&&(l.flags|=128,y=!0,mh(T,!1),l.lanes=4194304)}else{if(!y)if(s=kd(b),s!==null){if(l.flags|=128,y=!0,s=s.updateQueue,l.updateQueue=s,Ud(l,s),mh(T,!0),T.tail===null&&T.tailMode==="hidden"&&!b.alternate&&!On)return Nr(l),null}else 2*rt()-T.renderingStartTime>Hd&&h!==536870912&&(l.flags|=128,y=!0,mh(T,!1),l.lanes=4194304);T.isBackwards?(b.sibling=l.child,l.child=b):(s=T.last,s!==null?s.sibling=b:l.child=b,T.last=b)}return T.tail!==null?(l=T.tail,T.rendering=l,T.tail=l.sibling,T.renderingStartTime=rt(),l.sibling=null,s=xi.current,fe(xi,y?s&1|2:s&1),l):(Nr(l),null);case 22:case 23:return Go(l),Jm(),y=l.memoizedState!==null,s!==null?s.memoizedState!==null!==y&&(l.flags|=8192):y&&(l.flags|=8192),y?(h&536870912)!==0&&(l.flags&128)===0&&(Nr(l),l.subtreeFlags&6&&(l.flags|=8192)):Nr(l),h=l.updateQueue,h!==null&&Ud(l,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),y=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==h&&(l.flags|=2048),s!==null&&ie(Bc),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Ho(pi),Nr(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function z6(s,l){switch(Um(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Ho(pi),mt(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Ot(l),null;case 13:if(Go(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Jf()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return ie(xi),null;case 4:return mt(),null;case 10:return Ho(l.type),null;case 22:case 23:return Go(l),Jm(),s!==null&&ie(Bc),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Ho(pi),null;case 25:return null;default:return null}}function IE(s,l){switch(Um(l),l.tag){case 3:Ho(pi),mt();break;case 26:case 27:case 5:Ot(l);break;case 4:mt();break;case 13:Go(l);break;case 19:ie(xi);break;case 10:Ho(l.type);break;case 22:case 23:Go(l),Jm(),s!==null&&ie(Bc);break;case 24:Ho(pi)}}function ph(s,l){try{var h=l.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var T=y.next;h=T;do{if((h.tag&s)===s){y=void 0;var b=h.create,j=h.inst;y=b(),j.destroy=y}h=h.next}while(h!==T)}}catch(J){ir(l,l.return,J)}}function Dl(s,l,h){try{var y=l.updateQueue,T=y!==null?y.lastEffect:null;if(T!==null){var b=T.next;y=b;do{if((y.tag&s)===s){var j=y.inst,J=j.destroy;if(J!==void 0){j.destroy=void 0,T=l;var ge=h,Oe=J;try{Oe()}catch(We){ir(T,ge,We)}}}y=y.next}while(y!==b)}}catch(We){ir(l,l.return,We)}}function RE(s){var l=s.updateQueue;if(l!==null){var h=s.stateNode;try{p_(l,h)}catch(y){ir(s,s.return,y)}}}function NE(s,l,h){h.props=Vc(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(y){ir(s,l,y)}}function xh(s,l){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var y=s.stateNode;break;case 30:y=s.stateNode;break;default:y=s.stateNode}typeof h=="function"?s.refCleanup=h(y):h.current=y}}catch(T){ir(s,l,T)}}function co(s,l){var h=s.ref,y=s.refCleanup;if(h!==null)if(typeof y=="function")try{y()}catch(T){ir(s,l,T)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(T){ir(s,l,T)}else h.current=null}function OE(s){var l=s.type,h=s.memoizedProps,y=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&y.focus();break e;case"img":h.src?y.src=h.src:h.srcSet&&(y.srcset=h.srcSet)}}catch(T){ir(s,s.return,T)}}function bp(s,l,h){try{var y=s.stateNode;u8(y,s.type,h,l),y[Cn]=l}catch(T){ir(s,s.return,T)}}function DE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Vl(s.type)||s.tag===4}function Ip(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||DE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Vl(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Rp(s,l,h){var y=s.tag;if(y===5||y===6)s=s.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(s),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=$d));else if(y!==4&&(y===27&&Vl(s.type)&&(h=s.stateNode,l=null),s=s.child,s!==null))for(Rp(s,l,h),s=s.sibling;s!==null;)Rp(s,l,h),s=s.sibling}function Vd(s,l,h){var y=s.tag;if(y===5||y===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(y!==4&&(y===27&&Vl(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(Vd(s,l,h),s=s.sibling;s!==null;)Vd(s,l,h),s=s.sibling}function ME(s){var l=s.stateNode,h=s.memoizedProps;try{for(var y=s.type,T=l.attributes;T.length;)l.removeAttributeNode(T[0]);Pi(l,y,h),l[Rr]=s,l[Cn]=h}catch(b){ir(s,s.return,b)}}var Yo=!1,Xr=!1,Np=!1,kE=typeof WeakSet=="function"?WeakSet:Set,Ti=null;function G6(s,l){if(s=s.containerInfo,e2=i1,s=N(s),P(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var T=y.anchorOffset,b=y.focusNode;y=y.focusOffset;try{h.nodeType,b.nodeType}catch{h=null;break e}var j=0,J=-1,ge=-1,Oe=0,We=0,Ke=s,ke=null;t:for(;;){for(var Fe;Ke!==h||T!==0&&Ke.nodeType!==3||(J=j+T),Ke!==b||y!==0&&Ke.nodeType!==3||(ge=j+y),Ke.nodeType===3&&(j+=Ke.nodeValue.length),(Fe=Ke.firstChild)!==null;)ke=Ke,Ke=Fe;for(;;){if(Ke===s)break t;if(ke===h&&++Oe===T&&(J=j),ke===b&&++We===y&&(ge=j),(Fe=Ke.nextSibling)!==null)break;Ke=ke,ke=Ke.parentNode}Ke=Fe}h=J===-1||ge===-1?null:{start:J,end:ge}}else h=null}h=h||{start:0,end:0}}else h=null;for(t2={focusedElem:s,selectionRange:h},i1=!1,Ti=l;Ti!==null;)if(l=Ti,s=l.child,(l.subtreeFlags&1024)!==0&&s!==null)s.return=l,Ti=s;else for(;Ti!==null;){switch(l=Ti,b=l.alternate,s=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,h=l,T=b.memoizedProps,b=b.memoizedState,y=h.stateNode;try{var Vt=Vc(h.type,T,h.elementType===h.type);s=y.getSnapshotBeforeUpdate(Vt,b),y.__reactInternalSnapshotBeforeUpdate=s}catch(kt){ir(h,h.return,kt)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,h=s.nodeType,h===9)i2(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":i2(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,Ti=s;break}Ti=l.return}}function LE(s,l,h){var y=h.flags;switch(h.tag){case 0:case 11:case 15:Ml(s,h),y&4&&ph(5,h);break;case 1:if(Ml(s,h),y&4)if(s=h.stateNode,l===null)try{s.componentDidMount()}catch(j){ir(h,h.return,j)}else{var T=Vc(h.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(T,l,s.__reactInternalSnapshotBeforeUpdate)}catch(j){ir(h,h.return,j)}}y&64&&RE(h),y&512&&xh(h,h.return);break;case 3:if(Ml(s,h),y&64&&(s=h.updateQueue,s!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{p_(s,l)}catch(j){ir(h,h.return,j)}}break;case 27:l===null&&y&4&&ME(h);case 26:case 5:Ml(s,h),l===null&&y&4&&OE(h),y&512&&xh(h,h.return);break;case 12:Ml(s,h);break;case 13:Ml(s,h),y&4&&BE(s,h),y&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=J6.bind(null,h),x8(s,h))));break;case 22:if(y=h.memoizedState!==null||Yo,!y){l=l!==null&&l.memoizedState!==null||Xr,T=Yo;var b=Xr;Yo=y,(Xr=l)&&!b?kl(s,h,(h.subtreeFlags&8772)!==0):Ml(s,h),Yo=T,Xr=b}break;case 30:break;default:Ml(s,h)}}function PE(s){var l=s.alternate;l!==null&&(s.alternate=null,PE(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&se(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Sr=null,Ss=!1;function Xo(s,l,h){for(h=h.child;h!==null;)FE(s,l,h),h=h.sibling}function FE(s,l,h){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Zt,h)}catch{}switch(h.tag){case 26:Xr||co(h,l),Xo(s,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Xr||co(h,l);var y=Sr,T=Ss;Vl(h.type)&&(Sr=h.stateNode,Ss=!1),Xo(s,l,h),Ch(h.stateNode),Sr=y,Ss=T;break;case 5:Xr||co(h,l);case 6:if(y=Sr,T=Ss,Sr=null,Xo(s,l,h),Sr=y,Ss=T,Sr!==null)if(Ss)try{(Sr.nodeType===9?Sr.body:Sr.nodeName==="HTML"?Sr.ownerDocument.body:Sr).removeChild(h.stateNode)}catch(b){ir(h,l,b)}else try{Sr.removeChild(h.stateNode)}catch(b){ir(h,l,b)}break;case 18:Sr!==null&&(Ss?(s=Sr,Sw(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),kh(s)):Sw(Sr,h.stateNode));break;case 4:y=Sr,T=Ss,Sr=h.stateNode.containerInfo,Ss=!0,Xo(s,l,h),Sr=y,Ss=T;break;case 0:case 11:case 14:case 15:Xr||Dl(2,h,l),Xr||Dl(4,h,l),Xo(s,l,h);break;case 1:Xr||(co(h,l),y=h.stateNode,typeof y.componentWillUnmount=="function"&&NE(h,l,y)),Xo(s,l,h);break;case 21:Xo(s,l,h);break;case 22:Xr=(y=Xr)||h.memoizedState!==null,Xo(s,l,h),Xr=y;break;default:Xo(s,l,h)}}function BE(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{kh(s)}catch(h){ir(l,l.return,h)}}function W6(s){switch(s.tag){case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new kE),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new kE),l;default:throw Error(r(435,s.tag))}}function Op(s,l){var h=W6(s);l.forEach(function(y){var T=e8.bind(null,s,y);h.has(y)||(h.add(y),y.then(T,T))})}function Ws(s,l){var h=l.deletions;if(h!==null)for(var y=0;y<h.length;y++){var T=h[y],b=s,j=l,J=j;e:for(;J!==null;){switch(J.tag){case 27:if(Vl(J.type)){Sr=J.stateNode,Ss=!1;break e}break;case 5:Sr=J.stateNode,Ss=!1;break e;case 3:case 4:Sr=J.stateNode.containerInfo,Ss=!0;break e}J=J.return}if(Sr===null)throw Error(r(160));FE(b,j,T),Sr=null,Ss=!1,b=T.alternate,b!==null&&(b.return=null),T.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)UE(l,s),l=l.sibling}var Va=null;function UE(s,l){var h=s.alternate,y=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ws(l,s),qs(s),y&4&&(Dl(3,s,s.return),ph(3,s),Dl(5,s,s.return));break;case 1:Ws(l,s),qs(s),y&512&&(Xr||h===null||co(h,h.return)),y&64&&Yo&&(s=s.updateQueue,s!==null&&(y=s.callbacks,y!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?y:h.concat(y))));break;case 26:var T=Va;if(Ws(l,s),qs(s),y&512&&(Xr||h===null||co(h,h.return)),y&4){var b=h!==null?h.memoizedState:null;if(y=s.memoizedState,h===null)if(y===null)if(s.stateNode===null){e:{y=s.type,h=s.memoizedProps,T=T.ownerDocument||T;t:switch(y){case"title":b=T.getElementsByTagName("title")[0],(!b||b[re]||b[Rr]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=T.createElement(y),T.head.insertBefore(b,T.querySelector("head > title"))),Pi(b,y,h),b[Rr]=s,Te(b),y=b;break e;case"link":var j=Mw("link","href",T).get(y+(h.href||""));if(j){for(var J=0;J<j.length;J++)if(b=j[J],b.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&b.getAttribute("rel")===(h.rel==null?null:h.rel)&&b.getAttribute("title")===(h.title==null?null:h.title)&&b.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){j.splice(J,1);break t}}b=T.createElement(y),Pi(b,y,h),T.head.appendChild(b);break;case"meta":if(j=Mw("meta","content",T).get(y+(h.content||""))){for(J=0;J<j.length;J++)if(b=j[J],b.getAttribute("content")===(h.content==null?null:""+h.content)&&b.getAttribute("name")===(h.name==null?null:h.name)&&b.getAttribute("property")===(h.property==null?null:h.property)&&b.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&b.getAttribute("charset")===(h.charSet==null?null:h.charSet)){j.splice(J,1);break t}}b=T.createElement(y),Pi(b,y,h),T.head.appendChild(b);break;default:throw Error(r(468,y))}b[Rr]=s,Te(b),y=b}s.stateNode=y}else kw(T,s.type,s.stateNode);else s.stateNode=Dw(T,y,s.memoizedProps);else b!==y?(b===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):b.count--,y===null?kw(T,s.type,s.stateNode):Dw(T,y,s.memoizedProps)):y===null&&s.stateNode!==null&&bp(s,s.memoizedProps,h.memoizedProps)}break;case 27:Ws(l,s),qs(s),y&512&&(Xr||h===null||co(h,h.return)),h!==null&&y&4&&bp(s,s.memoizedProps,h.memoizedProps);break;case 5:if(Ws(l,s),qs(s),y&512&&(Xr||h===null||co(h,h.return)),s.flags&32){T=s.stateNode;try{dr(T,"")}catch(Fe){ir(s,s.return,Fe)}}y&4&&s.stateNode!=null&&(T=s.memoizedProps,bp(s,T,h!==null?h.memoizedProps:T)),y&1024&&(Np=!0);break;case 6:if(Ws(l,s),qs(s),y&4){if(s.stateNode===null)throw Error(r(162));y=s.memoizedProps,h=s.stateNode;try{h.nodeValue=y}catch(Fe){ir(s,s.return,Fe)}}break;case 3:if(t1=null,T=Va,Va=Jd(l.containerInfo),Ws(l,s),Va=T,qs(s),y&4&&h!==null&&h.memoizedState.isDehydrated)try{kh(l.containerInfo)}catch(Fe){ir(s,s.return,Fe)}Np&&(Np=!1,VE(s));break;case 4:y=Va,Va=Jd(s.stateNode.containerInfo),Ws(l,s),qs(s),Va=y;break;case 12:Ws(l,s),qs(s);break;case 13:Ws(l,s),qs(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Fp=rt()),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,Op(s,y)));break;case 22:T=s.memoizedState!==null;var ge=h!==null&&h.memoizedState!==null,Oe=Yo,We=Xr;if(Yo=Oe||T,Xr=We||ge,Ws(l,s),Xr=We,Yo=Oe,qs(s),y&8192)e:for(l=s.stateNode,l._visibility=T?l._visibility&-2:l._visibility|1,T&&(h===null||ge||Yo||Xr||jc(s)),h=null,l=s;;){if(l.tag===5||l.tag===26){if(h===null){ge=h=l;try{if(b=ge.stateNode,T)j=b.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{J=ge.stateNode;var Ke=ge.memoizedProps.style,ke=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;J.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(Fe){ir(ge,ge.return,Fe)}}}else if(l.tag===6){if(h===null){ge=l;try{ge.stateNode.nodeValue=T?"":ge.memoizedProps}catch(Fe){ir(ge,ge.return,Fe)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}y&4&&(y=s.updateQueue,y!==null&&(h=y.retryQueue,h!==null&&(y.retryQueue=null,Op(s,h))));break;case 19:Ws(l,s),qs(s),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,Op(s,y)));break;case 30:break;case 21:break;default:Ws(l,s),qs(s)}}function qs(s){var l=s.flags;if(l&2){try{for(var h,y=s.return;y!==null;){if(DE(y)){h=y;break}y=y.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var T=h.stateNode,b=Ip(s);Vd(s,b,T);break;case 5:var j=h.stateNode;h.flags&32&&(dr(j,""),h.flags&=-33);var J=Ip(s);Vd(s,J,j);break;case 3:case 4:var ge=h.stateNode.containerInfo,Oe=Ip(s);Rp(s,Oe,ge);break;default:throw Error(r(161))}}catch(We){ir(s,s.return,We)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function VE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;VE(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Ml(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)LE(s,l.alternate,l),l=l.sibling}function jc(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Dl(4,l,l.return),jc(l);break;case 1:co(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&NE(l,l.return,h),jc(l);break;case 27:Ch(l.stateNode);case 26:case 5:co(l,l.return),jc(l);break;case 22:l.memoizedState===null&&jc(l);break;case 30:jc(l);break;default:jc(l)}s=s.sibling}}function kl(s,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var y=l.alternate,T=s,b=l,j=b.flags;switch(b.tag){case 0:case 11:case 15:kl(T,b,h),ph(4,b);break;case 1:if(kl(T,b,h),y=b,T=y.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Oe){ir(y,y.return,Oe)}if(y=b,T=y.updateQueue,T!==null){var J=y.stateNode;try{var ge=T.shared.hiddenCallbacks;if(ge!==null)for(T.shared.hiddenCallbacks=null,T=0;T<ge.length;T++)m_(ge[T],J)}catch(Oe){ir(y,y.return,Oe)}}h&&j&64&&RE(b),xh(b,b.return);break;case 27:ME(b);case 26:case 5:kl(T,b,h),h&&y===null&&j&4&&OE(b),xh(b,b.return);break;case 12:kl(T,b,h);break;case 13:kl(T,b,h),h&&j&4&&BE(T,b);break;case 22:b.memoizedState===null&&kl(T,b,h),xh(b,b.return);break;case 30:break;default:kl(T,b,h)}l=l.sibling}}function Dp(s,l){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&nh(h))}function Mp(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&nh(s))}function uo(s,l,h,y){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)jE(s,l,h,y),l=l.sibling}function jE(s,l,h,y){var T=l.flags;switch(l.tag){case 0:case 11:case 15:uo(s,l,h,y),T&2048&&ph(9,l);break;case 1:uo(s,l,h,y);break;case 3:uo(s,l,h,y),T&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&nh(s)));break;case 12:if(T&2048){uo(s,l,h,y),s=l.stateNode;try{var b=l.memoizedProps,j=b.id,J=b.onPostCommit;typeof J=="function"&&J(j,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ge){ir(l,l.return,ge)}}else uo(s,l,h,y);break;case 13:uo(s,l,h,y);break;case 23:break;case 22:b=l.stateNode,j=l.alternate,l.memoizedState!==null?b._visibility&2?uo(s,l,h,y):yh(s,l):b._visibility&2?uo(s,l,h,y):(b._visibility|=2,Uu(s,l,h,y,(l.subtreeFlags&10256)!==0)),T&2048&&Dp(j,l);break;case 24:uo(s,l,h,y),T&2048&&Mp(l.alternate,l);break;default:uo(s,l,h,y)}}function Uu(s,l,h,y,T){for(T=T&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var b=s,j=l,J=h,ge=y,Oe=j.flags;switch(j.tag){case 0:case 11:case 15:Uu(b,j,J,ge,T),ph(8,j);break;case 23:break;case 22:var We=j.stateNode;j.memoizedState!==null?We._visibility&2?Uu(b,j,J,ge,T):yh(b,j):(We._visibility|=2,Uu(b,j,J,ge,T)),T&&Oe&2048&&Dp(j.alternate,j);break;case 24:Uu(b,j,J,ge,T),T&&Oe&2048&&Mp(j.alternate,j);break;default:Uu(b,j,J,ge,T)}l=l.sibling}}function yh(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=s,y=l,T=y.flags;switch(y.tag){case 22:yh(h,y),T&2048&&Dp(y.alternate,y);break;case 24:yh(h,y),T&2048&&Mp(y.alternate,y);break;default:yh(h,y)}l=l.sibling}}var vh=8192;function Vu(s){if(s.subtreeFlags&vh)for(s=s.child;s!==null;)HE(s),s=s.sibling}function HE(s){switch(s.tag){case 26:Vu(s),s.flags&vh&&s.memoizedState!==null&&N8(Va,s.memoizedState,s.memoizedProps);break;case 5:Vu(s);break;case 3:case 4:var l=Va;Va=Jd(s.stateNode.containerInfo),Vu(s),Va=l;break;case 22:s.memoizedState===null&&(l=s.alternate,l!==null&&l.memoizedState!==null?(l=vh,vh=16777216,Vu(s),vh=l):Vu(s));break;default:Vu(s)}}function zE(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function _h(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var y=l[h];Ti=y,WE(y,s)}zE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)GE(s),s=s.sibling}function GE(s){switch(s.tag){case 0:case 11:case 15:_h(s),s.flags&2048&&Dl(9,s,s.return);break;case 3:_h(s);break;case 12:_h(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,jd(s)):_h(s);break;default:_h(s)}}function jd(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var y=l[h];Ti=y,WE(y,s)}zE(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Dl(8,l,l.return),jd(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,jd(l));break;default:jd(l)}s=s.sibling}}function WE(s,l){for(;Ti!==null;){var h=Ti;switch(h.tag){case 0:case 11:case 15:Dl(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var y=h.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:nh(h.memoizedState.cache)}if(y=h.child,y!==null)y.return=h,Ti=y;else e:for(h=s;Ti!==null;){y=Ti;var T=y.sibling,b=y.return;if(PE(y),y===h){Ti=null;break e}if(T!==null){T.return=b,Ti=T;break e}Ti=b}}}var q6={getCacheForType:function(s){var l=Ji(pi),h=l.data.get(s);return h===void 0&&(h=s(),l.data.set(s,h)),h}},Y6=typeof WeakMap=="function"?WeakMap:Map,jn=0,lr=null,cn=null,_n=0,Hn=0,Ys=null,Ll=!1,ju=!1,kp=!1,Ko=0,Pr=0,Pl=0,Hc=0,Lp=0,Ta=0,Hu=0,Eh=null,Cs=null,Pp=!1,Fp=0,Hd=1/0,zd=null,Fl=null,Li=0,Bl=null,zu=null,Gu=0,Bp=0,Up=null,qE=null,wh=0,Vp=null;function Xs(){if((jn&2)!==0&&_n!==0)return _n&-_n;if(be.T!==null){var s=Ou;return s!==0?s:Yp()}return Ni()}function YE(){Ta===0&&(Ta=(_n&536870912)===0||On?ua():536870912);var s=wa.current;return s!==null&&(s.flags|=32),Ta}function Ks(s,l,h){(s===lr&&(Hn===2||Hn===9)||s.cancelPendingCommit!==null)&&(Wu(s,0),Ul(s,_n,Ta,!1)),ui(s,h),((jn&2)===0||s!==lr)&&(s===lr&&((jn&2)===0&&(Hc|=h),Pr===4&&Ul(s,_n,Ta,!1)),fo(s))}function XE(s,l,h){if((jn&6)!==0)throw Error(r(327));var y=!h&&(l&124)===0&&(l&s.expiredLanes)===0||Sn(s,l),T=y?Q6(s,l):zp(s,l,!0),b=y;do{if(T===0){ju&&!y&&Ul(s,l,0,!1);break}else{if(h=s.current.alternate,b&&!X6(h)){T=zp(s,l,!1),b=!1;continue}if(T===2){if(b=l,s.errorRecoveryDisabledLanes&b)var j=0;else j=s.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){l=j;e:{var J=s;T=Eh;var ge=J.current.memoizedState.isDehydrated;if(ge&&(Wu(J,j).flags|=256),j=zp(J,j,!1),j!==2){if(kp&&!ge){J.errorRecoveryDisabledLanes|=b,Hc|=b,T=4;break e}b=Cs,Cs=T,b!==null&&(Cs===null?Cs=b:Cs.push.apply(Cs,b))}T=j}if(b=!1,T!==2)continue}}if(T===1){Wu(s,0),Ul(s,l,0,!0);break}e:{switch(y=s,b=T,b){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ul(y,l,Ta,!Ll);break e;case 2:Cs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(T=Fp+300-rt(),10<T)){if(Ul(y,l,Ta,!Ll),hn(y,0,!0)!==0)break e;y.timeoutHandle=Tw(KE.bind(null,y,h,Cs,zd,Pp,l,Ta,Hc,Hu,Ll,b,2,-0,0),T);break e}KE(y,h,Cs,zd,Pp,l,Ta,Hc,Hu,Ll,b,0,-0,0)}}break}while(!0);fo(s)}function KE(s,l,h,y,T,b,j,J,ge,Oe,We,Ke,ke,Fe){if(s.timeoutHandle=-1,Ke=l.subtreeFlags,(Ke&8192||(Ke&16785408)===16785408)&&(Rh={stylesheets:null,count:0,unsuspend:R8},HE(l),Ke=O8(),Ke!==null)){s.cancelPendingCommit=Ke(nw.bind(null,s,l,b,h,y,T,j,J,ge,We,1,ke,Fe)),Ul(s,b,j,!Oe);return}nw(s,l,b,h,y,T,j,J,ge)}function X6(s){for(var l=s;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var y=0;y<h.length;y++){var T=h[y],b=T.getSnapshot;T=T.value;try{if(!d(b(),T))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ul(s,l,h,y){l&=~Lp,l&=~Hc,s.suspendedLanes|=l,s.pingedLanes&=~l,y&&(s.warmLanes|=l),y=s.expirationTimes;for(var T=l;0<T;){var b=31-on(T),j=1<<b;y[b]=-1,T&=~j}h!==0&&cs(s,h,l)}function Gd(){return(jn&6)===0?(Th(0),!1):!0}function jp(){if(cn!==null){if(Hn===0)var s=cn.return;else s=cn,jo=Pc=null,ip(s),Fu=null,dh=0,s=cn;for(;s!==null;)IE(s.alternate,s),s=s.return;cn=null}}function Wu(s,l){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,h8(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),jp(),lr=s,cn=h=Bo(s.current,null),_n=l,Hn=0,Ys=null,Ll=!1,ju=Sn(s,l),kp=!1,Hu=Ta=Lp=Hc=Pl=Pr=0,Cs=Eh=null,Pp=!1,(l&8)!==0&&(l|=l&32);var y=s.entangledLanes;if(y!==0)for(s=s.entanglements,y&=l;0<y;){var T=31-on(y),b=1<<T;l|=s[T],y&=~b}return Ko=l,hd(),h}function QE(s,l){rn=null,be.H=Od,l===ih||l===Ed?(l=d_(),Hn=3):l===u_?(l=d_(),Hn=4):Hn=l===gE?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ys=l,cn===null&&(Pr=1,Pd(s,ya(l,s.current)))}function $E(){var s=be.H;return be.H=Od,s===null?Od:s}function ZE(){var s=be.A;return be.A=q6,s}function Hp(){Pr=4,Ll||(_n&4194048)!==_n&&wa.current!==null||(ju=!0),(Pl&134217727)===0&&(Hc&134217727)===0||lr===null||Ul(lr,_n,Ta,!1)}function zp(s,l,h){var y=jn;jn|=2;var T=$E(),b=ZE();(lr!==s||_n!==l)&&(zd=null,Wu(s,l)),l=!1;var j=Pr;e:do try{if(Hn!==0&&cn!==null){var J=cn,ge=Ys;switch(Hn){case 8:jp(),j=6;break e;case 3:case 2:case 9:case 6:wa.current===null&&(l=!0);var Oe=Hn;if(Hn=0,Ys=null,qu(s,J,ge,Oe),h&&ju){j=0;break e}break;default:Oe=Hn,Hn=0,Ys=null,qu(s,J,ge,Oe)}}K6(),j=Pr;break}catch(We){QE(s,We)}while(!0);return l&&s.shellSuspendCounter++,jo=Pc=null,jn=y,be.H=T,be.A=b,cn===null&&(lr=null,_n=0,hd()),j}function K6(){for(;cn!==null;)JE(cn)}function Q6(s,l){var h=jn;jn|=2;var y=$E(),T=ZE();lr!==s||_n!==l?(zd=null,Hd=rt()+500,Wu(s,l)):ju=Sn(s,l);e:do try{if(Hn!==0&&cn!==null){l=cn;var b=Ys;t:switch(Hn){case 1:Hn=0,Ys=null,qu(s,l,b,1);break;case 2:case 9:if(f_(b)){Hn=0,Ys=null,ew(l);break}l=function(){Hn!==2&&Hn!==9||lr!==s||(Hn=7),fo(s)},b.then(l,l);break e;case 3:Hn=7;break e;case 4:Hn=5;break e;case 7:f_(b)?(Hn=0,Ys=null,ew(l)):(Hn=0,Ys=null,qu(s,l,b,7));break;case 5:var j=null;switch(cn.tag){case 26:j=cn.memoizedState;case 5:case 27:var J=cn;if(!j||Lw(j)){Hn=0,Ys=null;var ge=J.sibling;if(ge!==null)cn=ge;else{var Oe=J.return;Oe!==null?(cn=Oe,Wd(Oe)):cn=null}break t}}Hn=0,Ys=null,qu(s,l,b,5);break;case 6:Hn=0,Ys=null,qu(s,l,b,6);break;case 8:jp(),Pr=6;break e;default:throw Error(r(462))}}$6();break}catch(We){QE(s,We)}while(!0);return jo=Pc=null,be.H=y,be.A=T,jn=h,cn!==null?0:(lr=null,_n=0,hd(),Pr)}function $6(){for(;cn!==null&&!Bn();)JE(cn)}function JE(s){var l=CE(s.alternate,s,Ko);s.memoizedProps=s.pendingProps,l===null?Wd(s):cn=l}function ew(s){var l=s,h=l.alternate;switch(l.tag){case 15:case 0:l=_E(h,l,l.pendingProps,l.type,void 0,_n);break;case 11:l=_E(h,l,l.pendingProps,l.type.render,l.ref,_n);break;case 5:ip(l);default:IE(h,l),l=cn=t_(l,Ko),l=CE(h,l,Ko)}s.memoizedProps=s.pendingProps,l===null?Wd(s):cn=l}function qu(s,l,h,y){jo=Pc=null,ip(l),Fu=null,dh=0;var T=l.return;try{if(V6(s,T,l,h,_n)){Pr=1,Pd(s,ya(h,s.current)),cn=null;return}}catch(b){if(T!==null)throw cn=T,b;Pr=1,Pd(s,ya(h,s.current)),cn=null;return}l.flags&32768?(On||y===1?s=!0:ju||(_n&536870912)!==0?s=!1:(Ll=s=!0,(y===2||y===9||y===3||y===6)&&(y=wa.current,y!==null&&y.tag===13&&(y.flags|=16384))),tw(l,s)):Wd(l)}function Wd(s){var l=s;do{if((l.flags&32768)!==0){tw(l,Ll);return}s=l.return;var h=H6(l.alternate,l,Ko);if(h!==null){cn=h;return}if(l=l.sibling,l!==null){cn=l;return}cn=l=s}while(l!==null);Pr===0&&(Pr=5)}function tw(s,l){do{var h=z6(s.alternate,s);if(h!==null){h.flags&=32767,cn=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(s=s.sibling,s!==null)){cn=s;return}cn=s=h}while(s!==null);Pr=6,cn=null}function nw(s,l,h,y,T,b,j,J,ge){s.cancelPendingCommit=null;do qd();while(Li!==0);if((jn&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(b=l.lanes|l.childLanes,b|=Mm,ks(s,h,b,j,J,ge),s===lr&&(cn=lr=null,_n=0),zu=l,Bl=s,Gu=h,Bp=b,Up=T,qE=y,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,t8(gt,function(){return ow(),null})):(s.callbackNode=null,s.callbackPriority=0),y=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||y){y=be.T,be.T=null,T=Ue.p,Ue.p=2,j=jn,jn|=4;try{G6(s,l,h)}finally{jn=j,Ue.p=T,be.T=y}}Li=1,rw(),iw(),sw()}}function rw(){if(Li===1){Li=0;var s=Bl,l=zu,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=be.T,be.T=null;var y=Ue.p;Ue.p=2;var T=jn;jn|=4;try{UE(l,s);var b=t2,j=N(s.containerInfo),J=b.focusedElem,ge=b.selectionRange;if(j!==J&&J&&J.ownerDocument&&S(J.ownerDocument.documentElement,J)){if(ge!==null&&P(J)){var Oe=ge.start,We=ge.end;if(We===void 0&&(We=Oe),"selectionStart"in J)J.selectionStart=Oe,J.selectionEnd=Math.min(We,J.value.length);else{var Ke=J.ownerDocument||document,ke=Ke&&Ke.defaultView||window;if(ke.getSelection){var Fe=ke.getSelection(),Vt=J.textContent.length,kt=Math.min(ge.start,Vt),Qn=ge.end===void 0?kt:Math.min(ge.end,Vt);!Fe.extend&&kt>Qn&&(j=Qn,Qn=kt,kt=j);var Ae=E(J,kt),we=E(J,Qn);if(Ae&&we&&(Fe.rangeCount!==1||Fe.anchorNode!==Ae.node||Fe.anchorOffset!==Ae.offset||Fe.focusNode!==we.node||Fe.focusOffset!==we.offset)){var Ne=Ke.createRange();Ne.setStart(Ae.node,Ae.offset),Fe.removeAllRanges(),kt>Qn?(Fe.addRange(Ne),Fe.extend(we.node,we.offset)):(Ne.setEnd(we.node,we.offset),Fe.addRange(Ne))}}}}for(Ke=[],Fe=J;Fe=Fe.parentNode;)Fe.nodeType===1&&Ke.push({element:Fe,left:Fe.scrollLeft,top:Fe.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Ke.length;J++){var qe=Ke[J];qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}}i1=!!e2,t2=e2=null}finally{jn=T,Ue.p=y,be.T=h}}s.current=l,Li=2}}function iw(){if(Li===2){Li=0;var s=Bl,l=zu,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=be.T,be.T=null;var y=Ue.p;Ue.p=2;var T=jn;jn|=4;try{LE(s,l.alternate,l)}finally{jn=T,Ue.p=y,be.T=h}}Li=3}}function sw(){if(Li===4||Li===3){Li=0,vn();var s=Bl,l=zu,h=Gu,y=qE;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Li=5:(Li=0,zu=Bl=null,aw(s,s.pendingLanes));var T=s.pendingLanes;if(T===0&&(Fl=null),fr(h),l=l.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Zt,l,void 0,(l.current.flags&128)===128)}catch{}if(y!==null){l=be.T,T=Ue.p,Ue.p=2,be.T=null;try{for(var b=s.onRecoverableError,j=0;j<y.length;j++){var J=y[j];b(J.value,{componentStack:J.stack})}}finally{be.T=l,Ue.p=T}}(Gu&3)!==0&&qd(),fo(s),T=s.pendingLanes,(h&4194090)!==0&&(T&42)!==0?s===Vp?wh++:(wh=0,Vp=s):wh=0,Th(0)}}function aw(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,nh(l)))}function qd(s){return rw(),iw(),sw(),ow()}function ow(){if(Li!==5)return!1;var s=Bl,l=Bp;Bp=0;var h=fr(Gu),y=be.T,T=Ue.p;try{Ue.p=32>h?32:h,be.T=null,h=Up,Up=null;var b=Bl,j=Gu;if(Li=0,zu=Bl=null,Gu=0,(jn&6)!==0)throw Error(r(331));var J=jn;if(jn|=4,GE(b.current),jE(b,b.current,j,h),jn=J,Th(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Zt,b)}catch{}return!0}finally{Ue.p=T,be.T=y,aw(s,l)}}function lw(s,l,h){l=ya(h,l),l=yp(s.stateNode,l,2),s=Il(s,l,2),s!==null&&(ui(s,2),fo(s))}function ir(s,l,h){if(s.tag===3)lw(s,s,h);else for(;l!==null;){if(l.tag===3){lw(l,s,h);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Fl===null||!Fl.has(y))){s=ya(h,s),h=hE(2),y=Il(l,h,2),y!==null&&(dE(h,y,l,s),ui(y,2),fo(y));break}}l=l.return}}function Gp(s,l,h){var y=s.pingCache;if(y===null){y=s.pingCache=new Y6;var T=new Set;y.set(l,T)}else T=y.get(l),T===void 0&&(T=new Set,y.set(l,T));T.has(h)||(kp=!0,T.add(h),s=Z6.bind(null,s,l,h),l.then(s,s))}function Z6(s,l,h){var y=s.pingCache;y!==null&&y.delete(l),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,lr===s&&(_n&h)===h&&(Pr===4||Pr===3&&(_n&62914560)===_n&&300>rt()-Fp?(jn&2)===0&&Wu(s,0):Lp|=h,Hu===_n&&(Hu=0)),fo(s)}function cw(s,l){l===0&&(l=ka()),s=bu(s,l),s!==null&&(ui(s,l),fo(s))}function J6(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),cw(s,h)}function e8(s,l){var h=0;switch(s.tag){case 13:var y=s.stateNode,T=s.memoizedState;T!==null&&(h=T.retryLane);break;case 19:y=s.stateNode;break;case 22:y=s.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(l),cw(s,h)}function t8(s,l){return St(s,l)}var Yd=null,Yu=null,Wp=!1,Xd=!1,qp=!1,zc=0;function fo(s){s!==Yu&&s.next===null&&(Yu===null?Yd=Yu=s:Yu=Yu.next=s),Xd=!0,Wp||(Wp=!0,r8())}function Th(s,l){if(!qp&&Xd){qp=!0;do for(var h=!1,y=Yd;y!==null;){if(s!==0){var T=y.pendingLanes;if(T===0)var b=0;else{var j=y.suspendedLanes,J=y.pingedLanes;b=(1<<31-on(42|s)+1)-1,b&=T&~(j&~J),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(h=!0,dw(y,b))}else b=_n,b=hn(y,y===lr?b:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(b&3)===0||Sn(y,b)||(h=!0,dw(y,b));y=y.next}while(h);qp=!1}}function n8(){uw()}function uw(){Xd=Wp=!1;var s=0;zc!==0&&(f8()&&(s=zc),zc=0);for(var l=rt(),h=null,y=Yd;y!==null;){var T=y.next,b=fw(y,l);b===0?(y.next=null,h===null?Yd=T:h.next=T,T===null&&(Yu=h)):(h=y,(s!==0||(b&3)!==0)&&(Xd=!0)),y=T}Th(s)}function fw(s,l){for(var h=s.suspendedLanes,y=s.pingedLanes,T=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var j=31-on(b),J=1<<j,ge=T[j];ge===-1?((J&h)===0||(J&y)!==0)&&(T[j]=ps(J,l)):ge<=l&&(s.expiredLanes|=J),b&=~J}if(l=lr,h=_n,h=hn(s,s===l?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),y=s.callbackNode,h===0||s===l&&(Hn===2||Hn===9)||s.cancelPendingCommit!==null)return y!==null&&y!==null&&Ut(y),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||Sn(s,h)){if(l=h&-h,l===s.callbackPriority)return l;switch(y!==null&&Ut(y),fr(h)){case 2:case 8:h=vr;break;case 32:h=gt;break;case 268435456:h=ls;break;default:h=gt}return y=hw.bind(null,s),h=St(h,y),s.callbackPriority=l,s.callbackNode=h,l}return y!==null&&y!==null&&Ut(y),s.callbackPriority=2,s.callbackNode=null,2}function hw(s,l){if(Li!==0&&Li!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(qd()&&s.callbackNode!==h)return null;var y=_n;return y=hn(s,s===lr?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),y===0?null:(XE(s,y,l),fw(s,rt()),s.callbackNode!=null&&s.callbackNode===h?hw.bind(null,s):null)}function dw(s,l){if(qd())return null;XE(s,l,!0)}function r8(){d8(function(){(jn&6)!==0?St(Tt,n8):uw()})}function Yp(){return zc===0&&(zc=ua()),zc}function gw(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:El(""+s)}function mw(s,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,s.id&&h.setAttribute("form",s.id),l.parentNode.insertBefore(h,l),s=new FormData(s),h.parentNode.removeChild(h),s}function i8(s,l,h,y,T){if(l==="submit"&&h&&h.stateNode===T){var b=gw((T[Cn]||null).action),j=y.submitter;j&&(l=(l=j[Cn]||null)?gw(l.formAction):j.getAttribute("formAction"),l!==null&&(b=l,j=null));var J=new xa("action","action",null,y,T);s.push({event:J,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(zc!==0){var ge=j?mw(T,j):new FormData(T);dp(h,{pending:!0,data:ge,method:T.method,action:b},null,ge)}}else typeof b=="function"&&(J.preventDefault(),ge=j?mw(T,j):new FormData(T),dp(h,{pending:!0,data:ge,method:T.method,action:b},b,ge))},currentTarget:T}]})}}for(var Xp=0;Xp<ao.length;Xp++){var Kp=ao[Xp],s8=Kp.toLowerCase(),a8=Kp[0].toUpperCase()+Kp.slice(1);zs(s8,"on"+a8)}zs(qt,"onAnimationEnd"),zs(Mi,"onAnimationIteration"),zs(Ts,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs($i,"onTransitionRun"),zs(Vn,"onTransitionStart"),zs(mi,"onTransitionCancel"),zs(Zi,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),Xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ah));function pw(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var y=s[h],T=y.event;y=y.listeners;e:{var b=void 0;if(l)for(var j=y.length-1;0<=j;j--){var J=y[j],ge=J.instance,Oe=J.currentTarget;if(J=J.listener,ge!==b&&T.isPropagationStopped())break e;b=J,T.currentTarget=Oe;try{b(T)}catch(We){Ld(We)}T.currentTarget=null,b=ge}else for(j=0;j<y.length;j++){if(J=y[j],ge=J.instance,Oe=J.currentTarget,J=J.listener,ge!==b&&T.isPropagationStopped())break e;b=J,T.currentTarget=Oe;try{b(T)}catch(We){Ld(We)}T.currentTarget=null,b=ge}}}}function un(s,l){var h=l[Dr];h===void 0&&(h=l[Dr]=new Set);var y=s+"__bubble";h.has(y)||(xw(l,s,2,!1),h.add(y))}function Qp(s,l,h){var y=0;l&&(y|=4),xw(h,s,y,l)}var Kd="_reactListening"+Math.random().toString(36).slice(2);function $p(s){if(!s[Kd]){s[Kd]=!0,De.forEach(function(h){h!=="selectionchange"&&(o8.has(h)||Qp(h,!1,s),Qp(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Kd]||(l[Kd]=!0,Qp("selectionchange",!1,l))}}function xw(s,l,h,y){switch(jw(l)){case 2:var T=k8;break;case 8:T=L8;break;default:T=f2}h=T.bind(null,l,h,s),T=void 0,!Dt||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(T=!0),y?T!==void 0?s.addEventListener(l,h,{capture:!0,passive:T}):s.addEventListener(l,h,!0):T!==void 0?s.addEventListener(l,h,{passive:T}):s.addEventListener(l,h,!1)}function Zp(s,l,h,y,T){var b=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var j=y.tag;if(j===3||j===4){var J=y.stateNode.containerInfo;if(J===T)break;if(j===4)for(j=y.return;j!==null;){var ge=j.tag;if((ge===3||ge===4)&&j.stateNode.containerInfo===T)return;j=j.return}for(;J!==null;){if(j=le(J),j===null)return;if(ge=j.tag,ge===5||ge===6||ge===26||ge===27){y=b=j;continue e}J=J.parentNode}}y=y.return}Bs(function(){var Oe=b,We=Oi(h),Ke=[];e:{var ke=Fo.get(s);if(ke!==void 0){var Fe=xa,Vt=s;switch(s){case"keypress":if(pa(h)===0)break e;case"keydown":case"keyup":Fe=io;break;case"focusin":Vt="focus",Fe=Ba;break;case"focusout":Vt="blur",Fe=Ba;break;case"beforeblur":case"afterblur":Fe=Ba;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=ys;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=In;break;case qt:case Mi:case Ts:Fe=wl;break;case Zi:Fe=wu;break;case"scroll":case"scrollend":Fe=gi;break;case"wheel":Fe=_s;break;case"copy":case"cut":case"paste":Fe=Wt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=so;break;case"toggle":case"beforetoggle":Fe=Tu}var kt=(l&4)!==0,Qn=!kt&&(s==="scroll"||s==="scrollend"),Ae=kt?ke!==null?ke+"Capture":null:ke;kt=[];for(var we=Oe,Ne;we!==null;){var qe=we;if(Ne=qe.stateNode,qe=qe.tag,qe!==5&&qe!==26&&qe!==27||Ne===null||Ae===null||(qe=bt(we,Ae),qe!=null&&kt.push(Sh(we,qe,Ne))),Qn)break;we=we.return}0<kt.length&&(ke=new Fe(ke,Vt,null,h,We),Ke.push({event:ke,listeners:kt}))}}if((l&7)===0){e:{if(ke=s==="mouseover"||s==="pointerover",Fe=s==="mouseout"||s==="pointerout",ke&&h!==Ps&&(Vt=h.relatedTarget||h.fromElement)&&(le(Vt)||Vt[_i]))break e;if((Fe||ke)&&(ke=We.window===We?We:(ke=We.ownerDocument)?ke.defaultView||ke.parentWindow:window,Fe?(Vt=h.relatedTarget||h.toElement,Fe=Oe,Vt=Vt?le(Vt):null,Vt!==null&&(Qn=o(Vt),kt=Vt.tag,Vt!==Qn||kt!==5&&kt!==27&&kt!==6)&&(Vt=null)):(Fe=null,Vt=Oe),Fe!==Vt)){if(kt=ys,qe="onMouseLeave",Ae="onMouseEnter",we="mouse",(s==="pointerout"||s==="pointerover")&&(kt=so,qe="onPointerLeave",Ae="onPointerEnter",we="pointer"),Qn=Fe==null?ke:Ie(Fe),Ne=Vt==null?ke:Ie(Vt),ke=new kt(qe,we+"leave",Fe,h,We),ke.target=Qn,ke.relatedTarget=Ne,qe=null,le(We)===Oe&&(kt=new kt(Ae,we+"enter",Vt,h,We),kt.target=Ne,kt.relatedTarget=Qn,qe=kt),Qn=qe,Fe&&Vt)t:{for(kt=Fe,Ae=Vt,we=0,Ne=kt;Ne;Ne=Xu(Ne))we++;for(Ne=0,qe=Ae;qe;qe=Xu(qe))Ne++;for(;0<we-Ne;)kt=Xu(kt),we--;for(;0<Ne-we;)Ae=Xu(Ae),Ne--;for(;we--;){if(kt===Ae||Ae!==null&&kt===Ae.alternate)break t;kt=Xu(kt),Ae=Xu(Ae)}kt=null}else kt=null;Fe!==null&&yw(Ke,ke,Fe,kt,!1),Vt!==null&&Qn!==null&&yw(Ke,Qn,Vt,kt,!0)}}e:{if(ke=Oe?Ie(Oe):window,Fe=ke.nodeName&&ke.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&ke.type==="file")var Et=ud;else if(Ar(ke))if(Qf)Et=c;else{Et=z;var an=Su}else Fe=ke.nodeName,!Fe||Fe.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?Oe&&At(Oe.elementType)&&(Et=ud):Et=a;if(Et&&(Et=Et(s,Oe))){kr(Ke,Et,h,We);break e}an&&an(s,ke,Oe),s==="focusout"&&Oe&&ke.type==="number"&&Oe.memoizedProps.value!=null&&Se(ke,"number",ke.value)}switch(an=Oe?Ie(Oe):window,s){case"focusin":(Ar(an)||an.contentEditable==="true")&&(K=an,ce=Oe,xe=null);break;case"focusout":xe=ce=K=null;break;case"mousedown":ye=!0;break;case"contextmenu":case"mouseup":case"dragend":ye=!1,Re(Ke,h,We);break;case"selectionchange":if(G)break;case"keydown":case"keyup":Re(Ke,h,We)}var It;if(Es)e:{switch(s){case"compositionstart":var Lt="onCompositionStart";break e;case"compositionend":Lt="onCompositionEnd";break e;case"compositionupdate":Lt="onCompositionUpdate";break e}Lt=void 0}else gn?Be(s,h)&&(Lt="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(Lt="onCompositionStart");Lt&&(U&&h.locale!=="ko"&&(gn||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&gn&&(It=Vs()):(da=We,ga="value"in da?da.value:da.textContent,gn=!0)),an=Qd(Oe,Lt),0<an.length&&(Lt=new no(Lt,s,null,h,We),Ke.push({event:Lt,listeners:an}),It?Lt.data=It:(It=ut(h),It!==null&&(Lt.data=It)))),(It=D?mr(s,h):mn(s,h))&&(Lt=Qd(Oe,"onBeforeInput"),0<Lt.length&&(an=new no("onBeforeInput","beforeinput",null,h,We),Ke.push({event:an,listeners:Lt}),an.data=It)),i8(Ke,s,Oe,h,We)}pw(Ke,l)})}function Sh(s,l,h){return{instance:s,listener:l,currentTarget:h}}function Qd(s,l){for(var h=l+"Capture",y=[];s!==null;){var T=s,b=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||b===null||(T=bt(s,h),T!=null&&y.unshift(Sh(s,T,b)),T=bt(s,l),T!=null&&y.push(Sh(s,T,b))),s.tag===3)return y;s=s.return}return[]}function Xu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function yw(s,l,h,y,T){for(var b=l._reactName,j=[];h!==null&&h!==y;){var J=h,ge=J.alternate,Oe=J.stateNode;if(J=J.tag,ge!==null&&ge===y)break;J!==5&&J!==26&&J!==27||Oe===null||(ge=Oe,T?(Oe=bt(h,b),Oe!=null&&j.unshift(Sh(h,Oe,ge))):T||(Oe=bt(h,b),Oe!=null&&j.push(Sh(h,Oe,ge)))),h=h.return}j.length!==0&&s.push({event:l,listeners:j})}var l8=/\r\n?/g,c8=/\u0000|\uFFFD/g;function vw(s){return(typeof s=="string"?s:""+s).replace(l8,`
`).replace(c8,"")}function _w(s,l){return l=vw(l),vw(s)===l}function $d(){}function Kn(s,l,h,y,T,b){switch(h){case"children":typeof y=="string"?l==="body"||l==="textarea"&&y===""||dr(s,y):(typeof y=="number"||typeof y=="bigint")&&l!=="body"&&dr(s,""+y);break;case"className":dn(s,"class",y);break;case"tabIndex":dn(s,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(s,h,y);break;case"style":Ei(s,y,b);break;case"data":if(l!=="object"){dn(s,"data",y);break}case"src":case"href":if(y===""&&(l!=="a"||h!=="href")){s.removeAttribute(h);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(h);break}y=El(""+y),s.setAttribute(h,y);break;case"action":case"formAction":if(typeof y=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(h==="formAction"?(l!=="input"&&Kn(s,l,"name",T.name,T,null),Kn(s,l,"formEncType",T.formEncType,T,null),Kn(s,l,"formMethod",T.formMethod,T,null),Kn(s,l,"formTarget",T.formTarget,T,null)):(Kn(s,l,"encType",T.encType,T,null),Kn(s,l,"method",T.method,T,null),Kn(s,l,"target",T.target,T,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(h);break}y=El(""+y),s.setAttribute(h,y);break;case"onClick":y!=null&&(s.onclick=$d);break;case"onScroll":y!=null&&un("scroll",s);break;case"onScrollEnd":y!=null&&un("scrollend",s);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(h=y.__html,h!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"multiple":s.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":s.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){s.removeAttribute("xlink:href");break}h=El(""+y),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(h,""+y):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":y===!0?s.setAttribute(h,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(h,y):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?s.setAttribute(h,y):s.removeAttribute(h);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?s.removeAttribute(h):s.setAttribute(h,y);break;case"popover":un("beforetoggle",s),un("toggle",s),je(s,"popover",y);break;case"xlinkActuate":Ct(s,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Ct(s,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Ct(s,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Ct(s,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Ct(s,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Ct(s,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Ct(s,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Ct(s,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Ct(s,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":je(s,"is",y);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=tr.get(h)||h,je(s,h,y))}}function Jp(s,l,h,y,T,b){switch(h){case"style":Ei(s,y,b);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(h=y.__html,h!=null){if(T.children!=null)throw Error(r(60));s.innerHTML=h}}break;case"children":typeof y=="string"?dr(s,y):(typeof y=="number"||typeof y=="bigint")&&dr(s,""+y);break;case"onScroll":y!=null&&un("scroll",s);break;case"onScrollEnd":y!=null&&un("scrollend",s);break;case"onClick":y!=null&&(s.onclick=$d);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Me.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(T=h.endsWith("Capture"),l=h.slice(2,T?h.length-7:void 0),b=s[Cn]||null,b=b!=null?b[h]:null,typeof b=="function"&&s.removeEventListener(l,b,T),typeof y=="function")){typeof b!="function"&&b!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(l,y,T);break e}h in s?s[h]=y:y===!0?s.setAttribute(h,""):je(s,h,y)}}}function Pi(s,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":un("error",s),un("load",s);var y=!1,T=!1,b;for(b in h)if(h.hasOwnProperty(b)){var j=h[b];if(j!=null)switch(b){case"src":y=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Kn(s,l,b,j,h,null)}}T&&Kn(s,l,"srcSet",h.srcSet,h,null),y&&Kn(s,l,"src",h.src,h,null);return;case"input":un("invalid",s);var J=b=j=T=null,ge=null,Oe=null;for(y in h)if(h.hasOwnProperty(y)){var We=h[y];if(We!=null)switch(y){case"name":T=We;break;case"type":j=We;break;case"checked":ge=We;break;case"defaultChecked":Oe=We;break;case"value":b=We;break;case"defaultValue":J=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(r(137,l));break;default:Kn(s,l,y,We,h,null)}}_r(s,b,J,ge,Oe,j,T,!1),vl(s);return;case"select":un("invalid",s),y=j=b=null;for(T in h)if(h.hasOwnProperty(T)&&(J=h[T],J!=null))switch(T){case"value":b=J;break;case"defaultValue":j=J;break;case"multiple":y=J;default:Kn(s,l,T,J,h,null)}l=b,h=j,s.multiple=!!y,l!=null?ae(s,!!y,l,!1):h!=null&&ae(s,!!y,h,!0);return;case"textarea":un("invalid",s),b=T=y=null;for(j in h)if(h.hasOwnProperty(j)&&(J=h[j],J!=null))switch(j){case"value":y=J;break;case"defaultValue":T=J;break;case"children":b=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(91));break;default:Kn(s,l,j,J,h,null)}or(s,y,T,b),vl(s);return;case"option":for(ge in h)if(h.hasOwnProperty(ge)&&(y=h[ge],y!=null))switch(ge){case"selected":s.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Kn(s,l,ge,y,h,null)}return;case"dialog":un("beforetoggle",s),un("toggle",s),un("cancel",s),un("close",s);break;case"iframe":case"object":un("load",s);break;case"video":case"audio":for(y=0;y<Ah.length;y++)un(Ah[y],s);break;case"image":un("error",s),un("load",s);break;case"details":un("toggle",s);break;case"embed":case"source":case"link":un("error",s),un("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in h)if(h.hasOwnProperty(Oe)&&(y=h[Oe],y!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Kn(s,l,Oe,y,h,null)}return;default:if(At(l)){for(We in h)h.hasOwnProperty(We)&&(y=h[We],y!==void 0&&Jp(s,l,We,y,h,void 0));return}}for(J in h)h.hasOwnProperty(J)&&(y=h[J],y!=null&&Kn(s,l,J,y,h,null))}function u8(s,l,h,y){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,b=null,j=null,J=null,ge=null,Oe=null,We=null;for(Fe in h){var Ke=h[Fe];if(h.hasOwnProperty(Fe)&&Ke!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":ge=Ke;default:y.hasOwnProperty(Fe)||Kn(s,l,Fe,null,y,Ke)}}for(var ke in y){var Fe=y[ke];if(Ke=h[ke],y.hasOwnProperty(ke)&&(Fe!=null||Ke!=null))switch(ke){case"type":b=Fe;break;case"name":T=Fe;break;case"checked":Oe=Fe;break;case"defaultChecked":We=Fe;break;case"value":j=Fe;break;case"defaultValue":J=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(r(137,l));break;default:Fe!==Ke&&Kn(s,l,ke,Fe,y,Ke)}}en(s,j,J,ge,Oe,We,b,T);return;case"select":Fe=j=J=ke=null;for(b in h)if(ge=h[b],h.hasOwnProperty(b)&&ge!=null)switch(b){case"value":break;case"multiple":Fe=ge;default:y.hasOwnProperty(b)||Kn(s,l,b,null,y,ge)}for(T in y)if(b=y[T],ge=h[T],y.hasOwnProperty(T)&&(b!=null||ge!=null))switch(T){case"value":ke=b;break;case"defaultValue":J=b;break;case"multiple":j=b;default:b!==ge&&Kn(s,l,T,b,y,ge)}l=J,h=j,y=Fe,ke!=null?ae(s,!!h,ke,!1):!!y!=!!h&&(l!=null?ae(s,!!h,l,!0):ae(s,!!h,h?[]:"",!1));return;case"textarea":Fe=ke=null;for(J in h)if(T=h[J],h.hasOwnProperty(J)&&T!=null&&!y.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Kn(s,l,J,null,y,T)}for(j in y)if(T=y[j],b=h[j],y.hasOwnProperty(j)&&(T!=null||b!=null))switch(j){case"value":ke=T;break;case"defaultValue":Fe=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==b&&Kn(s,l,j,T,y,b)}ft(s,ke,Fe);return;case"option":for(var Vt in h)if(ke=h[Vt],h.hasOwnProperty(Vt)&&ke!=null&&!y.hasOwnProperty(Vt))switch(Vt){case"selected":s.selected=!1;break;default:Kn(s,l,Vt,null,y,ke)}for(ge in y)if(ke=y[ge],Fe=h[ge],y.hasOwnProperty(ge)&&ke!==Fe&&(ke!=null||Fe!=null))switch(ge){case"selected":s.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:Kn(s,l,ge,ke,y,Fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in h)ke=h[kt],h.hasOwnProperty(kt)&&ke!=null&&!y.hasOwnProperty(kt)&&Kn(s,l,kt,null,y,ke);for(Oe in y)if(ke=y[Oe],Fe=h[Oe],y.hasOwnProperty(Oe)&&ke!==Fe&&(ke!=null||Fe!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,l));break;default:Kn(s,l,Oe,ke,y,Fe)}return;default:if(At(l)){for(var Qn in h)ke=h[Qn],h.hasOwnProperty(Qn)&&ke!==void 0&&!y.hasOwnProperty(Qn)&&Jp(s,l,Qn,void 0,y,ke);for(We in y)ke=y[We],Fe=h[We],!y.hasOwnProperty(We)||ke===Fe||ke===void 0&&Fe===void 0||Jp(s,l,We,ke,y,Fe);return}}for(var Ae in h)ke=h[Ae],h.hasOwnProperty(Ae)&&ke!=null&&!y.hasOwnProperty(Ae)&&Kn(s,l,Ae,null,y,ke);for(Ke in y)ke=y[Ke],Fe=h[Ke],!y.hasOwnProperty(Ke)||ke===Fe||ke==null&&Fe==null||Kn(s,l,Ke,ke,y,Fe)}var e2=null,t2=null;function Zd(s){return s.nodeType===9?s:s.ownerDocument}function Ew(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ww(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function n2(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var r2=null;function f8(){var s=window.event;return s&&s.type==="popstate"?s===r2?!1:(r2=s,!0):(r2=null,!1)}var Tw=typeof setTimeout=="function"?setTimeout:void 0,h8=typeof clearTimeout=="function"?clearTimeout:void 0,Aw=typeof Promise=="function"?Promise:void 0,d8=typeof queueMicrotask=="function"?queueMicrotask:typeof Aw<"u"?function(s){return Aw.resolve(null).then(s).catch(g8)}:Tw;function g8(s){setTimeout(function(){throw s})}function Vl(s){return s==="head"}function Sw(s,l){var h=l,y=0,T=0;do{var b=h.nextSibling;if(s.removeChild(h),b&&b.nodeType===8)if(h=b.data,h==="/$"){if(0<y&&8>y){h=y;var j=s.ownerDocument;if(h&1&&Ch(j.documentElement),h&2&&Ch(j.body),h&4)for(h=j.head,Ch(h),j=h.firstChild;j;){var J=j.nextSibling,ge=j.nodeName;j[re]||ge==="SCRIPT"||ge==="STYLE"||ge==="LINK"&&j.rel.toLowerCase()==="stylesheet"||h.removeChild(j),j=J}}if(T===0){s.removeChild(b),kh(l);return}T--}else h==="$"||h==="$?"||h==="$!"?T++:y=h.charCodeAt(0)-48;else y=0;h=b}while(h);kh(l)}function i2(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":i2(h),se(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function m8(s,l,h,y){for(;s.nodeType===1;){var T=h;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!y&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(y){if(!s[re])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==T.rel||s.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||s.getAttribute("title")!==(T.title==null?null:T.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(T.src==null?null:T.src)||s.getAttribute("type")!==(T.type==null?null:T.type)||s.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var b=T.name==null?null:""+T.name;if(T.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=ja(s.nextSibling),s===null)break}return null}function p8(s,l,h){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=ja(s.nextSibling),s===null))return null;return s}function s2(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function x8(s,l){var h=s.ownerDocument;if(s.data!=="$?"||h.readyState==="complete")l();else{var y=function(){l(),h.removeEventListener("DOMContentLoaded",y)};h.addEventListener("DOMContentLoaded",y),s._reactRetry=y}}function ja(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return s}var a2=null;function Cw(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return s;l--}else h==="/$"&&l++}s=s.previousSibling}return null}function bw(s,l,h){switch(l=Zd(h),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Ch(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);se(s)}var Aa=new Map,Iw=new Set;function Jd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Qo=Ue.d;Ue.d={f:y8,r:v8,D:_8,C:E8,L:w8,m:T8,X:S8,S:A8,M:C8};function y8(){var s=Qo.f(),l=Gd();return s||l}function v8(s){var l=ue(s);l!==null&&l.tag===5&&l.type==="form"?X_(l):Qo.r(s)}var Ku=typeof document>"u"?null:document;function Rw(s,l,h){var y=Ku;if(y&&typeof l=="string"&&l){var T=er(l);T='link[rel="'+s+'"][href="'+T+'"]',typeof h=="string"&&(T+='[crossorigin="'+h+'"]'),Iw.has(T)||(Iw.add(T),s={rel:s,crossOrigin:h,href:l},y.querySelector(T)===null&&(l=y.createElement("link"),Pi(l,"link",s),Te(l),y.head.appendChild(l)))}}function _8(s){Qo.D(s),Rw("dns-prefetch",s,null)}function E8(s,l){Qo.C(s,l),Rw("preconnect",s,l)}function w8(s,l,h){Qo.L(s,l,h);var y=Ku;if(y&&s&&l){var T='link[rel="preload"][as="'+er(l)+'"]';l==="image"&&h&&h.imageSrcSet?(T+='[imagesrcset="'+er(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(T+='[imagesizes="'+er(h.imageSizes)+'"]')):T+='[href="'+er(s)+'"]';var b=T;switch(l){case"style":b=Qu(s);break;case"script":b=$u(s)}Aa.has(b)||(s=_({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:s,as:l},h),Aa.set(b,s),y.querySelector(T)!==null||l==="style"&&y.querySelector(bh(b))||l==="script"&&y.querySelector(Ih(b))||(l=y.createElement("link"),Pi(l,"link",s),Te(l),y.head.appendChild(l)))}}function T8(s,l){Qo.m(s,l);var h=Ku;if(h&&s){var y=l&&typeof l.as=="string"?l.as:"script",T='link[rel="modulepreload"][as="'+er(y)+'"][href="'+er(s)+'"]',b=T;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=$u(s)}if(!Aa.has(b)&&(s=_({rel:"modulepreload",href:s},l),Aa.set(b,s),h.querySelector(T)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Ih(b)))return}y=h.createElement("link"),Pi(y,"link",s),Te(y),h.head.appendChild(y)}}}function A8(s,l,h){Qo.S(s,l,h);var y=Ku;if(y&&s){var T=Ve(y).hoistableStyles,b=Qu(s);l=l||"default";var j=T.get(b);if(!j){var J={loading:0,preload:null};if(j=y.querySelector(bh(b)))J.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":l},h),(h=Aa.get(b))&&o2(s,h);var ge=j=y.createElement("link");Te(ge),Pi(ge,"link",s),ge._p=new Promise(function(Oe,We){ge.onload=Oe,ge.onerror=We}),ge.addEventListener("load",function(){J.loading|=1}),ge.addEventListener("error",function(){J.loading|=2}),J.loading|=4,e1(j,l,y)}j={type:"stylesheet",instance:j,count:1,state:J},T.set(b,j)}}}function S8(s,l){Qo.X(s,l);var h=Ku;if(h&&s){var y=Ve(h).hoistableScripts,T=$u(s),b=y.get(T);b||(b=h.querySelector(Ih(T)),b||(s=_({src:s,async:!0},l),(l=Aa.get(T))&&l2(s,l),b=h.createElement("script"),Te(b),Pi(b,"link",s),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},y.set(T,b))}}function C8(s,l){Qo.M(s,l);var h=Ku;if(h&&s){var y=Ve(h).hoistableScripts,T=$u(s),b=y.get(T);b||(b=h.querySelector(Ih(T)),b||(s=_({src:s,async:!0,type:"module"},l),(l=Aa.get(T))&&l2(s,l),b=h.createElement("script"),Te(b),Pi(b,"link",s),h.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},y.set(T,b))}}function Nw(s,l,h,y){var T=(T=_e.current)?Jd(T):null;if(!T)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Qu(h.href),h=Ve(T).hoistableStyles,y=h.get(l),y||(y={type:"style",instance:null,count:0,state:null},h.set(l,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=Qu(h.href);var b=Ve(T).hoistableStyles,j=b.get(s);if(j||(T=T.ownerDocument||T,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,j),(b=T.querySelector(bh(s)))&&!b._p&&(j.instance=b,j.state.loading=5),Aa.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Aa.set(s,h),b||b8(T,s,h,j.state))),l&&y===null)throw Error(r(528,""));return j}if(l&&y!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=$u(h),h=Ve(T).hoistableScripts,y=h.get(l),y||(y={type:"script",instance:null,count:0,state:null},h.set(l,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Qu(s){return'href="'+er(s)+'"'}function bh(s){return'link[rel="stylesheet"]['+s+"]"}function Ow(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function b8(s,l,h,y){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?y.loading=1:(l=s.createElement("link"),y.preload=l,l.addEventListener("load",function(){return y.loading|=1}),l.addEventListener("error",function(){return y.loading|=2}),Pi(l,"link",h),Te(l),s.head.appendChild(l))}function $u(s){return'[src="'+er(s)+'"]'}function Ih(s){return"script[async]"+s}function Dw(s,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var y=s.querySelector('style[data-href~="'+er(h.href)+'"]');if(y)return l.instance=y,Te(y),y;var T=_({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return y=(s.ownerDocument||s).createElement("style"),Te(y),Pi(y,"style",T),e1(y,h.precedence,s),l.instance=y;case"stylesheet":T=Qu(h.href);var b=s.querySelector(bh(T));if(b)return l.state.loading|=4,l.instance=b,Te(b),b;y=Ow(h),(T=Aa.get(T))&&o2(y,T),b=(s.ownerDocument||s).createElement("link"),Te(b);var j=b;return j._p=new Promise(function(J,ge){j.onload=J,j.onerror=ge}),Pi(b,"link",y),l.state.loading|=4,e1(b,h.precedence,s),l.instance=b;case"script":return b=$u(h.src),(T=s.querySelector(Ih(b)))?(l.instance=T,Te(T),T):(y=h,(T=Aa.get(b))&&(y=_({},h),l2(y,T)),s=s.ownerDocument||s,T=s.createElement("script"),Te(T),Pi(T,"link",y),s.head.appendChild(T),l.instance=T);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(y=l.instance,l.state.loading|=4,e1(y,h.precedence,s));return l.instance}function e1(s,l,h){for(var y=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=y.length?y[y.length-1]:null,b=T,j=0;j<y.length;j++){var J=y[j];if(J.dataset.precedence===l)b=J;else if(b!==T)break}b?b.parentNode.insertBefore(s,b.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(s,l.firstChild))}function o2(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function l2(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var t1=null;function Mw(s,l,h){if(t1===null){var y=new Map,T=t1=new Map;T.set(h,y)}else T=t1,y=T.get(h),y||(y=new Map,T.set(h,y));if(y.has(s))return y;for(y.set(s,null),h=h.getElementsByTagName(s),T=0;T<h.length;T++){var b=h[T];if(!(b[re]||b[Rr]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var j=b.getAttribute(l)||"";j=s+j;var J=y.get(j);J?J.push(b):y.set(j,[b])}}return y}function kw(s,l,h){s=s.ownerDocument||s,s.head.insertBefore(h,l==="title"?s.querySelector("head > title"):null)}function I8(s,l,h){if(h===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Lw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Rh=null;function R8(){}function N8(s,l,h){if(Rh===null)throw Error(r(475));var y=Rh;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var T=Qu(h.href),b=s.querySelector(bh(T));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(y.count++,y=n1.bind(y),s.then(y,y)),l.state.loading|=4,l.instance=b,Te(b);return}b=s.ownerDocument||s,h=Ow(h),(T=Aa.get(T))&&o2(h,T),b=b.createElement("link"),Te(b);var j=b;j._p=new Promise(function(J,ge){j.onload=J,j.onerror=ge}),Pi(b,"link",h),l.instance=b}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(y.count++,l=n1.bind(y),s.addEventListener("load",l),s.addEventListener("error",l))}}function O8(){if(Rh===null)throw Error(r(475));var s=Rh;return s.stylesheets&&s.count===0&&c2(s,s.stylesheets),0<s.count?function(l){var h=setTimeout(function(){if(s.stylesheets&&c2(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(h)}}:null}function n1(){if(this.count--,this.count===0){if(this.stylesheets)c2(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var r1=null;function c2(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,r1=new Map,l.forEach(D8,s),r1=null,n1.call(s))}function D8(s,l){if(!(l.state.loading&4)){var h=r1.get(s);if(h)var y=h.get(null);else{h=new Map,r1.set(s,h);for(var T=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<T.length;b++){var j=T[b];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(h.set(j.dataset.precedence,j),y=j)}y&&h.set(null,y)}T=l.instance,j=T.getAttribute("data-precedence"),b=h.get(j)||y,b===y&&h.set(null,T),h.set(j,T),this.count++,y=n1.bind(this),T.addEventListener("load",y),T.addEventListener("error",y),b?b.parentNode.insertBefore(T,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(T,s.firstChild)),l.state.loading|=4}}var Nh={$$typeof:W,Provider:null,Consumer:null,_currentValue:xt,_currentValue2:xt,_threadCount:0};function M8(s,l,h,y,T,b,j,J){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qt(0),this.hiddenUpdates=Qt(null),this.identifierPrefix=y,this.onUncaughtError=T,this.onCaughtError=b,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function Pw(s,l,h,y,T,b,j,J,ge,Oe,We,Ke){return s=new M8(s,l,h,j,J,ge,Oe,Ke),l=1,b===!0&&(l|=24),b=Gs(3,null,null,l),s.current=b,b.stateNode=s,l=Gm(),l.refCount++,s.pooledCache=l,l.refCount++,b.memoizedState={element:y,isDehydrated:h,cache:l},Xm(b),s}function Fw(s){return s?(s=Iu,s):Iu}function Bw(s,l,h,y,T,b){T=Fw(T),y.context===null?y.context=T:y.pendingContext=T,y=bl(l),y.payload={element:h},b=b===void 0?null:b,b!==null&&(y.callback=b),h=Il(s,y,l),h!==null&&(Ks(h,s,l),ah(h,s,l))}function Uw(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function u2(s,l){Uw(s,l),(s=s.alternate)&&Uw(s,l)}function Vw(s){if(s.tag===13){var l=bu(s,67108864);l!==null&&Ks(l,s,67108864),u2(s,67108864)}}var i1=!0;function k8(s,l,h,y){var T=be.T;be.T=null;var b=Ue.p;try{Ue.p=2,f2(s,l,h,y)}finally{Ue.p=b,be.T=T}}function L8(s,l,h,y){var T=be.T;be.T=null;var b=Ue.p;try{Ue.p=8,f2(s,l,h,y)}finally{Ue.p=b,be.T=T}}function f2(s,l,h,y){if(i1){var T=h2(y);if(T===null)Zp(s,l,y,s1,h),Hw(s,y);else if(F8(T,s,l,h,y))y.stopPropagation();else if(Hw(s,y),l&4&&-1<P8.indexOf(s)){for(;T!==null;){var b=ue(T);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var j=fn(b.pendingLanes);if(j!==0){var J=b;for(J.pendingLanes|=2,J.entangledLanes|=2;j;){var ge=1<<31-on(j);J.entanglements[1]|=ge,j&=~ge}fo(b),(jn&6)===0&&(Hd=rt()+500,Th(0))}}break;case 13:J=bu(b,2),J!==null&&Ks(J,b,2),Gd(),u2(b,2)}if(b=h2(y),b===null&&Zp(s,l,y,s1,h),b===T)break;T=b}T!==null&&y.stopPropagation()}else Zp(s,l,y,null,h)}}function h2(s){return s=Oi(s),d2(s)}var s1=null;function d2(s){if(s1=null,s=le(s),s!==null){var l=o(s);if(l===null)s=null;else{var h=l.tag;if(h===13){if(s=u(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return s1=s,null}function jw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jt()){case Tt:return 2;case vr:return 8;case gt:case Ri:return 32;case ls:return 268435456;default:return 32}default:return 32}}var g2=!1,jl=null,Hl=null,zl=null,Oh=new Map,Dh=new Map,Gl=[],P8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hw(s,l){switch(s){case"focusin":case"focusout":jl=null;break;case"dragenter":case"dragleave":Hl=null;break;case"mouseover":case"mouseout":zl=null;break;case"pointerover":case"pointerout":Oh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dh.delete(l.pointerId)}}function Mh(s,l,h,y,T,b){return s===null||s.nativeEvent!==b?(s={blockedOn:l,domEventName:h,eventSystemFlags:y,nativeEvent:b,targetContainers:[T]},l!==null&&(l=ue(l),l!==null&&Vw(l)),s):(s.eventSystemFlags|=y,l=s.targetContainers,T!==null&&l.indexOf(T)===-1&&l.push(T),s)}function F8(s,l,h,y,T){switch(l){case"focusin":return jl=Mh(jl,s,l,h,y,T),!0;case"dragenter":return Hl=Mh(Hl,s,l,h,y,T),!0;case"mouseover":return zl=Mh(zl,s,l,h,y,T),!0;case"pointerover":var b=T.pointerId;return Oh.set(b,Mh(Oh.get(b)||null,s,l,h,y,T)),!0;case"gotpointercapture":return b=T.pointerId,Dh.set(b,Mh(Dh.get(b)||null,s,l,h,y,T)),!0}return!1}function zw(s){var l=le(s.target);if(l!==null){var h=o(l);if(h!==null){if(l=h.tag,l===13){if(l=u(h),l!==null){s.blockedOn=l,La(s.priority,function(){if(h.tag===13){var y=Xs();y=xs(y);var T=bu(h,y);T!==null&&Ks(T,h,y),u2(h,y)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function a1(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=h2(s.nativeEvent);if(h===null){h=s.nativeEvent;var y=new h.constructor(h.type,h);Ps=y,h.target.dispatchEvent(y),Ps=null}else return l=ue(h),l!==null&&Vw(l),s.blockedOn=h,!1;l.shift()}return!0}function Gw(s,l,h){a1(s)&&h.delete(l)}function B8(){g2=!1,jl!==null&&a1(jl)&&(jl=null),Hl!==null&&a1(Hl)&&(Hl=null),zl!==null&&a1(zl)&&(zl=null),Oh.forEach(Gw),Dh.forEach(Gw)}function o1(s,l){s.blockedOn===l&&(s.blockedOn=null,g2||(g2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,B8)))}var l1=null;function Ww(s){l1!==s&&(l1=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){l1===s&&(l1=null);for(var l=0;l<s.length;l+=3){var h=s[l],y=s[l+1],T=s[l+2];if(typeof y!="function"){if(d2(y||h)===null)continue;break}var b=ue(h);b!==null&&(s.splice(l,3),l-=3,dp(b,{pending:!0,data:T,method:h.method,action:y},y,T))}}))}function kh(s){function l(ge){return o1(ge,s)}jl!==null&&o1(jl,s),Hl!==null&&o1(Hl,s),zl!==null&&o1(zl,s),Oh.forEach(l),Dh.forEach(l);for(var h=0;h<Gl.length;h++){var y=Gl[h];y.blockedOn===s&&(y.blockedOn=null)}for(;0<Gl.length&&(h=Gl[0],h.blockedOn===null);)zw(h),h.blockedOn===null&&Gl.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(y=0;y<h.length;y+=3){var T=h[y],b=h[y+1],j=T[Cn]||null;if(typeof b=="function")j||Ww(h);else if(j){var J=null;if(b&&b.hasAttribute("formAction")){if(T=b,j=b[Cn]||null)J=j.formAction;else if(d2(T)!==null)continue}else J=j.action;typeof J=="function"?h[y+1]=J:(h.splice(y,3),y-=3),Ww(h)}}}function m2(s){this._internalRoot=s}c1.prototype.render=m2.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,y=Xs();Bw(h,y,s,l,null,null)},c1.prototype.unmount=m2.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;Bw(s.current,2,null,s,null,null),Gd(),l[_i]=null}};function c1(s){this._internalRoot=s}c1.prototype.unstable_scheduleHydration=function(s){if(s){var l=Ni();s={blockedOn:null,target:s,priority:l};for(var h=0;h<Gl.length&&l!==0&&l<Gl[h].priority;h++);Gl.splice(h,0,s),h===0&&zw(s)}};var qw=e.version;if(qw!=="19.1.0")throw Error(r(527,qw,"19.1.0"));Ue.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=x(l),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var U8={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:be,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var u1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!u1.isDisabled&&u1.supportsFiber)try{Zt=u1.inject(U8),nn=u1}catch{}}return Ph.createRoot=function(s,l){if(!i(s))throw Error(r(299));var h=!1,y="",T=lE,b=cE,j=uE,J=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(j=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(J=l.unstable_transitionCallbacks)),l=Pw(s,1,!1,null,null,h,y,T,b,j,J,null),s[_i]=l.current,$p(s),new m2(l)},Ph.hydrateRoot=function(s,l,h){if(!i(s))throw Error(r(299));var y=!1,T="",b=lE,j=cE,J=uE,ge=null,Oe=null;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onUncaughtError!==void 0&&(b=h.onUncaughtError),h.onCaughtError!==void 0&&(j=h.onCaughtError),h.onRecoverableError!==void 0&&(J=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ge=h.unstable_transitionCallbacks),h.formState!==void 0&&(Oe=h.formState)),l=Pw(s,1,!0,l,h??null,y,T,b,j,J,ge,Oe),l.context=Fw(null),h=l.current,y=Xs(),y=xs(y),T=bl(y),T.callback=null,Il(h,T,y),h=y,l.current.lanes=h,ui(l,h),fo(l),s[_i]=l.current,$p(s),new c1(l)},Ph.version="19.1.0",Ph}var nT;function Q8(){if(nT)return y2.exports;nT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),y2.exports=K8(),y2.exports}var $8=Q8(),Fh={},rT;function Z8(){if(rT)return Fh;rT=1,Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.parse=u,Fh.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function u(C,R){const O=new o,I=C.length;if(I<2)return O;const k=(R==null?void 0:R.decode)||_;let H=0;do{const Y=C.indexOf("=",H);if(Y===-1)break;const W=C.indexOf(";",H),te=W===-1?I:W;if(Y>te){H=C.lastIndexOf(";",Y-1)+1;continue}const oe=g(C,H,Y),ve=x(C,Y,oe),B=C.slice(oe,ve);if(O[B]===void 0){let V=g(C,Y+1,te),L=x(C,te,V);const M=k(C.slice(V,L));O[B]=M}H=te+1}while(H<I);return O}function g(C,R,O){do{const I=C.charCodeAt(R);if(I!==32&&I!==9)return R}while(++R<O);return O}function x(C,R,O){for(;R>O;){const I=C.charCodeAt(--R);if(I!==32&&I!==9)return R+1}return O}function m(C,R,O){const I=(O==null?void 0:O.encode)||encodeURIComponent;if(!t.test(C))throw new TypeError(`argument name is invalid: ${C}`);const k=I(R);if(!e.test(k))throw new TypeError(`argument val is invalid: ${R}`);let H=C+"="+k;if(!O)return H;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);H+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);H+="; Domain="+O.domain}if(O.path){if(!r.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);H+="; Path="+O.path}if(O.expires){if(!A(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);H+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(H+="; HttpOnly"),O.secure&&(H+="; Secure"),O.partitioned&&(H+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return H}function _(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function A(C){return i.call(C)==="[object Date]"}return Fh}Z8();var iT="popstate";function J8(t={}){function e(r,i){let{pathname:o,search:u,hash:g}=r.location;return dx("",{pathname:o,search:u,hash:g},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:m0(i)}return tN(e,n,null,t)}function br(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ka(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eN(){return Math.random().toString(36).substring(2,10)}function sT(t,e){return{usr:t.state,key:t.key,idx:e}}function dx(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Lf(e):e,state:n,key:e&&e.key||r||eN()}}function m0({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Lf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function tN(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,g="POP",x=null,m=_();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function _(){return(u.state||{idx:null}).idx}function A(){g="POP";let k=_(),H=k==null?null:k-m;m=k,x&&x({action:g,location:I.location,delta:H})}function C(k,H){g="PUSH";let Y=dx(I.location,k,H);m=_()+1;let W=sT(Y,m),te=I.createHref(Y);try{u.pushState(W,"",te)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;i.location.assign(te)}o&&x&&x({action:g,location:I.location,delta:1})}function R(k,H){g="REPLACE";let Y=dx(I.location,k,H);m=_();let W=sT(Y,m),te=I.createHref(Y);u.replaceState(W,"",te),o&&x&&x({action:g,location:I.location,delta:0})}function O(k){return nN(k)}let I={get action(){return g},get location(){return t(i,u)},listen(k){if(x)throw new Error("A history only accepts one active listener");return i.addEventListener(iT,A),x=k,()=>{i.removeEventListener(iT,A),x=null}},createHref(k){return e(i,k)},createURL:O,encodeLocation(k){let H=O(k);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:C,replace:R,go(k){return u.go(k)}};return I}function nN(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),br(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:m0(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function qC(t,e,n="/"){return rN(t,e,n,!1)}function rN(t,e,n,r){let i=typeof e=="string"?Lf(e):e,o=ol(i.pathname||"/",n);if(o==null)return null;let u=YC(t);iN(u);let g=null;for(let x=0;g==null&&x<u.length;++x){let m=mN(o);g=dN(u[x],m,r)}return g}function YC(t,e=[],n=[],r=""){let i=(o,u,g)=>{let x={relativePath:g===void 0?o.path||"":g,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};x.relativePath.startsWith("/")&&(br(x.relativePath.startsWith(r),`Absolute route path "${x.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(r.length));let m=tl([r,x.relativePath]),_=n.concat(x);o.children&&o.children.length>0&&(br(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),YC(o.children,e,_,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:fN(m,o.index),routesMeta:_})};return t.forEach((o,u)=>{var g;if(o.path===""||!((g=o.path)!=null&&g.includes("?")))i(o,u);else for(let x of XC(o.path))i(o,u,x)}),e}function XC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=XC(r.join("/")),g=[];return g.push(...u.map(x=>x===""?o:[o,x].join("/"))),i&&g.push(...u),g.map(x=>t.startsWith("/")&&x===""?"/":x)}function iN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var sN=/^:[\w-]+$/,aN=3,oN=2,lN=1,cN=10,uN=-2,aT=t=>t==="*";function fN(t,e){let n=t.split("/"),r=n.length;return n.some(aT)&&(r+=uN),e&&(r+=oN),n.filter(i=>!aT(i)).reduce((i,o)=>i+(sN.test(o)?aN:o===""?lN:cN),r)}function hN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dN(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",u=[];for(let g=0;g<r.length;++g){let x=r[g],m=g===r.length-1,_=o==="/"?e:e.slice(o.length)||"/",A=K1({path:x.relativePath,caseSensitive:x.caseSensitive,end:m},_),C=x.route;if(!A&&m&&n&&!r[r.length-1].route.index&&(A=K1({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},_)),!A)return null;Object.assign(i,A.params),u.push({params:i,pathname:tl([o,A.pathname]),pathnameBase:vN(tl([o,A.pathnameBase])),route:C}),A.pathnameBase!=="/"&&(o=tl([o,A.pathnameBase]))}return u}function K1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),g=i.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:A},C)=>{if(_==="*"){let O=g[C]||"";u=o.slice(0,o.length-O.length).replace(/(.)\/+$/,"$1")}const R=g[C];return A&&!R?m[_]=void 0:m[_]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:t}}function gN(t,e=!1,n=!0){Ka(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,g,x)=>(r.push({paramName:g,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ka(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ol(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function pN(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Lf(t):t;return{pathname:n?n.startsWith("/")?n:xN(n,e):e,search:_N(r),hash:EN(i)}}function xN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function w2(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ty(t){let e=yN(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ny(t,e,n,r=!1){let i;typeof t=="string"?i=Lf(t):(i={...t},br(!i.pathname||!i.pathname.includes("?"),w2("?","pathname","search",i)),br(!i.pathname||!i.pathname.includes("#"),w2("#","pathname","hash",i)),br(!i.search||!i.search.includes("#"),w2("#","search","hash",i)));let o=t===""||i.pathname==="",u=o?"/":i.pathname,g;if(u==null)g=n;else{let A=e.length-1;if(!r&&u.startsWith("..")){let C=u.split("/");for(;C[0]==="..";)C.shift(),A-=1;i.pathname=C.join("/")}g=A>=0?e[A]:"/"}let x=pN(i,g),m=u&&u!=="/"&&u.endsWith("/"),_=(o||u===".")&&n.endsWith("/");return!x.pathname.endsWith("/")&&(m||_)&&(x.pathname+="/"),x}var tl=t=>t.join("/").replace(/\/\/+/g,"/"),vN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_N=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var KC=["POST","PUT","PATCH","DELETE"];new Set(KC);var TN=["GET",...KC];new Set(TN);var Pf=de.createContext(null);Pf.displayName="DataRouter";var Fg=de.createContext(null);Fg.displayName="DataRouterState";var QC=de.createContext({isTransitioning:!1});QC.displayName="ViewTransition";var AN=de.createContext(new Map);AN.displayName="Fetchers";var SN=de.createContext(null);SN.displayName="Await";var Za=de.createContext(null);Za.displayName="Navigation";var U0=de.createContext(null);U0.displayName="Location";var Ja=de.createContext({outlet:null,matches:[],isDataRoute:!1});Ja.displayName="Route";var ry=de.createContext(null);ry.displayName="RouteError";function CN(t,{relative:e}={}){br(Ff(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=de.useContext(Za),{hash:i,pathname:o,search:u}=V0(t,{relative:e}),g=o;return n!=="/"&&(g=o==="/"?n:tl([n,o])),r.createHref({pathname:g,search:u,hash:i})}function Ff(){return de.useContext(U0)!=null}function wc(){return br(Ff(),"useLocation() may be used only in the context of a <Router> component."),de.useContext(U0).location}var $C="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZC(t){de.useContext(Za).static||de.useLayoutEffect(t)}function pl(){let{isDataRoute:t}=de.useContext(Ja);return t?VN():bN()}function bN(){br(Ff(),"useNavigate() may be used only in the context of a <Router> component.");let t=de.useContext(Pf),{basename:e,navigator:n}=de.useContext(Za),{matches:r}=de.useContext(Ja),{pathname:i}=wc(),o=JSON.stringify(ty(r)),u=de.useRef(!1);return ZC(()=>{u.current=!0}),de.useCallback((x,m={})=>{if(Ka(u.current,$C),!u.current)return;if(typeof x=="number"){n.go(x);return}let _=ny(x,JSON.parse(o),i,m.relative==="path");t==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:tl([e,_.pathname])),(m.replace?n.replace:n.push)(_,m.state,m)},[e,n,o,i,t])}de.createContext(null);function IN(){let{matches:t}=de.useContext(Ja),e=t[t.length-1];return e?e.params:{}}function V0(t,{relative:e}={}){let{matches:n}=de.useContext(Ja),{pathname:r}=wc(),i=JSON.stringify(ty(n));return de.useMemo(()=>ny(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function RN(t,e){return JC(t,e)}function JC(t,e,n,r){var H;br(Ff(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=de.useContext(Za),{matches:o}=de.useContext(Ja),u=o[o.length-1],g=u?u.params:{},x=u?u.pathname:"/",m=u?u.pathnameBase:"/",_=u&&u.route;{let Y=_&&_.path||"";e4(x,!_||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let A=wc(),C;if(e){let Y=typeof e=="string"?Lf(e):e;br(m==="/"||((H=Y.pathname)==null?void 0:H.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),C=Y}else C=A;let R=C.pathname||"/",O=R;if(m!=="/"){let Y=m.replace(/^\//,"").split("/");O="/"+R.replace(/^\//,"").split("/").slice(Y.length).join("/")}let I=qC(t,{pathname:O});Ka(_||I!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Ka(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=kN(I&&I.map(Y=>Object.assign({},Y,{params:Object.assign({},g,Y.params),pathname:tl([m,i.encodeLocation?i.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?m:tl([m,i.encodeLocation?i.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),o,n,r);return e&&k?de.createElement(U0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},k):k}function NN(){let t=UN(),e=wN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=de.createElement(de.Fragment,null,de.createElement("p",null," Hey developer "),de.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",de.createElement("code",{style:o},"ErrorBoundary")," or"," ",de.createElement("code",{style:o},"errorElement")," prop on your route.")),de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),n?de.createElement("pre",{style:i},n):null,u)}var ON=de.createElement(NN,null),DN=class extends de.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?de.createElement(Ja.Provider,{value:this.props.routeContext},de.createElement(ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MN({routeContext:t,match:e,children:n}){let r=de.useContext(Pf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),de.createElement(Ja.Provider,{value:t},n)}function kN(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let x=i.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);br(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,x+1))}let u=!1,g=-1;if(n)for(let x=0;x<i.length;x++){let m=i[x];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(g=x),m.route.id){let{loaderData:_,errors:A}=n,C=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!A||A[m.route.id]===void 0);if(m.route.lazy||C){u=!0,g>=0?i=i.slice(0,g+1):i=[i[0]];break}}}return i.reduceRight((x,m,_)=>{let A,C=!1,R=null,O=null;n&&(A=o&&m.route.id?o[m.route.id]:void 0,R=m.route.errorElement||ON,u&&(g<0&&_===0?(e4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,O=null):g===_&&(C=!0,O=m.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,_+1)),k=()=>{let H;return A?H=R:C?H=O:m.route.Component?H=de.createElement(m.route.Component,null):m.route.element?H=m.route.element:H=x,de.createElement(MN,{match:m,routeContext:{outlet:x,matches:I,isDataRoute:n!=null},children:H})};return n&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?de.createElement(DN,{location:n.location,revalidation:n.revalidation,component:R,error:A,children:k(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):k()},null)}function iy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LN(t){let e=de.useContext(Pf);return br(e,iy(t)),e}function PN(t){let e=de.useContext(Fg);return br(e,iy(t)),e}function FN(t){let e=de.useContext(Ja);return br(e,iy(t)),e}function sy(t){let e=FN(t),n=e.matches[e.matches.length-1];return br(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function BN(){return sy("useRouteId")}function UN(){var r;let t=de.useContext(ry),e=PN("useRouteError"),n=sy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function VN(){let{router:t}=LN("useNavigate"),e=sy("useNavigate"),n=de.useRef(!1);return ZC(()=>{n.current=!0}),de.useCallback(async(i,o={})=>{Ka(n.current,$C),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var oT={};function e4(t,e,n){!e&&!oT[t]&&(oT[t]=!0,Ka(!1,n))}de.memo(jN);function jN({routes:t,future:e,state:n}){return JC(t,void 0,n,e)}function lT({to:t,replace:e,state:n,relative:r}){br(Ff(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=de.useContext(Za);Ka(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=de.useContext(Ja),{pathname:u}=wc(),g=pl(),x=ny(t,ty(o),u,r==="path"),m=JSON.stringify(x);return de.useEffect(()=>{g(JSON.parse(m),{replace:e,state:n,relative:r})},[g,m,r,e,n]),null}function Kl(t){br(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){br(!Ff(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),g=de.useMemo(()=>({basename:u,navigator:i,static:o,future:{}}),[u,i,o]);typeof n=="string"&&(n=Lf(n));let{pathname:x="/",search:m="",hash:_="",state:A=null,key:C="default"}=n,R=de.useMemo(()=>{let O=ol(x,u);return O==null?null:{location:{pathname:O,search:m,hash:_,state:A,key:C},navigationType:r}},[u,x,m,_,A,C,r]);return Ka(R!=null,`<Router basename="${u}"> is not able to match the URL "${x}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:de.createElement(Za.Provider,{value:g},de.createElement(U0.Provider,{children:e,value:R}))}function zN({children:t,location:e}){return RN(gx(t),e)}function gx(t,e=[]){let n=[];return de.Children.forEach(t,(r,i)=>{if(!de.isValidElement(r))return;let o=[...e,i];if(r.type===de.Fragment){n.push.apply(n,gx(r.props.children,o));return}br(r.type===Kl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),br(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=gx(r.props.children,o)),n.push(u)}),n}var k1="get",L1="application/x-www-form-urlencoded";function Bg(t){return t!=null&&typeof t.tagName=="string"}function GN(t){return Bg(t)&&t.tagName.toLowerCase()==="button"}function WN(t){return Bg(t)&&t.tagName.toLowerCase()==="form"}function qN(t){return Bg(t)&&t.tagName.toLowerCase()==="input"}function YN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XN(t,e){return t.button===0&&(!e||e==="_self")&&!YN(t)}var h1=null;function KN(){if(h1===null)try{new FormData(document.createElement("form"),0),h1=!1}catch{h1=!0}return h1}var QN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function T2(t){return t!=null&&!QN.has(t)?(Ka(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${L1}"`),null):t}function $N(t,e){let n,r,i,o,u;if(WN(t)){let g=t.getAttribute("action");r=g?ol(g,e):null,n=t.getAttribute("method")||k1,i=T2(t.getAttribute("enctype"))||L1,o=new FormData(t)}else if(GN(t)||qN(t)&&(t.type==="submit"||t.type==="image")){let g=t.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=t.getAttribute("formaction")||g.getAttribute("action");if(r=x?ol(x,e):null,n=t.getAttribute("formmethod")||g.getAttribute("method")||k1,i=T2(t.getAttribute("formenctype"))||T2(g.getAttribute("enctype"))||L1,o=new FormData(g,t),!KN()){let{name:m,type:_,value:A}=t;if(_==="image"){let C=m?`${m}.`:"";o.append(`${C}x`,"0"),o.append(`${C}y`,"0")}else m&&o.append(m,A)}}else{if(Bg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=k1,r=null,i=L1,u=t}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:u}}function ay(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function ZN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function eO(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let u=await ZN(o,n);return u.links?u.links():[]}return[]}));return iO(r.flat(1).filter(JN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function cT(t,e,n,r,i,o){let u=(x,m)=>n[m]?x.route.id!==n[m].route.id:!0,g=(x,m)=>{var _;return n[m].pathname!==x.pathname||((_=n[m].route.path)==null?void 0:_.endsWith("*"))&&n[m].params["*"]!==x.params["*"]};return o==="assets"?e.filter((x,m)=>u(x,m)||g(x,m)):o==="data"?e.filter((x,m)=>{var A;let _=r.routes[x.route.id];if(!_||!_.hasLoader)return!1;if(u(x,m)||g(x,m))return!0;if(x.route.shouldRevalidate){let C=x.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(t,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function tO(t,e,{includeHydrateFallback:n}={}){return nO(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function nO(t){return[...new Set(t)]}function rO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function iO(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(rO(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sO=new Set([100,101,204,205]);function aO(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ol(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function t4(){let t=de.useContext(Pf);return ay(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function oO(){let t=de.useContext(Fg);return ay(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var oy=de.createContext(void 0);oy.displayName="FrameworkContext";function n4(){let t=de.useContext(oy);return ay(t,"You must render this element inside a <HydratedRouter> element"),t}function lO(t,e){let n=de.useContext(oy),[r,i]=de.useState(!1),[o,u]=de.useState(!1),{onFocus:g,onBlur:x,onMouseEnter:m,onMouseLeave:_,onTouchStart:A}=e,C=de.useRef(null);de.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let I=H=>{H.forEach(Y=>{u(Y.isIntersecting)})},k=new IntersectionObserver(I,{threshold:.5});return C.current&&k.observe(C.current),()=>{k.disconnect()}}},[t]),de.useEffect(()=>{if(r){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[r]);let R=()=>{i(!0)},O=()=>{i(!1),u(!1)};return n?t!=="intent"?[o,C,{}]:[o,C,{onFocus:Bh(g,R),onBlur:Bh(x,O),onMouseEnter:Bh(m,R),onMouseLeave:Bh(_,O),onTouchStart:Bh(A,R)}]:[!1,C,{}]}function Bh(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function cO({page:t,...e}){let{router:n}=t4(),r=de.useMemo(()=>qC(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?de.createElement(fO,{page:t,matches:r,...e}):null}function uO(t){let{manifest:e,routeModules:n}=n4(),[r,i]=de.useState([]);return de.useEffect(()=>{let o=!1;return eO(t,e,n).then(u=>{o||i(u)}),()=>{o=!0}},[t,e,n]),r}function fO({page:t,matches:e,...n}){let r=wc(),{manifest:i,routeModules:o}=n4(),{basename:u}=t4(),{loaderData:g,matches:x}=oO(),m=de.useMemo(()=>cT(t,e,x,i,r,"data"),[t,e,x,i,r]),_=de.useMemo(()=>cT(t,e,x,i,r,"assets"),[t,e,x,i,r]),A=de.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let O=new Set,I=!1;if(e.forEach(H=>{var W;let Y=i.routes[H.route.id];!Y||!Y.hasLoader||(!m.some(te=>te.route.id===H.route.id)&&H.route.id in g&&((W=o[H.route.id])!=null&&W.shouldRevalidate)||Y.hasClientLoader?I=!0:O.add(H.route.id))}),O.size===0)return[];let k=aO(t,u);return I&&O.size>0&&k.searchParams.set("_routes",e.filter(H=>O.has(H.route.id)).map(H=>H.route.id).join(",")),[k.pathname+k.search]},[u,g,r,i,m,e,t,o]),C=de.useMemo(()=>tO(_,i),[_,i]),R=uO(_);return de.createElement(de.Fragment,null,A.map(O=>de.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),C.map(O=>de.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),R.map(({key:O,link:I})=>de.createElement("link",{key:O,...I})))}function hO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var r4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{r4&&(window.__reactRouterVersion="7.6.3")}catch{}function dO({basename:t,children:e,window:n}){let r=de.useRef();r.current==null&&(r.current=J8({window:n,v5Compat:!0}));let i=r.current,[o,u]=de.useState({action:i.action,location:i.location}),g=de.useCallback(x=>{de.startTransition(()=>u(x))},[u]);return de.useLayoutEffect(()=>i.listen(g),[i,g]),de.createElement(HN,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var i4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,s4=de.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:g,target:x,to:m,preventScrollReset:_,viewTransition:A,...C},R){let{basename:O}=de.useContext(Za),I=typeof m=="string"&&i4.test(m),k,H=!1;if(typeof m=="string"&&I&&(k=m,r4))try{let L=new URL(window.location.href),M=m.startsWith("//")?new URL(L.protocol+m):new URL(m),q=ol(M.pathname,O);M.origin===L.origin&&q!=null?m=q+M.search+M.hash:H=!0}catch{Ka(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=CN(m,{relative:i}),[W,te,oe]=lO(r,C),ve=xO(m,{replace:u,state:g,target:x,preventScrollReset:_,relative:i,viewTransition:A});function B(L){e&&e(L),L.defaultPrevented||ve(L)}let V=de.createElement("a",{...C,...oe,href:k||Y,onClick:H||o?e:B,ref:hO(R,te),target:x,"data-discover":!I&&n==="render"?"true":void 0});return W&&!I?de.createElement(de.Fragment,null,V,de.createElement(cO,{page:Y})):V});s4.displayName="Link";var gO=de.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:g,children:x,...m},_){let A=V0(u,{relative:m.relative}),C=wc(),R=de.useContext(Fg),{navigator:O,basename:I}=de.useContext(Za),k=R!=null&&wO(A)&&g===!0,H=O.encodeLocation?O.encodeLocation(A).pathname:A.pathname,Y=C.pathname,W=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),W=W?W.toLowerCase():null,H=H.toLowerCase()),W&&I&&(W=ol(W,I)||W);const te=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let oe=Y===H||!i&&Y.startsWith(H)&&Y.charAt(te)==="/",ve=W!=null&&(W===H||!i&&W.startsWith(H)&&W.charAt(H.length)==="/"),B={isActive:oe,isPending:ve,isTransitioning:k},V=oe?e:void 0,L;typeof r=="function"?L=r(B):L=[r,oe?"active":null,ve?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(B):o;return de.createElement(s4,{...m,"aria-current":V,className:L,ref:_,style:M,to:u,viewTransition:g},typeof x=="function"?x(B):x)});gO.displayName="NavLink";var mO=de.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:u=k1,action:g,onSubmit:x,relative:m,preventScrollReset:_,viewTransition:A,...C},R)=>{let O=_O(),I=EO(g,{relative:m}),k=u.toLowerCase()==="get"?"get":"post",H=typeof g=="string"&&i4.test(g),Y=W=>{if(x&&x(W),W.defaultPrevented)return;W.preventDefault();let te=W.nativeEvent.submitter,oe=(te==null?void 0:te.getAttribute("formmethod"))||u;O(te||W.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:i,state:o,relative:m,preventScrollReset:_,viewTransition:A})};return de.createElement("form",{ref:R,method:k,action:I,onSubmit:r?x:Y,...C,"data-discover":!H&&t==="render"?"true":void 0})});mO.displayName="Form";function pO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a4(t){let e=de.useContext(Pf);return br(e,pO(t)),e}function xO(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let g=pl(),x=wc(),m=V0(t,{relative:o});return de.useCallback(_=>{if(XN(_,e)){_.preventDefault();let A=n!==void 0?n:m0(x)===m0(m);g(t,{replace:A,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[x,g,m,n,r,e,t,i,o,u])}var yO=0,vO=()=>`__${String(++yO)}__`;function _O(){let{router:t}=a4("useSubmit"),{basename:e}=de.useContext(Za),n=BN();return de.useCallback(async(r,i={})=>{let{action:o,method:u,encType:g,formData:x,body:m}=$N(r,e);if(i.navigate===!1){let _=i.fetcherKey||vO();await t.fetch(_,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:x,body:m,formMethod:i.method||u,formEncType:i.encType||g,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:x,body:m,formMethod:i.method||u,formEncType:i.encType||g,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function EO(t,{relative:e}={}){let{basename:n}=de.useContext(Za),r=de.useContext(Ja);br(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...V0(t||".",{relative:e})},u=wc();if(t==null){o.search=u.search;let g=new URLSearchParams(o.search),x=g.getAll("index");if(x.some(_=>_==="")){g.delete("index"),x.filter(A=>A).forEach(A=>g.append("index",A));let _=g.toString();o.search=_?`?${_}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:tl([n,o.pathname])),m0(o)}function wO(t,e={}){let n=de.useContext(QC);br(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=a4("useViewTransitionState"),i=V0(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=ol(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=ol(n.nextLocation.pathname,r)||n.nextLocation.pathname;return K1(i.pathname,u)!=null||K1(i.pathname,o)!=null}[...sO];const p0={black:"#000",white:"#fff"},Zu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ju={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},ef={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},tf={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},nf={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Uh={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},TO={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Zc(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const pf="$$material";function mx(){return mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mx.apply(null,arguments)}function AO(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function SO(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var CO=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(SO(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=AO(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),ns="-ms-",Q1="-moz-",Dn="-webkit-",o4="comm",ly="rule",cy="decl",bO="@import",l4="@keyframes",IO="@layer",RO=Math.abs,Ug=String.fromCharCode,NO=Object.assign;function OO(t,e){return Vi(t,0)^45?(((e<<2^Vi(t,0))<<2^Vi(t,1))<<2^Vi(t,2))<<2^Vi(t,3):0}function c4(t){return t.trim()}function DO(t,e){return(t=e.exec(t))?t[0]:t}function Mn(t,e,n){return t.replace(e,n)}function px(t,e){return t.indexOf(e)}function Vi(t,e){return t.charCodeAt(e)|0}function x0(t,e,n){return t.slice(e,n)}function yo(t){return t.length}function uy(t){return t.length}function d1(t,e){return e.push(t),t}function MO(t,e){return t.map(e).join("")}var Vg=1,bf=1,u4=0,Os=0,si=0,Bf="";function jg(t,e,n,r,i,o,u){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Vg,column:bf,length:u,return:""}}function Vh(t,e){return NO(jg("",null,null,"",null,null,0),t,{length:-t.length},e)}function kO(){return si}function LO(){return si=Os>0?Vi(Bf,--Os):0,bf--,si===10&&(bf=1,Vg--),si}function oa(){return si=Os<u4?Vi(Bf,Os++):0,bf++,si===10&&(bf=1,Vg++),si}function Eo(){return Vi(Bf,Os)}function P1(){return Os}function j0(t,e){return x0(Bf,t,e)}function y0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function f4(t){return Vg=bf=1,u4=yo(Bf=t),Os=0,[]}function h4(t){return Bf="",t}function F1(t){return c4(j0(Os-1,xx(t===91?t+2:t===40?t+1:t)))}function PO(t){for(;(si=Eo())&&si<33;)oa();return y0(t)>2||y0(si)>3?"":" "}function FO(t,e){for(;--e&&oa()&&!(si<48||si>102||si>57&&si<65||si>70&&si<97););return j0(t,P1()+(e<6&&Eo()==32&&oa()==32))}function xx(t){for(;oa();)switch(si){case t:return Os;case 34:case 39:t!==34&&t!==39&&xx(si);break;case 40:t===41&&xx(t);break;case 92:oa();break}return Os}function BO(t,e){for(;oa()&&t+si!==57;)if(t+si===84&&Eo()===47)break;return"/*"+j0(e,Os-1)+"*"+Ug(t===47?t:oa())}function UO(t){for(;!y0(Eo());)oa();return j0(t,Os)}function VO(t){return h4(B1("",null,null,null,[""],t=f4(t),0,[0],t))}function B1(t,e,n,r,i,o,u,g,x){for(var m=0,_=0,A=u,C=0,R=0,O=0,I=1,k=1,H=1,Y=0,W="",te=i,oe=o,ve=r,B=W;k;)switch(O=Y,Y=oa()){case 40:if(O!=108&&Vi(B,A-1)==58){px(B+=Mn(F1(Y),"&","&\f"),"&\f")!=-1&&(H=-1);break}case 34:case 39:case 91:B+=F1(Y);break;case 9:case 10:case 13:case 32:B+=PO(O);break;case 92:B+=FO(P1()-1,7);continue;case 47:switch(Eo()){case 42:case 47:d1(jO(BO(oa(),P1()),e,n),x);break;default:B+="/"}break;case 123*I:g[m++]=yo(B)*H;case 125*I:case 59:case 0:switch(Y){case 0:case 125:k=0;case 59+_:H==-1&&(B=Mn(B,/\f/g,"")),R>0&&yo(B)-A&&d1(R>32?fT(B+";",r,n,A-1):fT(Mn(B," ","")+";",r,n,A-2),x);break;case 59:B+=";";default:if(d1(ve=uT(B,e,n,m,_,i,g,W,te=[],oe=[],A),o),Y===123)if(_===0)B1(B,e,ve,ve,te,o,A,g,oe);else switch(C===99&&Vi(B,3)===110?100:C){case 100:case 108:case 109:case 115:B1(t,ve,ve,r&&d1(uT(t,ve,ve,0,0,i,g,W,i,te=[],A),oe),i,oe,A,g,r?te:oe);break;default:B1(B,ve,ve,ve,[""],oe,0,g,oe)}}m=_=R=0,I=H=1,W=B="",A=u;break;case 58:A=1+yo(B),R=O;default:if(I<1){if(Y==123)--I;else if(Y==125&&I++==0&&LO()==125)continue}switch(B+=Ug(Y),Y*I){case 38:H=_>0?1:(B+="\f",-1);break;case 44:g[m++]=(yo(B)-1)*H,H=1;break;case 64:Eo()===45&&(B+=F1(oa())),C=Eo(),_=A=yo(W=B+=UO(P1())),Y++;break;case 45:O===45&&yo(B)==2&&(I=0)}}return o}function uT(t,e,n,r,i,o,u,g,x,m,_){for(var A=i-1,C=i===0?o:[""],R=uy(C),O=0,I=0,k=0;O<r;++O)for(var H=0,Y=x0(t,A+1,A=RO(I=u[O])),W=t;H<R;++H)(W=c4(I>0?C[H]+" "+Y:Mn(Y,/&\f/g,C[H])))&&(x[k++]=W);return jg(t,e,n,i===0?ly:g,x,m,_)}function jO(t,e,n){return jg(t,e,n,o4,Ug(kO()),x0(t,2,-2),0)}function fT(t,e,n,r){return jg(t,e,n,cy,x0(t,0,r),x0(t,r+1,-1),r)}function xf(t,e){for(var n="",r=uy(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function HO(t,e,n,r){switch(t.type){case IO:if(t.children.length)break;case bO:case cy:return t.return=t.return||t.value;case o4:return"";case l4:return t.return=t.value+"{"+xf(t.children,r)+"}";case ly:t.value=t.props.join(",")}return yo(n=xf(t.children,r))?t.return=t.value+"{"+n+"}":""}function zO(t){var e=uy(t);return function(n,r,i,o){for(var u="",g=0;g<e;g++)u+=t[g](n,r,i,o)||"";return u}}function GO(t){return function(e){e.root||(e=e.return)&&t(e)}}function d4(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var WO=function(e,n,r){for(var i=0,o=0;i=o,o=Eo(),i===38&&o===12&&(n[r]=1),!y0(o);)oa();return j0(e,Os)},qO=function(e,n){var r=-1,i=44;do switch(y0(i)){case 0:i===38&&Eo()===12&&(n[r]=1),e[r]+=WO(Os-1,n,r);break;case 2:e[r]+=F1(i);break;case 4:if(i===44){e[++r]=Eo()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Ug(i)}while(i=oa());return e},YO=function(e,n){return h4(qO(f4(e),n))},hT=new WeakMap,XO=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!hT.get(r))&&!i){hT.set(e,!0);for(var o=[],u=YO(n,o),g=r.props,x=0,m=0;x<u.length;x++)for(var _=0;_<g.length;_++,m++)e.props[m]=o[x]?u[x].replace(/&\f/g,g[_]):g[_]+" "+u[x]}}},KO=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function g4(t,e){switch(OO(t,e)){case 5103:return Dn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Dn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Dn+t+Q1+t+ns+t+t;case 6828:case 4268:return Dn+t+ns+t+t;case 6165:return Dn+t+ns+"flex-"+t+t;case 5187:return Dn+t+Mn(t,/(\w+).+(:[^]+)/,Dn+"box-$1$2"+ns+"flex-$1$2")+t;case 5443:return Dn+t+ns+"flex-item-"+Mn(t,/flex-|-self/,"")+t;case 4675:return Dn+t+ns+"flex-line-pack"+Mn(t,/align-content|flex-|-self/,"")+t;case 5548:return Dn+t+ns+Mn(t,"shrink","negative")+t;case 5292:return Dn+t+ns+Mn(t,"basis","preferred-size")+t;case 6060:return Dn+"box-"+Mn(t,"-grow","")+Dn+t+ns+Mn(t,"grow","positive")+t;case 4554:return Dn+Mn(t,/([^-])(transform)/g,"$1"+Dn+"$2")+t;case 6187:return Mn(Mn(Mn(t,/(zoom-|grab)/,Dn+"$1"),/(image-set)/,Dn+"$1"),t,"")+t;case 5495:case 3959:return Mn(t,/(image-set\([^]*)/,Dn+"$1$`$1");case 4968:return Mn(Mn(t,/(.+:)(flex-)?(.*)/,Dn+"box-pack:$3"+ns+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Dn+t+t;case 4095:case 3583:case 4068:case 2532:return Mn(t,/(.+)-inline(.+)/,Dn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yo(t)-1-e>6)switch(Vi(t,e+1)){case 109:if(Vi(t,e+4)!==45)break;case 102:return Mn(t,/(.+:)(.+)-([^]+)/,"$1"+Dn+"$2-$3$1"+Q1+(Vi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~px(t,"stretch")?g4(Mn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Vi(t,e+1)!==115)break;case 6444:switch(Vi(t,yo(t)-3-(~px(t,"!important")&&10))){case 107:return Mn(t,":",":"+Dn)+t;case 101:return Mn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Dn+(Vi(t,14)===45?"inline-":"")+"box$3$1"+Dn+"$2$3$1"+ns+"$2box$3")+t}break;case 5936:switch(Vi(t,e+11)){case 114:return Dn+t+ns+Mn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Dn+t+ns+Mn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Dn+t+ns+Mn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Dn+t+ns+t+t}return t}var QO=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case cy:e.return=g4(e.value,e.length);break;case l4:return xf([Vh(e,{value:Mn(e.value,"@","@"+Dn)})],i);case ly:if(e.length)return MO(e.props,function(o){switch(DO(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return xf([Vh(e,{props:[Mn(o,/:(read-\w+)/,":"+Q1+"$1")]})],i);case"::placeholder":return xf([Vh(e,{props:[Mn(o,/:(plac\w+)/,":"+Dn+"input-$1")]}),Vh(e,{props:[Mn(o,/:(plac\w+)/,":"+Q1+"$1")]}),Vh(e,{props:[Mn(o,/:(plac\w+)/,ns+"input-$1")]})],i)}return""})}},$O=[QO],ZO=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(I){var k=I.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(I),I.setAttribute("data-s",""))})}var i=e.stylisPlugins||$O,o={},u,g=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(I){for(var k=I.getAttribute("data-emotion").split(" "),H=1;H<k.length;H++)o[k[H]]=!0;g.push(I)});var x,m=[XO,KO];{var _,A=[HO,GO(function(I){_.insert(I)})],C=zO(m.concat(i,A)),R=function(k){return xf(VO(k),C)};x=function(k,H,Y,W){_=Y,R(k?k+"{"+H.styles+"}":H.styles),W&&(O.inserted[H.name]=!0)}}var O={key:n,sheet:new CO({key:n,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:x};return O.sheet.hydrate(g),O},A2={exports:{}},Pn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function JO(){if(dT)return Pn;dT=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,g=t?Symbol.for("react.context"):60110,x=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,_=t?Symbol.for("react.forward_ref"):60112,A=t?Symbol.for("react.suspense"):60113,C=t?Symbol.for("react.suspense_list"):60120,R=t?Symbol.for("react.memo"):60115,O=t?Symbol.for("react.lazy"):60116,I=t?Symbol.for("react.block"):60121,k=t?Symbol.for("react.fundamental"):60117,H=t?Symbol.for("react.responder"):60118,Y=t?Symbol.for("react.scope"):60119;function W(oe){if(typeof oe=="object"&&oe!==null){var ve=oe.$$typeof;switch(ve){case e:switch(oe=oe.type,oe){case x:case m:case r:case o:case i:case A:return oe;default:switch(oe=oe&&oe.$$typeof,oe){case g:case _:case O:case R:case u:return oe;default:return ve}}case n:return ve}}}function te(oe){return W(oe)===m}return Pn.AsyncMode=x,Pn.ConcurrentMode=m,Pn.ContextConsumer=g,Pn.ContextProvider=u,Pn.Element=e,Pn.ForwardRef=_,Pn.Fragment=r,Pn.Lazy=O,Pn.Memo=R,Pn.Portal=n,Pn.Profiler=o,Pn.StrictMode=i,Pn.Suspense=A,Pn.isAsyncMode=function(oe){return te(oe)||W(oe)===x},Pn.isConcurrentMode=te,Pn.isContextConsumer=function(oe){return W(oe)===g},Pn.isContextProvider=function(oe){return W(oe)===u},Pn.isElement=function(oe){return typeof oe=="object"&&oe!==null&&oe.$$typeof===e},Pn.isForwardRef=function(oe){return W(oe)===_},Pn.isFragment=function(oe){return W(oe)===r},Pn.isLazy=function(oe){return W(oe)===O},Pn.isMemo=function(oe){return W(oe)===R},Pn.isPortal=function(oe){return W(oe)===n},Pn.isProfiler=function(oe){return W(oe)===o},Pn.isStrictMode=function(oe){return W(oe)===i},Pn.isSuspense=function(oe){return W(oe)===A},Pn.isValidElementType=function(oe){return typeof oe=="string"||typeof oe=="function"||oe===r||oe===m||oe===o||oe===i||oe===A||oe===C||typeof oe=="object"&&oe!==null&&(oe.$$typeof===O||oe.$$typeof===R||oe.$$typeof===u||oe.$$typeof===g||oe.$$typeof===_||oe.$$typeof===k||oe.$$typeof===H||oe.$$typeof===Y||oe.$$typeof===I)},Pn.typeOf=W,Pn}var gT;function eD(){return gT||(gT=1,A2.exports=JO()),A2.exports}var S2,mT;function tD(){if(mT)return S2;mT=1;var t=eD(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function u(O){return t.isMemo(O)?i:o[O.$$typeof]||e}var g=Object.defineProperty,x=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,A=Object.getPrototypeOf,C=Object.prototype;function R(O,I,k){if(typeof I!="string"){if(C){var H=A(I);H&&H!==C&&R(O,H,k)}var Y=x(I);m&&(Y=Y.concat(m(I)));for(var W=u(O),te=u(I),oe=0;oe<Y.length;++oe){var ve=Y[oe];if(!n[ve]&&!(k&&k[ve])&&!(te&&te[ve])&&!(W&&W[ve])){var B=_(I,ve);try{g(O,ve,B)}catch{}}}}return O}return S2=R,S2}tD();var nD=!0;function m4(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var fy=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||nD===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},hy=function(e,n,r){fy(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function rD(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var iD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},sD=/[A-Z]|^ms/g,aD=/_EMO_([^_]+?)_([^]*?)_EMO_/g,p4=function(e){return e.charCodeAt(1)===45},pT=function(e){return e!=null&&typeof e!="boolean"},C2=d4(function(t){return p4(t)?t:t.replace(sD,"-$&").toLowerCase()}),xT=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(aD,function(r,i,o){return vo={name:i,styles:o,next:vo},i})}return iD[e]!==1&&!p4(e)&&typeof n=="number"&&n!==0?n+"px":n};function v0(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return vo={name:i.name,styles:i.styles,next:vo},i.name;var o=n;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)vo={name:u.name,styles:u.styles,next:vo},u=u.next;var g=o.styles+";";return g}return oD(t,e,n)}case"function":{if(t!==void 0){var x=vo,m=n(t);return vo=x,v0(t,e,m)}break}}var _=n;if(e==null)return _;var A=e[_];return A!==void 0?A:_}function oD(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=v0(t,e,n[i])+";";else for(var o in n){var u=n[o];if(typeof u!="object"){var g=u;e!=null&&e[g]!==void 0?r+=o+"{"+e[g]+"}":pT(g)&&(r+=C2(o)+":"+xT(o,g)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var x=0;x<u.length;x++)pT(u[x])&&(r+=C2(o)+":"+xT(o,u[x])+";");else{var m=v0(t,e,u);switch(o){case"animation":case"animationName":{r+=C2(o)+":"+m+";";break}default:r+=o+"{"+m+"}"}}}return r}var yT=/label:\s*([^\s;{]+)\s*(;|$)/g,vo;function Hg(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";vo=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=v0(n,e,o);else{var u=o;i+=u[0]}for(var g=1;g<t.length;g++)if(i+=v0(n,e,t[g]),r){var x=o;i+=x[g]}yT.lastIndex=0;for(var m="",_;(_=yT.exec(i))!==null;)m+="-"+_[1];var A=rD(i)+m;return{name:A,styles:i,next:vo}}var lD=function(e){return e()},x4=hx.useInsertionEffect?hx.useInsertionEffect:!1,y4=x4||lD,vT=x4||de.useLayoutEffect,v4=de.createContext(typeof HTMLElement<"u"?ZO({key:"css"}):null);v4.Provider;var dy=function(e){return de.forwardRef(function(n,r){var i=de.useContext(v4);return e(n,i,r)})},H0=de.createContext({}),gy={}.hasOwnProperty,yx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",cD=function(e,n){var r={};for(var i in n)gy.call(n,i)&&(r[i]=n[i]);return r[yx]=e,r},uD=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return fy(n,r,i),y4(function(){return hy(n,r,i)}),null},fD=dy(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[yx],o=[r],u="";typeof t.className=="string"?u=m4(e.registered,o,t.className):t.className!=null&&(u=t.className+" ");var g=Hg(o,void 0,de.useContext(H0));u+=e.key+"-"+g.name;var x={};for(var m in t)gy.call(t,m)&&m!=="css"&&m!==yx&&(x[m]=t[m]);return x.className=u,n&&(x.ref=n),de.createElement(de.Fragment,null,de.createElement(uD,{cache:e,serialized:g,isStringTag:typeof i=="string"}),de.createElement(i,x))}),hD=fD,_T=function(e,n){var r=arguments;if(n==null||!gy.call(n,"css"))return de.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=hD,o[1]=cD(e,n);for(var u=2;u<i;u++)o[u]=r[u];return de.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(_T||(_T={}));var dD=dy(function(t,e){var n=t.styles,r=Hg([n],void 0,de.useContext(H0)),i=de.useRef();return vT(function(){var o=e.key+"-global",u=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),g=!1,x=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(u.before=e.sheet.tags[0]),x!==null&&(g=!0,x.setAttribute("data-emotion",o),u.hydrate([x])),i.current=[u,g],function(){u.flush()}},[e]),vT(function(){var o=i.current,u=o[0],g=o[1];if(g){o[1]=!1;return}if(r.next!==void 0&&hy(e,r.next,!0),u.tags.length){var x=u.tags[u.tags.length-1].nextElementSibling;u.before=x,u.flush()}e.insert("",r,u,!1)},[e,r.name]),null}),gD=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mD=d4(function(t){return gD.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),pD=mD,xD=function(e){return e!=="theme"},ET=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?pD:xD},wT=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},yD=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return fy(n,r,i),y4(function(){return hy(n,r,i)}),null},vD=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;n!==void 0&&(o=n.label,u=n.target);var g=wT(e,n,r),x=g||ET(i),m=!x("as");return function(){var _=arguments,A=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&A.push("label:"+o+";"),_[0]==null||_[0].raw===void 0)A.push.apply(A,_);else{var C=_[0];A.push(C[0]);for(var R=_.length,O=1;O<R;O++)A.push(_[O],C[O])}var I=dy(function(k,H,Y){var W=m&&k.as||i,te="",oe=[],ve=k;if(k.theme==null){ve={};for(var B in k)ve[B]=k[B];ve.theme=de.useContext(H0)}typeof k.className=="string"?te=m4(H.registered,oe,k.className):k.className!=null&&(te=k.className+" ");var V=Hg(A.concat(oe),H.registered,ve);te+=H.key+"-"+V.name,u!==void 0&&(te+=" "+u);var L=m&&g===void 0?ET(W):x,M={};for(var q in k)m&&q==="as"||L(q)&&(M[q]=k[q]);return M.className=te,Y&&(M.ref=Y),de.createElement(de.Fragment,null,de.createElement(yD,{cache:H,serialized:V,isStringTag:typeof W=="string"}),de.createElement(W,M))});return I.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",I.defaultProps=e.defaultProps,I.__emotion_real=I,I.__emotion_base=i,I.__emotion_styles=A,I.__emotion_forwardProp=g,Object.defineProperty(I,"toString",{value:function(){return"."+u}}),I.withComponent=function(k,H){var Y=t(k,mx({},n,H,{shouldForwardProp:wT(I,H,!0)}));return Y.apply(void 0,A)},I}},_D=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],TT=vD.bind(null);_D.forEach(function(t){TT[t]=TT(t)});var b2={exports:{}},I2,AT;function ED(){if(AT)return I2;AT=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return I2=t,I2}var R2,ST;function wD(){if(ST)return R2;ST=1;var t=ED();function e(){}function n(){}return n.resetWarningCache=e,R2=function(){function r(u,g,x,m,_,A){if(A!==t){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},R2}var CT;function _4(){return CT||(CT=1,b2.exports=wD()()),b2.exports}function TD(t){return t==null||Object.keys(t).length===0}function E4(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(TD(i)?n:i):e;return F.jsx(dD,{styles:r})}const bT=[];function AD(t){return bT[0]=t,Hg(bT)}var N2={exports:{}},$n={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT;function SD(){if(IT)return $n;IT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.view_transition"),R=Symbol.for("react.client.reference");function O(I){if(typeof I=="object"&&I!==null){var k=I.$$typeof;switch(k){case t:switch(I=I.type,I){case n:case i:case r:case x:case m:case C:return I;default:switch(I=I&&I.$$typeof,I){case u:case g:case A:case _:return I;case o:return I;default:return k}}case e:return k}}}return $n.ContextConsumer=o,$n.ContextProvider=u,$n.Element=t,$n.ForwardRef=g,$n.Fragment=n,$n.Lazy=A,$n.Memo=_,$n.Portal=e,$n.Profiler=i,$n.StrictMode=r,$n.Suspense=x,$n.SuspenseList=m,$n.isContextConsumer=function(I){return O(I)===o},$n.isContextProvider=function(I){return O(I)===u},$n.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===t},$n.isForwardRef=function(I){return O(I)===g},$n.isFragment=function(I){return O(I)===n},$n.isLazy=function(I){return O(I)===A},$n.isMemo=function(I){return O(I)===_},$n.isPortal=function(I){return O(I)===e},$n.isProfiler=function(I){return O(I)===i},$n.isStrictMode=function(I){return O(I)===r},$n.isSuspense=function(I){return O(I)===x},$n.isSuspenseList=function(I){return O(I)===m},$n.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===n||I===i||I===r||I===x||I===m||typeof I=="object"&&I!==null&&(I.$$typeof===A||I.$$typeof===_||I.$$typeof===u||I.$$typeof===o||I.$$typeof===g||I.$$typeof===R||I.getModuleId!==void 0)},$n.typeOf=O,$n}var RT;function CD(){return RT||(RT=1,N2.exports=SD()),N2.exports}var w4=CD();function Ql(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function T4(t){if(de.isValidElement(t)||w4.isValidElementType(t)||!Ql(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=T4(t[n])}),e}function la(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Ql(t)&&Ql(e)&&Object.keys(e).forEach(i=>{de.isValidElement(e[i])||w4.isValidElementType(e[i])?r[i]=e[i]:Ql(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Ql(t[i])?r[i]=la(t[i],e[i],n):n.clone?r[i]=Ql(e[i])?T4(e[i]):e[i]:r[i]=e[i]}),r}const bD=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function ID(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,o=bD(e),u=Object.keys(o);function g(C){return`@media (min-width:${typeof e[C]=="number"?e[C]:C}${n})`}function x(C){return`@media (max-width:${(typeof e[C]=="number"?e[C]:C)-r/100}${n})`}function m(C,R){const O=u.indexOf(R);return`@media (min-width:${typeof e[C]=="number"?e[C]:C}${n}) and (max-width:${(O!==-1&&typeof e[u[O]]=="number"?e[u[O]]:R)-r/100}${n})`}function _(C){return u.indexOf(C)+1<u.length?m(C,u[u.indexOf(C)+1]):g(C)}function A(C){const R=u.indexOf(C);return R===0?g(u[1]):R===u.length-1?x(u[R]):m(C,u[u.indexOf(C)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:g,down:x,between:m,only:_,not:A,unit:n,...i}}function NT(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,g;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((g=i.match(o))==null?void 0:g[1])||0)});return n.length?n.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function RD(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function ND(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,o=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(o)}function OD(t){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function n(o,u){o.up=(...g)=>e(t.breakpoints.up(...g),u),o.down=(...g)=>e(t.breakpoints.down(...g),u),o.between=(...g)=>e(t.breakpoints.between(...g),u),o.only=(...g)=>e(t.breakpoints.only(...g),u),o.not=(...g)=>{const x=e(t.breakpoints.not(...g),u);return x.includes("not all and")?x.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):x}}const r={},i=o=>(n(r,o),r);return n(i),{...t,containerQueries:i}}const DD={borderRadius:4};function e0(t,e){return e?la(t,e,{clone:!1}):t}const zg={xs:0,sm:600,md:900,lg:1200,xl:1536},OT={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${zg[t]}px)`},MD={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:zg[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function ll(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||OT;return e.reduce((u,g,x)=>(u[o.up(o.keys[x])]=n(e[x]),u),{})}if(typeof e=="object"){const o=r.breakpoints||OT;return Object.keys(e).reduce((u,g)=>{if(RD(o.keys,g)){const x=ND(r.containerQueries?r:MD,g);x&&(u[x]=n(e[g],g))}else if(Object.keys(o.values||zg).includes(g)){const x=o.up(g);u[x]=n(e[g],g)}else{const x=g;u[x]=e[x]}return u},{})}return n(e)}function kD(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function DT(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function A4(t){if(typeof t!="string")throw new Error(Zc(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Gg(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function $1(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Gg(t,n)||r,e&&(i=e(i,r,t)),i}function $r(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=u=>{if(u[e]==null)return null;const g=u[e],x=u.theme,m=Gg(x,r)||{};return ll(u,g,A=>{let C=$1(m,i,A);return A===C&&typeof A=="string"&&(C=$1(m,i,`${e}${A==="default"?"":A4(A)}`,A)),n===!1?C:{[n]:C}})};return o.propTypes={},o.filterProps=[e],o}function LD(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const PD={m:"margin",p:"padding"},FD={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},MT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},BD=LD(t=>{if(t.length>2)if(MT[t])t=MT[t];else return[t];const[e,n]=t.split(""),r=PD[e],i=FD[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),my=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],py=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...my,...py];function z0(t,e,n,r){const i=Gg(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?i.startsWith("var(")&&o===0?0:i.startsWith("var(")&&o===1?i:`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),g=i[u];return o>=0?g:typeof g=="number"?-g:typeof g=="string"&&g.startsWith("var(")?`calc(-1 * ${g})`:`-${g}`}:typeof i=="function"?i:()=>{}}function xy(t){return z0(t,"spacing",8)}function G0(t,e){return typeof e=="string"||e==null?e:t(e)}function UD(t,e){return n=>t.reduce((r,i)=>(r[i]=G0(e,n),r),{})}function VD(t,e,n,r){if(!e.includes(n))return null;const i=BD(n),o=UD(i,r),u=t[n];return ll(t,u,o)}function S4(t,e){const n=xy(t.theme);return Object.keys(t).map(r=>VD(t,e,r,n)).reduce(e0,{})}function Fr(t){return S4(t,my)}Fr.propTypes={};Fr.filterProps=my;function Br(t){return S4(t,py)}Br.propTypes={};Br.filterProps=py;function C4(t=8,e=xy({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return n.mui=!0,n}function Wg(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?e0(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function ba(t){return typeof t!="number"?t:`${t}px solid`}function Oa(t,e){return $r({prop:t,themeKey:"borders",transform:e})}const jD=Oa("border",ba),HD=Oa("borderTop",ba),zD=Oa("borderRight",ba),GD=Oa("borderBottom",ba),WD=Oa("borderLeft",ba),qD=Oa("borderColor"),YD=Oa("borderTopColor"),XD=Oa("borderRightColor"),KD=Oa("borderBottomColor"),QD=Oa("borderLeftColor"),$D=Oa("outline",ba),ZD=Oa("outlineColor"),qg=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=z0(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:G0(e,r)});return ll(t,t.borderRadius,n)}return null};qg.propTypes={};qg.filterProps=["borderRadius"];Wg(jD,HD,zD,GD,WD,qD,YD,XD,KD,QD,qg,$D,ZD);const Yg=t=>{if(t.gap!==void 0&&t.gap!==null){const e=z0(t.theme,"spacing",8),n=r=>({gap:G0(e,r)});return ll(t,t.gap,n)}return null};Yg.propTypes={};Yg.filterProps=["gap"];const Xg=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=z0(t.theme,"spacing",8),n=r=>({columnGap:G0(e,r)});return ll(t,t.columnGap,n)}return null};Xg.propTypes={};Xg.filterProps=["columnGap"];const Kg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=z0(t.theme,"spacing",8),n=r=>({rowGap:G0(e,r)});return ll(t,t.rowGap,n)}return null};Kg.propTypes={};Kg.filterProps=["rowGap"];const JD=$r({prop:"gridColumn"}),e5=$r({prop:"gridRow"}),t5=$r({prop:"gridAutoFlow"}),n5=$r({prop:"gridAutoColumns"}),r5=$r({prop:"gridAutoRows"}),i5=$r({prop:"gridTemplateColumns"}),s5=$r({prop:"gridTemplateRows"}),a5=$r({prop:"gridTemplateAreas"}),o5=$r({prop:"gridArea"});Wg(Yg,Xg,Kg,JD,e5,t5,n5,r5,i5,s5,a5,o5);function yf(t,e){return e==="grey"?e:t}const l5=$r({prop:"color",themeKey:"palette",transform:yf}),c5=$r({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:yf}),u5=$r({prop:"backgroundColor",themeKey:"palette",transform:yf});Wg(l5,c5,u5);function na(t){return t<=1&&t!==0?`${t*100}%`:t}const f5=$r({prop:"width",transform:na}),yy=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,o,u,g,x;const r=((u=(o=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[n])||zg[n];return r?((x=(g=t.theme)==null?void 0:g.breakpoints)==null?void 0:x.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:na(n)}};return ll(t,t.maxWidth,e)}return null};yy.filterProps=["maxWidth"];const h5=$r({prop:"minWidth",transform:na}),d5=$r({prop:"height",transform:na}),g5=$r({prop:"maxHeight",transform:na}),m5=$r({prop:"minHeight",transform:na});$r({prop:"size",cssProperty:"width",transform:na});$r({prop:"size",cssProperty:"height",transform:na});const p5=$r({prop:"boxSizing"});Wg(f5,yy,h5,d5,g5,m5,p5);const Qg={border:{themeKey:"borders",transform:ba},borderTop:{themeKey:"borders",transform:ba},borderRight:{themeKey:"borders",transform:ba},borderBottom:{themeKey:"borders",transform:ba},borderLeft:{themeKey:"borders",transform:ba},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ba},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:qg},color:{themeKey:"palette",transform:yf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:yf},backgroundColor:{themeKey:"palette",transform:yf},p:{style:Br},pt:{style:Br},pr:{style:Br},pb:{style:Br},pl:{style:Br},px:{style:Br},py:{style:Br},padding:{style:Br},paddingTop:{style:Br},paddingRight:{style:Br},paddingBottom:{style:Br},paddingLeft:{style:Br},paddingX:{style:Br},paddingY:{style:Br},paddingInline:{style:Br},paddingInlineStart:{style:Br},paddingInlineEnd:{style:Br},paddingBlock:{style:Br},paddingBlockStart:{style:Br},paddingBlockEnd:{style:Br},m:{style:Fr},mt:{style:Fr},mr:{style:Fr},mb:{style:Fr},ml:{style:Fr},mx:{style:Fr},my:{style:Fr},margin:{style:Fr},marginTop:{style:Fr},marginRight:{style:Fr},marginBottom:{style:Fr},marginLeft:{style:Fr},marginX:{style:Fr},marginY:{style:Fr},marginInline:{style:Fr},marginInlineStart:{style:Fr},marginInlineEnd:{style:Fr},marginBlock:{style:Fr},marginBlockStart:{style:Fr},marginBlockEnd:{style:Fr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Yg},rowGap:{style:Kg},columnGap:{style:Xg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:na},maxWidth:{style:yy},minWidth:{transform:na},height:{transform:na},maxHeight:{transform:na},minHeight:{transform:na},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function x5(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function y5(t,e){return typeof t=="function"?t(e):t}function v5(){function t(n,r,i,o){const u={[n]:r,theme:i},g=o[n];if(!g)return{[n]:r};const{cssProperty:x=n,themeKey:m,transform:_,style:A}=g;if(r==null)return null;if(m==="typography"&&r==="inherit")return{[n]:r};const C=Gg(i,m)||{};return A?A(u):ll(u,r,O=>{let I=$1(C,_,O);return O===I&&typeof O=="string"&&(I=$1(C,_,`${n}${O==="default"?"":A4(O)}`,O)),x===!1?I:{[x]:I}})}function e(n){const{sx:r,theme:i={},nested:o}=n||{};if(!r)return null;const u=i.unstable_sxConfig??Qg;function g(x){let m=x;if(typeof x=="function")m=x(i);else if(typeof x!="object")return x;if(!m)return null;const _=kD(i.breakpoints),A=Object.keys(_);let C=_;return Object.keys(m).forEach(R=>{const O=y5(m[R],i);if(O!=null)if(typeof O=="object")if(u[R])C=e0(C,t(R,O,i,u));else{const I=ll({theme:i},O,k=>({[R]:k}));x5(I,O)?C[R]=e({sx:O,theme:i,nested:!0}):C=e0(C,I)}else C=e0(C,t(R,O,i,u))}),!o&&i.modularCssLayers?{"@layer sx":NT(i,DT(A,C))}:NT(i,DT(A,C))}return Array.isArray(r)?r.map(g):g(r)}return e}const W0=v5();W0.filterProps=["sx"];function _5(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function b4(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={},...u}=t,g=ID(n),x=C4(i);let m=la({breakpoints:g,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:x,shape:{...DD,...o}},u);return m=OD(m),m.applyStyles=_5,m=e.reduce((_,A)=>la(_,A),m),m.unstable_sxConfig={...Qg,...u==null?void 0:u.unstable_sxConfig},m.unstable_sx=function(A){return W0({sx:A,theme:this})},m}function E5(t){return Object.keys(t).length===0}function vy(t=null){const e=de.useContext(H0);return!e||E5(e)?t:e}const w5=b4();function T5(t=w5){return vy(t)}function O2(t){const e=AD(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function A5({styles:t,themeId:e,defaultTheme:n={}}){const r=T5(n),i=e&&r[e]||r;let o=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(o)?o=o.map(u=>O2(typeof u=="function"?u(i):u)):o=O2(o)),F.jsx(E4,{styles:o})}const I4=typeof window<"u"?de.useLayoutEffect:de.useEffect;function S5(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function _y(t,e=0,n=1){return S5(t,e,n)}function C5(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function cc(t){if(t.type)return t;if(t.charAt(0)==="#")return cc(C5(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Zc(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Zc(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const b5=t=>{const e=cc(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},zh=(t,e)=>{try{return b5(t)}catch{return t}};function $g(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function R4(t){t=cc(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(m,_=(m+n/30)%12)=>i-o*Math.max(Math.min(_-3,9-_,1),-1);let g="rgb";const x=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return t.type==="hsla"&&(g+="a",x.push(e[3])),$g({type:g,values:x})}function vx(t){t=cc(t);let e=t.type==="hsl"||t.type==="hsla"?cc(R4(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function I5(t,e){const n=vx(t),r=vx(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function R5(t,e){return t=cc(t),e=_y(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,$g(t)}function g1(t,e,n){try{return R5(t,e)}catch{return t}}function Ey(t,e){if(t=cc(t),e=_y(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return $g(t)}function sr(t,e,n){try{return Ey(t,e)}catch{return t}}function wy(t,e){if(t=cc(t),e=_y(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return $g(t)}function ar(t,e,n){try{return wy(t,e)}catch{return t}}function N5(t,e=.15){return vx(t)>.5?Ey(t,e):wy(t,e)}function m1(t,e,n){try{return N5(t,e)}catch{return t}}const N4=de.createContext(null);function Ty(){return de.useContext(N4)}const O5=typeof Symbol=="function"&&Symbol.for,D5=O5?Symbol.for("mui.nested"):"__THEME_NESTED__";function M5(t,e){return typeof e=="function"?e(t):{...t,...e}}function k5(t){const{children:e,theme:n}=t,r=Ty(),i=de.useMemo(()=>{const o=r===null?{...n}:M5(r,n);return o!=null&&(o[D5]=r!==null),o},[n,r]);return F.jsx(N4.Provider,{value:i,children:e})}const L5=de.createContext();function P5({value:t,...e}){return F.jsx(L5.Provider,{value:t??!0,...e})}const F5=de.createContext(void 0);function B5({value:t,children:e}){return F.jsx(F5.Provider,{value:t,children:e})}let kT=0;function U5(t){const[e,n]=de.useState(t),r=t||e;return de.useEffect(()=>{e==null&&(kT+=1,n(`mui-${kT}`))},[e]),r}const V5={...hx},LT=V5.useId;function j5(t){return LT!==void 0?LT():U5(t)}function H5(t){const e=vy(),n=j5()||"",{modularCssLayers:r}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,I4(()=>{var g,x;const o=document.querySelector("head");if(!o)return;const u=o.firstChild;if(i){if(u&&((g=u.hasAttribute)!=null&&g.call(u,"data-mui-layer-order"))&&u.getAttribute("data-mui-layer-order")===n)return;const m=document.createElement("style");m.setAttribute("data-mui-layer-order",n),m.textContent=i,o.prepend(m)}else(x=o.querySelector(`style[data-mui-layer-order="${n}"]`))==null||x.remove()},[i,n]),i?F.jsx(A5,{styles:i}):null}const PT={};function FT(t,e,n,r=!1){return de.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const o=n(i),u=t?{...e,[t]:o}:o;return r?()=>u:u}return t?{...e,[t]:n}:{...e,...n}},[t,e,n,r])}function O4(t){const{children:e,theme:n,themeId:r}=t,i=vy(PT),o=Ty()||PT,u=FT(r,i,n),g=FT(r,o,n,!0),x=(r?u[r]:u).direction==="rtl",m=H5(u);return F.jsx(k5,{theme:g,children:F.jsx(H0.Provider,{value:u,children:F.jsx(P5,{value:x,children:F.jsxs(B5,{value:r?u[r].components:u.components,children:[m,e]})})})})}const Ay="mode",Sy="color-scheme",z5="data-color-scheme";function G5(t){const{defaultMode:e="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=Ay,colorSchemeStorageKey:o=Sy,attribute:u=z5,colorSchemeNode:g="document.documentElement",nonce:x}=t||{};let m="",_=u;if(u==="class"&&(_=".%s"),u==="data"&&(_="[data-%s]"),_.startsWith(".")){const C=_.substring(1);m+=`${g}.classList.remove('${C}'.replace('%s', light), '${C}'.replace('%s', dark));
      ${g}.classList.add('${C}'.replace('%s', colorScheme));`}const A=_.match(/\[([^\]]+)\]/);if(A){const[C,R]=A[1].split("=");R||(m+=`${g}.removeAttribute('${C}'.replace('%s', light));
      ${g}.removeAttribute('${C}'.replace('%s', dark));`),m+=`
      ${g}.setAttribute('${C}'.replace('%s', colorScheme), ${R?`${R}.replace('%s', colorScheme)`:'""'});`}else m+=`${g}.setAttribute('${_}', colorScheme);`;return F.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?x:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${o}-dark') || '${r}';
  const light = localStorage.getItem('${o}-light') || '${n}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${m}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function W5(){}const q5=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(n){if(typeof window>"u")return;if(!e)return n;let r;try{r=e.localStorage.getItem(t)}catch{}return r||n},set:n=>{if(e)try{e.localStorage.setItem(t,n)}catch{}},subscribe:n=>{if(!e)return W5;const r=i=>{const o=i.newValue;i.key===t&&n(o)};return e.addEventListener("storage",r),()=>{e.removeEventListener("storage",r)}}});function D2(){}function BT(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function D4(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function Y5(t){return D4(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function X5(t){const{defaultMode:e="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:o=Ay,colorSchemeStorageKey:u=Sy,storageWindow:g=typeof window>"u"?void 0:window,storageManager:x=q5,noSsr:m=!1}=t,_=i.join(","),A=i.length>1,C=de.useMemo(()=>x==null?void 0:x({key:o,storageWindow:g}),[x,o,g]),R=de.useMemo(()=>x==null?void 0:x({key:`${u}-light`,storageWindow:g}),[x,u,g]),O=de.useMemo(()=>x==null?void 0:x({key:`${u}-dark`,storageWindow:g}),[x,u,g]),[I,k]=de.useState(()=>{const V=(C==null?void 0:C.get(e))||e,L=(R==null?void 0:R.get(n))||n,M=(O==null?void 0:O.get(r))||r;return{mode:V,systemMode:BT(V),lightColorScheme:L,darkColorScheme:M}}),[H,Y]=de.useState(m||!A);de.useEffect(()=>{Y(!0)},[]);const W=Y5(I),te=de.useCallback(V=>{k(L=>{if(V===L.mode)return L;const M=V??e;return C==null||C.set(M),{...L,mode:M,systemMode:BT(M)}})},[C,e]),oe=de.useCallback(V=>{V?typeof V=="string"?V&&!_.includes(V)?console.error(`\`${V}\` does not exist in \`theme.colorSchemes\`.`):k(L=>{const M={...L};return D4(L,q=>{q==="light"&&(R==null||R.set(V),M.lightColorScheme=V),q==="dark"&&(O==null||O.set(V),M.darkColorScheme=V)}),M}):k(L=>{const M={...L},q=V.light===null?n:V.light,Q=V.dark===null?r:V.dark;return q&&(_.includes(q)?(M.lightColorScheme=q,R==null||R.set(q)):console.error(`\`${q}\` does not exist in \`theme.colorSchemes\`.`)),Q&&(_.includes(Q)?(M.darkColorScheme=Q,O==null||O.set(Q)):console.error(`\`${Q}\` does not exist in \`theme.colorSchemes\`.`)),M}):k(L=>(R==null||R.set(n),O==null||O.set(r),{...L,lightColorScheme:n,darkColorScheme:r}))},[_,R,O,n,r]),ve=de.useCallback(V=>{I.mode==="system"&&k(L=>{const M=V!=null&&V.matches?"dark":"light";return L.systemMode===M?L:{...L,systemMode:M}})},[I.mode]),B=de.useRef(ve);return B.current=ve,de.useEffect(()=>{if(typeof window.matchMedia!="function"||!A)return;const V=(...M)=>B.current(...M),L=window.matchMedia("(prefers-color-scheme: dark)");return L.addListener(V),V(L),()=>{L.removeListener(V)}},[A]),de.useEffect(()=>{if(A){const V=(C==null?void 0:C.subscribe(q=>{(!q||["light","dark","system"].includes(q))&&te(q||e)}))||D2,L=(R==null?void 0:R.subscribe(q=>{(!q||_.match(q))&&oe({light:q})}))||D2,M=(O==null?void 0:O.subscribe(q=>{(!q||_.match(q))&&oe({dark:q})}))||D2;return()=>{V(),L(),M()}}},[oe,te,_,e,g,A,C,R,O]),{...I,mode:H?I.mode:void 0,systemMode:H?I.systemMode:void 0,colorScheme:H?W:void 0,setMode:te,setColorScheme:oe}}const K5="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Q5(t){const{themeId:e,theme:n={},modeStorageKey:r=Ay,colorSchemeStorageKey:i=Sy,disableTransitionOnChange:o=!1,defaultColorScheme:u,resolveTheme:g}=t,x={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},m=de.createContext(void 0),_=()=>de.useContext(m)||x,A={},C={};function R(H){var Zt,nn,wn,on;const{children:Y,theme:W,modeStorageKey:te=r,colorSchemeStorageKey:oe=i,disableTransitionOnChange:ve=o,storageManager:B,storageWindow:V=typeof window>"u"?void 0:window,documentNode:L=typeof document>"u"?void 0:document,colorSchemeNode:M=typeof document>"u"?void 0:document.documentElement,disableNestedContext:q=!1,disableStyleSheetGeneration:Q=!1,defaultMode:Z="system",forceThemeRerender:pt=!1,noSsr:Ee}=H,be=de.useRef(!1),Ue=Ty(),xt=de.useContext(m),wt=!!xt&&!q,me=de.useMemo(()=>W||(typeof n=="function"?n():n),[W]),Ge=me[e],ie=Ge||me,{colorSchemes:fe=A,components:he=C,cssVarPrefix:pe}=ie,_e=Object.keys(fe).filter(ur=>!!fe[ur]).join(","),lt=de.useMemo(()=>_e.split(","),[_e]),Ze=typeof u=="string"?u:u.light,mt=typeof u=="string"?u:u.dark,ot=fe[Ze]&&fe[mt]?Z:((nn=(Zt=fe[ie.defaultColorScheme])==null?void 0:Zt.palette)==null?void 0:nn.mode)||((wn=ie.palette)==null?void 0:wn.mode),{mode:Ot,setMode:Pt,systemMode:St,lightColorScheme:Ut,darkColorScheme:Bn,colorScheme:vn,setColorScheme:rt}=X5({supportedColorSchemes:lt,defaultLightColorScheme:Ze,defaultDarkColorScheme:mt,modeStorageKey:te,colorSchemeStorageKey:oe,defaultMode:ot,storageManager:B,storageWindow:V,noSsr:Ee});let jt=Ot,Tt=vn;wt&&(jt=xt.mode,Tt=xt.colorScheme);let vr=Tt||ie.defaultColorScheme;ie.vars&&!pt&&(vr=ie.defaultColorScheme);const gt=de.useMemo(()=>{var Zr;const ur=((Zr=ie.generateThemeVars)==null?void 0:Zr.call(ie))||ie.vars,Tn={...ie,components:he,colorSchemes:fe,cssVarPrefix:pe,vars:ur};if(typeof Tn.generateSpacing=="function"&&(Tn.spacing=Tn.generateSpacing()),vr){const $t=fe[vr];$t&&typeof $t=="object"&&Object.keys($t).forEach(et=>{$t[et]&&typeof $t[et]=="object"?Tn[et]={...Tn[et],...$t[et]}:Tn[et]=$t[et]})}return g?g(Tn):Tn},[ie,vr,he,fe,pe]),Ri=ie.colorSchemeSelector;I4(()=>{if(Tt&&M&&Ri&&Ri!=="media"){const ur=Ri;let Tn=Ri;if(ur==="class"&&(Tn=".%s"),ur==="data"&&(Tn="[data-%s]"),ur!=null&&ur.startsWith("data-")&&!ur.includes("%s")&&(Tn=`[${ur}="%s"]`),Tn.startsWith("."))M.classList.remove(...lt.map(Zr=>Tn.substring(1).replace("%s",Zr))),M.classList.add(Tn.substring(1).replace("%s",Tt));else{const Zr=Tn.replace("%s",Tt).match(/\[([^\]]+)\]/);if(Zr){const[$t,et]=Zr[1].split("=");et||lt.forEach(fn=>{M.removeAttribute($t.replace(Tt,fn))}),M.setAttribute($t,et?et.replace(/"|'/g,""):"")}else M.setAttribute(Tn,Tt)}}},[Tt,Ri,M,lt]),de.useEffect(()=>{let ur;if(ve&&be.current&&L){const Tn=L.createElement("style");Tn.appendChild(L.createTextNode(K5)),L.head.appendChild(Tn),window.getComputedStyle(L.body),ur=setTimeout(()=>{L.head.removeChild(Tn)},1)}return()=>{clearTimeout(ur)}},[Tt,ve,L]),de.useEffect(()=>(be.current=!0,()=>{be.current=!1}),[]);const ls=de.useMemo(()=>({allColorSchemes:lt,colorScheme:Tt,darkColorScheme:Bn,lightColorScheme:Ut,mode:jt,setColorScheme:rt,setMode:Pt,systemMode:St}),[lt,Tt,Bn,Ut,jt,rt,Pt,St,gt.colorSchemeSelector]);let Un=!0;(Q||ie.cssVariables===!1||wt&&(Ue==null?void 0:Ue.cssVarPrefix)===pe)&&(Un=!1);const Yi=F.jsxs(de.Fragment,{children:[F.jsx(O4,{themeId:Ge?e:void 0,theme:gt,children:Y}),Un&&F.jsx(E4,{styles:((on=gt.generateStyleSheets)==null?void 0:on.call(gt))||[]})]});return wt?Yi:F.jsx(m.Provider,{value:ls,children:Yi})}const O=typeof u=="string"?u:u.light,I=typeof u=="string"?u:u.dark;return{CssVarsProvider:R,useColorScheme:_,getInitColorSchemeScript:H=>G5({colorSchemeStorageKey:i,defaultLightColorScheme:O,defaultDarkColorScheme:I,modeStorageKey:r,...H})}}function $5(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const UT=(t,e,n,r=[])=>{let i=t;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},Z5=(t,e,n)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([g,x])=>{(!n||n&&!n([...o,g]))&&x!=null&&(typeof x=="object"&&Object.keys(x).length>0?r(x,[...o,g],Array.isArray(x)?[...u,g]:u):e([...o,g],x,u))})}r(t)},J5=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function M2(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return Z5(t,(g,x,m)=>{if((typeof x=="string"||typeof x=="number")&&(!r||!r(g,x))){const _=`--${n?`${n}-`:""}${g.join("-")}`,A=J5(g,x);Object.assign(i,{[_]:A}),UT(o,g,`var(${_})`,m),UT(u,g,`var(${_}, ${A})`,m)}},g=>g[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function eM(t,e={}){const{getSelector:n=k,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:g="light",...x}=t,{vars:m,css:_,varsWithDefaults:A}=M2(x,e);let C=A;const R={},{[g]:O,...I}=o;if(Object.entries(I||{}).forEach(([W,te])=>{const{vars:oe,css:ve,varsWithDefaults:B}=M2(te,e);C=la(C,B),R[W]={css:ve,vars:oe}}),O){const{css:W,vars:te,varsWithDefaults:oe}=M2(O,e);C=la(C,oe),R[g]={css:W,vars:te}}function k(W,te){var ve,B;let oe=i;if(i==="class"&&(oe=".%s"),i==="data"&&(oe="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(oe=`[${i}="%s"]`),W){if(oe==="media")return t.defaultColorScheme===W?":root":{[`@media (prefers-color-scheme: ${((B=(ve=o[W])==null?void 0:ve.palette)==null?void 0:B.mode)||W})`]:{":root":te}};if(oe)return t.defaultColorScheme===W?`:root, ${oe.replace("%s",String(W))}`:oe.replace("%s",String(W))}return":root"}return{vars:C,generateThemeVars:()=>{let W={...m};return Object.entries(R).forEach(([,{vars:te}])=>{W=la(W,te)}),W},generateStyleSheets:()=>{var V,L;const W=[],te=t.defaultColorScheme||"light";function oe(M,q){Object.keys(q).length&&W.push(typeof M=="string"?{[M]:{...q}}:M)}oe(n(void 0,{..._}),_);const{[te]:ve,...B}=R;if(ve){const{css:M}=ve,q=(L=(V=o[te])==null?void 0:V.palette)==null?void 0:L.mode,Q=!r&&q?{colorScheme:q,...M}:{...M};oe(n(te,{...Q}),Q)}return Object.entries(B).forEach(([M,{css:q}])=>{var pt,Ee;const Q=(Ee=(pt=o[M])==null?void 0:pt.palette)==null?void 0:Ee.mode,Z=!r&&Q?{colorScheme:Q,...q}:{...q};oe(n(M,{...Z}),Z)}),W}}}function tM(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}function M4(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:p0.white,default:p0.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const nM=M4();function k4(){return{text:{primary:p0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:p0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const VT=k4();function jT(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=wy(t.main,i):e==="dark"&&(t.dark=Ey(t.main,o)))}function rM(t="light"){return t==="dark"?{main:ef[200],light:ef[50],dark:ef[400]}:{main:ef[700],light:ef[400],dark:ef[800]}}function iM(t="light"){return t==="dark"?{main:Ju[200],light:Ju[50],dark:Ju[400]}:{main:Ju[500],light:Ju[300],dark:Ju[700]}}function sM(t="light"){return t==="dark"?{main:Zu[500],light:Zu[300],dark:Zu[700]}:{main:Zu[700],light:Zu[400],dark:Zu[800]}}function aM(t="light"){return t==="dark"?{main:tf[400],light:tf[300],dark:tf[700]}:{main:tf[700],light:tf[500],dark:tf[900]}}function oM(t="light"){return t==="dark"?{main:nf[400],light:nf[300],dark:nf[700]}:{main:nf[800],light:nf[500],dark:nf[900]}}function lM(t="light"){return t==="dark"?{main:Uh[400],light:Uh[300],dark:Uh[700]}:{main:"#ed6c02",light:Uh[500],dark:Uh[900]}}function Cy(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,o=t.primary||rM(e),u=t.secondary||iM(e),g=t.error||sM(e),x=t.info||aM(e),m=t.success||oM(e),_=t.warning||lM(e);function A(I){return I5(I,VT.text.primary)>=n?VT.text.primary:nM.text.primary}const C=({color:I,name:k,mainShade:H=500,lightShade:Y=300,darkShade:W=700})=>{if(I={...I},!I.main&&I[H]&&(I.main=I[H]),!I.hasOwnProperty("main"))throw new Error(Zc(11,k?` (${k})`:"",H));if(typeof I.main!="string")throw new Error(Zc(12,k?` (${k})`:"",JSON.stringify(I.main)));return jT(I,"light",Y,r),jT(I,"dark",W,r),I.contrastText||(I.contrastText=A(I.main)),I};let R;return e==="light"?R=M4():e==="dark"&&(R=k4()),la({common:{...p0},mode:e,primary:C({color:o,name:"primary"}),secondary:C({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:g,name:"error"}),warning:C({color:_,name:"warning"}),info:C({color:x,name:"info"}),success:C({color:m,name:"success"}),grey:TO,contrastThreshold:n,getContrastText:A,augmentColor:C,tonalOffset:r,...R},i)}function cM(t){const e={};return Object.entries(t).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function uM(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function fM(t){return Math.round(t*1e5)/1e5}const HT={textTransform:"uppercase"},zT='"Roboto", "Helvetica", "Arial", sans-serif';function L4(t,e){const{fontFamily:n=zT,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:g=700,htmlFontSize:x=16,allVariants:m,pxToRem:_,...A}=typeof e=="function"?e(t):e,C=r/14,R=_||(k=>`${k/x*C}rem`),O=(k,H,Y,W,te)=>({fontFamily:n,fontWeight:k,fontSize:R(H),lineHeight:Y,...n===zT?{letterSpacing:`${fM(W/H)}em`}:{},...te,...m}),I={h1:O(i,96,1.167,-1.5),h2:O(i,60,1.2,-.5),h3:O(o,48,1.167,0),h4:O(o,34,1.235,.25),h5:O(o,24,1.334,0),h6:O(u,20,1.6,.15),subtitle1:O(o,16,1.75,.15),subtitle2:O(u,14,1.57,.1),body1:O(o,16,1.5,.15),body2:O(o,14,1.43,.15),button:O(u,14,1.75,.4,HT),caption:O(o,12,1.66,.4),overline:O(o,12,2.66,1,HT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return la({htmlFontSize:x,pxToRem:R,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:g,...I},A,{clone:!1})}const hM=.2,dM=.14,gM=.12;function Cr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${hM})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${dM})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${gM})`].join(",")}const mM=["none",Cr(0,2,1,-1,0,1,1,0,0,1,3,0),Cr(0,3,1,-2,0,2,2,0,0,1,5,0),Cr(0,3,3,-2,0,3,4,0,0,1,8,0),Cr(0,2,4,-1,0,4,5,0,0,1,10,0),Cr(0,3,5,-1,0,5,8,0,0,1,14,0),Cr(0,3,5,-1,0,6,10,0,0,1,18,0),Cr(0,4,5,-2,0,7,10,1,0,2,16,1),Cr(0,5,5,-3,0,8,10,1,0,3,14,2),Cr(0,5,6,-3,0,9,12,1,0,3,16,2),Cr(0,6,6,-3,0,10,14,1,0,4,18,3),Cr(0,6,7,-4,0,11,15,1,0,4,20,3),Cr(0,7,8,-4,0,12,17,2,0,5,22,4),Cr(0,7,8,-4,0,13,19,2,0,5,24,4),Cr(0,7,9,-4,0,14,21,2,0,5,26,4),Cr(0,8,9,-5,0,15,22,2,0,6,28,5),Cr(0,8,10,-5,0,16,24,2,0,6,30,5),Cr(0,8,11,-5,0,17,26,2,0,6,32,5),Cr(0,9,11,-5,0,18,28,2,0,7,34,6),Cr(0,9,12,-6,0,19,29,2,0,7,36,6),Cr(0,10,13,-6,0,20,31,3,0,8,38,7),Cr(0,10,13,-6,0,21,33,3,0,8,40,7),Cr(0,10,14,-6,0,22,35,3,0,8,42,7),Cr(0,11,14,-7,0,23,36,3,0,9,44,8),Cr(0,11,15,-7,0,24,38,3,0,9,46,8)],pM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},xM={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function GT(t){return`${Math.round(t)}ms`}function yM(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function vM(t){const e={...pM,...t.easing},n={...xM,...t.duration};return{getAutoHeightDuration:yM,create:(i=["all"],o={})=>{const{duration:u=n.standard,easing:g=e.easeInOut,delay:x=0,...m}=o;return(Array.isArray(i)?i:[i]).map(_=>`${_} ${typeof u=="string"?u:GT(u)} ${g} ${typeof x=="string"?x:GT(x)}`).join(",")},...t,easing:e,duration:n}}const _M={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function EM(t){return Ql(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function P4(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,g]=i[o];!EM(g)||u.startsWith("unstable_")?delete r[u]:Ql(g)&&(r[u]={...g},n(r[u]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function _x(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:g={},shape:x,...m}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Zc(20));const _=Cy(o),A=b4(t);let C=la(A,{mixins:uM(A.breakpoints,r),palette:_,shadows:mM.slice(),typography:L4(_,g),transitions:vM(u),zIndex:{..._M}});return C=la(C,m),C=e.reduce((R,O)=>la(R,O),C),C.unstable_sxConfig={...Qg,...m==null?void 0:m.unstable_sxConfig},C.unstable_sx=function(O){return W0({sx:O,theme:this})},C.toRuntimeSource=P4,C}function wM(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const TM=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=wM(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function F4(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function B4(t){return t==="dark"?TM:[]}function AM(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,o=Cy(e);return{palette:o,opacity:{...F4(o.mode),...n},overlays:r||B4(o.mode),...i}}function SM(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const CM=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],bM=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const u={};return CM(t.cssVarPrefix).forEach(g=>{u[g]=n[g],delete n[g]}),o==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:n}:{[r]:{...n,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(o)return o.replace("%s",String(e))}return r};function IM(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function ze(t,e,n){!t[e]&&n&&(t[e]=n)}function Gh(t){return typeof t!="string"||!t.startsWith("hsl")?t:R4(t)}function $o(t,e){`${e}Channel`in t||(t[`${e}Channel`]=zh(Gh(t[e])))}function RM(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const ho=t=>{try{return t()}catch{}},NM=(t="mui")=>$5(t);function k2(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=AM({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=_x({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:o,opacity:{...F4(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||B4(i)},u}function OM(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=SM,colorSchemeSelector:g=n.light&&n.dark?"media":void 0,rootSelector:x=":root",...m}=t,_=Object.keys(n)[0],A=r||(n.light&&_!=="light"?"light":_),C=NM(o),{[A]:R,light:O,dark:I,...k}=n,H={...k};let Y=R;if((A==="dark"&&!("dark"in n)||A==="light"&&!("light"in n))&&(Y=!0),!Y)throw new Error(Zc(21,A));const W=k2(H,Y,m,A);O&&!H.light&&k2(H,O,void 0,"light"),I&&!H.dark&&k2(H,I,void 0,"dark");let te={defaultColorScheme:A,...W,cssVarPrefix:o,colorSchemeSelector:g,rootSelector:x,getCssVar:C,colorSchemes:H,font:{...cM(W.typography),...W.font},spacing:RM(m.spacing)};Object.keys(te.colorSchemes).forEach(L=>{const M=te.colorSchemes[L].palette,q=Q=>{const Z=Q.split("-"),pt=Z[1],Ee=Z[2];return C(Q,M[pt][Ee])};if(M.mode==="light"&&(ze(M.common,"background","#fff"),ze(M.common,"onBackground","#000")),M.mode==="dark"&&(ze(M.common,"background","#000"),ze(M.common,"onBackground","#fff")),IM(M,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),M.mode==="light"){ze(M.Alert,"errorColor",sr(M.error.light,.6)),ze(M.Alert,"infoColor",sr(M.info.light,.6)),ze(M.Alert,"successColor",sr(M.success.light,.6)),ze(M.Alert,"warningColor",sr(M.warning.light,.6)),ze(M.Alert,"errorFilledBg",q("palette-error-main")),ze(M.Alert,"infoFilledBg",q("palette-info-main")),ze(M.Alert,"successFilledBg",q("palette-success-main")),ze(M.Alert,"warningFilledBg",q("palette-warning-main")),ze(M.Alert,"errorFilledColor",ho(()=>M.getContrastText(M.error.main))),ze(M.Alert,"infoFilledColor",ho(()=>M.getContrastText(M.info.main))),ze(M.Alert,"successFilledColor",ho(()=>M.getContrastText(M.success.main))),ze(M.Alert,"warningFilledColor",ho(()=>M.getContrastText(M.warning.main))),ze(M.Alert,"errorStandardBg",ar(M.error.light,.9)),ze(M.Alert,"infoStandardBg",ar(M.info.light,.9)),ze(M.Alert,"successStandardBg",ar(M.success.light,.9)),ze(M.Alert,"warningStandardBg",ar(M.warning.light,.9)),ze(M.Alert,"errorIconColor",q("palette-error-main")),ze(M.Alert,"infoIconColor",q("palette-info-main")),ze(M.Alert,"successIconColor",q("palette-success-main")),ze(M.Alert,"warningIconColor",q("palette-warning-main")),ze(M.AppBar,"defaultBg",q("palette-grey-100")),ze(M.Avatar,"defaultBg",q("palette-grey-400")),ze(M.Button,"inheritContainedBg",q("palette-grey-300")),ze(M.Button,"inheritContainedHoverBg",q("palette-grey-A100")),ze(M.Chip,"defaultBorder",q("palette-grey-400")),ze(M.Chip,"defaultAvatarColor",q("palette-grey-700")),ze(M.Chip,"defaultIconColor",q("palette-grey-700")),ze(M.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ze(M.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ze(M.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ze(M.LinearProgress,"primaryBg",ar(M.primary.main,.62)),ze(M.LinearProgress,"secondaryBg",ar(M.secondary.main,.62)),ze(M.LinearProgress,"errorBg",ar(M.error.main,.62)),ze(M.LinearProgress,"infoBg",ar(M.info.main,.62)),ze(M.LinearProgress,"successBg",ar(M.success.main,.62)),ze(M.LinearProgress,"warningBg",ar(M.warning.main,.62)),ze(M.Skeleton,"bg",`rgba(${q("palette-text-primaryChannel")} / 0.11)`),ze(M.Slider,"primaryTrack",ar(M.primary.main,.62)),ze(M.Slider,"secondaryTrack",ar(M.secondary.main,.62)),ze(M.Slider,"errorTrack",ar(M.error.main,.62)),ze(M.Slider,"infoTrack",ar(M.info.main,.62)),ze(M.Slider,"successTrack",ar(M.success.main,.62)),ze(M.Slider,"warningTrack",ar(M.warning.main,.62));const Q=m1(M.background.default,.8);ze(M.SnackbarContent,"bg",Q),ze(M.SnackbarContent,"color",ho(()=>M.getContrastText(Q))),ze(M.SpeedDialAction,"fabHoverBg",m1(M.background.paper,.15)),ze(M.StepConnector,"border",q("palette-grey-400")),ze(M.StepContent,"border",q("palette-grey-400")),ze(M.Switch,"defaultColor",q("palette-common-white")),ze(M.Switch,"defaultDisabledColor",q("palette-grey-100")),ze(M.Switch,"primaryDisabledColor",ar(M.primary.main,.62)),ze(M.Switch,"secondaryDisabledColor",ar(M.secondary.main,.62)),ze(M.Switch,"errorDisabledColor",ar(M.error.main,.62)),ze(M.Switch,"infoDisabledColor",ar(M.info.main,.62)),ze(M.Switch,"successDisabledColor",ar(M.success.main,.62)),ze(M.Switch,"warningDisabledColor",ar(M.warning.main,.62)),ze(M.TableCell,"border",ar(g1(M.divider,1),.88)),ze(M.Tooltip,"bg",g1(M.grey[700],.92))}if(M.mode==="dark"){ze(M.Alert,"errorColor",ar(M.error.light,.6)),ze(M.Alert,"infoColor",ar(M.info.light,.6)),ze(M.Alert,"successColor",ar(M.success.light,.6)),ze(M.Alert,"warningColor",ar(M.warning.light,.6)),ze(M.Alert,"errorFilledBg",q("palette-error-dark")),ze(M.Alert,"infoFilledBg",q("palette-info-dark")),ze(M.Alert,"successFilledBg",q("palette-success-dark")),ze(M.Alert,"warningFilledBg",q("palette-warning-dark")),ze(M.Alert,"errorFilledColor",ho(()=>M.getContrastText(M.error.dark))),ze(M.Alert,"infoFilledColor",ho(()=>M.getContrastText(M.info.dark))),ze(M.Alert,"successFilledColor",ho(()=>M.getContrastText(M.success.dark))),ze(M.Alert,"warningFilledColor",ho(()=>M.getContrastText(M.warning.dark))),ze(M.Alert,"errorStandardBg",sr(M.error.light,.9)),ze(M.Alert,"infoStandardBg",sr(M.info.light,.9)),ze(M.Alert,"successStandardBg",sr(M.success.light,.9)),ze(M.Alert,"warningStandardBg",sr(M.warning.light,.9)),ze(M.Alert,"errorIconColor",q("palette-error-main")),ze(M.Alert,"infoIconColor",q("palette-info-main")),ze(M.Alert,"successIconColor",q("palette-success-main")),ze(M.Alert,"warningIconColor",q("palette-warning-main")),ze(M.AppBar,"defaultBg",q("palette-grey-900")),ze(M.AppBar,"darkBg",q("palette-background-paper")),ze(M.AppBar,"darkColor",q("palette-text-primary")),ze(M.Avatar,"defaultBg",q("palette-grey-600")),ze(M.Button,"inheritContainedBg",q("palette-grey-800")),ze(M.Button,"inheritContainedHoverBg",q("palette-grey-700")),ze(M.Chip,"defaultBorder",q("palette-grey-700")),ze(M.Chip,"defaultAvatarColor",q("palette-grey-300")),ze(M.Chip,"defaultIconColor",q("palette-grey-300")),ze(M.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ze(M.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ze(M.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ze(M.LinearProgress,"primaryBg",sr(M.primary.main,.5)),ze(M.LinearProgress,"secondaryBg",sr(M.secondary.main,.5)),ze(M.LinearProgress,"errorBg",sr(M.error.main,.5)),ze(M.LinearProgress,"infoBg",sr(M.info.main,.5)),ze(M.LinearProgress,"successBg",sr(M.success.main,.5)),ze(M.LinearProgress,"warningBg",sr(M.warning.main,.5)),ze(M.Skeleton,"bg",`rgba(${q("palette-text-primaryChannel")} / 0.13)`),ze(M.Slider,"primaryTrack",sr(M.primary.main,.5)),ze(M.Slider,"secondaryTrack",sr(M.secondary.main,.5)),ze(M.Slider,"errorTrack",sr(M.error.main,.5)),ze(M.Slider,"infoTrack",sr(M.info.main,.5)),ze(M.Slider,"successTrack",sr(M.success.main,.5)),ze(M.Slider,"warningTrack",sr(M.warning.main,.5));const Q=m1(M.background.default,.98);ze(M.SnackbarContent,"bg",Q),ze(M.SnackbarContent,"color",ho(()=>M.getContrastText(Q))),ze(M.SpeedDialAction,"fabHoverBg",m1(M.background.paper,.15)),ze(M.StepConnector,"border",q("palette-grey-600")),ze(M.StepContent,"border",q("palette-grey-600")),ze(M.Switch,"defaultColor",q("palette-grey-300")),ze(M.Switch,"defaultDisabledColor",q("palette-grey-600")),ze(M.Switch,"primaryDisabledColor",sr(M.primary.main,.55)),ze(M.Switch,"secondaryDisabledColor",sr(M.secondary.main,.55)),ze(M.Switch,"errorDisabledColor",sr(M.error.main,.55)),ze(M.Switch,"infoDisabledColor",sr(M.info.main,.55)),ze(M.Switch,"successDisabledColor",sr(M.success.main,.55)),ze(M.Switch,"warningDisabledColor",sr(M.warning.main,.55)),ze(M.TableCell,"border",sr(g1(M.divider,1),.68)),ze(M.Tooltip,"bg",g1(M.grey[700],.92))}$o(M.background,"default"),$o(M.background,"paper"),$o(M.common,"background"),$o(M.common,"onBackground"),$o(M,"divider"),Object.keys(M).forEach(Q=>{const Z=M[Q];Q!=="tonalOffset"&&Z&&typeof Z=="object"&&(Z.main&&ze(M[Q],"mainChannel",zh(Gh(Z.main))),Z.light&&ze(M[Q],"lightChannel",zh(Gh(Z.light))),Z.dark&&ze(M[Q],"darkChannel",zh(Gh(Z.dark))),Z.contrastText&&ze(M[Q],"contrastTextChannel",zh(Gh(Z.contrastText))),Q==="text"&&($o(M[Q],"primary"),$o(M[Q],"secondary")),Q==="action"&&(Z.active&&$o(M[Q],"active"),Z.selected&&$o(M[Q],"selected")))})}),te=e.reduce((L,M)=>la(L,M),te);const oe={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:bM(te)},{vars:ve,generateThemeVars:B,generateStyleSheets:V}=eM(te,oe);return te.vars=ve,Object.entries(te.colorSchemes[te.defaultColorScheme]).forEach(([L,M])=>{te[L]=M}),te.generateThemeVars=B,te.generateStyleSheets=V,te.generateSpacing=function(){return C4(m.spacing,xy(this))},te.getColorSchemeSelector=tM(g),te.spacing=te.generateSpacing(),te.shouldSkipGeneratingVar=u,te.unstable_sxConfig={...Qg,...m==null?void 0:m.unstable_sxConfig},te.unstable_sx=function(M){return W0({sx:M,theme:this})},te.toRuntimeSource=P4,te}function WT(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:Cy({...n===!0?{}:n.palette,mode:e})})}function U4(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:o=n==null?void 0:n.mode,...u}=t,g=o||"light",x=i==null?void 0:i[g],m={...i,...n?{[g]:{...typeof x!="boolean"&&x,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return _x(t,...e);let _=n;"palette"in t||m[g]&&(m[g]!==!0?_=m[g].palette:g==="dark"&&(_={mode:"dark"}));const A=_x({...t,palette:_},...e);return A.defaultColorScheme=g,A.colorSchemes=m,A.palette.mode==="light"&&(A.colorSchemes.light={...m.light!==!0&&m.light,palette:A.palette},WT(A,"dark",m.dark)),A.palette.mode==="dark"&&(A.colorSchemes.dark={...m.dark!==!0&&m.dark,palette:A.palette},WT(A,"light",m.light)),A}return!n&&!("light"in m)&&g==="light"&&(m.light=!0),OM({...u,colorSchemes:m,defaultColorScheme:g,...typeof r!="boolean"&&r},...e)}function DM({theme:t,...e}){const n=pf in t?t[pf]:void 0;return F.jsx(O4,{...e,themeId:n?pf:void 0,theme:n||t})}const p1={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:MM}=Q5({themeId:pf,theme:()=>U4({cssVariables:!0}),colorSchemeStorageKey:p1.colorSchemeStorageKey,modeStorageKey:p1.modeStorageKey,defaultColorScheme:{light:p1.defaultLightColorScheme,dark:p1.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:L4(t.palette,t.typography)};return e.unstable_sx=function(r){return W0({sx:r,theme:this})},e}}),kM=MM;function LM({theme:t,...e}){const n=de.useMemo(()=>{if(typeof t=="function")return t;const r=pf in t?t[pf]:t;return"colorSchemes"in r?null:"vars"in r?t:{...t,vars:null}},[t]);return n?F.jsx(DM,{theme:n,...e}):F.jsx(kM,{theme:t,...e})}const PM=()=>{};var qT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],u=t[n++],g=t[n++],x=((i&7)<<18|(o&63)<<12|(u&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(x>>10)),e[r++]=String.fromCharCode(56320+(x&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},j4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],u=i+1<t.length,g=u?t[i+1]:0,x=i+2<t.length,m=x?t[i+2]:0,_=o>>2,A=(o&3)<<4|g>>4;let C=(g&15)<<2|m>>6,R=m&63;x||(R=64,u||(C=64)),r.push(n[_],n[A],n[C],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(V4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],g=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const A=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||g==null||m==null||A==null)throw new BM;const C=o<<2|g>>4;if(r.push(C),m!==64){const R=g<<4&240|m>>2;if(r.push(R),A!==64){const O=m<<6&192|A;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UM=function(t){const e=V4(t);return j4.encodeByteArray(e,!0)},Z1=function(t){return UM(t).replace(/\./g,"")},H4=function(t){try{return j4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=()=>VM().__FIREBASE_DEFAULTS__,HM=()=>{if(typeof process>"u"||typeof qT>"u")return;const t=qT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&H4(t[1]);return e&&JSON.parse(e)},Zg=()=>{try{return PM()||jM()||HM()||zM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},z4=t=>{var e,n;return(n=(e=Zg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},G4=t=>{const e=z4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},W4=()=>{var t;return(t=Zg())===null||t===void 0?void 0:t.config},q4=t=>{var e;return(e=Zg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function by(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Z1(JSON.stringify(n)),Z1(JSON.stringify(u)),""].join(".")}const t0={};function WM(){const t={prod:[],emulator:[]};for(const e of Object.keys(t0))t0[e]?t.emulator.push(e):t.prod.push(e);return t}function qM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let YT=!1;function Iy(t,e){if(typeof window>"u"||typeof document>"u"||!Tc(window.location.host)||t0[t]===e||t0[t]||YT)return;t0[t]=e;function n(C){return`__firebase__banner__${C}`}const r="__firebase__banner",o=WM().prod.length>0;function u(){const C=document.getElementById(r);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function x(C,R){C.setAttribute("width","24"),C.setAttribute("id",R),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function m(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{YT=!0,u()},C}function _(C,R){C.setAttribute("id",R),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function A(){const C=qM(r),R=n("text"),O=document.getElementById(R)||document.createElement("span"),I=n("learnmore"),k=document.getElementById(I)||document.createElement("a"),H=n("preprendIcon"),Y=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const W=C.element;g(W),_(k,I);const te=m();x(Y,H),W.append(Y,O,k,te),document.body.appendChild(W)}o?(O.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(os())}function XM(){var t;const e=(t=Zg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $M(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZM(){const t=os();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JM(){return!XM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function e9(){try{return typeof indexedDB=="object"}catch{return!1}}function t9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9="FirebaseError";class Do extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=n9,Object.setPrototypeOf(this,Do.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q0.prototype.create)}}class q0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?r9(o,r):"Error",g=`${this.serviceName}: ${u} (${i}).`;return new Do(i,g,r)}}function r9(t,e){return t.replace(i9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const i9=/\{\$([^}]+)}/g;function s9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],u=e[i];if(XT(o)&&XT(u)){if(!Jc(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function XT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function qh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function a9(t,e){const n=new o9(t,e);return n.subscribe.bind(n)}class o9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");l9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=L2),i.error===void 0&&(i.error=L2),i.complete===void 0&&(i.complete=L2);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function L2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t){return t&&t._delegate?t._delegate:t}class uc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f9(e))try{this.getOrInitializeService({instanceIdentifier:Gc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Gc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gc){return this.instances.has(e)}getOptions(e=Gc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(o);r===g&&u.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:u9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gc){return this.component?this.component.multipleInstances?e:Gc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u9(t){return t===Gc?void 0:t}function f9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new c9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xn||(xn={}));const d9={debug:xn.DEBUG,verbose:xn.VERBOSE,info:xn.INFO,warn:xn.WARN,error:xn.ERROR,silent:xn.SILENT},g9=xn.INFO,m9={[xn.DEBUG]:"log",[xn.VERBOSE]:"log",[xn.INFO]:"info",[xn.WARN]:"warn",[xn.ERROR]:"error"},p9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=m9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ry{constructor(e){this.name=e,this._logLevel=g9,this._logHandler=p9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xn.DEBUG,...e),this._logHandler(this,xn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xn.VERBOSE,...e),this._logHandler(this,xn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xn.INFO,...e),this._logHandler(this,xn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xn.WARN,...e),this._logHandler(this,xn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xn.ERROR,...e),this._logHandler(this,xn.ERROR,...e)}}const x9=(t,e)=>e.some(n=>t instanceof n);let KT,QT;function y9(){return KT||(KT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v9(){return QT||(QT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X4=new WeakMap,Ex=new WeakMap,K4=new WeakMap,P2=new WeakMap,Ny=new WeakMap;function _9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(sc(t.result)),i()},u=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&X4.set(n,t)}).catch(()=>{}),Ny.set(e,t),e}function E9(t){if(Ex.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),i()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});Ex.set(t,e)}let wx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ex.get(t);if(e==="objectStoreNames")return t.objectStoreNames||K4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function w9(t){wx=t(wx)}function T9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(F2(this),e,...n);return K4.set(r,e.sort?e.sort():[e]),sc(r)}:v9().includes(t)?function(...e){return t.apply(F2(this),e),sc(X4.get(this))}:function(...e){return sc(t.apply(F2(this),e))}}function A9(t){return typeof t=="function"?T9(t):(t instanceof IDBTransaction&&E9(t),x9(t,y9())?new Proxy(t,wx):t)}function sc(t){if(t instanceof IDBRequest)return _9(t);if(P2.has(t))return P2.get(t);const e=A9(t);return e!==t&&(P2.set(t,e),Ny.set(e,t)),e}const F2=t=>Ny.get(t);function S9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(t,e),g=sc(u);return r&&u.addEventListener("upgradeneeded",x=>{r(sc(u.result),x.oldVersion,x.newVersion,sc(u.transaction),x)}),n&&u.addEventListener("blocked",x=>n(x.oldVersion,x.newVersion,x)),g.then(x=>{o&&x.addEventListener("close",()=>o()),i&&x.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),g}const C9=["get","getKey","getAll","getAllKeys","count"],b9=["put","add","delete","clear"],B2=new Map;function $T(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(B2.get(e))return B2.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=b9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||C9.includes(n)))return;const o=async function(u,...g){const x=this.transaction(u,i?"readwrite":"readonly");let m=x.store;return r&&(m=m.index(g.shift())),(await Promise.all([m[n](...g),i&&x.done]))[0]};return B2.set(e,o),o}w9(t=>({...t,get:(e,n,r)=>$T(e,n)||t.get(e,n,r),has:(e,n)=>!!$T(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function R9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tx="@firebase/app",ZT="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new Ry("@firebase/app"),N9="@firebase/app-compat",O9="@firebase/analytics-compat",D9="@firebase/analytics",M9="@firebase/app-check-compat",k9="@firebase/app-check",L9="@firebase/auth",P9="@firebase/auth-compat",F9="@firebase/database",B9="@firebase/data-connect",U9="@firebase/database-compat",V9="@firebase/functions",j9="@firebase/functions-compat",H9="@firebase/installations",z9="@firebase/installations-compat",G9="@firebase/messaging",W9="@firebase/messaging-compat",q9="@firebase/performance",Y9="@firebase/performance-compat",X9="@firebase/remote-config",K9="@firebase/remote-config-compat",Q9="@firebase/storage",$9="@firebase/storage-compat",Z9="@firebase/firestore",J9="@firebase/ai",e7="@firebase/firestore-compat",t7="firebase",n7="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="[DEFAULT]",r7={[Tx]:"fire-core",[N9]:"fire-core-compat",[D9]:"fire-analytics",[O9]:"fire-analytics-compat",[k9]:"fire-app-check",[M9]:"fire-app-check-compat",[L9]:"fire-auth",[P9]:"fire-auth-compat",[F9]:"fire-rtdb",[B9]:"fire-data-connect",[U9]:"fire-rtdb-compat",[V9]:"fire-fn",[j9]:"fire-fn-compat",[H9]:"fire-iid",[z9]:"fire-iid-compat",[G9]:"fire-fcm",[W9]:"fire-fcm-compat",[q9]:"fire-perf",[Y9]:"fire-perf-compat",[X9]:"fire-rc",[K9]:"fire-rc-compat",[Q9]:"fire-gcs",[$9]:"fire-gcs-compat",[Z9]:"fire-fst",[e7]:"fire-fst-compat",[J9]:"fire-vertex","fire-js":"fire-js",[t7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new Map,i7=new Map,Sx=new Map;function JT(t,e){try{t.container.addComponent(e)}catch(n){cl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function eu(t){const e=t.name;if(Sx.has(e))return cl.debug(`There were multiple attempts to register component ${e}.`),!1;Sx.set(e,t);for(const n of J1.values())JT(n,t);for(const n of i7.values())JT(n,t);return!0}function Jg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ra(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ac=new q0("app","Firebase",s7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ac.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=n7;function Q4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ax,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ac.create("bad-app-name",{appName:String(i)});if(n||(n=W4()),!n)throw ac.create("no-options");const o=J1.get(i);if(o){if(Jc(n,o.options)&&Jc(r,o.config))return o;throw ac.create("duplicate-app",{appName:i})}const u=new h9(i);for(const x of Sx.values())u.addComponent(x);const g=new a7(n,r,u);return J1.set(i,g),g}function Oy(t=Ax){const e=J1.get(t);if(!e&&t===Ax&&W4())return Q4();if(!e)throw ac.create("no-app",{appName:t});return e}function wo(t,e,n){var r;let i=(r=r7[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const g=[`Unable to register library "${i}" with version "${e}":`];o&&g.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&g.push("and"),u&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cl.warn(g.join(" "));return}eu(new uc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7="firebase-heartbeat-database",l7=1,_0="firebase-heartbeat-store";let U2=null;function $4(){return U2||(U2=S9(o7,l7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_0)}catch(n){console.warn(n)}}}}).catch(t=>{throw ac.create("idb-open",{originalErrorMessage:t.message})})),U2}async function c7(t){try{const n=(await $4()).transaction(_0),r=await n.objectStore(_0).get(Z4(t));return await n.done,r}catch(e){if(e instanceof Do)cl.warn(e.message);else{const n=ac.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cl.warn(n.message)}}}async function eA(t,e){try{const r=(await $4()).transaction(_0,"readwrite");await r.objectStore(_0).put(e,Z4(t)),await r.done}catch(n){if(n instanceof Do)cl.warn(n.message);else{const r=ac.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cl.warn(r.message)}}}function Z4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=1024,f7=30;class h7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new g7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=tA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>f7){const u=m7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){cl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tA(),{heartbeatsToSend:r,unsentEntries:i}=d7(this._heartbeatsCache.heartbeats),o=Z1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return cl.warn(n),""}}}function tA(){return new Date().toISOString().substring(0,10)}function d7(t,e=u7){const n=[];let r=t.slice();for(const i of t){const o=n.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),nA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class g7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e9()?t9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await c7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nA(t){return Z1(JSON.stringify({version:2,heartbeats:t})).length}function m7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(t){eu(new uc("platform-logger",e=>new I9(e),"PRIVATE")),eu(new uc("heartbeat",e=>new h7(e),"PRIVATE")),wo(Tx,ZT,t),wo(Tx,ZT,"esm2017"),wo("fire-js","")}p7("");function Dy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function J4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x7=J4,e3=new q0("auth","Firebase",J4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=new Ry("@firebase/auth");function y7(t,...e){eg.logLevel<=xn.WARN&&eg.warn(`Auth (${cu}): ${t}`,...e)}function U1(t,...e){eg.logLevel<=xn.ERROR&&eg.error(`Auth (${cu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t,...e){throw My(t,...e)}function To(t,...e){return My(t,...e)}function t3(t,e,n){const r=Object.assign(Object.assign({},x7()),{[e]:n});return new q0("auth","Firebase",r).create(e,{appName:t.name})}function nl(t){return t3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function My(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return e3.create(t,...e)}function Ft(t,e,...n){if(!t)throw My(e,...n)}function Zo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw U1(e),new Error(e)}function ul(t,e){t||Zo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function v7(){return rA()==="http:"||rA()==="https:"}function rA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v7()||QM()||"connection"in navigator)?navigator.onLine:!0}function E7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n){this.shortDelay=e,this.longDelay=n,ul(n>e,"Short delay should be less than long delay!"),this.isMobile=YM()||$M()}get(){return _7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t,e){ul(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A7=new X0(3e4,6e4);function Ac(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xl(t,e,n,r,i={}){return r3(t,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const g=Y0(Object.assign({key:t.config.apiKey},u)).slice(1),x=await t._getAdditionalHeaders();x["Content-Type"]="application/json",t.languageCode&&(x["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:x},o);return KM()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Tc(t.emulatorConfig.host)&&(m.credentials="include"),n3.fetch()(await i3(t,t.config.apiHost,n,g),m)})}async function r3(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},w7),e);try{const i=new C7(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw x1(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const g=o.ok?u.errorMessage:u.error.message,[x,m]=g.split(" : ");if(x==="FEDERATED_USER_ID_ALREADY_LINKED")throw x1(t,"credential-already-in-use",u);if(x==="EMAIL_EXISTS")throw x1(t,"email-already-in-use",u);if(x==="USER_DISABLED")throw x1(t,"user-disabled",u);const _=r[x]||x.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw t3(t,_,m);Qa(t,_)}}catch(i){if(i instanceof Do)throw i;Qa(t,"network-request-failed",{message:String(i)})}}async function K0(t,e,n,r,i={}){const o=await xl(t,e,n,r,i);return"mfaPendingCredential"in o&&Qa(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function i3(t,e,n,r){const i=`${e}${n}?${r}`,o=t,u=o.config.emulator?ky(t.config,i):`${t.config.apiScheme}://${i}`;return T7.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function S7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class C7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(To(this.auth,"network-request-failed")),A7.get())})}}function x1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=To(t,e,r);return i.customData._tokenResponse=n,i}function iA(t){return t!==void 0&&t.enterprise!==void 0}class b7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return S7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function I7(t,e){return xl(t,"GET","/v2/recaptchaConfig",Ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R7(t,e){return xl(t,"POST","/v1/accounts:delete",e)}async function tg(t,e){return xl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function N7(t,e=!1){const n=Ir(t),r=await n.getIdToken(e),i=Ly(r);Ft(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:n0(V2(i.auth_time)),issuedAtTime:n0(V2(i.iat)),expirationTime:n0(V2(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function V2(t){return Number(t)*1e3}function Ly(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return U1("JWT malformed, contained fewer than 3 sections"),null;try{const i=H4(n);return i?JSON.parse(i):(U1("Failed to decode base64 JWT payload"),null)}catch(i){return U1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sA(t){const e=Ly(t);return Ft(e,"internal-error"),Ft(typeof e.exp<"u","internal-error"),Ft(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Do&&O7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function O7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=n0(this.lastLoginAt),this.creationTime=n0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ng(t){var e;const n=t.auth,r=await t.getIdToken(),i=await If(t,tg(n,{idToken:r}));Ft(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?s3(o.providerUserInfo):[],g=k7(t.providerData,u),x=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!(g!=null&&g.length),_=x?m:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:g,metadata:new bx(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(t,A)}async function M7(t){const e=Ir(t);await ng(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function k7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function s3(t){return t.map(e=>{var{providerId:n}=e,r=Dy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L7(t,e){const n=await r3(t,{},async()=>{const r=Y0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,u=await i3(t,i,"/v1/token",`key=${o}`),g=await t._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const x={method:"POST",headers:g,body:r};return t.emulatorConfig&&Tc(t.emulatorConfig.host)&&(x.credentials="include"),n3.fetch()(u,x)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function P7(t,e){return xl(t,"POST","/v2/accounts:revokeToken",Ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ft(e.idToken,"internal-error"),Ft(typeof e.idToken<"u","internal-error"),Ft(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ft(e.length!==0,"internal-error");const n=sA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ft(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await L7(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,u=new vf;return r&&(Ft(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(Ft(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(Ft(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vf,this.toJSON())}_performRefresh(){return Zo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t,e){Ft(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Dy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new D7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bx(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await If(this,this.stsTokenManager.getToken(this.auth,e));return Ft(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return N7(this,e)}reload(){return M7(this)}_assign(e){this!==e&&(Ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ng(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ra(this.auth.app))return Promise.reject(nl(this.auth));const e=await this.getIdToken();return await If(this,R7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,u,g,x,m,_;const A=(r=n.displayName)!==null&&r!==void 0?r:void 0,C=(i=n.email)!==null&&i!==void 0?i:void 0,R=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,O=(u=n.photoURL)!==null&&u!==void 0?u:void 0,I=(g=n.tenantId)!==null&&g!==void 0?g:void 0,k=(x=n._redirectEventId)!==null&&x!==void 0?x:void 0,H=(m=n.createdAt)!==null&&m!==void 0?m:void 0,Y=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:W,emailVerified:te,isAnonymous:oe,providerData:ve,stsTokenManager:B}=n;Ft(W&&B,e,"internal-error");const V=vf.fromJSON(this.name,B);Ft(typeof W=="string",e,"internal-error"),ql(A,e.name),ql(C,e.name),Ft(typeof te=="boolean",e,"internal-error"),Ft(typeof oe=="boolean",e,"internal-error"),ql(R,e.name),ql(O,e.name),ql(I,e.name),ql(k,e.name),ql(H,e.name),ql(Y,e.name);const L=new qa({uid:W,auth:e,email:C,emailVerified:te,displayName:A,isAnonymous:oe,photoURL:O,phoneNumber:R,tenantId:I,stsTokenManager:V,createdAt:H,lastLoginAt:Y});return ve&&Array.isArray(ve)&&(L.providerData=ve.map(M=>Object.assign({},M))),k&&(L._redirectEventId=k),L}static async _fromIdTokenResponse(e,n,r=!1){const i=new vf;i.updateFromServerResponse(n);const o=new qa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ng(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ft(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?s3(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),g=new vf;g.updateFromIdToken(r);const x=new qa({uid:i.localId,auth:e,stsTokenManager:g,isAnonymous:u}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new bx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(x,m),x}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new Map;function Jo(t){ul(t instanceof Function,"Expected a class definition");let e=aA.get(t);return e?(ul(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}a3.type="NONE";const oA=a3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e,n){return`firebase:${t}:${e}:${n}`}class _f{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=V1(this.userKey,i.apiKey,o),this.fullPersistenceKey=V1("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tg(this.auth,{idToken:e}).catch(()=>{});return n?qa._fromGetAccountInfoResponse(this.auth,n,e):null}return qa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _f(Jo(oA),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=i[0]||Jo(oA);const u=V1(r,e.config.apiKey,e.name);let g=null;for(const m of n)try{const _=await m._get(u);if(_){let A;if(typeof _=="string"){const C=await tg(e,{idToken:_}).catch(()=>{});if(!C)break;A=await qa._fromGetAccountInfoResponse(e,C,_)}else A=qa._fromJSON(e,_);m!==o&&(g=A),o=m;break}}catch{}const x=i.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!x.length?new _f(o,e,r):(o=x[0],g&&await o._set(u,g.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new _f(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(o3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h3(e))return"Blackberry";if(d3(e))return"Webos";if(l3(e))return"Safari";if((e.includes("chrome/")||c3(e))&&!e.includes("edge/"))return"Chrome";if(f3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function o3(t=os()){return/firefox\//i.test(t)}function l3(t=os()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c3(t=os()){return/crios\//i.test(t)}function u3(t=os()){return/iemobile/i.test(t)}function f3(t=os()){return/android/i.test(t)}function h3(t=os()){return/blackberry/i.test(t)}function d3(t=os()){return/webos/i.test(t)}function Py(t=os()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function F7(t=os()){var e;return Py(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function B7(){return ZM()&&document.documentMode===10}function g3(t=os()){return Py(t)||f3(t)||d3(t)||h3(t)||/windows phone/i.test(t)||u3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t,e=[]){let n;switch(t){case"Browser":n=lA(os());break;case"Worker":n=`${lA(os())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,g)=>{try{const x=e(o);u(x)}catch(x){g(x)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V7(t,e={}){return xl(t,"GET","/v2/passwordPolicy",Ac(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=6;class H7{constructor(e){var n,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:j7,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,u,g;const x={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,x),this.validatePasswordCharacterOptions(e,x),x.isValid&&(x.isValid=(n=x.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),x.isValid&&(x.isValid=(r=x.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),x.isValid&&(x.isValid=(i=x.containsLowercaseLetter)!==null&&i!==void 0?i:!0),x.isValid&&(x.isValid=(o=x.containsUppercaseLetter)!==null&&o!==void 0?o:!0),x.isValid&&(x.isValid=(u=x.containsNumericCharacter)!==null&&u!==void 0?u:!0),x.isValid&&(x.isValid=(g=x.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),x}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cA(this),this.idTokenSubscription=new cA(this),this.beforeStateQueue=new U7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jo(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await _f.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tg(this,{idToken:e}),r=await qa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ra(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(g,g))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=i==null?void 0:i._redirectEventId,x=await this.tryRedirectSignIn(e);(!u||u===g)&&(x!=null&&x.user)&&(i=x.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ng(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=E7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ra(this.app))return Promise.reject(nl(this));const n=e?Ir(e):null;return n&&Ft(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ra(this.app)?Promise.reject(nl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ra(this.app)?Promise.reject(nl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await V7(this),n=new H7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new q0("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await P7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Jo(e)||this._popupRedirectResolver;Ft(n,this,"argument-error"),this.redirectPersistenceManager=await _f.create(this,[Jo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ft(g,this,"internal-error"),g.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const x=e.addObserver(n,r,i);return()=>{u=!0,x()}}else{const x=e.addObserver(n);return()=>{u=!0,x()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(ra(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&y7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function uu(t){return Ir(t)}class cA{constructor(e){this.auth=e,this.observer=null,this.addObserver=a9(n=>this.observer=n)}get next(){return Ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function G7(t){em=t}function p3(t){return em.loadJS(t)}function W7(){return em.recaptchaEnterpriseScript}function q7(){return em.gapiScript}function Y7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class X7{constructor(){this.enterprise=new K7}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class K7{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Q7="recaptcha-enterprise",x3="NO_RECAPTCHA";class $7{constructor(e){this.type=Q7,this.auth=uu(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,g)=>{I7(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(x=>{if(x.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const m=new b7(x);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(x=>{g(x)})})}function i(o,u,g){const x=window.grecaptcha;iA(x)?x.enterprise.ready(()=>{x.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(x3)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new X7().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(g=>{if(!n&&iA(window.grecaptcha))i(g,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let x=W7();x.length!==0&&(x+=g),p3(x).then(()=>{i(g,o,u)}).catch(m=>{u(m)})}}).catch(g=>{u(g)})})}}async function uA(t,e,n,r=!1,i=!1){const o=new $7(t);let u;if(i)u=x3;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const g=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const x=g.phoneEnrollmentInfo.phoneNumber,m=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:x,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const x=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:x,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:u}):Object.assign(g,{captchaResponse:u}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Ix(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await uA(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await uA(t,e,n,n==="getOobCode");return r(t,g)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t,e){const n=Jg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Jc(o,e??{}))return i;Qa(i,"already-initialized")}return n.initialize({options:e})}function J7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ek(t,e,n){const r=uu(t);Ft(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=y3(e),{host:u,port:g}=tk(e),x=g===null?"":`:${g}`,m={url:`${o}//${u}${x}/`},_=Object.freeze({host:u,port:g,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ft(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ft(Jc(m,r.config.emulator)&&Jc(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,Tc(u)?(by(`${o}//${u}${x}`),Iy("Auth",!0)):nk()}function y3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tk(t){const e=y3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:fA(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:fA(u)}}}function fA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zo("not implemented")}_getIdTokenResponse(e){return Zo("not implemented")}_linkToIdToken(e,n){return Zo("not implemented")}_getReauthenticationResolver(e){return Zo("not implemented")}}async function rk(t,e){return xl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ik(t,e){return K0(t,"POST","/v1/accounts:signInWithPassword",Ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(t,e){return K0(t,"POST","/v1/accounts:signInWithEmailLink",Ac(t,e))}async function ak(t,e){return K0(t,"POST","/v1/accounts:signInWithEmailLink",Ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0 extends Fy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new E0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new E0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ix(e,n,"signInWithPassword",ik);case"emailLink":return sk(e,{email:this._email,oobCode:this._password});default:Qa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ix(e,r,"signUpPassword",rk);case"emailLink":return ak(e,{idToken:n,email:this._email,oobCode:this._password});default:Qa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(t,e){return K0(t,"POST","/v1/accounts:signInWithIdp",Ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="http://localhost";class tu extends Fy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new tu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Dy(n,["providerId","signInMethod"]);if(!r||!i)return null;const u=new tu(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ef(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ef(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ef(e,n)}buildRequest(){const e={requestUri:ok,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Y0(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ck(t){const e=Wh(qh(t)).link,n=e?Wh(qh(e)).deep_link_id:null,r=Wh(qh(t)).deep_link_id;return(r?Wh(qh(r)).link:null)||r||n||e||t}class By{constructor(e){var n,r,i,o,u,g;const x=Wh(qh(e)),m=(n=x.apiKey)!==null&&n!==void 0?n:null,_=(r=x.oobCode)!==null&&r!==void 0?r:null,A=lk((i=x.mode)!==null&&i!==void 0?i:null);Ft(m&&_&&A,"argument-error"),this.apiKey=m,this.operation=A,this.code=_,this.continueUrl=(o=x.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=x.lang)!==null&&u!==void 0?u:null,this.tenantId=(g=x.tenantId)!==null&&g!==void 0?g:null}static parseLink(e){const n=ck(e);try{return new By(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(){this.providerId=Uf.PROVIDER_ID}static credential(e,n){return E0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=By.parseLink(n);return Ft(r,"argument-error"),E0._fromEmailAndCode(e,r.code,r.tenantId)}}Uf.PROVIDER_ID="password";Uf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0 extends v3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends Q0{constructor(){super("facebook.com")}static credential(e){return tu._fromParams({providerId:$l.PROVIDER_ID,signInMethod:$l.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $l.credentialFromTaggedObject(e)}static credentialFromError(e){return $l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $l.credential(e.oauthAccessToken)}catch{return null}}}$l.FACEBOOK_SIGN_IN_METHOD="facebook.com";$l.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends Q0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return tu._fromParams({providerId:Zl.PROVIDER_ID,signInMethod:Zl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zl.credentialFromTaggedObject(e)}static credentialFromError(e){return Zl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zl.credential(n,r)}catch{return null}}}Zl.GOOGLE_SIGN_IN_METHOD="google.com";Zl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends Q0{constructor(){super("github.com")}static credential(e){return tu._fromParams({providerId:Jl.PROVIDER_ID,signInMethod:Jl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jl.credentialFromTaggedObject(e)}static credentialFromError(e){return Jl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jl.credential(e.oauthAccessToken)}catch{return null}}}Jl.GITHUB_SIGN_IN_METHOD="github.com";Jl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends Q0{constructor(){super("twitter.com")}static credential(e,n){return tu._fromParams({providerId:ec.PROVIDER_ID,signInMethod:ec.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ec.credentialFromTaggedObject(e)}static credentialFromError(e){return ec.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ec.credential(n,r)}catch{return null}}}ec.TWITTER_SIGN_IN_METHOD="twitter.com";ec.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(t,e){return K0(t,"POST","/v1/accounts:signUp",Ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await qa._fromIdTokenResponse(e,r,i),u=hA(r);return new nu({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hA(r);return new nu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends Do{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rg.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rg(e,n,r,i)}}function _3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?rg._fromErrorAndOperation(t,o,e,r):o})}async function fk(t,e,n=!1){const r=await If(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return nu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hk(t,e,n=!1){const{auth:r}=t;if(ra(r.app))return Promise.reject(nl(r));const i="reauthenticate";try{const o=await If(t,_3(r,i,e,t),n);Ft(o.idToken,r,"internal-error");const u=Ly(o.idToken);Ft(u,r,"internal-error");const{sub:g}=u;return Ft(t.uid===g,r,"user-mismatch"),nu._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Qa(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(t,e,n=!1){if(ra(t.app))return Promise.reject(nl(t));const r="signIn",i=await _3(t,r,e),o=await nu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function dk(t,e){return E3(uu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w3(t){const e=uu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gk(t,e,n){if(ra(t.app))return Promise.reject(nl(t));const r=uu(t),u=await Ix(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uk).catch(x=>{throw x.code==="auth/password-does-not-meet-requirements"&&w3(t),x}),g=await nu._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(g.user),g}function mk(t,e,n){return ra(t.app)?Promise.reject(nl(t)):dk(Ir(t),Uf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&w3(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(t,e){return xl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ir(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await If(r,pk(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const g=r.providerData.find(({providerId:x})=>x==="password");g&&(g.displayName=r.displayName,g.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function xk(t,e,n,r){return Ir(t).onIdTokenChanged(e,n,r)}function yk(t,e,n){return Ir(t).beforeAuthStateChanged(e,n)}function vk(t,e,n,r){return Ir(t).onAuthStateChanged(e,n,r)}function T3(t){return Ir(t).signOut()}const ig="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ig,"1"),this.storage.removeItem(ig),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=1e3,Ek=10;class S3 extends A3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=g3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,g,x)=>{this.notifyListeners(u,x)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);B7()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Ek):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_k)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}S3.type="LOCAL";const wk=S3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3 extends A3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}C3.type="SESSION";const b3=C3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const g=Array.from(u).map(async m=>m(n.origin,o)),x=await Tk(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:x})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((g,x)=>{const m=Uy("",20);i.port1.start();const _=setTimeout(()=>{x(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(A){const C=A;if(C.data.eventId===m)switch(C.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{x(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),g(C.data.response);break;default:clearTimeout(_),clearTimeout(o),x(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(){return window}function Sk(t){Ao().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(){return typeof Ao().WorkerGlobalScope<"u"&&typeof Ao().importScripts=="function"}async function Ck(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bk(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ik(){return I3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="firebaseLocalStorageDb",Rk=1,sg="firebaseLocalStorage",N3="fbase_key";class $0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nm(t,e){return t.transaction([sg],e?"readwrite":"readonly").objectStore(sg)}function Nk(){const t=indexedDB.deleteDatabase(R3);return new $0(t).toPromise()}function Rx(){const t=indexedDB.open(R3,Rk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sg,{keyPath:N3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sg)?e(r):(r.close(),await Nk(),e(await Rx()))})})}async function gA(t,e,n){const r=nm(t,!0).put({[N3]:e,value:n});return new $0(r).toPromise()}async function Ok(t,e){const n=nm(t,!1).get(e),r=await new $0(n).toPromise();return r===void 0?null:r.value}function mA(t,e){const n=nm(t,!0).delete(e);return new $0(n).toPromise()}const Dk=800,Mk=3;class O3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Mk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tm._getInstance(Ik()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Ck(),!this.activeServiceWorker)return;this.sender=new Ak(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rx();return await gA(e,ig,"1"),await mA(e,ig),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ok(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=nm(i,!1).getAll();return new $0(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O3.type="LOCAL";const kk=O3;new X0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(t,e){return e?Jo(e):(Ft(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends Fy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ef(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ef(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ef(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Pk(t){return E3(t.auth,new Vy(t),t.bypassAuthState)}function Fk(t){const{auth:e,user:n}=t;return Ft(n,e,"internal-error"),hk(n,new Vy(t),t.bypassAuthState)}async function Bk(t){const{auth:e,user:n}=t;return Ft(n,e,"internal-error"),fk(n,new Vy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:u,type:g}=e;if(u){this.reject(u);return}const x={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(x))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Pk;case"linkViaPopup":case"linkViaRedirect":return Bk;case"reauthViaPopup":case"reauthViaRedirect":return Fk;default:Qa(this.auth,"internal-error")}}resolve(e){ul(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ul(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new X0(2e3,1e4);class df extends D3{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,df.currentPopupAction&&df.currentPopupAction.cancel(),df.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ft(e,this.auth,"internal-error"),e}async onExecution(){ul(this.filter.length===1,"Popup operations only handle one event");const e=Uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(To(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(To(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,df.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(To(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Uk.get())};e()}}df.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="pendingRedirect",j1=new Map;class jk extends D3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=j1.get(this.auth._key());if(!e){try{const r=await Hk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}j1.set(this.auth._key(),e)}return this.bypassAuthState||j1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hk(t,e){const n=Wk(e),r=Gk(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function zk(t,e){j1.set(t._key(),e)}function Gk(t){return Jo(t._redirectPersistence)}function Wk(t){return V1(Vk,t.config.apiKey,t.name)}async function qk(t,e,n=!1){if(ra(t.app))return Promise.reject(nl(t));const r=uu(t),i=Lk(r,e),u=await new jk(r,i,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=10*60*1e3;class Xk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!M3(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(To(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Yk&&this.cachedEventUids.clear(),this.cachedEventUids.has(pA(e))}saveEventToCache(e){this.cachedEventUids.add(pA(e)),this.lastProcessedEventTime=Date.now()}}function pA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function M3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Kk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk(t,e={}){return xl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zk=/^https?/;async function Jk(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Qk(t);for(const n of e)try{if(eL(n))return}catch{}Qa(t,"unauthorized-domain")}function eL(t){const e=Cx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!Zk.test(n))return!1;if($k.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=new X0(3e4,6e4);function xA(){const t=Ao().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nL(t){return new Promise((e,n)=>{var r,i,o;function u(){xA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xA(),n(To(t,"network-request-failed"))},timeout:tL.get()})}if(!((i=(r=Ao().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Ao().gapi)===null||o===void 0)&&o.load)u();else{const g=Y7("iframefcb");return Ao()[g]=()=>{gapi.load?u():n(To(t,"network-request-failed"))},p3(`${q7()}?onload=${g}`).catch(x=>n(x))}}).catch(e=>{throw H1=null,e})}let H1=null;function rL(t){return H1=H1||nL(t),H1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=new X0(5e3,15e3),sL="__/auth/iframe",aL="emulator/auth/iframe",oL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cL(t){const e=t.config;Ft(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ky(e,aL):`https://${t.config.authDomain}/${sL}`,r={apiKey:e.apiKey,appName:t.name,v:cu},i=lL.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Y0(r).slice(1)}`}async function uL(t){const e=await rL(t),n=Ao().gapi;return Ft(n,t,"internal-error"),e.open({where:document.body,url:cL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oL,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=To(t,"network-request-failed"),g=Ao().setTimeout(()=>{o(u)},iL.get());function x(){Ao().clearTimeout(g),i(r)}r.ping(x).then(x,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hL=500,dL=600,gL="_blank",mL="http://localhost";class yA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pL(t,e,n,r=hL,i=dL){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const x=Object.assign(Object.assign({},fL),{width:r.toString(),height:i.toString(),top:o,left:u}),m=os().toLowerCase();n&&(g=c3(m)?gL:n),o3(m)&&(e=e||mL,x.scrollbars="yes");const _=Object.entries(x).reduce((C,[R,O])=>`${C}${R}=${O},`,"");if(F7(m)&&g!=="_self")return xL(e||"",g),new yA(null);const A=window.open(e||"",g,_);Ft(A,t,"popup-blocked");try{A.focus()}catch{}return new yA(A)}function xL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="__/auth/handler",vL="emulator/auth/handler",_L=encodeURIComponent("fac");async function vA(t,e,n,r,i,o){Ft(t.config.authDomain,t,"auth-domain-config-required"),Ft(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cu,eventId:i};if(e instanceof v3){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",s9(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,A]of Object.entries({}))u[_]=A}if(e instanceof Q0){const _=e.getScopes().filter(A=>A!=="");_.length>0&&(u.scopes=_.join(","))}t.tenantId&&(u.tid=t.tenantId);const g=u;for(const _ of Object.keys(g))g[_]===void 0&&delete g[_];const x=await t._getAppCheckToken(),m=x?`#${_L}=${encodeURIComponent(x)}`:"";return`${EL(t)}?${Y0(g).slice(1)}${m}`}function EL({config:t}){return t.emulator?ky(t,vL):`https://${t.authDomain}/${yL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="webStorageSupport";class wL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b3,this._completeRedirectFn=qk,this._overrideRedirectResult=zk}async _openPopup(e,n,r,i){var o;ul((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await vA(e,n,r,Cx(),i);return pL(e,u,Uy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await vA(e,n,r,Cx(),i);return Sk(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ul(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uL(e),r=new Xk(e);return n.register("authEvent",i=>(Ft(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(j2,{type:j2},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[j2];u!==void 0&&n(!!u),Qa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Jk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return g3()||l3()||Py()}}const TL=wL;var _A="@firebase/auth",EA="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CL(t){eu(new uc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:g}=r.options;Ft(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const x={apiKey:u,authDomain:g,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m3(t)},m=new z7(r,i,o,x);return J7(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),eu(new uc("auth-internal",e=>{const n=uu(e.getProvider("auth").getImmediate());return(r=>new AL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wo(_A,EA,SL(t)),wo(_A,EA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=5*60,IL=q4("authIdTokenMaxAge")||bL;let wA=null;const RL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>IL)return;const i=n==null?void 0:n.token;wA!==i&&(wA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function NL(t=Oy()){const e=Jg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Z7(t,{popupRedirectResolver:TL,persistence:[kk,wk,b3]}),r=q4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=RL(o.toString());yk(n,u,()=>u(n.currentUser)),xk(n,g=>u(g))}}const i=z4("auth");return i&&ek(n,`http://${i}`),n}function OL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}G7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=To("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",OL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CL("Browser");var TA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oc,k3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,V){function L(){}L.prototype=V.prototype,B.D=V.prototype,B.prototype=new L,B.prototype.constructor=B,B.C=function(M,q,Q){for(var Z=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)Z[pt-2]=arguments[pt];return V.prototype[q].apply(M,Z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(B,V,L){L||(L=0);var M=Array(16);if(typeof V=="string")for(var q=0;16>q;++q)M[q]=V.charCodeAt(L++)|V.charCodeAt(L++)<<8|V.charCodeAt(L++)<<16|V.charCodeAt(L++)<<24;else for(q=0;16>q;++q)M[q]=V[L++]|V[L++]<<8|V[L++]<<16|V[L++]<<24;V=B.g[0],L=B.g[1],q=B.g[2];var Q=B.g[3],Z=V+(Q^L&(q^Q))+M[0]+3614090360&4294967295;V=L+(Z<<7&4294967295|Z>>>25),Z=Q+(q^V&(L^q))+M[1]+3905402710&4294967295,Q=V+(Z<<12&4294967295|Z>>>20),Z=q+(L^Q&(V^L))+M[2]+606105819&4294967295,q=Q+(Z<<17&4294967295|Z>>>15),Z=L+(V^q&(Q^V))+M[3]+3250441966&4294967295,L=q+(Z<<22&4294967295|Z>>>10),Z=V+(Q^L&(q^Q))+M[4]+4118548399&4294967295,V=L+(Z<<7&4294967295|Z>>>25),Z=Q+(q^V&(L^q))+M[5]+1200080426&4294967295,Q=V+(Z<<12&4294967295|Z>>>20),Z=q+(L^Q&(V^L))+M[6]+2821735955&4294967295,q=Q+(Z<<17&4294967295|Z>>>15),Z=L+(V^q&(Q^V))+M[7]+4249261313&4294967295,L=q+(Z<<22&4294967295|Z>>>10),Z=V+(Q^L&(q^Q))+M[8]+1770035416&4294967295,V=L+(Z<<7&4294967295|Z>>>25),Z=Q+(q^V&(L^q))+M[9]+2336552879&4294967295,Q=V+(Z<<12&4294967295|Z>>>20),Z=q+(L^Q&(V^L))+M[10]+4294925233&4294967295,q=Q+(Z<<17&4294967295|Z>>>15),Z=L+(V^q&(Q^V))+M[11]+2304563134&4294967295,L=q+(Z<<22&4294967295|Z>>>10),Z=V+(Q^L&(q^Q))+M[12]+1804603682&4294967295,V=L+(Z<<7&4294967295|Z>>>25),Z=Q+(q^V&(L^q))+M[13]+4254626195&4294967295,Q=V+(Z<<12&4294967295|Z>>>20),Z=q+(L^Q&(V^L))+M[14]+2792965006&4294967295,q=Q+(Z<<17&4294967295|Z>>>15),Z=L+(V^q&(Q^V))+M[15]+1236535329&4294967295,L=q+(Z<<22&4294967295|Z>>>10),Z=V+(q^Q&(L^q))+M[1]+4129170786&4294967295,V=L+(Z<<5&4294967295|Z>>>27),Z=Q+(L^q&(V^L))+M[6]+3225465664&4294967295,Q=V+(Z<<9&4294967295|Z>>>23),Z=q+(V^L&(Q^V))+M[11]+643717713&4294967295,q=Q+(Z<<14&4294967295|Z>>>18),Z=L+(Q^V&(q^Q))+M[0]+3921069994&4294967295,L=q+(Z<<20&4294967295|Z>>>12),Z=V+(q^Q&(L^q))+M[5]+3593408605&4294967295,V=L+(Z<<5&4294967295|Z>>>27),Z=Q+(L^q&(V^L))+M[10]+38016083&4294967295,Q=V+(Z<<9&4294967295|Z>>>23),Z=q+(V^L&(Q^V))+M[15]+3634488961&4294967295,q=Q+(Z<<14&4294967295|Z>>>18),Z=L+(Q^V&(q^Q))+M[4]+3889429448&4294967295,L=q+(Z<<20&4294967295|Z>>>12),Z=V+(q^Q&(L^q))+M[9]+568446438&4294967295,V=L+(Z<<5&4294967295|Z>>>27),Z=Q+(L^q&(V^L))+M[14]+3275163606&4294967295,Q=V+(Z<<9&4294967295|Z>>>23),Z=q+(V^L&(Q^V))+M[3]+4107603335&4294967295,q=Q+(Z<<14&4294967295|Z>>>18),Z=L+(Q^V&(q^Q))+M[8]+1163531501&4294967295,L=q+(Z<<20&4294967295|Z>>>12),Z=V+(q^Q&(L^q))+M[13]+2850285829&4294967295,V=L+(Z<<5&4294967295|Z>>>27),Z=Q+(L^q&(V^L))+M[2]+4243563512&4294967295,Q=V+(Z<<9&4294967295|Z>>>23),Z=q+(V^L&(Q^V))+M[7]+1735328473&4294967295,q=Q+(Z<<14&4294967295|Z>>>18),Z=L+(Q^V&(q^Q))+M[12]+2368359562&4294967295,L=q+(Z<<20&4294967295|Z>>>12),Z=V+(L^q^Q)+M[5]+4294588738&4294967295,V=L+(Z<<4&4294967295|Z>>>28),Z=Q+(V^L^q)+M[8]+2272392833&4294967295,Q=V+(Z<<11&4294967295|Z>>>21),Z=q+(Q^V^L)+M[11]+1839030562&4294967295,q=Q+(Z<<16&4294967295|Z>>>16),Z=L+(q^Q^V)+M[14]+4259657740&4294967295,L=q+(Z<<23&4294967295|Z>>>9),Z=V+(L^q^Q)+M[1]+2763975236&4294967295,V=L+(Z<<4&4294967295|Z>>>28),Z=Q+(V^L^q)+M[4]+1272893353&4294967295,Q=V+(Z<<11&4294967295|Z>>>21),Z=q+(Q^V^L)+M[7]+4139469664&4294967295,q=Q+(Z<<16&4294967295|Z>>>16),Z=L+(q^Q^V)+M[10]+3200236656&4294967295,L=q+(Z<<23&4294967295|Z>>>9),Z=V+(L^q^Q)+M[13]+681279174&4294967295,V=L+(Z<<4&4294967295|Z>>>28),Z=Q+(V^L^q)+M[0]+3936430074&4294967295,Q=V+(Z<<11&4294967295|Z>>>21),Z=q+(Q^V^L)+M[3]+3572445317&4294967295,q=Q+(Z<<16&4294967295|Z>>>16),Z=L+(q^Q^V)+M[6]+76029189&4294967295,L=q+(Z<<23&4294967295|Z>>>9),Z=V+(L^q^Q)+M[9]+3654602809&4294967295,V=L+(Z<<4&4294967295|Z>>>28),Z=Q+(V^L^q)+M[12]+3873151461&4294967295,Q=V+(Z<<11&4294967295|Z>>>21),Z=q+(Q^V^L)+M[15]+530742520&4294967295,q=Q+(Z<<16&4294967295|Z>>>16),Z=L+(q^Q^V)+M[2]+3299628645&4294967295,L=q+(Z<<23&4294967295|Z>>>9),Z=V+(q^(L|~Q))+M[0]+4096336452&4294967295,V=L+(Z<<6&4294967295|Z>>>26),Z=Q+(L^(V|~q))+M[7]+1126891415&4294967295,Q=V+(Z<<10&4294967295|Z>>>22),Z=q+(V^(Q|~L))+M[14]+2878612391&4294967295,q=Q+(Z<<15&4294967295|Z>>>17),Z=L+(Q^(q|~V))+M[5]+4237533241&4294967295,L=q+(Z<<21&4294967295|Z>>>11),Z=V+(q^(L|~Q))+M[12]+1700485571&4294967295,V=L+(Z<<6&4294967295|Z>>>26),Z=Q+(L^(V|~q))+M[3]+2399980690&4294967295,Q=V+(Z<<10&4294967295|Z>>>22),Z=q+(V^(Q|~L))+M[10]+4293915773&4294967295,q=Q+(Z<<15&4294967295|Z>>>17),Z=L+(Q^(q|~V))+M[1]+2240044497&4294967295,L=q+(Z<<21&4294967295|Z>>>11),Z=V+(q^(L|~Q))+M[8]+1873313359&4294967295,V=L+(Z<<6&4294967295|Z>>>26),Z=Q+(L^(V|~q))+M[15]+4264355552&4294967295,Q=V+(Z<<10&4294967295|Z>>>22),Z=q+(V^(Q|~L))+M[6]+2734768916&4294967295,q=Q+(Z<<15&4294967295|Z>>>17),Z=L+(Q^(q|~V))+M[13]+1309151649&4294967295,L=q+(Z<<21&4294967295|Z>>>11),Z=V+(q^(L|~Q))+M[4]+4149444226&4294967295,V=L+(Z<<6&4294967295|Z>>>26),Z=Q+(L^(V|~q))+M[11]+3174756917&4294967295,Q=V+(Z<<10&4294967295|Z>>>22),Z=q+(V^(Q|~L))+M[2]+718787259&4294967295,q=Q+(Z<<15&4294967295|Z>>>17),Z=L+(Q^(q|~V))+M[9]+3951481745&4294967295,B.g[0]=B.g[0]+V&4294967295,B.g[1]=B.g[1]+(q+(Z<<21&4294967295|Z>>>11))&4294967295,B.g[2]=B.g[2]+q&4294967295,B.g[3]=B.g[3]+Q&4294967295}r.prototype.u=function(B,V){V===void 0&&(V=B.length);for(var L=V-this.blockSize,M=this.B,q=this.h,Q=0;Q<V;){if(q==0)for(;Q<=L;)i(this,B,Q),Q+=this.blockSize;if(typeof B=="string"){for(;Q<V;)if(M[q++]=B.charCodeAt(Q++),q==this.blockSize){i(this,M),q=0;break}}else for(;Q<V;)if(M[q++]=B[Q++],q==this.blockSize){i(this,M),q=0;break}}this.h=q,this.o+=V},r.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var V=1;V<B.length-8;++V)B[V]=0;var L=8*this.o;for(V=B.length-8;V<B.length;++V)B[V]=L&255,L/=256;for(this.u(B),B=Array(16),V=L=0;4>V;++V)for(var M=0;32>M;M+=8)B[L++]=this.g[V]>>>M&255;return B};function o(B,V){var L=g;return Object.prototype.hasOwnProperty.call(L,B)?L[B]:L[B]=V(B)}function u(B,V){this.h=V;for(var L=[],M=!0,q=B.length-1;0<=q;q--){var Q=B[q]|0;M&&Q==V||(L[q]=Q,M=!1)}this.g=L}var g={};function x(B){return-128<=B&&128>B?o(B,function(V){return new u([V|0],0>V?-1:0)}):new u([B|0],0>B?-1:0)}function m(B){if(isNaN(B)||!isFinite(B))return A;if(0>B)return k(m(-B));for(var V=[],L=1,M=0;B>=L;M++)V[M]=B/L|0,L*=4294967296;return new u(V,0)}function _(B,V){if(B.length==0)throw Error("number format error: empty string");if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(B.charAt(0)=="-")return k(_(B.substring(1),V));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=m(Math.pow(V,8)),M=A,q=0;q<B.length;q+=8){var Q=Math.min(8,B.length-q),Z=parseInt(B.substring(q,q+Q),V);8>Q?(Q=m(Math.pow(V,Q)),M=M.j(Q).add(m(Z))):(M=M.j(L),M=M.add(m(Z)))}return M}var A=x(0),C=x(1),R=x(16777216);t=u.prototype,t.m=function(){if(I(this))return-k(this).m();for(var B=0,V=1,L=0;L<this.g.length;L++){var M=this.i(L);B+=(0<=M?M:4294967296+M)*V,V*=4294967296}return B},t.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(O(this))return"0";if(I(this))return"-"+k(this).toString(B);for(var V=m(Math.pow(B,6)),L=this,M="";;){var q=te(L,V).g;L=H(L,q.j(V));var Q=((0<L.g.length?L.g[0]:L.h)>>>0).toString(B);if(L=q,O(L))return Q+M;for(;6>Q.length;)Q="0"+Q;M=Q+M}},t.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function O(B){if(B.h!=0)return!1;for(var V=0;V<B.g.length;V++)if(B.g[V]!=0)return!1;return!0}function I(B){return B.h==-1}t.l=function(B){return B=H(this,B),I(B)?-1:O(B)?0:1};function k(B){for(var V=B.g.length,L=[],M=0;M<V;M++)L[M]=~B.g[M];return new u(L,~B.h).add(C)}t.abs=function(){return I(this)?k(this):this},t.add=function(B){for(var V=Math.max(this.g.length,B.g.length),L=[],M=0,q=0;q<=V;q++){var Q=M+(this.i(q)&65535)+(B.i(q)&65535),Z=(Q>>>16)+(this.i(q)>>>16)+(B.i(q)>>>16);M=Z>>>16,Q&=65535,Z&=65535,L[q]=Z<<16|Q}return new u(L,L[L.length-1]&-2147483648?-1:0)};function H(B,V){return B.add(k(V))}t.j=function(B){if(O(this)||O(B))return A;if(I(this))return I(B)?k(this).j(k(B)):k(k(this).j(B));if(I(B))return k(this.j(k(B)));if(0>this.l(R)&&0>B.l(R))return m(this.m()*B.m());for(var V=this.g.length+B.g.length,L=[],M=0;M<2*V;M++)L[M]=0;for(M=0;M<this.g.length;M++)for(var q=0;q<B.g.length;q++){var Q=this.i(M)>>>16,Z=this.i(M)&65535,pt=B.i(q)>>>16,Ee=B.i(q)&65535;L[2*M+2*q]+=Z*Ee,Y(L,2*M+2*q),L[2*M+2*q+1]+=Q*Ee,Y(L,2*M+2*q+1),L[2*M+2*q+1]+=Z*pt,Y(L,2*M+2*q+1),L[2*M+2*q+2]+=Q*pt,Y(L,2*M+2*q+2)}for(M=0;M<V;M++)L[M]=L[2*M+1]<<16|L[2*M];for(M=V;M<2*V;M++)L[M]=0;return new u(L,0)};function Y(B,V){for(;(B[V]&65535)!=B[V];)B[V+1]+=B[V]>>>16,B[V]&=65535,V++}function W(B,V){this.g=B,this.h=V}function te(B,V){if(O(V))throw Error("division by zero");if(O(B))return new W(A,A);if(I(B))return V=te(k(B),V),new W(k(V.g),k(V.h));if(I(V))return V=te(B,k(V)),new W(k(V.g),V.h);if(30<B.g.length){if(I(B)||I(V))throw Error("slowDivide_ only works with positive integers.");for(var L=C,M=V;0>=M.l(B);)L=oe(L),M=oe(M);var q=ve(L,1),Q=ve(M,1);for(M=ve(M,2),L=ve(L,2);!O(M);){var Z=Q.add(M);0>=Z.l(B)&&(q=q.add(L),Q=Z),M=ve(M,1),L=ve(L,1)}return V=H(B,q.j(V)),new W(q,V)}for(q=A;0<=B.l(V);){for(L=Math.max(1,Math.floor(B.m()/V.m())),M=Math.ceil(Math.log(L)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),Q=m(L),Z=Q.j(V);I(Z)||0<Z.l(B);)L-=M,Q=m(L),Z=Q.j(V);O(Q)&&(Q=C),q=q.add(Q),B=H(B,Z)}return new W(q,B)}t.A=function(B){return te(this,B).h},t.and=function(B){for(var V=Math.max(this.g.length,B.g.length),L=[],M=0;M<V;M++)L[M]=this.i(M)&B.i(M);return new u(L,this.h&B.h)},t.or=function(B){for(var V=Math.max(this.g.length,B.g.length),L=[],M=0;M<V;M++)L[M]=this.i(M)|B.i(M);return new u(L,this.h|B.h)},t.xor=function(B){for(var V=Math.max(this.g.length,B.g.length),L=[],M=0;M<V;M++)L[M]=this.i(M)^B.i(M);return new u(L,this.h^B.h)};function oe(B){for(var V=B.g.length+1,L=[],M=0;M<V;M++)L[M]=B.i(M)<<1|B.i(M-1)>>>31;return new u(L,B.h)}function ve(B,V){var L=V>>5;V%=32;for(var M=B.g.length-L,q=[],Q=0;Q<M;Q++)q[Q]=0<V?B.i(Q+L)>>>V|B.i(Q+L+1)<<32-V:B.i(Q+L);return new u(q,B.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,k3=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=_,oc=u}).apply(typeof TA<"u"?TA:typeof self<"u"?self:typeof window<"u"?window:{});var y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L3,Yh,P3,z1,Nx,F3,B3,U3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,D,U){return w==Array.prototype||w==Object.prototype||(w[D]=U.value),w};function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof y1=="object"&&y1];for(var D=0;D<w.length;++D){var U=w[D];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var r=n(this);function i(w,D){if(D)e:{var U=r;w=w.split(".");for(var ne=0;ne<w.length-1;ne++){var Ce=w[ne];if(!(Ce in U))break e;U=U[Ce]}w=w[w.length-1],ne=U[w],D=D(ne),D!=ne&&D!=null&&e(U,w,{configurable:!0,writable:!0,value:D})}}function o(w,D){w instanceof String&&(w+="");var U=0,ne=!1,Ce={next:function(){if(!ne&&U<w.length){var Be=U++;return{value:D(Be,w[Be]),done:!1}}return ne=!0,{done:!0,value:void 0}}};return Ce[Symbol.iterator]=function(){return Ce},Ce}i("Array.prototype.values",function(w){return w||function(){return o(this,function(D,U){return U})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},g=this||self;function x(w){var D=typeof w;return D=D!="object"?D:w?Array.isArray(w)?"array":D:"null",D=="array"||D=="object"&&typeof w.length=="number"}function m(w){var D=typeof w;return D=="object"&&w!=null||D=="function"}function _(w,D,U){return w.call.apply(w.bind,arguments)}function A(w,D,U){if(!w)throw Error();if(2<arguments.length){var ne=Array.prototype.slice.call(arguments,2);return function(){var Ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ce,ne),w.apply(D,Ce)}}return function(){return w.apply(D,arguments)}}function C(w,D,U){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:A,C.apply(null,arguments)}function R(w,D){var U=Array.prototype.slice.call(arguments,1);return function(){var ne=U.slice();return ne.push.apply(ne,arguments),w.apply(this,ne)}}function O(w,D){function U(){}U.prototype=D.prototype,w.aa=D.prototype,w.prototype=new U,w.prototype.constructor=w,w.Qb=function(ne,Ce,Be){for(var ut=Array(arguments.length-2),gn=2;gn<arguments.length;gn++)ut[gn-2]=arguments[gn];return D.prototype[Ce].apply(ne,ut)}}function I(w){const D=w.length;if(0<D){const U=Array(D);for(let ne=0;ne<D;ne++)U[ne]=w[ne];return U}return[]}function k(w,D){for(let U=1;U<arguments.length;U++){const ne=arguments[U];if(x(ne)){const Ce=w.length||0,Be=ne.length||0;w.length=Ce+Be;for(let ut=0;ut<Be;ut++)w[Ce+ut]=ne[ut]}else w.push(ne)}}class H{constructor(D,U){this.i=D,this.j=U,this.h=0,this.g=null}get(){let D;return 0<this.h?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function Y(w){return/^[\s\xa0]*$/.test(w)}function W(){var w=g.navigator;return w&&(w=w.userAgent)?w:""}function te(w){return te[" "](w),w}te[" "]=function(){};var oe=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ve(w,D,U){for(const ne in w)D.call(U,w[ne],ne,w)}function B(w,D){for(const U in w)D.call(void 0,w[U],U,w)}function V(w){const D={};for(const U in w)D[U]=w[U];return D}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(w,D){let U,ne;for(let Ce=1;Ce<arguments.length;Ce++){ne=arguments[Ce];for(U in ne)w[U]=ne[U];for(let Be=0;Be<L.length;Be++)U=L[Be],Object.prototype.hasOwnProperty.call(ne,U)&&(w[U]=ne[U])}}function q(w){var D=1;w=w.split(":");const U=[];for(;0<D&&w.length;)U.push(w.shift()),D--;return w.length&&U.push(w.join(":")),U}function Q(w){g.setTimeout(()=>{throw w},0)}function Z(){var w=wt;let D=null;return w.g&&(D=w.g,w.g=w.g.next,w.g||(w.h=null),D.next=null),D}class pt{constructor(){this.h=this.g=null}add(D,U){const ne=Ee.get();ne.set(D,U),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var Ee=new H(()=>new be,w=>w.reset());class be{constructor(){this.next=this.g=this.h=null}set(D,U){this.h=D,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,xt=!1,wt=new pt,me=()=>{const w=g.Promise.resolve(void 0);Ue=()=>{w.then(Ge)}};var Ge=()=>{for(var w;w=Z();){try{w.h.call(w.g)}catch(U){Q(U)}var D=Ee;D.j(w),100>D.h&&(D.h++,w.next=D.g,D.g=w)}xt=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(w,D){this.type=w,this.g=this.target=D,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var w=!1,D=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const U=()=>{};g.addEventListener("test",U,D),g.removeEventListener("test",U,D)}catch{}return w}();function pe(w,D){if(fe.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var U=this.type=w.type,ne=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=D,D=w.relatedTarget){if(oe){e:{try{te(D.nodeName);var Ce=!0;break e}catch{}Ce=!1}Ce||(D=null)}}else U=="mouseover"?D=w.fromElement:U=="mouseout"&&(D=w.toElement);this.relatedTarget=D,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:_e[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&pe.aa.h.call(this)}}O(pe,fe);var _e={2:"touch",3:"pen",4:"mouse"};pe.prototype.h=function(){pe.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function mt(w,D,U,ne,Ce){this.listener=w,this.proxy=null,this.src=D,this.type=U,this.capture=!!ne,this.ha=Ce,this.key=++Ze,this.da=this.fa=!1}function ot(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function Ot(w){this.src=w,this.g={},this.h=0}Ot.prototype.add=function(w,D,U,ne,Ce){var Be=w.toString();w=this.g[Be],w||(w=this.g[Be]=[],this.h++);var ut=St(w,D,ne,Ce);return-1<ut?(D=w[ut],U||(D.fa=!1)):(D=new mt(D,this.src,Be,!!ne,Ce),D.fa=U,w.push(D)),D};function Pt(w,D){var U=D.type;if(U in w.g){var ne=w.g[U],Ce=Array.prototype.indexOf.call(ne,D,void 0),Be;(Be=0<=Ce)&&Array.prototype.splice.call(ne,Ce,1),Be&&(ot(D),w.g[U].length==0&&(delete w.g[U],w.h--))}}function St(w,D,U,ne){for(var Ce=0;Ce<w.length;++Ce){var Be=w[Ce];if(!Be.da&&Be.listener==D&&Be.capture==!!U&&Be.ha==ne)return Ce}return-1}var Ut="closure_lm_"+(1e6*Math.random()|0),Bn={};function vn(w,D,U,ne,Ce){if(Array.isArray(D)){for(var Be=0;Be<D.length;Be++)vn(w,D[Be],U,ne,Ce);return null}return U=Yi(U),w&&w[lt]?w.K(D,U,m(ne)?!!ne.capture:!1,Ce):rt(w,D,U,!1,ne,Ce)}function rt(w,D,U,ne,Ce,Be){if(!D)throw Error("Invalid event type");var ut=m(Ce)?!!Ce.capture:!!Ce,gn=ls(w);if(gn||(w[Ut]=gn=new Ot(w)),U=gn.add(D,U,ne,ut,Be),U.proxy)return U;if(ne=jt(),U.proxy=ne,ne.src=w,ne.listener=U,w.addEventListener)he||(Ce=ut),Ce===void 0&&(Ce=!1),w.addEventListener(D.toString(),ne,Ce);else if(w.attachEvent)w.attachEvent(gt(D.toString()),ne);else if(w.addListener&&w.removeListener)w.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return U}function jt(){function w(U){return D.call(w.src,w.listener,U)}const D=Ri;return w}function Tt(w,D,U,ne,Ce){if(Array.isArray(D))for(var Be=0;Be<D.length;Be++)Tt(w,D[Be],U,ne,Ce);else ne=m(ne)?!!ne.capture:!!ne,U=Yi(U),w&&w[lt]?(w=w.i,D=String(D).toString(),D in w.g&&(Be=w.g[D],U=St(Be,U,ne,Ce),-1<U&&(ot(Be[U]),Array.prototype.splice.call(Be,U,1),Be.length==0&&(delete w.g[D],w.h--)))):w&&(w=ls(w))&&(D=w.g[D.toString()],w=-1,D&&(w=St(D,U,ne,Ce)),(U=-1<w?D[w]:null)&&vr(U))}function vr(w){if(typeof w!="number"&&w&&!w.da){var D=w.src;if(D&&D[lt])Pt(D.i,w);else{var U=w.type,ne=w.proxy;D.removeEventListener?D.removeEventListener(U,ne,w.capture):D.detachEvent?D.detachEvent(gt(U),ne):D.addListener&&D.removeListener&&D.removeListener(ne),(U=ls(D))?(Pt(U,w),U.h==0&&(U.src=null,D[Ut]=null)):ot(w)}}}function gt(w){return w in Bn?Bn[w]:Bn[w]="on"+w}function Ri(w,D){if(w.da)w=!0;else{D=new pe(D,this);var U=w.listener,ne=w.ha||w.src;w.fa&&vr(w),w=U.call(ne,D)}return w}function ls(w){return w=w[Ut],w instanceof Ot?w:null}var Un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yi(w){return typeof w=="function"?w:(w[Un]||(w[Un]=function(D){return w.handleEvent(D)}),w[Un])}function Zt(){ie.call(this),this.i=new Ot(this),this.M=this,this.F=null}O(Zt,ie),Zt.prototype[lt]=!0,Zt.prototype.removeEventListener=function(w,D,U,ne){Tt(this,w,D,U,ne)};function nn(w,D){var U,ne=w.F;if(ne)for(U=[];ne;ne=ne.F)U.push(ne);if(w=w.M,ne=D.type||D,typeof D=="string")D=new fe(D,w);else if(D instanceof fe)D.target=D.target||w;else{var Ce=D;D=new fe(ne,w),M(D,Ce)}if(Ce=!0,U)for(var Be=U.length-1;0<=Be;Be--){var ut=D.g=U[Be];Ce=wn(ut,ne,!0,D)&&Ce}if(ut=D.g=w,Ce=wn(ut,ne,!0,D)&&Ce,Ce=wn(ut,ne,!1,D)&&Ce,U)for(Be=0;Be<U.length;Be++)ut=D.g=U[Be],Ce=wn(ut,ne,!1,D)&&Ce}Zt.prototype.N=function(){if(Zt.aa.N.call(this),this.i){var w=this.i,D;for(D in w.g){for(var U=w.g[D],ne=0;ne<U.length;ne++)ot(U[ne]);delete w.g[D],w.h--}}this.F=null},Zt.prototype.K=function(w,D,U,ne){return this.i.add(String(w),D,!1,U,ne)},Zt.prototype.L=function(w,D,U,ne){return this.i.add(String(w),D,!0,U,ne)};function wn(w,D,U,ne){if(D=w.i.g[String(D)],!D)return!0;D=D.concat();for(var Ce=!0,Be=0;Be<D.length;++Be){var ut=D[Be];if(ut&&!ut.da&&ut.capture==U){var gn=ut.listener,mr=ut.ha||ut.src;ut.fa&&Pt(w.i,ut),Ce=gn.call(mr,ne)!==!1&&Ce}}return Ce&&!ne.defaultPrevented}function on(w,D,U){if(typeof w=="function")U&&(w=C(w,U));else if(w&&typeof w.handleEvent=="function")w=C(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(D)?-1:g.setTimeout(w,D||0)}function ur(w){w.g=on(()=>{w.g=null,w.i&&(w.i=!1,ur(w))},w.l);const D=w.h;w.h=null,w.m.apply(null,D)}class Tn extends ie{constructor(D,U){super(),this.m=D,this.l=U,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:ur(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(w){ie.call(this),this.h=w,this.g={}}O(Zr,ie);var $t=[];function et(w){ve(w.g,function(D,U){this.g.hasOwnProperty(U)&&vr(D)},w),w.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),et(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fn=g.JSON.stringify,hn=g.JSON.parse,Sn=class{stringify(w){return g.JSON.stringify(w,void 0)}parse(w){return g.JSON.parse(w,void 0)}};function ps(){}ps.prototype.h=null;function ua(w){return w.h||(w.h=w.i())}function ka(){}var Qt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ui(){fe.call(this,"d")}O(ui,fe);function ks(){fe.call(this,"c")}O(ks,fe);var cs={},fi=null;function xs(){return fi=fi||new Zt}cs.La="serverreachability";function fr(w){fe.call(this,cs.La,w)}O(fr,fe);function Ni(w){const D=xs();nn(D,new fr(D))}cs.STAT_EVENT="statevent";function La(w,D){fe.call(this,cs.STAT_EVENT,w),this.stat=D}O(La,fe);function ln(w){const D=xs();nn(D,new La(D,w))}cs.Ma="timingevent";function Rr(w,D){fe.call(this,cs.Ma,w),this.size=D}O(Rr,fe);function Cn(w,D){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){w()},D)}function _i(){this.g=!0}_i.prototype.xa=function(){this.g=!1};function Dr(w,D,U,ne,Ce,Be){w.info(function(){if(w.g)if(Be)for(var ut="",gn=Be.split("&"),mr=0;mr<gn.length;mr++){var mn=gn[mr].split("=");if(1<mn.length){var rr=mn[0];mn=mn[1];var Ar=rr.split("_");ut=2<=Ar.length&&Ar[1]=="type"?ut+(rr+"="+mn+"&"):ut+(rr+"=redacted&")}}else ut=null;else ut=Be;return"XMLHTTP REQ ("+ne+") [attempt "+Ce+"]: "+D+`
`+U+`
`+ut})}function Ls(w,D,U,ne,Ce,Be,ut){w.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+Ce+"]: "+D+`
`+U+`
`+Be+" "+ut})}function X(w,D,U,ne){w.info(function(){return"XMLHTTP TEXT ("+D+"): "+re(w,U)+(ne?" "+ne:"")})}function ee(w,D){w.info(function(){return"TIMEOUT: "+D})}_i.prototype.info=function(){};function re(w,D){if(!w.g)return D;if(!D)return null;try{var U=JSON.parse(D);if(U){for(w=0;w<U.length;w++)if(Array.isArray(U[w])){var ne=U[w];if(!(2>ne.length)){var Ce=ne[1];if(Array.isArray(Ce)&&!(1>Ce.length)){var Be=Ce[0];if(Be!="noop"&&Be!="stop"&&Be!="close")for(var ut=1;ut<Ce.length;ut++)Ce[ut]=""}}}}return fn(U)}catch{return D}}var se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ue;function Ie(){}O(Ie,ps),Ie.prototype.g=function(){return new XMLHttpRequest},Ie.prototype.i=function(){return{}},ue=new Ie;function Ve(w,D,U,ne){this.j=w,this.i=D,this.l=U,this.R=ne||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}var De={},Me={};function Xe(w,D,U){w.L=1,w.v=or(en(D)),w.m=U,w.P=!0,Je(w,null)}function Je(w,D){w.F=Date.now(),ct(w),w.A=en(w.v);var U=w.A,ne=w.R;Array.isArray(ne)||(ne=[String(ne)]),Er(U.i,"t",ne),w.C=0,U=w.j.J,w.h=new Te,w.g=wu(w.j,U?D:null,!w.m),0<w.O&&(w.M=new Tn(C(w.Y,w,w.g),w.O)),D=w.U,U=w.g,ne=w.ca;var Ce="readystatechange";Array.isArray(Ce)||(Ce&&($t[0]=Ce.toString()),Ce=$t);for(var Be=0;Be<Ce.length;Be++){var ut=vn(U,Ce[Be],ne||D.handleEvent,!1,D.h||D);if(!ut)break;D.g[ut.key]=ut}D=w.H?V(w.H):{},w.m?(w.u||(w.u="POST"),D["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,D)):(w.u="GET",w.g.ea(w.A,w.u,null,D)),Ni(),Dr(w.i,w.u,w.A,w.l,w.R,w.m)}Ve.prototype.ca=function(w){w=w.target;const D=this.M;D&&ys(w)==3?D.j():this.Y(w)},Ve.prototype.Y=function(w){try{if(w==this.g)e:{const Ar=ys(this.g);var D=this.g.Ba();const kr=this.g.Z();if(!(3>Ar)&&(Ar!=3||this.g&&(this.h.h||this.g.oa()||vu(this.g)))){this.J||Ar!=4||D==7||(D==8||0>=kr?Ni(3):Ni(2)),je(this);var U=this.g.Z();this.X=U;t:if(it(this)){var ne=vu(this.g);w="";var Ce=ne.length,Be=ys(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ct(this),dn(this);var ut="";break t}this.h.i=new g.TextDecoder}for(D=0;D<Ce;D++)this.h.h=!0,w+=this.h.i.decode(ne[D],{stream:!(Be&&D==Ce-1)});ne.length=0,this.h.g+=w,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=U==200,Ls(this.i,this.u,this.A,this.l,this.R,Ar,U),this.o){if(this.T&&!this.K){t:{if(this.g){var gn,mr=this.g;if((gn=mr.g?mr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(gn)){var mn=gn;break t}}mn=null}if(U=mn)X(this.i,this.l,U,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jr(this,U);else{this.o=!1,this.s=3,ln(12),Ct(this),dn(this);break e}}if(this.P){U=!0;let ei;for(;!this.J&&this.C<ut.length;)if(ei=st(this,ut),ei==Me){Ar==4&&(this.s=4,ln(14),U=!1),X(this.i,this.l,null,"[Incomplete Response]");break}else if(ei==De){this.s=4,ln(15),X(this.i,this.l,ut,"[Invalid Chunk]"),U=!1;break}else X(this.i,this.l,ei,null),Jr(this,ei);if(it(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ar!=4||ut.length!=0||this.h.h||(this.s=1,ln(16),U=!1),this.o=this.o&&U,!U)X(this.i,this.l,ut,"[Invalid Chunked Response]"),Ct(this),dn(this);else if(0<ut.length&&!this.W){this.W=!0;var rr=this.j;rr.g==this&&rr.ba&&!rr.M&&(rr.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),Ua(rr),rr.M=!0,ln(11))}}else X(this.i,this.l,ut,null),Jr(this,ut);Ar==4&&Ct(this),this.o&&!this.J&&(Ar==4?nr(this.j,this):(this.o=!1,ct(this)))}else bn(this.g),U==400&&0<ut.indexOf("Unknown SID")?(this.s=3,ln(12)):(this.s=0,ln(13)),Ct(this),dn(this)}}}catch{}finally{}};function it(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function st(w,D){var U=w.C,ne=D.indexOf(`
`,U);return ne==-1?Me:(U=Number(D.substring(U,ne)),isNaN(U)?De:(ne+=1,ne+U>D.length?Me:(D=D.slice(ne,ne+U),w.C=ne+U,D)))}Ve.prototype.cancel=function(){this.J=!0,Ct(this)};function ct(w){w.S=Date.now()+w.I,Mt(w,w.I)}function Mt(w,D){if(w.B!=null)throw Error("WatchDog timer not null");w.B=Cn(C(w.ba,w),D)}function je(w){w.B&&(g.clearTimeout(w.B),w.B=null)}Ve.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(ee(this.i,this.A),this.L!=2&&(Ni(),ln(17)),Ct(this),this.s=2,dn(this)):Mt(this,this.S-w)};function dn(w){w.j.G==0||w.J||nr(w.j,w)}function Ct(w){je(w);var D=w.M;D&&typeof D.ma=="function"&&D.ma(),w.M=null,et(w.U),w.g&&(D=w.g,w.g=null,D.abort(),D.ma())}function Jr(w,D){try{var U=w.j;if(U.G!=0&&(U.g==w||hi(U.h,w))){if(!w.K&&hi(U.h,w)&&U.G==3){try{var ne=U.Da.g.parse(D)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var Ce=ne;if(Ce[0]==0){e:if(!U.u){if(U.g)if(U.g.F+3e3<w.F)io(U),wl(U);else break e;Rc(U),ln(18)}}else U.za=Ce[1],0<U.za-U.T&&37500>Ce[2]&&U.F&&U.v==0&&!U.C&&(U.C=Cn(C(U.Za,U),6e3));if(1>=Gt(U.h)&&U.ca){try{U.ca()}catch{}U.ca=void 0}}else Di(U,11)}else if((w.K||U.g==w)&&io(U),!Y(D))for(Ce=U.Da.g.parse(D),D=0;D<Ce.length;D++){let mn=Ce[D];if(U.T=mn[0],mn=mn[1],U.G==2)if(mn[0]=="c"){U.K=mn[1],U.ia=mn[2];const rr=mn[3];rr!=null&&(U.la=rr,U.j.info("VER="+U.la));const Ar=mn[4];Ar!=null&&(U.Aa=Ar,U.j.info("SVER="+U.Aa));const kr=mn[5];kr!=null&&typeof kr=="number"&&0<kr&&(ne=1.5*kr,U.L=ne,U.j.info("backChannelRequestTimeoutMs_="+ne)),ne=U;const ei=w.g;if(ei){const qr=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var Be=ne.h;Be.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(Be.j=Be.l,Be.g=new Set,Be.h&&(eo(Be,Be.h),Be.h=null))}if(ne.D){const Nc=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Nc&&(ne.ya=Nc,ft(ne.I,ne.D,Nc))}}U.G=3,U.l&&U.l.ua(),U.ba&&(U.R=Date.now()-w.F,U.j.info("Handshake RTT: "+U.R+"ms")),ne=U;var ut=w;if(ne.qa=Rt(ne,ne.J?ne.ia:null,ne.W),ut.K){di(ne.h,ut);var gn=ut,mr=ne.L;mr&&(gn.I=mr),gn.B&&(je(gn),ct(gn)),ne.g=ut}else Eu(ne);0<U.i.length&&Wt(U)}else mn[0]!="stop"&&mn[0]!="close"||Di(U,7);else U.G==3&&(mn[0]=="stop"||mn[0]=="close"?mn[0]=="stop"?Di(U,7):vs(U):mn[0]!="noop"&&U.l&&U.l.ta(mn),U.v=0)}}Ni(4)}catch{}}var fa=class{constructor(w,D){this.g=w,this.map=D}};function Ht(w){this.l=w||10,g.PerformanceNavigationTiming?(w=g.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zt(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function Gt(w){return w.h?1:w.g?w.g.size:0}function hi(w,D){return w.h?w.h==D:w.g?w.g.has(D):!1}function eo(w,D){w.g?w.g.add(D):w.h=D}function di(w,D){w.h&&w.h==D?w.h=null:w.g&&w.g.has(D)&&w.g.delete(D)}Ht.prototype.cancel=function(){if(this.i=hr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function hr(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let D=w.i;for(const U of w.g.values())D=D.concat(U.D);return D}return I(w.i)}function ha(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(x(w)){for(var D=[],U=w.length,ne=0;ne<U;ne++)D.push(w[ne]);return D}D=[],U=0;for(ne in w)D[U++]=w[ne];return D}function vl(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(x(w)||typeof w=="string"){var D=[];w=w.length;for(var U=0;U<w;U++)D.push(U);return D}D=[],U=0;for(const ne in w)D[U++]=ne;return D}}}function Jn(w,D){if(w.forEach&&typeof w.forEach=="function")w.forEach(D,void 0);else if(x(w)||typeof w=="string")Array.prototype.forEach.call(w,D,void 0);else for(var U=vl(w),ne=ha(w),Ce=ne.length,Be=0;Be<Ce;Be++)D.call(void 0,ne[Be],U&&U[Be],w)}var Xi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kf(w,D){if(w){w=w.split("&");for(var U=0;U<w.length;U++){var ne=w[U].indexOf("="),Ce=null;if(0<=ne){var Be=w[U].substring(0,ne);Ce=w[U].substring(ne+1)}else Be=w[U];D(Be,Ce?decodeURIComponent(Ce.replace(/\+/g," ")):"")}}}function er(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof er){this.h=w.h,_r(this,w.j),this.o=w.o,this.g=w.g,Se(this,w.s),this.l=w.l;var D=w.i,U=new Ps;U.i=D.i,D.g&&(U.g=new Map(D.g),U.h=D.h),ae(this,U),this.m=w.m}else w&&(D=String(w).match(Xi))?(this.h=!1,_r(this,D[1]||"",!0),this.o=dr(D[2]||""),this.g=dr(D[3]||"",!0),Se(this,D[4]),this.l=dr(D[5]||"",!0),ae(this,D[6]||"",!0),this.m=dr(D[7]||"")):(this.h=!1,this.i=new Ps(null,this.h))}er.prototype.toString=function(){var w=[],D=this.j;D&&w.push(Mo(D,Ei,!0),":");var U=this.g;return(U||D=="file")&&(w.push("//"),(D=this.o)&&w.push(Mo(D,Ei,!0),"@"),w.push(encodeURIComponent(String(U)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.s,U!=null&&w.push(":",String(U))),(U=this.l)&&(this.g&&U.charAt(0)!="/"&&w.push("/"),w.push(Mo(U,U.charAt(0)=="/"?tr:At,!0))),(U=this.i.toString())&&w.push("?",U),(U=this.m)&&w.push("#",Mo(U,El)),w.join("")};function en(w){return new er(w)}function _r(w,D,U){w.j=U?dr(D,!0):D,w.j&&(w.j=w.j.replace(/:$/,""))}function Se(w,D){if(D){if(D=Number(D),isNaN(D)||0>D)throw Error("Bad port number "+D);w.s=D}else w.s=null}function ae(w,D,U){D instanceof Ps?(w.i=D,Bs(w.i,w.h)):(U||(D=Mo(D,yu)),w.i=new Ps(D,w.h))}function ft(w,D,U){w.i.set(D,U)}function or(w){return ft(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function dr(w,D){return w?D?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Mo(w,D,U){return typeof w=="string"?(w=encodeURI(w).replace(D,_l),U&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function _l(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Ei=/[#\/\?@]/g,At=/[#\?:]/g,tr=/[#\?]/g,yu=/[#\?@]/g,El=/#/g;function Ps(w,D){this.h=this.g=null,this.i=w||null,this.j=!!D}function Oi(w){w.g||(w.g=new Map,w.h=0,w.i&&Kf(w.i,function(D,U){w.add(decodeURIComponent(D.replace(/\+/g," ")),U)}))}t=Ps.prototype,t.add=function(w,D){Oi(this),this.i=null,w=Ki(this,w);var U=this.g.get(w);return U||this.g.set(w,U=[]),U.push(D),this.h+=1,this};function Fs(w,D){Oi(w),D=Ki(w,D),w.g.has(D)&&(w.i=null,w.h-=w.g.get(D).length,w.g.delete(D))}function Pa(w,D){return Oi(w),D=Ki(w,D),w.g.has(D)}t.forEach=function(w,D){Oi(this),this.g.forEach(function(U,ne){U.forEach(function(Ce){w.call(D,Ce,ne,this)},this)},this)},t.na=function(){Oi(this);const w=Array.from(this.g.values()),D=Array.from(this.g.keys()),U=[];for(let ne=0;ne<D.length;ne++){const Ce=w[ne];for(let Be=0;Be<Ce.length;Be++)U.push(D[ne])}return U},t.V=function(w){Oi(this);let D=[];if(typeof w=="string")Pa(this,w)&&(D=D.concat(this.g.get(Ki(this,w))));else{w=Array.from(this.g.values());for(let U=0;U<w.length;U++)D=D.concat(w[U])}return D},t.set=function(w,D){return Oi(this),this.i=null,w=Ki(this,w),Pa(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[D]),this.h+=1,this},t.get=function(w,D){return w?(w=this.V(w),0<w.length?String(w[0]):D):D};function Er(w,D,U){Fs(w,D),0<U.length&&(w.i=null,w.g.set(Ki(w,D),I(U)),w.h+=U.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],D=Array.from(this.g.keys());for(var U=0;U<D.length;U++){var ne=D[U];const Be=encodeURIComponent(String(ne)),ut=this.V(ne);for(ne=0;ne<ut.length;ne++){var Ce=Be;ut[ne]!==""&&(Ce+="="+encodeURIComponent(String(ut[ne]))),w.push(Ce)}}return this.i=w.join("&")};function Ki(w,D){return D=String(D),w.j&&(D=D.toLowerCase()),D}function Bs(w,D){D&&!w.j&&(Oi(w),w.i=null,w.g.forEach(function(U,ne){var Ce=ne.toLowerCase();ne!=Ce&&(Fs(this,ne),Er(this,Ce,U))},w)),w.j=D}function bt(w,D){const U=new _i;if(g.Image){const ne=new Image;ne.onload=R(Dt,U,"TestLoadImage: loaded",!0,D,ne),ne.onerror=R(Dt,U,"TestLoadImage: error",!1,D,ne),ne.onabort=R(Dt,U,"TestLoadImage: abort",!1,D,ne),ne.ontimeout=R(Dt,U,"TestLoadImage: timeout",!1,D,ne),g.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=w}else D(!1)}function Us(w,D){const U=new _i,ne=new AbortController,Ce=setTimeout(()=>{ne.abort(),Dt(U,"TestPingServer: timeout",!1,D)},1e4);fetch(w,{signal:ne.signal}).then(Be=>{clearTimeout(Ce),Be.ok?Dt(U,"TestPingServer: ok",!0,D):Dt(U,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(Ce),Dt(U,"TestPingServer: error",!1,D)})}function Dt(w,D,U,ne,Ce){try{Ce&&(Ce.onload=null,Ce.onerror=null,Ce.onabort=null,Ce.ontimeout=null),ne(U)}catch{}}function gr(){this.g=new Sn}function da(w,D,U){const ne=U||"";try{Jn(w,function(Ce,Be){let ut=Ce;m(Ce)&&(ut=fn(Ce)),D.push(ne+Be+"="+encodeURIComponent(ut))})}catch(Ce){throw D.push(ne+"type="+encodeURIComponent("_badmap")),Ce}}function ga(w){this.l=w.Ub||null,this.j=w.eb||!1}O(ga,ps),ga.prototype.g=function(){return new ma(this.l,this.j)},ga.prototype.i=function(w){return function(){return w}}({});function ma(w,D){Zt.call(this),this.D=w,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ma,Zt),t=ma.prototype,t.open=function(w,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=D,this.readyState=1,Qi(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const D={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(D.body=w),(this.D||g).fetch(new Request(this.A,D)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pa(this)),this.readyState=0},t.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Qi(this)),this.g&&(this.readyState=3,Qi(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vs(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vs(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}t.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var D=w.value?w.value:new Uint8Array(0);(D=this.v.decode(D,{stream:!w.done}))&&(this.response=this.responseText+=D)}w.done?pa(this):Qi(this),this.readyState==3&&Vs(this)}},t.Ra=function(w){this.g&&(this.response=this.responseText=w,pa(this))},t.Qa=function(w){this.g&&(this.response=w,pa(this))},t.ga=function(){this.g&&pa(this)};function pa(w){w.readyState=4,w.l=null,w.j=null,w.v=null,Qi(w)}t.setRequestHeader=function(w,D){this.u.append(w,D)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],D=this.h.entries();for(var U=D.next();!U.done;)U=U.value,w.push(U[0]+": "+U[1]),U=D.next();return w.join(`\r
`)};function Qi(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function Fa(w){let D="";return ve(w,function(U,ne){D+=ne,D+=":",D+=U,D+=`\r
`}),D}function wr(w,D,U){e:{for(ne in U){var ne=!1;break e}ne=!0}ne||(U=Fa(U),typeof w=="string"?U!=null&&encodeURIComponent(String(U)):ft(w,D,U))}function An(w){Zt.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(An,Zt);var xa=/^https?$/i,js=["POST","PUT"];t=An.prototype,t.Ha=function(w){this.J=w},t.ea=function(w,D,U,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);D=D?D.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ue.g(),this.v=this.o?ua(this.o):ua(ue),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(D,String(w),!0),this.B=!1}catch(Be){gi(this,Be);return}if(w=U||"",U=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var Ce in ne)U.set(Ce,ne[Ce]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const Be of ne.keys())U.set(Be,ne.get(Be));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(U.keys()).find(Be=>Be.toLowerCase()=="content-type"),Ce=g.FormData&&w instanceof g.FormData,!(0<=Array.prototype.indexOf.call(js,D,void 0))||ne||Ce||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Be,ut]of U)this.g.setRequestHeader(Be,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Po(this),this.u=!0,this.g.send(w),this.u=!1}catch(Be){gi(this,Be)}};function gi(w,D){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=D,w.m=5,ko(w),Hs(w)}function ko(w){w.A||(w.A=!0,nn(w,"complete"),nn(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,nn(this,"complete"),nn(this,"abort"),Hs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hs(this,!0)),An.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lo(this):this.bb())},t.bb=function(){Lo(this)};function Lo(w){if(w.h&&typeof u<"u"&&(!w.v[1]||ys(w)!=4||w.Z()!=2)){if(w.u&&ys(w)==4)on(w.Ea,0,w);else if(nn(w,"readystatechange"),ys(w)==4){w.h=!1;try{const ut=w.Z();e:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var U;if(!(U=D)){var ne;if(ne=ut===0){var Ce=String(w.D).match(Xi)[1]||null;!Ce&&g.self&&g.self.location&&(Ce=g.self.location.protocol.slice(0,-1)),ne=!xa.test(Ce?Ce.toLowerCase():"")}U=ne}if(U)nn(w,"complete"),nn(w,"success");else{w.m=6;try{var Be=2<ys(w)?w.g.statusText:""}catch{Be=""}w.l=Be+" ["+w.Z()+"]",ko(w)}}finally{Hs(w)}}}}function Hs(w,D){if(w.g){Po(w);const U=w.g,ne=w.v[0]?()=>{}:null;w.g=null,w.v=null,D||nn(w,"ready");try{U.onreadystatechange=ne}catch{}}}function Po(w){w.I&&(g.clearTimeout(w.I),w.I=null)}t.isActive=function(){return!!this.g};function ys(w){return w.g?w.g.readyState:0}t.Z=function(){try{return 2<ys(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(w){if(this.g){var D=this.g.responseText;return w&&D.indexOf(w)==0&&(D=D.substring(w.length)),hn(D)}};function vu(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function bn(w){const D={};w=(w.g&&2<=ys(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<w.length;ne++){if(Y(w[ne]))continue;var U=q(w[ne]);const Ce=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const Be=D[Ce]||[];D[Ce]=Be,Be.push(U)}B(D,function(ne){return ne.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function to(w,D,U){return U&&U.internalChannelParams&&U.internalChannelParams[w]||D}function Ba(w){this.Aa=0,this.i=[],this.j=new _i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=to("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=to("baseRetryDelayMs",5e3,w),this.cb=to("retryDelaySeedMs",1e4,w),this.Wa=to("forwardChannelMaxRetries",2,w),this.wa=to("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new Ht(w&&w.concurrentRequestLimit),this.Da=new gr,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ba.prototype,t.la=8,t.G=1,t.connect=function(w,D,U,ne){ln(0),this.W=w,this.H=D||{},U&&ne!==void 0&&(this.H.OSID=U,this.H.OAID=ne),this.F=this.X,this.I=Rt(this,null,this.W),Wt(this)};function vs(w){if(Pe(w),w.G==3){var D=w.U++,U=en(w.I);if(ft(U,"SID",w.K),ft(U,"RID",D),ft(U,"TYPE","terminate"),ro(w,U),D=new Ve(w,w.j,D),D.L=2,D.v=or(en(U)),U=!1,g.navigator&&g.navigator.sendBeacon)try{U=g.navigator.sendBeacon(D.v.toString(),"")}catch{}!U&&g.Image&&(new Image().src=D.v,U=!0),U||(D.g=wu(D.j,null),D.g.ea(D.v)),D.F=Date.now(),ct(D)}In(w)}function wl(w){w.g&&(Ua(w),w.g.cancel(),w.g=null)}function Pe(w){wl(w),w.u&&(g.clearTimeout(w.u),w.u=null),io(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&g.clearTimeout(w.s),w.s=null)}function Wt(w){if(!zt(w.h)&&!w.s){w.s=!0;var D=w.Ga;Ue||me(),xt||(Ue(),xt=!0),wt.add(D,w),w.B=0}}function Wr(w,D){return Gt(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=D.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=Cn(C(w.Ga,w,D),so(w,w.B)),w.B++,!0)}t.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const Ce=new Ve(this,this.j,w);let Be=this.o;if(this.S&&(Be?(Be=V(Be),M(Be,this.S)):Be=this.S),this.m!==null||this.O||(Ce.H=Be,Be=null),this.P)e:{for(var D=0,U=0;U<this.i.length;U++){t:{var ne=this.i[U];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(D+=ne,4096<D){D=U;break e}if(D===4096||U===this.i.length-1){D=U+1;break e}}D=1e3}else D=1e3;D=_u(this,Ce,D),U=en(this.I),ft(U,"RID",w),ft(U,"CVER",22),this.D&&ft(U,"X-HTTP-Session-Id",this.D),ro(this,U),Be&&(this.O?D="headers="+encodeURIComponent(String(Fa(Be)))+"&"+D:this.m&&wr(U,this.m,Be)),eo(this.h,Ce),this.Ua&&ft(U,"TYPE","init"),this.P?(ft(U,"$req",D),ft(U,"SID","null"),Ce.T=!0,Xe(Ce,U,null)):Xe(Ce,U,D),this.G=2}}else this.G==3&&(w?no(this,w):this.i.length==0||zt(this.h)||no(this))};function no(w,D){var U;D?U=D.l:U=w.U++;const ne=en(w.I);ft(ne,"SID",w.K),ft(ne,"RID",U),ft(ne,"AID",w.T),ro(w,ne),w.m&&w.o&&wr(ne,w.m,w.o),U=new Ve(w,w.j,U,w.B+1),w.m===null&&(U.H=w.o),D&&(w.i=D.D.concat(w.i)),D=_u(w,U,1e3),U.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),eo(w.h,U),Xe(U,ne,D)}function ro(w,D){w.H&&ve(w.H,function(U,ne){ft(D,ne,U)}),w.l&&Jn({},function(U,ne){ft(D,ne,U)})}function _u(w,D,U){U=Math.min(w.i.length,U);var ne=w.l?C(w.l.Na,w.l,w):null;e:{var Ce=w.i;let Be=-1;for(;;){const ut=["count="+U];Be==-1?0<U?(Be=Ce[0].g,ut.push("ofs="+Be)):Be=0:ut.push("ofs="+Be);let gn=!0;for(let mr=0;mr<U;mr++){let mn=Ce[mr].g;const rr=Ce[mr].map;if(mn-=Be,0>mn)Be=Math.max(0,Ce[mr].g-100),gn=!1;else try{da(rr,ut,"req"+mn+"_")}catch{ne&&ne(rr)}}if(gn){ne=ut.join("&");break e}}}return w=w.i.splice(0,U),D.D=w,ne}function Eu(w){if(!w.g&&!w.u){w.Y=1;var D=w.Fa;Ue||me(),xt||(Ue(),xt=!0),wt.add(D,w),w.v=0}}function Rc(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=Cn(C(w.Fa,w),so(w,w.v)),w.v++,!0)}t.Fa=function(){if(this.u=null,Tr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=Cn(C(this.ab,this),w)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ln(10),wl(this),Tr(this))};function Ua(w){w.A!=null&&(g.clearTimeout(w.A),w.A=null)}function Tr(w){w.g=new Ve(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var D=en(w.qa);ft(D,"RID","rpc"),ft(D,"SID",w.K),ft(D,"AID",w.T),ft(D,"CI",w.F?"0":"1"),!w.F&&w.ja&&ft(D,"TO",w.ja),ft(D,"TYPE","xmlhttp"),ro(w,D),w.m&&w.o&&wr(D,w.m,w.o),w.L&&(w.g.I=w.L);var U=w.g;w=w.ia,U.L=1,U.v=or(en(D)),U.m=null,U.P=!0,Je(U,w)}t.Za=function(){this.C!=null&&(this.C=null,wl(this),Rc(this),ln(19))};function io(w){w.C!=null&&(g.clearTimeout(w.C),w.C=null)}function nr(w,D){var U=null;if(w.g==D){io(w),Ua(w),w.g=null;var ne=2}else if(hi(w.h,D))U=D.D,di(w.h,D),ne=1;else return;if(w.G!=0){if(D.o)if(ne==1){U=D.m?D.m.length:0,D=Date.now()-D.F;var Ce=w.B;ne=xs(),nn(ne,new Rr(ne,U)),Wt(w)}else Eu(w);else if(Ce=D.s,Ce==3||Ce==0&&0<D.X||!(ne==1&&Wr(w,D)||ne==2&&Rc(w)))switch(U&&0<U.length&&(D=w.h,D.i=D.i.concat(U)),Ce){case 1:Di(w,5);break;case 4:Di(w,10);break;case 3:Di(w,6);break;default:Di(w,2)}}}function so(w,D){let U=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(U*=2),U*D}function Di(w,D){if(w.j.info("Error code "+D),D==2){var U=C(w.fb,w),ne=w.Xa;const Ce=!ne;ne=new er(ne||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||_r(ne,"https"),or(ne),Ce?bt(ne.toString(),U):Us(ne.toString(),U)}else ln(2);w.G=0,w.l&&w.l.sa(D),In(w),Pe(w)}t.fb=function(w){w?(this.j.info("Successfully pinged google.com"),ln(2)):(this.j.info("Failed to ping google.com"),ln(1))};function In(w){if(w.G=0,w.ka=[],w.l){const D=hr(w.h);(D.length!=0||w.i.length!=0)&&(k(w.ka,D),k(w.ka,w.i),w.h.i.length=0,I(w.i),w.i.length=0),w.l.ra()}}function Rt(w,D,U){var ne=U instanceof er?en(U):new er(U);if(ne.g!="")D&&(ne.g=D+"."+ne.g),Se(ne,ne.s);else{var Ce=g.location;ne=Ce.protocol,D=D?D+"."+Ce.hostname:Ce.hostname,Ce=+Ce.port;var Be=new er(null);ne&&_r(Be,ne),D&&(Be.g=D),Ce&&Se(Be,Ce),U&&(Be.l=U),ne=Be}return U=w.D,D=w.ya,U&&D&&ft(ne,U,D),ft(ne,"VER",w.la),ro(w,ne),ne}function wu(w,D,U){if(D&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return D=w.Ca&&!w.pa?new An(new ga({eb:U})):new An(w.pa),D.Ha(w.J),D}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ln(){}t=Ln.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _s(){}_s.prototype.g=function(w,D){return new Mr(w,D)};function Mr(w,D){Zt.call(this),this.g=new Ba(D),this.l=w,this.h=D&&D.messageUrlParams||null,w=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(w?w["X-WebChannel-Content-Type"]=D.messageContentType:w={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.va&&(w?w["X-WebChannel-Client-Profile"]=D.va:w={"X-WebChannel-Client-Profile":D.va}),this.g.S=w,(w=D&&D.Sb)&&!Y(w)&&(this.g.m=w),this.v=D&&D.supportsCrossDomainXhr||!1,this.u=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!Y(D)&&(this.g.D=D,w=this.h,w!==null&&D in w&&(w=this.h,D in w&&delete w[D])),this.j=new Es(this)}O(Mr,Zt),Mr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mr.prototype.close=function(){vs(this.g)},Mr.prototype.o=function(w){var D=this.g;if(typeof w=="string"){var U={};U.__data__=w,w=U}else this.u&&(U={},U.__data__=fn(w),w=U);D.i.push(new fa(D.Ya++,w)),D.G==3&&Wt(D)},Mr.prototype.N=function(){this.g.l=null,delete this.j,vs(this.g),delete this.g,Mr.aa.N.call(this)};function Tu(w){ui.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var D=w.__sm__;if(D){e:{for(const U in D){w=U;break e}w=void 0}(this.i=w)&&(w=this.i,D=D!==null&&w in D?D[w]:void 0),this.data=D}else this.data=w}O(Tu,ui);function us(){ks.call(this),this.status=1}O(us,ks);function Es(w){this.g=w}O(Es,Ln),Es.prototype.ua=function(){nn(this.g,"a")},Es.prototype.ta=function(w){nn(this.g,new Tu(w))},Es.prototype.sa=function(w){nn(this.g,new us)},Es.prototype.ra=function(){nn(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,Mr.prototype.send=Mr.prototype.o,Mr.prototype.open=Mr.prototype.m,Mr.prototype.close=Mr.prototype.close,U3=function(){return new _s},B3=function(){return xs()},F3=cs,Nx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},se.NO_ERROR=0,se.TIMEOUT=8,se.HTTP_ERROR=6,z1=se,le.COMPLETE="complete",P3=le,ka.EventType=Qt,Qt.OPEN="a",Qt.CLOSE="b",Qt.ERROR="c",Qt.MESSAGE="d",Zt.prototype.listen=Zt.prototype.K,Yh=ka,An.prototype.listenOnce=An.prototype.L,An.prototype.getLastError=An.prototype.Ka,An.prototype.getLastErrorCode=An.prototype.Ba,An.prototype.getStatus=An.prototype.Z,An.prototype.getResponseJson=An.prototype.Oa,An.prototype.getResponseText=An.prototype.oa,An.prototype.send=An.prototype.ea,An.prototype.setWithCredentials=An.prototype.Ha,L3=An}).apply(typeof y1<"u"?y1:typeof self<"u"?self:typeof window<"u"?window:{});const AA="@firebase/firestore",SA="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rs.UNAUTHENTICATED=new rs(null),rs.GOOGLE_CREDENTIALS=new rs("google-credentials-uid"),rs.FIRST_PARTY=new rs("first-party-uid"),rs.MOCK_USER=new rs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=new Ry("@firebase/firestore");function lf(){return ru.logLevel}function vt(t,...e){if(ru.logLevel<=xn.DEBUG){const n=e.map(jy);ru.debug(`Firestore (${Vf}): ${t}`,...n)}}function fl(t,...e){if(ru.logLevel<=xn.ERROR){const n=e.map(jy);ru.error(`Firestore (${Vf}): ${t}`,...n)}}function fc(t,...e){if(ru.logLevel<=xn.WARN){const n=e.map(jy);ru.warn(`Firestore (${Vf}): ${t}`,...n)}}function jy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,V3(t,r,n)}function V3(t,e,n){let r=`FIRESTORE (${Vf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw fl(r),new Error(r)}function Fn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||V3(e,i,r)}function Kt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Do{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rs.UNAUTHENTICATED))}shutdown(){}}class ML{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kL{constructor(e){this.t=e,this.currentUser=rs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fn(this.o===void 0,42304);let r=this.i;const i=x=>this.i!==r?(r=this.i,n(x)):Promise.resolve();let o=new rl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new rl,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const x=o;e.enqueueRetryable(async()=>{await x.promise,await i(this.currentUser)})},g=x=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(x=>g(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?g(x):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new rl)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fn(typeof r.accessToken=="string",31837,{l:r}),new j3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fn(e===null||typeof e=="string",2055,{h:e}),new rs(e)}}class LL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=rs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new LL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(rs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ra(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fn(this.o===void 0,3512);const r=o=>{o.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,vt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new CA(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new CA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=BL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function sn(t,e){return t<e?-1:t>e?1:0}function Ox(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return sn(r,i);{const o=H3(),u=UL(o.encode(bA(t,n)),o.encode(bA(e,n)));return u!==0?u:sn(r,i)}}n+=r>65535?2:1}return sn(t.length,e.length)}function bA(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function UL(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return sn(t[n],e[n]);return sn(t.length,e.length)}function Rf(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="__name__";class xo{constructor(e,n,r){n===void 0?n=0:n>e.length&&Bt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Bt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=xo.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return sn(e.length,n.length)}static compareSegments(e,n){const r=xo.isNumericId(e),i=xo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?xo.extractNumericId(e).compare(xo.extractNumericId(n)):Ox(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oc.fromString(e.substring(4,e.length-2))}}class cr extends xo{construct(e,n,r){return new cr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new yt(Ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new cr(n)}static emptyPath(){return new cr([])}}const VL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ji extends xo{construct(e,n,r){return new ji(e,n,r)}static isValidIdentifier(e){return VL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ji.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===IA}static keyField(){return new ji([IA])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new yt(Ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;i<e.length;){const g=e[i];if(g==="\\"){if(i+1===e.length)throw new yt(Ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const x=e[i+1];if(x!=="\\"&&x!=="."&&x!=="`")throw new yt(Ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=x,i+=2}else g==="`"?(u=!u,i++):g!=="."||u?(r+=g,i++):(o(),i++)}if(o(),u)throw new yt(Ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ji(n)}static emptyPath(){return new ji([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.path=e}static fromPath(e){return new Nt(cr.fromString(e))}static fromName(e){return new Nt(cr.fromString(e).popFirst(5))}static empty(){return new Nt(cr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&cr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return cr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nt(new cr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t,e,n){if(!n)throw new yt(Ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jL(t,e,n,r){if(e===!0&&r===!0)throw new yt(Ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RA(t){if(!Nt.isDocumentKey(t))throw new yt(Ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NA(t){if(Nt.isDocumentKey(t))throw new yt(Ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function G3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Bt(12329,{type:typeof t})}function Rs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new yt(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rm(t);throw new yt(Ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,e){const n={typeString:t};return e&&(n.value=e),n}function Z0(t,e){if(!G3(t))throw new yt(Ye.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(i&&typeof u!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&u!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new yt(Ye.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=-62135596800,DA=1e6;class xr{static now(){return xr.fromMillis(Date.now())}static fromDate(e){return xr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*DA);return new xr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new yt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OA)throw new yt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DA}_compareTo(e){return this.seconds===e.seconds?sn(this.nanoseconds,e.nanoseconds):sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Z0(e,xr._jsonSchema))return new xr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-OA;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xr._jsonSchemaVersion="firestore/timestamp/1.0",xr._jsonSchema={type:oi("string",xr._jsonSchemaVersion),seconds:oi("number"),nanoseconds:oi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{static fromTimestamp(e){return new Yt(e)}static min(){return new Yt(new xr(0,0))}static max(){return new Yt(new xr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=-1;function HL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Yt.fromTimestamp(r===1e9?new xr(n+1,0):new xr(n,r));return new hc(i,Nt.empty(),e)}function zL(t){return new hc(t.readTime,t.key,w0)}class hc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hc(Yt.min(),Nt.empty(),w0)}static max(){return new hc(Yt.max(),Nt.empty(),w0)}}function GL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Nt.comparator(t.documentKey,e.documentKey),n!==0?n:sn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(t){if(t.code!==Ye.FAILED_PRECONDITION||t.message!==WL)throw t;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Qe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Qe?n:Qe.resolve(n)}catch(n){return Qe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Qe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Qe.reject(n)}static resolve(e){return new Qe((n,r)=>{n(e)})}static reject(e){return new Qe((n,r)=>{r(e)})}static waitFor(e){return new Qe((n,r)=>{let i=0,o=0,u=!1;e.forEach(g=>{++i,g.next(()=>{++o,u&&o===i&&n()},x=>r(x))}),u=!0,o===i&&n()})}static or(e){let n=Qe.resolve(!1);for(const r of e)n=n.next(i=>i?Qe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Qe((r,i)=>{const o=e.length,u=new Array(o);let g=0;for(let x=0;x<o;x++){const m=x;n(e[m]).next(_=>{u[m]=_,++g,g===o&&r(u)},_=>i(_))}})}static doWhile(e,n){return new Qe((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function YL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}im.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=-1;function sm(t){return t==null}function ag(t){return t===0&&1/t==-1/0}function XL(t){return typeof t=="number"&&Number.isInteger(t)&&!ag(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3="";function KL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=MA(e)),e=QL(t.get(n),e);return MA(e)}function QL(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case W3:n+="";break;default:n+=o}}return n}function MA(t){return t+W3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function q3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n){this.comparator=e,this.root=n||Ui.EMPTY}insert(e,n){return new Or(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ui.BLACK,null,null))}remove(e){return new Or(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ui.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new v1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new v1(this.root,e,this.comparator,!1)}getReverseIterator(){return new v1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new v1(this.root,e,this.comparator,!0)}}class v1{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ui{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ui.RED,this.left=i??Ui.EMPTY,this.right=o??Ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ui(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ui.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Bt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Bt(27949);return e+(this.isRed()?0:1)}}Ui.EMPTY=null,Ui.RED=!0,Ui.BLACK=!1;Ui.EMPTY=new class{constructor(){this.size=0}get key(){throw Bt(57766)}get value(){throw Bt(16141)}get color(){throw Bt(16727)}get left(){throw Bt(29726)}get right(){throw Bt(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ui(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.comparator=e,this.data=new Or(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LA(this.data.getIterator())}getIteratorFrom(e){return new LA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vi)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vi(this.comparator);return n.data=e,n}}class LA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.fields=e,e.sort(ji.comparator)}static empty(){return new sa([])}unionWith(e){let n=new vi(ji.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sa(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Y3("Invalid base64 string: "+o):o}}(e);return new Wi(n)}static fromUint8Array(e){const n=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new Wi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wi.EMPTY_BYTE_STRING=new Wi("");const $L=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dc(t){if(Fn(!!t,39018),typeof t=="string"){let e=0;const n=$L.exec(t);if(Fn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kr(t.seconds),nanos:Kr(t.nanos)}}function Kr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gc(t){return typeof t=="string"?Wi.fromBase64String(t):Wi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="server_timestamp",K3="__type__",Q3="__previous_value__",$3="__local_write_time__";function Gy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[K3])===null||n===void 0?void 0:n.stringValue)===X3}function am(t){const e=t.mapValue.fields[Q3];return Gy(e)?am(e):e}function T0(t){const e=dc(t.mapValue.fields[$3].timestampValue);return new xr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n,r,i,o,u,g,x,m,_){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=g,this.longPollingOptions=x,this.useFetchStreams=m,this.isUsingEmulator=_}}const og="(default)";class A0{constructor(e,n){this.projectId=e,this.database=n||og}static empty(){return new A0("","")}get isDefaultDatabase(){return this.database===og}isEqual(e){return e instanceof A0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="__type__",JL="__max__",_1={mapValue:{}},J3="__vector__",lg="value";function mc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gy(t)?4:tP(t)?9007199254740991:eP(t)?10:11:Bt(28295,{value:t})}function No(t,e){if(t===e)return!0;const n=mc(t);if(n!==mc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return T0(t).isEqual(T0(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=dc(i.timestampValue),g=dc(o.timestampValue);return u.seconds===g.seconds&&u.nanos===g.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return gc(i.bytesValue).isEqual(gc(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Kr(i.geoPointValue.latitude)===Kr(o.geoPointValue.latitude)&&Kr(i.geoPointValue.longitude)===Kr(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Kr(i.integerValue)===Kr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=Kr(i.doubleValue),g=Kr(o.doubleValue);return u===g?ag(u)===ag(g):isNaN(u)&&isNaN(g)}return!1}(t,e);case 9:return Rf(t.arrayValue.values||[],e.arrayValue.values||[],No);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},g=o.mapValue.fields||{};if(kA(u)!==kA(g))return!1;for(const x in u)if(u.hasOwnProperty(x)&&(g[x]===void 0||!No(u[x],g[x])))return!1;return!0}(t,e);default:return Bt(52216,{left:t})}}function S0(t,e){return(t.values||[]).find(n=>No(n,e))!==void 0}function Nf(t,e){if(t===e)return 0;const n=mc(t),r=mc(e);if(n!==r)return sn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return sn(t.booleanValue,e.booleanValue);case 2:return function(o,u){const g=Kr(o.integerValue||o.doubleValue),x=Kr(u.integerValue||u.doubleValue);return g<x?-1:g>x?1:g===x?0:isNaN(g)?isNaN(x)?0:-1:1}(t,e);case 3:return PA(t.timestampValue,e.timestampValue);case 4:return PA(T0(t),T0(e));case 5:return Ox(t.stringValue,e.stringValue);case 6:return function(o,u){const g=gc(o),x=gc(u);return g.compareTo(x)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const g=o.split("/"),x=u.split("/");for(let m=0;m<g.length&&m<x.length;m++){const _=sn(g[m],x[m]);if(_!==0)return _}return sn(g.length,x.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const g=sn(Kr(o.latitude),Kr(u.latitude));return g!==0?g:sn(Kr(o.longitude),Kr(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return FA(t.arrayValue,e.arrayValue);case 10:return function(o,u){var g,x,m,_;const A=o.fields||{},C=u.fields||{},R=(g=A[lg])===null||g===void 0?void 0:g.arrayValue,O=(x=C[lg])===null||x===void 0?void 0:x.arrayValue,I=sn(((m=R==null?void 0:R.values)===null||m===void 0?void 0:m.length)||0,((_=O==null?void 0:O.values)===null||_===void 0?void 0:_.length)||0);return I!==0?I:FA(R,O)}(t.mapValue,e.mapValue);case 11:return function(o,u){if(o===_1.mapValue&&u===_1.mapValue)return 0;if(o===_1.mapValue)return 1;if(u===_1.mapValue)return-1;const g=o.fields||{},x=Object.keys(g),m=u.fields||{},_=Object.keys(m);x.sort(),_.sort();for(let A=0;A<x.length&&A<_.length;++A){const C=Ox(x[A],_[A]);if(C!==0)return C;const R=Nf(g[x[A]],m[_[A]]);if(R!==0)return R}return sn(x.length,_.length)}(t.mapValue,e.mapValue);default:throw Bt(23264,{le:n})}}function PA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return sn(t,e);const n=dc(t),r=dc(e),i=sn(n.seconds,r.seconds);return i!==0?i:sn(n.nanos,r.nanos)}function FA(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Nf(n[i],r[i]);if(o)return o}return sn(n.length,r.length)}function Of(t){return Dx(t)}function Dx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=dc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Nt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Dx(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${Dx(n.fields[u])}`;return i+"}"}(t.mapValue):Bt(61005,{value:t})}function G1(t){switch(mc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=am(t);return e?16+G1(e):16;case 5:return 2*t.stringValue.length;case 6:return gc(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+G1(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Sc(r.fields,(o,u)=>{i+=o.length+G1(u)}),i}(t.mapValue);default:throw Bt(13486,{value:t})}}function BA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Mx(t){return!!t&&"integerValue"in t}function Wy(t){return!!t&&"arrayValue"in t}function UA(t){return!!t&&"nullValue"in t}function VA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function W1(t){return!!t&&"mapValue"in t}function eP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Z3])===null||n===void 0?void 0:n.stringValue)===J3}function r0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Sc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=r0(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=r0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function tP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===JL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.value=e}static empty(){return new Is({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!W1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=r0(n)}setAll(e){let n=ji.emptyPath(),r={},i=[];e.forEach((u,g)=>{if(!n.isImmediateParentOf(g)){const x=this.getFieldsMap(n);this.applyChanges(x,r,i),r={},i=[],n=g.popLast()}u?r[g.lastSegment()]=r0(u):i.push(g.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());W1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return No(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];W1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Sc(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Is(r0(this.value))}}function eb(t){const e=[];return Sc(t.fields,(n,r)=>{const i=new ji([n]);if(W1(r)){const o=eb(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new sa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r,i,o,u,g){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=g}static newInvalidDocument(e){return new is(e,0,Yt.min(),Yt.min(),Yt.min(),Is.empty(),0)}static newFoundDocument(e,n,r,i){return new is(e,1,n,Yt.min(),r,i,0)}static newNoDocument(e,n){return new is(e,2,n,Yt.min(),Yt.min(),Is.empty(),0)}static newUnknownDocument(e,n){return new is(e,3,n,Yt.min(),Yt.min(),Is.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Is.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof is&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new is(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){this.position=e,this.inclusive=n}}function jA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],u=t.position[i];if(o.field.isKeyField()?r=Nt.comparator(Nt.fromName(u.referenceValue),n.key):r=Nf(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function HA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!No(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n="asc"){this.field=e,this.dir=n}}function nP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{}class ai extends tb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iP(e,n,r):n==="array-contains"?new oP(e,r):n==="in"?new lP(e,r):n==="not-in"?new cP(e,r):n==="array-contains-any"?new uP(e,r):new ai(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sP(e,r):new aP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Nf(n,this.value)):n!==null&&mc(this.value)===mc(n)&&this.matchesComparison(Nf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $a extends tb{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new $a(e,n)}matches(e){return nb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function nb(t){return t.op==="and"}function rb(t){return rP(t)&&nb(t)}function rP(t){for(const e of t.filters)if(e instanceof $a)return!1;return!0}function kx(t){if(t instanceof ai)return t.field.canonicalString()+t.op.toString()+Of(t.value);if(rb(t))return t.filters.map(e=>kx(e)).join(",");{const e=t.filters.map(n=>kx(n)).join(",");return`${t.op}(${e})`}}function ib(t,e){return t instanceof ai?function(r,i){return i instanceof ai&&r.op===i.op&&r.field.isEqual(i.field)&&No(r.value,i.value)}(t,e):t instanceof $a?function(r,i){return i instanceof $a&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,g)=>o&&ib(u,i.filters[g]),!0):!1}(t,e):void Bt(19439)}function sb(t){return t instanceof ai?function(n){return`${n.field.canonicalString()} ${n.op} ${Of(n.value)}`}(t):t instanceof $a?function(n){return n.op.toString()+" {"+n.getFilters().map(sb).join(" ,")+"}"}(t):"Filter"}class iP extends ai{constructor(e,n,r){super(e,n,r),this.key=Nt.fromName(r.referenceValue)}matches(e){const n=Nt.comparator(e.key,this.key);return this.matchesComparison(n)}}class sP extends ai{constructor(e,n){super(e,"in",n),this.keys=ab("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aP extends ai{constructor(e,n){super(e,"not-in",n),this.keys=ab("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ab(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Nt.fromName(r.referenceValue))}class oP extends ai{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wy(n)&&S0(n.arrayValue,this.value)}}class lP extends ai{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&S0(this.value.arrayValue,n)}}class cP extends ai{constructor(e,n){super(e,"not-in",n)}matches(e){if(S0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!S0(this.value.arrayValue,n)}}class uP extends ai{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>S0(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n=null,r=[],i=[],o=null,u=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=g,this.Pe=null}}function zA(t,e=null,n=[],r=[],i=null,o=null,u=null){return new fP(t,e,n,r,i,o,u)}function qy(t){const e=Kt(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),sm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Of(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Of(r)).join(",")),e.Pe=n}return e.Pe}function Yy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!nP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ib(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HA(t.startAt,e.startAt)&&HA(t.endAt,e.endAt)}function Lx(t){return Nt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n=null,r=[],i=[],o=null,u="F",g=null,x=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=g,this.endAt=x,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function hP(t,e,n,r,i,o,u,g){return new zf(t,e,n,r,i,o,u,g)}function om(t){return new zf(t)}function GA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ob(t){return t.collectionGroup!==null}function i0(t){const e=Kt(t);if(e.Te===null){e.Te=[];const n=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let g=new vi(ji.comparator);return u.filters.forEach(x=>{x.getFlattenedFilters().forEach(m=>{m.isInequality()&&(g=g.add(m.field))})}),g})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new C0(o,r))}),n.has(ji.keyField().canonicalString())||e.Te.push(new C0(ji.keyField(),r))}return e.Te}function So(t){const e=Kt(t);return e.Ie||(e.Ie=dP(e,i0(t))),e.Ie}function dP(t,e){if(t.limitType==="F")return zA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new C0(i.field,o)});const n=t.endAt?new cg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cg(t.startAt.position,t.startAt.inclusive):null;return zA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Px(t,e){const n=t.filters.concat([e]);return new zf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Fx(t,e,n){return new zf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lm(t,e){return Yy(So(t),So(e))&&t.limitType===e.limitType}function lb(t){return`${qy(So(t))}|lt:${t.limitType}`}function cf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sb(i)).join(", ")}]`),sm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Of(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Of(i)).join(",")),`Target(${r})`}(So(t))}; limitType=${t.limitType})`}function cm(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Nt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of i0(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(u,g,x){const m=jA(u,g,x);return u.inclusive?m<=0:m<0}(r.startAt,i0(r),i)||r.endAt&&!function(u,g,x){const m=jA(u,g,x);return u.inclusive?m>=0:m>0}(r.endAt,i0(r),i))}(t,e)}function gP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cb(t){return(e,n)=>{let r=!1;for(const i of i0(t)){const o=mP(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function mP(t,e,n){const r=t.field.isKeyField()?Nt.comparator(e.key,n.key):function(o,u,g){const x=u.data.field(o),m=g.data.field(o);return x!==null&&m!==null?Nf(x,m):Bt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Bt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sc(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return q3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=new Or(Nt.comparator);function hl(){return pP}const ub=new Or(Nt.comparator);function Xh(...t){let e=ub;for(const n of t)e=e.insert(n.key,n);return e}function fb(t){let e=ub;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yc(){return s0()}function hb(){return s0()}function s0(){return new fu(t=>t.toString(),(t,e)=>t.isEqual(e))}const xP=new Or(Nt.comparator),yP=new vi(Nt.comparator);function yn(...t){let e=yP;for(const n of t)e=e.add(n);return e}const vP=new vi(sn);function _P(){return vP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ag(e)?"-0":e}}function db(t){return{integerValue:""+t}}function EP(t,e){return XL(e)?db(e):Xy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this._=void 0}}function wP(t,e,n){return t instanceof b0?function(i,o){const u={fields:{[K3]:{stringValue:X3},[$3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Gy(o)&&(o=am(o)),o&&(u.fields[Q3]=o),{mapValue:u}}(n,e):t instanceof I0?mb(t,e):t instanceof R0?pb(t,e):function(i,o){const u=gb(i,o),g=WA(u)+WA(i.Ee);return Mx(u)&&Mx(i.Ee)?db(g):Xy(i.serializer,g)}(t,e)}function TP(t,e,n){return t instanceof I0?mb(t,e):t instanceof R0?pb(t,e):n}function gb(t,e){return t instanceof ug?function(r){return Mx(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class b0 extends um{}class I0 extends um{constructor(e){super(),this.elements=e}}function mb(t,e){const n=xb(e);for(const r of t.elements)n.some(i=>No(i,r))||n.push(r);return{arrayValue:{values:n}}}class R0 extends um{constructor(e){super(),this.elements=e}}function pb(t,e){let n=xb(e);for(const r of t.elements)n=n.filter(i=>!No(i,r));return{arrayValue:{values:n}}}class ug extends um{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function WA(t){return Kr(t.integerValue||t.doubleValue)}function xb(t){return Wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n){this.field=e,this.transform=n}}function SP(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof I0&&i instanceof I0||r instanceof R0&&i instanceof R0?Rf(r.elements,i.elements,No):r instanceof ug&&i instanceof ug?No(r.Ee,i.Ee):r instanceof b0&&i instanceof b0}(t.transform,e.transform)}class CP{constructor(e,n){this.version=e,this.transformResults=n}}class Na{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Na}static exists(e){return new Na(void 0,e)}static updateTime(e){return new Na(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function q1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fm{}function yb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ky(t.key,Na.none()):new J0(t.key,t.data,Na.none());{const n=t.data,r=Is.empty();let i=new vi(ji.comparator);for(let o of e.fields)if(!i.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new Cc(t.key,r,new sa(i.toArray()),Na.none())}}function bP(t,e,n){t instanceof J0?function(i,o,u){const g=i.value.clone(),x=YA(i.fieldTransforms,o,u.transformResults);g.setAll(x),o.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(t,e,n):t instanceof Cc?function(i,o,u){if(!q1(i.precondition,o))return void o.convertToUnknownDocument(u.version);const g=YA(i.fieldTransforms,o,u.transformResults),x=o.data;x.setAll(vb(i)),x.setAll(g),o.convertToFoundDocument(u.version,x).setHasCommittedMutations()}(t,e,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function a0(t,e,n,r){return t instanceof J0?function(o,u,g,x){if(!q1(o.precondition,u))return g;const m=o.value.clone(),_=XA(o.fieldTransforms,x,u);return m.setAll(_),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof Cc?function(o,u,g,x){if(!q1(o.precondition,u))return g;const m=XA(o.fieldTransforms,x,u),_=u.data;return _.setAll(vb(o)),_.setAll(m),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),g===null?null:g.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(A=>A.field))}(t,e,n,r):function(o,u,g){return q1(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):g}(t,e,n)}function IP(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=gb(r.transform,i||null);o!=null&&(n===null&&(n=Is.empty()),n.set(r.field,o))}return n||null}function qA(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Rf(r,i,(o,u)=>SP(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class J0 extends fm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cc extends fm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function vb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function YA(t,e,n){const r=new Map;Fn(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const o=t[i],u=o.transform,g=e.data.field(o.field);r.set(o.field,TP(u,g,n[i]))}return r}function XA(t,e,n){const r=new Map;for(const i of t){const o=i.transform,u=n.data.field(i.field);r.set(i.field,wP(o,u,e))}return r}class Ky extends fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RP extends fm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&bP(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=a0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=a0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hb();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let g=this.applyToLocalView(u,o.mutatedFields);g=n.has(i.key)?null:g;const x=yb(u,g);x!==null&&r.set(i.key,x),u.isValidDocument()||u.convertToNoDocument(Yt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),yn())}isEqual(e){return this.batchId===e.batchId&&Rf(this.mutations,e.mutations,(n,r)=>qA(n,r))&&Rf(this.baseMutations,e.baseMutations,(n,r)=>qA(n,r))}}class Qy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Fn(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return xP}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new Qy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ii,En;function MP(t){switch(t){case Ye.OK:return Bt(64938);case Ye.CANCELLED:case Ye.UNKNOWN:case Ye.DEADLINE_EXCEEDED:case Ye.RESOURCE_EXHAUSTED:case Ye.INTERNAL:case Ye.UNAVAILABLE:case Ye.UNAUTHENTICATED:return!1;case Ye.INVALID_ARGUMENT:case Ye.NOT_FOUND:case Ye.ALREADY_EXISTS:case Ye.PERMISSION_DENIED:case Ye.FAILED_PRECONDITION:case Ye.ABORTED:case Ye.OUT_OF_RANGE:case Ye.UNIMPLEMENTED:case Ye.DATA_LOSS:return!0;default:return Bt(15467,{code:t})}}function _b(t){if(t===void 0)return fl("GRPC error has no .code"),Ye.UNKNOWN;switch(t){case ii.OK:return Ye.OK;case ii.CANCELLED:return Ye.CANCELLED;case ii.UNKNOWN:return Ye.UNKNOWN;case ii.DEADLINE_EXCEEDED:return Ye.DEADLINE_EXCEEDED;case ii.RESOURCE_EXHAUSTED:return Ye.RESOURCE_EXHAUSTED;case ii.INTERNAL:return Ye.INTERNAL;case ii.UNAVAILABLE:return Ye.UNAVAILABLE;case ii.UNAUTHENTICATED:return Ye.UNAUTHENTICATED;case ii.INVALID_ARGUMENT:return Ye.INVALID_ARGUMENT;case ii.NOT_FOUND:return Ye.NOT_FOUND;case ii.ALREADY_EXISTS:return Ye.ALREADY_EXISTS;case ii.PERMISSION_DENIED:return Ye.PERMISSION_DENIED;case ii.FAILED_PRECONDITION:return Ye.FAILED_PRECONDITION;case ii.ABORTED:return Ye.ABORTED;case ii.OUT_OF_RANGE:return Ye.OUT_OF_RANGE;case ii.UNIMPLEMENTED:return Ye.UNIMPLEMENTED;case ii.DATA_LOSS:return Ye.DATA_LOSS;default:return Bt(39323,{code:t})}}(En=ii||(ii={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new oc([4294967295,4294967295],0);function KA(t){const e=H3().encode(t),n=new k3;return n.update(e),new Uint8Array(n.digest())}function QA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new oc([n,r],0),new oc([i,o],0)]}class $y{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kh(`Invalid padding: ${n}`);if(r<0)throw new Kh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kh(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=oc.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(oc.fromNumber(r)));return i.compare(kP)===1&&(i=new oc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=KA(e),[r,i]=QA(n);for(let o=0;o<this.hashCount;o++){const u=this.pe(r,i,o);if(!this.ye(u))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new $y(o,i,n);return r.forEach(g=>u.insert(g)),u}insert(e){if(this.fe===0)return;const n=KA(e),[r,i]=QA(n);for(let o=0;o<this.hashCount;o++){const u=this.pe(r,i,o);this.we(u)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ed.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hm(Yt.min(),i,new Or(sn),hl(),yn())}}class ed{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ed(r,n,yn(),yn(),yn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class Eb{constructor(e,n){this.targetId=e,this.De=n}}class wb{constructor(e,n,r=Wi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $A{constructor(){this.ve=0,this.Ce=ZA(),this.Fe=Wi.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=yn(),n=yn(),r=yn();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Bt(38017,{changeType:o})}}),new ed(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=ZA()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Fn(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class LP{constructor(e){this.We=e,this.Ge=new Map,this.ze=hl(),this.je=E1(),this.Je=E1(),this.He=new Or(sn)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Bt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const o=i.target;if(Lx(o))if(r===0){const u=new Nt(o.path);this.Xe(n,u,is.newNoDocument(u,Yt.min()))}else Fn(r===1,20013,{expectedCount:r});else{const u=this.ot(n);if(u!==r){const g=this._t(e),x=g?this.ut(g,e,u):1;if(x!==0){this.rt(n);const m=x===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,m)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let u,g;try{u=gc(r).toUint8Array()}catch(x){if(x instanceof Y3)return fc("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw x}try{g=new $y(u,i,o)}catch(x){return fc(x instanceof Kh?"BloomFilter error: ":"Applying bloom filter failed: ",x),null}return g.fe===0?null:g}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const u=this.We.lt(),g=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(g)||(this.Xe(n,o,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((o,u)=>{const g=this.st(u);if(g){if(o.current&&Lx(g.target)){const x=new Nt(g.target.path);this.Tt(x).has(u)||this.It(u,x)||this.Xe(u,x,is.newNoDocument(x,e))}o.Ne&&(n.set(u,o.Le()),o.ke())}});let r=yn();this.Je.forEach((o,u)=>{let g=!0;u.forEachWhile(x=>{const m=this.st(x);return!m||m.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(o))}),this.ze.forEach((o,u)=>u.setReadTime(e));const i=new hm(e,n,this.He,this.ze,r);return this.ze=hl(),this.je=E1(),this.Je=E1(),this.He=new Or(sn),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new $A,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new vi(sn),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new vi(sn),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||vt("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new $A),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function E1(){return new Or(Nt.comparator)}function ZA(){return new Or(Nt.comparator)}const PP={asc:"ASCENDING",desc:"DESCENDING"},FP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BP={and:"AND",or:"OR"};class UP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bx(t,e){return t.useProto3Json||sm(e)?e:{value:e}}function fg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VP(t,e){return fg(t,e.toTimestamp())}function Co(t){return Fn(!!t,49232),Yt.fromTimestamp(function(n){const r=dc(n);return new xr(r.seconds,r.nanos)}(t))}function Zy(t,e){return Ux(t,e).canonicalString()}function Ux(t,e){const n=function(i){return new cr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ab(t){const e=cr.fromString(t);return Fn(Rb(e),10190,{key:e.toString()}),e}function Vx(t,e){return Zy(t.databaseId,e.path)}function H2(t,e){const n=Ab(e);if(n.get(1)!==t.databaseId.projectId)throw new yt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new yt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Nt(Cb(n))}function Sb(t,e){return Zy(t.databaseId,e)}function jP(t){const e=Ab(t);return e.length===4?cr.emptyPath():Cb(e)}function jx(t){return new cr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Cb(t){return Fn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function JA(t,e,n){return{name:Vx(t,e),fields:n.value.mapValue.fields}}function HP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Bt(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(m,_){return m.useProto3Json?(Fn(_===void 0||typeof _=="string",58123),Wi.fromBase64String(_||"")):(Fn(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Wi.fromUint8Array(_||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,g=u&&function(m){const _=m.code===void 0?Ye.UNKNOWN:_b(m.code);return new yt(_,m.message||"")}(u);n=new wb(r,i,o,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=H2(t,r.document.name),o=Co(r.document.updateTime),u=r.document.createTime?Co(r.document.createTime):Yt.min(),g=new Is({mapValue:{fields:r.document.fields}}),x=is.newFoundDocument(i,o,u,g),m=r.targetIds||[],_=r.removedTargetIds||[];n=new Y1(m,_,x.key,x)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=H2(t,r.document),o=r.readTime?Co(r.readTime):Yt.min(),u=is.newNoDocument(i,o),g=r.removedTargetIds||[];n=new Y1([],g,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=H2(t,r.document),o=r.removedTargetIds||[];n=new Y1([],o,i,null)}else{if(!("filter"in e))return Bt(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new DP(i,o),g=r.targetId;n=new Eb(g,u)}}return n}function zP(t,e){let n;if(e instanceof J0)n={update:JA(t,e.key,e.value)};else if(e instanceof Ky)n={delete:Vx(t,e.key)};else if(e instanceof Cc)n={update:JA(t,e.key,e.data),updateMask:ZP(e.fieldMask)};else{if(!(e instanceof RP))return Bt(16599,{Rt:e.type});n={verify:Vx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const g=u.transform;if(g instanceof b0)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof I0)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof R0)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ug)return{fieldPath:u.field.canonicalString(),increment:g.Ee};throw Bt(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:VP(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Bt(27497)}(t,e.precondition)),n}function GP(t,e){return t&&t.length>0?(Fn(e!==void 0,14353),t.map(n=>function(i,o){let u=i.updateTime?Co(i.updateTime):Co(o);return u.isEqual(Yt.min())&&(u=Co(o)),new CP(u,i.transformResults||[])}(n,e))):[]}function WP(t,e){return{documents:[Sb(t,e.path)]}}function qP(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Sb(t,i);const o=function(m){if(m.length!==0)return Ib($a.create(m,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(_=>function(C){return{field:uf(C.field),direction:KP(C.dir)}}(_))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const g=Bx(t,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{Vt:n,parent:i}}function YP(t){let e=jP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Fn(r===1,65062);const _=n.from[0];_.allDescendants?i=_.collectionId:e=e.child(_.collectionId)}let o=[];n.where&&(o=function(A){const C=bb(A);return C instanceof $a&&rb(C)?C.getFilters():[C]}(n.where));let u=[];n.orderBy&&(u=function(A){return A.map(C=>function(O){return new C0(ff(O.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(C))}(n.orderBy));let g=null;n.limit&&(g=function(A){let C;return C=typeof A=="object"?A.value:A,sm(C)?null:C}(n.limit));let x=null;n.startAt&&(x=function(A){const C=!!A.before,R=A.values||[];return new cg(R,C)}(n.startAt));let m=null;return n.endAt&&(m=function(A){const C=!A.before,R=A.values||[];return new cg(R,C)}(n.endAt)),hP(e,i,u,o,g,"F",x,m)}function XP(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ff(n.unaryFilter.field);return ai.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ff(n.unaryFilter.field);return ai.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ff(n.unaryFilter.field);return ai.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ff(n.unaryFilter.field);return ai.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Bt(61313);default:return Bt(60726)}}(t):t.fieldFilter!==void 0?function(n){return ai.create(ff(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Bt(58110);default:return Bt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $a.create(n.compositeFilter.filters.map(r=>bb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Bt(1026)}}(n.compositeFilter.op))}(t):Bt(30097,{filter:t})}function KP(t){return PP[t]}function QP(t){return FP[t]}function $P(t){return BP[t]}function uf(t){return{fieldPath:t.canonicalString()}}function ff(t){return ji.fromServerFormat(t.fieldPath)}function Ib(t){return t instanceof ai?function(n){if(n.op==="=="){if(VA(n.value))return{unaryFilter:{field:uf(n.field),op:"IS_NAN"}};if(UA(n.value))return{unaryFilter:{field:uf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VA(n.value))return{unaryFilter:{field:uf(n.field),op:"IS_NOT_NAN"}};if(UA(n.value))return{unaryFilter:{field:uf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uf(n.field),op:QP(n.op),value:n.value}}}(t):t instanceof $a?function(n){const r=n.getFilters().map(i=>Ib(i));return r.length===1?r[0]:{compositeFilter:{op:$P(n.op),filters:r}}}(t):Bt(54877,{filter:t})}function ZP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Rb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n,r,i,o=Yt.min(),u=Yt.min(),g=Wi.EMPTY_BYTE_STRING,x=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=g,this.expectedCount=x}withSequenceNumber(e){return new nc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new nc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.gt=e}}function eF(t){const e=YP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(){this.Dn=new nF}addToCollectionParentIndex(e,n){return this.Dn.add(n),Qe.resolve()}getCollectionParents(e,n){return Qe.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Qe.resolve()}deleteFieldIndex(e,n){return Qe.resolve()}deleteAllFieldIndexes(e){return Qe.resolve()}createTargetIndexes(e,n){return Qe.resolve()}getDocumentsMatchingTarget(e,n){return Qe.resolve(null)}getIndexType(e,n){return Qe.resolve(0)}getFieldIndexes(e,n){return Qe.resolve([])}getNextCollectionGroupToUpdate(e){return Qe.resolve(null)}getMinOffset(e,n){return Qe.resolve(hc.min())}getMinOffsetFromCollectionGroup(e,n){return Qe.resolve(hc.min())}updateCollectionGroup(e,n,r){return Qe.resolve()}updateIndexEntries(e,n){return Qe.resolve()}}class nF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vi(cr.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vi(cr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nb=41943040;class bs{static withCacheSize(e){return new bs(e,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs.DEFAULT_COLLECTION_PERCENTILE=10,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bs.DEFAULT=new bs(Nb,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bs.DISABLED=new bs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Df(0)}static ur(){return new Df(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="LruGarbageCollector",rF=1048576;function nS([t,e],[n,r]){const i=sn(t,n);return i===0?sn(e,r):i}class iF{constructor(e){this.Tr=e,this.buffer=new vi(nS),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();nS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){vt(tS,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hf(n)?vt(tS,"Ignoring IndexedDB error during garbage collection: ",n):await jf(n)}await this.Rr(3e5)})}}class aF{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Qe.resolve(im.ue);const r=new iF(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),Qe.resolve(eS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eS):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,u,g,x,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,u=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,g=Date.now(),this.removeTargets(e,r,n))).next(A=>(o=A,x=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(m=Date.now(),lf()<=xn.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${i} in `+(g-u)+`ms
	Removed ${o} targets in `+(x-g)+`ms
	Removed ${A} documents in `+(m-x)+`ms
Total Duration: ${m-_}ms`),Qe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:A})))}}function oF(t,e){return new aF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(){this.changes=new fu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,is.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Qe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&a0(r.mutation,i,sa.empty(),xr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,yn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=yn()){const i=Yc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let u=Xh();return o.forEach((g,x)=>{u=u.insert(g,x.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Yc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,yn()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,g)=>{n.set(u,g)})})}computeViews(e,n,r,i){let o=hl();const u=s0(),g=function(){return s0()}();return n.forEach((x,m)=>{const _=r.get(m.key);i.has(m.key)&&(_===void 0||_.mutation instanceof Cc)?o=o.insert(m.key,m):_!==void 0?(u.set(m.key,_.mutation.getFieldMask()),a0(_.mutation,m,_.mutation.getFieldMask(),xr.now())):u.set(m.key,sa.empty())}),this.recalculateAndSaveOverlays(e,o).next(x=>(x.forEach((m,_)=>u.set(m,_)),n.forEach((m,_)=>{var A;return g.set(m,new cF(_,(A=u.get(m))!==null&&A!==void 0?A:null))}),g))}recalculateAndSaveOverlays(e,n){const r=s0();let i=new Or((u,g)=>u-g),o=yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const g of u)g.keys().forEach(x=>{const m=n.get(x);if(m===null)return;let _=r.get(x)||sa.empty();_=g.applyToLocalView(m,_),r.set(x,_);const A=(i.get(g.batchId)||yn()).add(x);i=i.insert(g.batchId,A)})}).next(()=>{const u=[],g=i.getReverseIterator();for(;g.hasNext();){const x=g.getNext(),m=x.key,_=x.value,A=hb();_.forEach(C=>{if(!o.has(C)){const R=yb(n.get(C),r.get(C));R!==null&&A.set(C,R),o=o.add(C)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,A))}return Qe.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(u){return Nt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ob(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Qe.resolve(Yc());let g=w0,x=o;return u.next(m=>Qe.forEach(m,(_,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),o.get(_)?Qe.resolve():this.remoteDocumentCache.getEntry(e,_).next(C=>{x=x.insert(_,C)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,x,m,yn())).next(_=>({batchId:g,changes:fb(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Nt(n)).next(r=>{let i=Xh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let u=Xh();return this.indexManager.getCollectionParents(e,o).next(g=>Qe.forEach(g,x=>{const m=function(A,C){return new zf(C,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,x.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next(_=>{_.forEach((A,C)=>{u=u.insert(A,C)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(u=>{o.forEach((x,m)=>{const _=m.getKey();u.get(_)===null&&(u=u.insert(_,is.newInvalidDocument(_)))});let g=Xh();return u.forEach((x,m)=>{const _=o.get(x);_!==void 0&&a0(_.mutation,m,sa.empty(),xr.now()),cm(n,m)&&(g=g.insert(x,m))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Qe.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Co(i.createTime)}}(n)),Qe.resolve()}getNamedQuery(e,n){return Qe.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:eF(i.bundledQuery),readTime:Co(i.readTime)}}(n)),Qe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(){this.overlays=new Or(Nt.comparator),this.kr=new Map}getOverlay(e,n){return Qe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yc();return Qe.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),Qe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),Qe.resolve()}getOverlaysForCollection(e,n,r){const i=Yc(),o=n.length+1,u=new Nt(n.child("")),g=this.overlays.getIteratorFrom(u);for(;g.hasNext();){const x=g.getNext().value,m=x.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&x.largestBatchId>r&&i.set(x.getKey(),x)}return Qe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Or((m,_)=>m-_);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let _=o.get(m.largestBatchId);_===null&&(_=Yc(),o=o.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const g=Yc(),x=o.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((m,_)=>g.set(m,_)),!(g.size()>=i)););return Qe.resolve(g)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new OP(n,r));let o=this.kr.get(n);o===void 0&&(o=yn(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this.sessionToken=Wi.EMPTY_BYTE_STRING}getSessionToken(e){return Qe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Qe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.qr=new vi(Si.Qr),this.$r=new vi(Si.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Si(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Si(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Nt(new cr([])),r=new Si(n,e),i=new Si(n,e+1),o=[];return this.$r.forEachInRange([r,i],u=>{this.Wr(u),o.push(u.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Nt(new cr([])),r=new Si(n,e),i=new Si(n,e+1);let o=yn();return this.$r.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new Si(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Si{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Nt.comparator(e.key,n.key)||sn(e.Hr,n.Hr)}static Ur(e,n){return sn(e.Hr,n.Hr)||Nt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new vi(Si.Qr)}checkEmpty(e){return Qe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new NP(o,n,r,i);this.mutationQueue.push(u);for(const g of i)this.Yr=this.Yr.add(new Si(g.key,o)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Qe.resolve(u)}lookupMutationBatch(e,n){return Qe.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return Qe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Qe.resolve(this.mutationQueue.length===0?zy:this.er-1)}getAllMutationBatches(e){return Qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Si(n,0),i=new Si(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],u=>{const g=this.Zr(u.Hr);o.push(g)}),Qe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vi(sn);return n.forEach(i=>{const o=new Si(i,0),u=new Si(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,u],g=>{r=r.add(g.Hr)})}),Qe.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Nt.isDocumentKey(o)||(o=o.child(""));const u=new Si(new Nt(o),0);let g=new vi(sn);return this.Yr.forEachWhile(x=>{const m=x.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(g=g.add(x.Hr)),!0)},u),Qe.resolve(this.ei(g))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Fn(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Qe.forEach(n.mutations,i=>{const o=new Si(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Si(n,0),i=this.Yr.firstAfterOrEqual(r);return Qe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Qe.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e){this.ni=e,this.docs=function(){return new Or(Nt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,u=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Qe.resolve(r?r.document.mutableCopy():is.newInvalidDocument(n))}getEntries(e,n){let r=hl();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():is.newInvalidDocument(i))}),Qe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=hl();const u=n.path,g=new Nt(u.child("__id-9223372036854775808__")),x=this.docs.getIteratorFrom(g);for(;x.hasNext();){const{key:m,value:{document:_}}=x.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||GL(zL(_),r)<=0||(i.has(_.key)||cm(n,_))&&(o=o.insert(_.key,_.mutableCopy()))}return Qe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Bt(9500)}ri(e,n){return Qe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pF(this)}getSize(e){return Qe.resolve(this.size)}}class pF extends lF{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Qe.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.persistence=e,this.ii=new fu(n=>qy(n),Yy),this.lastRemoteSnapshotVersion=Yt.min(),this.highestTargetId=0,this.si=0,this.oi=new Jy,this.targetCount=0,this._i=Df.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),Qe.resolve()}getLastRemoteSnapshotVersion(e){return Qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qe.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Qe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Qe.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Df(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Qe.resolve()}updateTargetData(e,n){return this.hr(n),Qe.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Qe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ii.forEach((u,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.ii.delete(u),o.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),Qe.waitFor(o).next(()=>i)}getTargetCount(e){return Qe.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Qe.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Qe.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),Qe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Qe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Qe.resolve(r)}containsKey(e,n){return Qe.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){this.ai={},this.overlays={},this.ui=new im(0),this.ci=!1,this.ci=!0,this.li=new dF,this.referenceDelegate=e(this),this.hi=new xF(this),this.indexManager=new tF,this.remoteDocumentCache=function(i){return new mF(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new JP(n),this.Ti=new fF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new gF(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){vt("MemoryPersistence","Starting transaction:",e);const i=new yF(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return Qe.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class yF extends qL{constructor(e){super(),this.currentSequenceNumber=e}}class ev{constructor(e){this.persistence=e,this.Ai=new Jy,this.Ri=null}static Vi(e){return new ev(e)}get mi(){if(this.Ri)return this.Ri;throw Bt(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Qe.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Qe.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Qe.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qe.forEach(this.mi,r=>{const i=Nt.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,Yt.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Qe.or([()=>Qe.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class hg{constructor(e,n){this.persistence=e,this.gi=new fu(r=>KL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=oF(this,n)}static Vi(e,n){return new hg(e,n)}Ii(){}di(e){return Qe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Qe.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?Qe.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,u=>this.Sr(e,u,n).next(g=>{g||(r++,o.removeEntry(u,Yt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Qe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Qe.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Qe.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Qe.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=G1(e.data.value)),n}Sr(e,n,r){return Qe.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return Qe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=yn(),i=yn();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new tv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return JM()?8:YL(os())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ps(e,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new vF;return this.ws(e,n,u).next(g=>{if(o.result=g,this.Rs)return this.Ss(e,n,u,g.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(lf()<=xn.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",cf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Qe.resolve()):(lf()<=xn.DEBUG&&vt("QueryEngine","Query:",cf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(lf()<=xn.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",cf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,So(n))):Qe.resolve())}ps(e,n){if(GA(n))return Qe.resolve(null);let r=So(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fx(n,null,"F"),r=So(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=yn(...o);return this.gs.getDocuments(e,u).next(g=>this.indexManager.getMinOffset(e,r).next(x=>{const m=this.bs(n,g);return this.Ds(n,m,u,x.readTime)?this.ps(e,Fx(n,null,"F")):this.vs(e,m,n,x)}))})))}ys(e,n,r,i){return GA(n)||i.isEqual(Yt.min())?Qe.resolve(null):this.gs.getDocuments(e,r).next(o=>{const u=this.bs(n,o);return this.Ds(n,u,r,i)?Qe.resolve(null):(lf()<=xn.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cf(n)),this.vs(e,u,n,HL(i,w0)).next(g=>g))})}bs(e,n){let r=new vi(cb(e));return n.forEach((i,o)=>{cm(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return lf()<=xn.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",cf(n)),this.gs.getDocumentsMatchingQuery(e,n,hc.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="LocalStore",EF=3e8;class wF{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Or(sn),this.Ms=new fu(o=>qy(o),Yy),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uF(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function TF(t,e,n,r){return new wF(t,e,n,r)}async function Db(t,e){const n=Kt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],g=[];let x=yn();for(const m of i){u.push(m.batchId);for(const _ of m.mutations)x=x.add(_.key)}for(const m of o){g.push(m.batchId);for(const _ of m.mutations)x=x.add(_.key)}return n.localDocuments.getDocuments(r,x).next(m=>({Bs:m,removedBatchIds:u,addedBatchIds:g}))})})}function AF(t,e){const n=Kt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(g,x,m,_){const A=m.batch,C=A.keys();let R=Qe.resolve();return C.forEach(O=>{R=R.next(()=>_.getEntry(x,O)).next(I=>{const k=m.docVersions.get(O);Fn(k!==null,48541),I.version.compareTo(k)<0&&(A.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),_.addEntry(I)))})}),R.next(()=>g.mutationQueue.removeMutationBatch(x,A))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let x=yn();for(let m=0;m<g.mutationResults.length;++m)g.mutationResults[m].transformResults.length>0&&(x=x.add(g.batch.mutations[m].key));return x}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Mb(t){const e=Kt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function SF(t,e){const n=Kt(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const g=[];e.targetChanges.forEach((_,A)=>{const C=i.get(A);if(!C)return;g.push(n.hi.removeMatchingKeys(o,_.removedDocuments,A).next(()=>n.hi.addMatchingKeys(o,_.addedDocuments,A)));let R=C.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(A)!==null?R=R.withResumeToken(Wi.EMPTY_BYTE_STRING,Yt.min()).withLastLimboFreeSnapshotVersion(Yt.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,r)),i=i.insert(A,R),function(I,k,H){return I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=EF?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(C,R,_)&&g.push(n.hi.updateTargetData(o,R))});let x=hl(),m=yn();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(o,_))}),g.push(CF(o,u,e.documentUpdates).next(_=>{x=_.Ls,m=_.ks})),!r.isEqual(Yt.min())){const _=n.hi.getLastRemoteSnapshotVersion(o).next(A=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));g.push(_)}return Qe.waitFor(g).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,x,m)).next(()=>x)}).then(o=>(n.Fs=i,o))}function CF(t,e,n){let r=yn(),i=yn();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let u=hl();return n.forEach((g,x)=>{const m=o.get(g);x.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(g)),x.isNoDocument()&&x.version.isEqual(Yt.min())?(e.removeEntry(g,x.readTime),u=u.insert(g,x)):!m.isValidDocument()||x.version.compareTo(m.version)>0||x.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(x),u=u.insert(g,x)):vt(nv,"Ignoring outdated watch update for ",g,". Current version:",m.version," Watch version:",x.version)}),{Ls:u,ks:i}})}function bF(t,e){const n=Kt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=zy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IF(t,e){const n=Kt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,Qe.resolve(i)):n.hi.allocateTargetId(r).next(u=>(i=new nc(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Hx(t,e,n){const r=Kt(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!Hf(u))throw u;vt(nv,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function rS(t,e,n){const r=Kt(t);let i=Yt.min(),o=yn();return r.persistence.runTransaction("Execute query","readwrite",u=>function(x,m,_){const A=Kt(x),C=A.Ms.get(_);return C!==void 0?Qe.resolve(A.Fs.get(C)):A.hi.getTargetData(m,_)}(r,u,So(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(u,g.targetId).next(x=>{o=x})}).next(()=>r.Cs.getDocumentsMatchingQuery(u,e,n?i:Yt.min(),n?o:yn())).next(g=>(RF(r,gP(e),g),{documents:g,qs:o})))}function RF(t,e,n){let r=t.xs.get(e)||Yt.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}class iS{constructor(){this.activeTargetIds=_P()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NF{constructor(){this.Fo=new iS,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new iS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="ConnectivityMonitor";class aS{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){vt(sS,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){vt(sS,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w1=null;function zx(){return w1===null?w1=function(){return 268435456+Math.round(2147483648*Math.random())}():w1++,"0x"+w1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="RestConnection",DF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MF{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===og?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const u=zx(),g=this.Go(e,n.toUriEncodedString());vt(z2,`Sending RPC '${e}' ${u}:`,g,r);const x={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(x,i,o);const{host:m}=new URL(g),_=Tc(m);return this.jo(e,g,x,r,_).then(A=>(vt(z2,`Received RPC '${e}' ${u}: `,A),A),A=>{throw fc(z2,`RPC '${e}' ${u} failed with error: `,A,"url: ",g,"request:",r),A})}Jo(e,n,r,i,o,u){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){const r=DF[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="WebChannelConnection";class LF extends MF{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){const u=zx();return new Promise((g,x)=>{const m=new L3;m.setWithCredentials(!0),m.listenOnce(P3.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case z1.NO_ERROR:const A=m.getResponseJson();vt(ts,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(A)),g(A);break;case z1.TIMEOUT:vt(ts,`RPC '${e}' ${u} timed out`),x(new yt(Ye.DEADLINE_EXCEEDED,"Request time out"));break;case z1.HTTP_ERROR:const C=m.getStatus();if(vt(ts,`RPC '${e}' ${u} failed with status:`,C,"response text:",m.getResponseText()),C>0){let R=m.getResponseJson();Array.isArray(R)&&(R=R[0]);const O=R==null?void 0:R.error;if(O&&O.status&&O.message){const I=function(H){const Y=H.toLowerCase().replace(/_/g,"-");return Object.values(Ye).indexOf(Y)>=0?Y:Ye.UNKNOWN}(O.status);x(new yt(I,O.message))}else x(new yt(Ye.UNKNOWN,"Server responded with status "+m.getStatus()))}else x(new yt(Ye.UNAVAILABLE,"Connection failed."));break;default:Bt(9055,{c_:e,streamId:u,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{vt(ts,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(i);vt(ts,`RPC '${e}' ${u} sending request:`,i),m.send(n,"POST",_,r,15)})}P_(e,n,r){const i=zx(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=U3(),g=B3(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(x.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(x.useFetchStreams=!0),this.zo(x.initMessageHeaders,n,r),x.encodeInitMessageHeaders=!0;const _=o.join("");vt(ts,`Creating RPC '${e}' stream ${i}: ${_}`,x);const A=u.createWebChannel(_,x);this.T_(A);let C=!1,R=!1;const O=new kF({Ho:k=>{R?vt(ts,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(C||(vt(ts,`Opening RPC '${e}' stream ${i} transport.`),A.open(),C=!0),vt(ts,`RPC '${e}' stream ${i} sending:`,k),A.send(k))},Yo:()=>A.close()}),I=(k,H,Y)=>{k.listen(H,W=>{try{Y(W)}catch(te){setTimeout(()=>{throw te},0)}})};return I(A,Yh.EventType.OPEN,()=>{R||(vt(ts,`RPC '${e}' stream ${i} transport opened.`),O.s_())}),I(A,Yh.EventType.CLOSE,()=>{R||(R=!0,vt(ts,`RPC '${e}' stream ${i} transport closed`),O.__(),this.I_(A))}),I(A,Yh.EventType.ERROR,k=>{R||(R=!0,fc(ts,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),O.__(new yt(Ye.UNAVAILABLE,"The operation could not be completed")))}),I(A,Yh.EventType.MESSAGE,k=>{var H;if(!R){const Y=k.data[0];Fn(!!Y,16349);const W=Y,te=(W==null?void 0:W.error)||((H=W[0])===null||H===void 0?void 0:H.error);if(te){vt(ts,`RPC '${e}' stream ${i} received error:`,te);const oe=te.status;let ve=function(L){const M=ii[L];if(M!==void 0)return _b(M)}(oe),B=te.message;ve===void 0&&(ve=Ye.INTERNAL,B="Unknown error status: "+oe+" with message "+te.message),R=!0,O.__(new yt(ve,B)),A.close()}else vt(ts,`RPC '${e}' stream ${i} received:`,Y),O.a_(Y)}}),I(g,F3.STAT_EVENT,k=>{k.stat===Nx.PROXY?vt(ts,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===Nx.NOPROXY&&vt(ts,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{O.o_()},0),O}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function G2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t){return new UP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&vt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="PersistentStream";class Lb{constructor(e,n,r,i,o,u,g,x){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=g,this.listener=x,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new kb(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===Ye.RESOURCE_EXHAUSTED?(fl(n.toString()),fl("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===Ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new yt(Ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return vt(oS,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(vt(oS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PF extends Lb{constructor(e,n,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,u),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=HP(this.serializer,e),r=function(o){if(!("targetChange"in o))return Yt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Yt.min():u.readTime?Co(u.readTime):Yt.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=jx(this.serializer),n.addTarget=function(o,u){let g;const x=u.target;if(g=Lx(x)?{documents:WP(o,x)}:{query:qP(o,x).Vt},g.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){g.resumeToken=Tb(o,u.resumeToken);const m=Bx(o,u.expectedCount);m!==null&&(g.expectedCount=m)}else if(u.snapshotVersion.compareTo(Yt.min())>0){g.readTime=fg(o,u.snapshotVersion.toTimestamp());const m=Bx(o,u.expectedCount);m!==null&&(g.expectedCount=m)}return g}(this.serializer,e);const r=XP(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=jx(this.serializer),n.removeTarget=e,this.k_(n)}}class FF extends Lb{constructor(e,n,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,u),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Fn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Fn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=GP(e.writeResults,e.commitTime),r=Co(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=jx(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zP(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{}class UF extends BF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new yt(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Wo(e,Ux(n,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new yt(Ye.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,g])=>this.connection.Jo(e,Ux(n,r),i,u,g,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(Ye.UNKNOWN,u.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class VF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(fl(n),this._a=!1):vt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="RemoteStore";class jF{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(u=>{r.enqueueAndForget(async()=>{hu(this)&&(vt(iu,"Restarting streams for network reachability change."),await async function(x){const m=Kt(x);m.Ia.add(4),await td(m),m.Aa.set("Unknown"),m.Ia.delete(4),await gm(m)}(this))})}),this.Aa=new VF(r,i)}}async function gm(t){if(hu(t))for(const e of t.da)await e(!0)}async function td(t){for(const e of t.da)await e(!1)}function Pb(t,e){const n=Kt(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),av(n)?sv(n):Gf(n).x_()&&iv(n,e))}function rv(t,e){const n=Kt(t),r=Gf(n);n.Ta.delete(e),r.x_()&&Fb(n,e),n.Ta.size===0&&(r.x_()?r.B_():hu(n)&&n.Aa.set("Unknown"))}function iv(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Yt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gf(t).H_(e)}function Fb(t,e){t.Ra.$e(e),Gf(t).Y_(e)}function sv(t){t.Ra=new LP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Gf(t).start(),t.Aa.aa()}function av(t){return hu(t)&&!Gf(t).M_()&&t.Ta.size>0}function hu(t){return Kt(t).Ia.size===0}function Bb(t){t.Ra=void 0}async function HF(t){t.Aa.set("Online")}async function zF(t){t.Ta.forEach((e,n)=>{iv(t,e)})}async function GF(t,e){Bb(t),av(t)?(t.Aa.la(e),sv(t)):t.Aa.set("Unknown")}async function WF(t,e,n){if(t.Aa.set("Online"),e instanceof wb&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const g of o.targetIds)i.Ta.has(g)&&(await i.remoteSyncer.rejectListen(g,u),i.Ta.delete(g),i.Ra.removeTarget(g))}(t,e)}catch(r){vt(iu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dg(t,r)}else if(e instanceof Y1?t.Ra.Ye(e):e instanceof Eb?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Yt.min()))try{const r=await Mb(t.localStore);n.compareTo(r)>=0&&await function(o,u){const g=o.Ra.Pt(u);return g.targetChanges.forEach((x,m)=>{if(x.resumeToken.approximateByteSize()>0){const _=o.Ta.get(m);_&&o.Ta.set(m,_.withResumeToken(x.resumeToken,u))}}),g.targetMismatches.forEach((x,m)=>{const _=o.Ta.get(x);if(!_)return;o.Ta.set(x,_.withResumeToken(Wi.EMPTY_BYTE_STRING,_.snapshotVersion)),Fb(o,x);const A=new nc(_.target,x,m,_.sequenceNumber);iv(o,A)}),o.remoteSyncer.applyRemoteEvent(g)}(t,n)}catch(r){vt(iu,"Failed to raise snapshot:",r),await dg(t,r)}}async function dg(t,e,n){if(!Hf(e))throw e;t.Ia.add(1),await td(t),t.Aa.set("Offline"),n||(n=()=>Mb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{vt(iu,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await gm(t)})}function Ub(t,e){return e().catch(n=>dg(t,n,e))}async function mm(t){const e=Kt(t),n=pc(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:zy;for(;qF(e);)try{const i=await bF(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,YF(e,i)}catch(i){await dg(e,i)}Vb(e)&&jb(e)}function qF(t){return hu(t)&&t.Pa.length<10}function YF(t,e){t.Pa.push(e);const n=pc(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function Vb(t){return hu(t)&&!pc(t).M_()&&t.Pa.length>0}function jb(t){pc(t).start()}async function XF(t){pc(t).na()}async function KF(t){const e=pc(t);for(const n of t.Pa)e.X_(n.mutations)}async function QF(t,e,n){const r=t.Pa.shift(),i=Qy.from(r,e,n);await Ub(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await mm(t)}async function $F(t,e){e&&pc(t).Z_&&await async function(r,i){if(function(u){return MP(u)&&u!==Ye.ABORTED}(i.code)){const o=r.Pa.shift();pc(r).N_(),await Ub(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await mm(r)}}(t,e),Vb(t)&&jb(t)}async function lS(t,e){const n=Kt(t);n.asyncQueue.verifyOperationInProgress(),vt(iu,"RemoteStore received new credentials");const r=hu(n);n.Ia.add(3),await td(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await gm(n)}async function ZF(t,e){const n=Kt(t);e?(n.Ia.delete(2),await gm(n)):e||(n.Ia.add(2),await td(n),n.Aa.set("Unknown"))}function Gf(t){return t.Va||(t.Va=function(n,r,i){const o=Kt(n);return o.ia(),new PF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:HF.bind(null,t),e_:zF.bind(null,t),n_:GF.bind(null,t),J_:WF.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),av(t)?sv(t):t.Aa.set("Unknown")):(await t.Va.stop(),Bb(t))})),t.Va}function pc(t){return t.ma||(t.ma=function(n,r,i){const o=Kt(n);return o.ia(),new FF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:XF.bind(null,t),n_:$F.bind(null,t),ea:KF.bind(null,t),ta:QF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await mm(t)):(await t.ma.stop(),t.Pa.length>0&&(vt(iu,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new rl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const u=Date.now()+r,g=new ov(e,n,u,i,o);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(Ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lv(t,e){if(fl("AsyncQueue",`${e}: ${t}`),Hf(t))return new yt(Ye.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{static emptySet(e){return new wf(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Nt.comparator(n.key,r.key):(n,r)=>Nt.comparator(n.key,r.key),this.keyedMap=Xh(),this.sortedSet=new Or(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.fa=new Or(Nt.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Bt(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Mf{constructor(e,n,r,i,o,u,g,x,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=g,this.excludesMetadataChanges=x,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,o){const u=[];return n.forEach(g=>{u.push({type:0,doc:g})}),new Mf(e,n,wf.emptySet(n),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class eB{constructor(){this.queries=uS(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=Kt(n),o=i.queries;i.queries=uS(),o.forEach((u,g)=>{for(const x of g.wa)x.onError(r)})})(this,new yt(Ye.ABORTED,"Firestore shutting down"))}}function uS(){return new fu(t=>lb(t),lm)}async function cv(t,e){const n=Kt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new JF,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(u){const g=lv(u,`Initialization of query '${cf(e.query)}' failed`);return void e.onError(g)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&fv(n)}async function uv(t,e){const n=Kt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const u=o.wa.indexOf(e);u>=0&&(o.wa.splice(u,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tB(t,e){const n=Kt(t);let r=!1;for(const i of e){const o=i.query,u=n.queries.get(o);if(u){for(const g of u.wa)g.Ca(i)&&(r=!0);u.ya=i}}r&&fv(n)}function nB(t,e,n){const r=Kt(t),i=r.queries.get(e);if(i)for(const o of i.wa)o.onError(n);r.queries.delete(e)}function fv(t){t.Da.forEach(e=>{e.next()})}var Gx,fS;(fS=Gx||(Gx={})).Fa="default",fS.Cache="cache";class hv{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Mf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Mf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Gx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.key=e}}class zb{constructor(e){this.key=e}}class rB{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=yn(),this.mutatedKeys=yn(),this.Xa=cb(e),this.eu=new wf(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new cS,i=n?n.eu:this.eu;let o=n?n.mutatedKeys:this.mutatedKeys,u=i,g=!1;const x=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((_,A)=>{const C=i.get(_),R=cm(this.query,A)?A:null,O=!!C&&this.mutatedKeys.has(C.key),I=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let k=!1;C&&R?C.data.isEqual(R.data)?O!==I&&(r.track({type:3,doc:R}),k=!0):this.iu(C,R)||(r.track({type:2,doc:R}),k=!0,(x&&this.Xa(R,x)>0||m&&this.Xa(R,m)<0)&&(g=!0)):!C&&R?(r.track({type:0,doc:R}),k=!0):C&&!R&&(r.track({type:1,doc:C}),k=!0,(x||m)&&(g=!0)),k&&(R?(u=u.add(R),o=I?o.add(_):o.delete(_)):(u=u.delete(_),o=o.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),o=o.delete(_.key),r.track({type:1,doc:_})}return{eu:u,ru:r,Ds:g,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const u=e.ru.pa();u.sort((_,A)=>function(R,O){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bt(20277,{At:k})}};return I(R)-I(O)}(_.type,A.type)||this.Xa(_.doc,A.doc)),this.su(r),i=i!=null&&i;const g=n&&!i?this.ou():[],x=this.Za.size===0&&this.current&&!i?1:0,m=x!==this.Ya;return this.Ya=x,u.length!==0||m?{snapshot:new Mf(this.query,e.eu,o,u,e.mutatedKeys,x===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new cS,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=yn(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new zb(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Hb(r))}),n}uu(e){this.Ha=e.qs,this.Za=yn();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Mf.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const dv="SyncEngine";class iB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sB{constructor(e){this.key=e,this.lu=!1}}class aB{constructor(e,n,r,i,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.hu={},this.Pu=new fu(g=>lb(g),lm),this.Tu=new Map,this.Iu=new Set,this.du=new Or(Nt.comparator),this.Eu=new Map,this.Au=new Jy,this.Ru={},this.Vu=new Map,this.mu=Df.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function oB(t,e,n=!0){const r=Kb(t);let i;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await Gb(r,e,n,!0),i}async function lB(t,e){const n=Kb(t);await Gb(n,e,!0,!1)}async function Gb(t,e,n,r){const i=await IF(t.localStore,So(e)),o=i.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let g;return r&&(g=await cB(t,e,o,u==="current",i.resumeToken)),t.isPrimaryClient&&n&&Pb(t.remoteStore,i),g}async function cB(t,e,n,r,i){t.gu=(A,C,R)=>async function(I,k,H,Y){let W=k.view.nu(H);W.Ds&&(W=await rS(I.localStore,k.query,!1).then(({documents:B})=>k.view.nu(B,W)));const te=Y&&Y.targetChanges.get(k.targetId),oe=Y&&Y.targetMismatches.get(k.targetId)!=null,ve=k.view.applyChanges(W,I.isPrimaryClient,te,oe);return dS(I,k.targetId,ve._u),ve.snapshot}(t,A,C,R);const o=await rS(t.localStore,e,!0),u=new rB(e,o.qs),g=u.nu(o.documents),x=ed.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=u.applyChanges(g,t.isPrimaryClient,x);dS(t,n,m._u);const _=new iB(e,n,u);return t.Pu.set(e,_),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),m.snapshot}async function uB(t,e,n){const r=Kt(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(u=>!lm(u,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rv(r.remoteStore,i.targetId),Wx(r,i.targetId)}).catch(jf)):(Wx(r,i.targetId),await Hx(r.localStore,i.targetId,!0))}async function fB(t,e){const n=Kt(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rv(n.remoteStore,r.targetId))}async function hB(t,e,n){const r=vB(t);try{const i=await function(u,g){const x=Kt(u),m=xr.now(),_=g.reduce((R,O)=>R.add(O.key),yn());let A,C;return x.persistence.runTransaction("Locally write mutations","readwrite",R=>{let O=hl(),I=yn();return x.Os.getEntries(R,_).next(k=>{O=k,O.forEach((H,Y)=>{Y.isValidDocument()||(I=I.add(H))})}).next(()=>x.localDocuments.getOverlayedDocuments(R,O)).next(k=>{A=k;const H=[];for(const Y of g){const W=IP(Y,A.get(Y.key).overlayedDocument);W!=null&&H.push(new Cc(Y.key,W,eb(W.value.mapValue),Na.exists(!0)))}return x.mutationQueue.addMutationBatch(R,m,H,g)}).next(k=>{C=k;const H=k.applyToLocalDocumentSet(A,I);return x.documentOverlayCache.saveOverlays(R,k.batchId,H)})}).then(()=>({batchId:C.batchId,changes:fb(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,g,x){let m=u.Ru[u.currentUser.toKey()];m||(m=new Or(sn)),m=m.insert(g,x),u.Ru[u.currentUser.toKey()]=m}(r,i.batchId,n),await nd(r,i.changes),await mm(r.remoteStore)}catch(i){const o=lv(i,"Failed to persist write");n.reject(o)}}async function Wb(t,e){const n=Kt(t);try{const r=await SF(n.localStore,e);e.targetChanges.forEach((i,o)=>{const u=n.Eu.get(o);u&&(Fn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.lu=!0:i.modifiedDocuments.size>0?Fn(u.lu,14607):i.removedDocuments.size>0&&(Fn(u.lu,42227),u.lu=!1))}),await nd(n,r,e)}catch(r){await jf(r)}}function hS(t,e,n){const r=Kt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((o,u)=>{const g=u.view.va(e);g.snapshot&&i.push(g.snapshot)}),function(u,g){const x=Kt(u);x.onlineState=g;let m=!1;x.queries.forEach((_,A)=>{for(const C of A.wa)C.va(g)&&(m=!0)}),m&&fv(x)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dB(t,e,n){const r=Kt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let u=new Or(Nt.comparator);u=u.insert(o,is.newNoDocument(o,Yt.min()));const g=yn().add(o),x=new hm(Yt.min(),new Map,new Or(sn),u,g);await Wb(r,x),r.du=r.du.remove(o),r.Eu.delete(e),gv(r)}else await Hx(r.localStore,e,!1).then(()=>Wx(r,e,n)).catch(jf)}async function gB(t,e){const n=Kt(t),r=e.batch.batchId;try{const i=await AF(n.localStore,e);Yb(n,r,null),qb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nd(n,i)}catch(i){await jf(i)}}async function mB(t,e,n){const r=Kt(t);try{const i=await function(u,g){const x=Kt(u);return x.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return x.mutationQueue.lookupMutationBatch(m,g).next(A=>(Fn(A!==null,37113),_=A.keys(),x.mutationQueue.removeMutationBatch(m,A))).next(()=>x.mutationQueue.performConsistencyCheck(m)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(m,_,g)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>x.localDocuments.getDocuments(m,_))})}(r.localStore,e);Yb(r,e,n),qb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nd(r,i)}catch(i){await jf(i)}}function qb(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function Yb(t,e,n){const r=Kt(t);let i=r.Ru[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Wx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||Xb(t,r)})}function Xb(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(rv(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),gv(t))}function dS(t,e,n){for(const r of n)r instanceof Hb?(t.Au.addReference(r.key,e),pB(t,r)):r instanceof zb?(vt(dv,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||Xb(t,r.key)):Bt(19791,{yu:r})}function pB(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(vt(dv,"New document in limbo: "+n),t.Iu.add(r),gv(t))}function gv(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Nt(cr.fromString(e)),r=t.mu.next();t.Eu.set(r,new sB(n)),t.du=t.du.insert(n,r),Pb(t.remoteStore,new nc(So(om(n.path)),r,"TargetPurposeLimboResolution",im.ue))}}async function nd(t,e,n){const r=Kt(t),i=[],o=[],u=[];r.Pu.isEmpty()||(r.Pu.forEach((g,x)=>{u.push(r.gu(x,e,n).then(m=>{var _;if((m||n)&&r.isPrimaryClient){const A=m?!m.fromCache:(_=n==null?void 0:n.targetChanges.get(x.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(x.targetId,A?"current":"not-current")}if(m){i.push(m);const A=tv.Es(x.targetId,m);o.push(A)}}))}),await Promise.all(u),r.hu.J_(i),await async function(x,m){const _=Kt(x);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>Qe.forEach(m,C=>Qe.forEach(C.Is,R=>_.persistence.referenceDelegate.addReference(A,C.targetId,R)).next(()=>Qe.forEach(C.ds,R=>_.persistence.referenceDelegate.removeReference(A,C.targetId,R)))))}catch(A){if(!Hf(A))throw A;vt(nv,"Failed to update sequence numbers: "+A)}for(const A of m){const C=A.targetId;if(!A.fromCache){const R=_.Fs.get(C),O=R.snapshotVersion,I=R.withLastLimboFreeSnapshotVersion(O);_.Fs=_.Fs.insert(C,I)}}}(r.localStore,o))}async function xB(t,e){const n=Kt(t);if(!n.currentUser.isEqual(e)){vt(dv,"User change. New user:",e.toKey());const r=await Db(n.localStore,e);n.currentUser=e,function(o,u){o.Vu.forEach(g=>{g.forEach(x=>{x.reject(new yt(Ye.CANCELLED,u))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nd(n,r.Bs)}}function yB(t,e){const n=Kt(t),r=n.Eu.get(e);if(r&&r.lu)return yn().add(r.key);{let i=yn();const o=n.Tu.get(e);if(!o)return i;for(const u of o){const g=n.Pu.get(u);i=i.unionWith(g.view.tu)}return i}}function Kb(t){const e=Kt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dB.bind(null,e),e.hu.J_=tB.bind(null,e.eventManager),e.hu.pu=nB.bind(null,e.eventManager),e}function vB(t){const e=Kt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mB.bind(null,e),e}class gg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return TF(this.persistence,new _F,e.initialUser,this.serializer)}Du(e){return new Ob(ev.Vi,this.serializer)}bu(e){return new NF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gg.provider={build:()=>new gg};class _B extends gg{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Fn(this.persistence.referenceDelegate instanceof hg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sF(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?bs.withCacheSize(this.cacheSizeBytes):bs.DEFAULT;return new Ob(r=>hg.Vi(r,n),this.serializer)}}class qx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xB.bind(null,this.syncEngine),await ZF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eB}()}createDatastore(e){const n=dm(e.databaseInfo.databaseId),r=function(o){return new LF(o)}(e.databaseInfo);return function(o,u,g,x){return new UF(o,u,g,x)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,u,g){return new jF(r,i,o,u,g)}(this.localStore,this.datastore,e.asyncQueue,n=>hS(this.syncEngine,n,0),function(){return aS.C()?new aS:new OF}())}createSyncEngine(e,n){return function(i,o,u,g,x,m,_){const A=new aB(i,o,u,g,x,m);return _&&(A.fu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Kt(i);vt(iu,"RemoteStore shutting down."),o.Ia.add(5),await td(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qx.provider={build:()=>new qx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):fl("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc="FirestoreClient";class EB{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rs.UNAUTHENTICATED,this.clientId=Hy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{vt(xc,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(vt(xc,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function W2(t,e){t.asyncQueue.verifyOperationInProgress(),vt(xc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Db(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{fc("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{vt("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{fc("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function gS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wB(t);vt(xc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lS(e.remoteStore,i)),t._onlineComponents=e}async function wB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){vt(xc,"Using user provided OfflineComponentProvider");try{await W2(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ye.FAILED_PRECONDITION||i.code===Ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;fc("Error using user provided cache. Falling back to memory cache: "+n),await W2(t,new gg)}}else vt(xc,"Using default OfflineComponentProvider"),await W2(t,new _B(void 0));return t._offlineComponents}async function Qb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(vt(xc,"Using user provided OnlineComponentProvider"),await gS(t,t._uninitializedComponentsProvider._online)):(vt(xc,"Using default OnlineComponentProvider"),await gS(t,new qx))),t._onlineComponents}function TB(t){return Qb(t).then(e=>e.syncEngine)}async function mg(t){const e=await Qb(t),n=e.eventManager;return n.onListen=oB.bind(null,e.syncEngine),n.onUnlisten=uB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fB.bind(null,e.syncEngine),n}function AB(t,e,n={}){const r=new rl;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,g,x,m){const _=new mv({next:C=>{_.Ou(),u.enqueueAndForget(()=>uv(o,A));const R=C.docs.has(g);!R&&C.fromCache?m.reject(new yt(Ye.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&C.fromCache&&x&&x.source==="server"?m.reject(new yt(Ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(C)},error:C=>m.reject(C)}),A=new hv(om(g.path),_,{includeMetadataChanges:!0,ka:!0});return cv(o,A)}(await mg(t),t.asyncQueue,e,n,r)),r.promise}function SB(t,e,n={}){const r=new rl;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,g,x,m){const _=new mv({next:C=>{_.Ou(),u.enqueueAndForget(()=>uv(o,A)),C.fromCache&&x.source==="server"?m.reject(new yt(Ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(C)},error:C=>m.reject(C)}),A=new hv(g,_,{includeMetadataChanges:!0,ka:!0});return cv(o,A)}(await mg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="firestore.googleapis.com",pS=!0;class xS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new yt(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zb,this.ssl=pS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:pS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Nb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rF)throw new yt(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$b((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new yt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new yt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new yt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DL;switch(r.type){case"firstParty":return new PL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mS.get(n);r&&(vt("ComponentProvider","Removing Datastore"),mS.delete(n),r.terminate())}(this),Promise.resolve()}}function CB(t,e,n,r={}){var i;t=Rs(t,pm);const o=Tc(e),u=t._getSettings(),g=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),x=`${e}:${n}`;o&&(by(`https://${x}`),Iy("Firestore",!0)),u.host!==Zb&&u.host!==x&&fc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:x,ssl:o,emulatorOptions:r});if(!Jc(m,g)&&(t._setSettings(m),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=rs.MOCK_USER;else{_=Y4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new yt(Ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new rs(C)}t._authCredentials=new ML(new j3(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bc(this.firestore,e,this._query)}}class jr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jr(this.firestore,e,this._key)}toJSON(){return{type:jr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Z0(n,jr._jsonSchema))return new jr(e,r||null,new Nt(cr.fromString(n.referencePath)))}}jr._jsonSchemaVersion="firestore/documentReference/1.0",jr._jsonSchema={type:oi("string",jr._jsonSchemaVersion),referencePath:oi("string")};class lc extends bc{constructor(e,n,r){super(e,n,om(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jr(this.firestore,null,new Nt(e))}withConverter(e){return new lc(this.firestore,e,this._path)}}function bo(t,e,...n){if(t=Ir(t),z3("collection","path",e),t instanceof pm){const r=cr.fromString(e,...n);return NA(r),new lc(t,null,r)}{if(!(t instanceof jr||t instanceof lc))throw new yt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(cr.fromString(e,...n));return NA(r),new lc(t.firestore,null,r)}}function Ra(t,e,...n){if(t=Ir(t),arguments.length===1&&(e=Hy.newId()),z3("doc","path",e),t instanceof pm){const r=cr.fromString(e,...n);return RA(r),new jr(t,null,new Nt(r))}{if(!(t instanceof jr||t instanceof lc))throw new yt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(cr.fromString(e,...n));return RA(r),new jr(t.firestore,t instanceof lc?t.converter:null,new Nt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="AsyncQueue";class vS{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new kb(this,"async_queue_retry"),this.oc=()=>{const r=G2();r&&vt(yS,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=G2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=G2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new rl;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Hf(e))throw e;vt(yS,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,fl("INTERNAL UNHANDLED ERROR: ",_S(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=ov.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Bt(47125,{hc:_S(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function _S(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class dl extends pm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vS(e),this._firestoreClient=void 0,await e}}}function bB(t,e){const n=typeof t=="object"?t:Oy(),r=typeof t=="string"?t:og,i=Jg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=G4("firestore");o&&CB(i,...o)}return i}function xm(t){if(t._terminated)throw new yt(Ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||IB(t),t._firestoreClient}function IB(t){var e,n,r;const i=t._freezeSettings(),o=function(g,x,m,_){return new ZL(g,x,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,$b(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new EB(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(g){const x=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(x),_online:x}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ia(Wi.fromBase64String(e))}catch(n){throw new yt(Ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ia(Wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ia._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Z0(e,Ia._jsonSchema))return Ia.fromBase64String(e.bytes)}}Ia._jsonSchemaVersion="firestore/bytes/1.0",Ia._jsonSchema={type:oi("string",Ia._jsonSchemaVersion),bytes:oi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new yt(Ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ji(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new yt(Ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new yt(Ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return sn(this._lat,e._lat)||sn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Io._jsonSchemaVersion}}static fromJSON(e){if(Z0(e,Io._jsonSchema))return new Io(e.latitude,e.longitude)}}Io._jsonSchemaVersion="firestore/geoPoint/1.0",Io._jsonSchema={type:oi("string",Io._jsonSchemaVersion),latitude:oi("number"),longitude:oi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ro._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Z0(e,Ro._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ro(e.vectorValues);throw new yt(Ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ro._jsonSchemaVersion="firestore/vectorValue/1.0",Ro._jsonSchema={type:oi("string",Ro._jsonSchemaVersion),vectorValues:oi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB=/^__.*__$/;class NB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Cc(e,this.data,this.fieldMask,n,this.fieldTransforms):new J0(e,this.data,n,this.fieldTransforms)}}class Jb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Cc(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bt(40011,{Ec:t})}}class pv{constructor(e,n,r,i,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new pv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return pg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(eI(this.Ec)&&RB.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class OB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dm(e)}Dc(e,n,r,i=!1){return new pv({Ec:e,methodName:n,bc:r,path:ji.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _m(t){const e=t._freezeSettings(),n=dm(t._databaseId);return new OB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tI(t,e,n,r,i,o={}){const u=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);yv("Data must be an object, but it was:",u,r);const g=nI(r,u);let x,m;if(o.merge)x=new sa(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const _=[];for(const A of o.mergeFields){const C=Yx(e,A,n);if(!u.contains(C))throw new yt(Ye.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);iI(_,C)||_.push(C)}x=new sa(_),m=u.fieldTransforms.filter(A=>x.covers(A.field))}else x=null,m=u.fieldTransforms;return new NB(new Is(g),x,m)}class Em extends vm{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Em}}class xv extends vm{_toFieldTransform(e){return new AP(e.path,new b0)}isEqual(e){return e instanceof xv}}function DB(t,e,n,r){const i=t.Dc(1,e,n);yv("Data must be an object, but it was:",i,r);const o=[],u=Is.empty();Sc(r,(x,m)=>{const _=vv(e,x,n);m=Ir(m);const A=i.gc(_);if(m instanceof Em)o.push(_);else{const C=rd(m,A);C!=null&&(o.push(_),u.set(_,C))}});const g=new sa(o);return new Jb(u,g,i.fieldTransforms)}function MB(t,e,n,r,i,o){const u=t.Dc(1,e,n),g=[Yx(e,r,n)],x=[i];if(o.length%2!=0)throw new yt(Ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<o.length;C+=2)g.push(Yx(e,o[C])),x.push(o[C+1]);const m=[],_=Is.empty();for(let C=g.length-1;C>=0;--C)if(!iI(m,g[C])){const R=g[C];let O=x[C];O=Ir(O);const I=u.gc(R);if(O instanceof Em)m.push(R);else{const k=rd(O,I);k!=null&&(m.push(R),_.set(R,k))}}const A=new sa(m);return new Jb(_,A,u.fieldTransforms)}function kB(t,e,n,r=!1){return rd(n,t.Dc(r?4:3,e))}function rd(t,e){if(rI(t=Ir(t)))return yv("Unsupported field value:",e,t),nI(t,e);if(t instanceof vm)return function(r,i){if(!eI(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const g of r){let x=rd(g,i.yc(u));x==null&&(x={nullValue:"NULL_VALUE"}),o.push(x),u++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ir(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EP(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=xr.fromDate(r);return{timestampValue:fg(i.serializer,o)}}if(r instanceof xr){const o=new xr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fg(i.serializer,o)}}if(r instanceof Io)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ia)return{bytesValue:Tb(i.serializer,r._byteString)};if(r instanceof jr){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.wc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Zy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ro)return function(u,g){return{mapValue:{fields:{[Z3]:{stringValue:J3},[lg]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw g.wc("VectorValues must only contain numeric values.");return Xy(g.serializer,m)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${rm(r)}`)}(t,e)}function nI(t,e){const n={};return q3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sc(t,(r,i)=>{const o=rd(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function rI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xr||t instanceof Io||t instanceof Ia||t instanceof jr||t instanceof vm||t instanceof Ro)}function yv(t,e,n){if(!rI(n)||!G3(n)){const r=rm(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Yx(t,e,n){if((e=Ir(e))instanceof ym)return e._internalPath;if(typeof e=="string")return vv(t,e);throw pg("Field path arguments must be of type string or ",t,!1,void 0,n)}const LB=new RegExp("[~\\*/\\[\\]]");function vv(t,e,n){if(e.search(LB)>=0)throw pg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ym(...e.split("."))._internalPath}catch{throw pg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pg(t,e,n,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let x="";return(o||u)&&(x+=" (found",o&&(x+=` in field ${r}`),u&&(x+=` in document ${i}`),x+=")"),new yt(Ye.INVALID_ARGUMENT,g+t+x)}function iI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new jr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PB extends sI{data(){return super.data()}}function wm(t,e){return typeof e=="string"?vv(t,e):e instanceof ym?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new yt(Ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _v{}class oI extends _v{}function xg(t,e,...n){let r=[];e instanceof _v&&r.push(e),r=r.concat(n),function(o){const u=o.filter(x=>x instanceof Ev).length,g=o.filter(x=>x instanceof Tm).length;if(u>1||u>0&&g>0)throw new yt(Ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Tm extends oI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Tm(e,n,r)}_apply(e){const n=this._parse(e);return lI(e._query,n),new bc(e.firestore,e.converter,Px(e._query,n))}_parse(e){const n=_m(e.firestore);return function(o,u,g,x,m,_,A){let C;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new yt(Ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){TS(A,_);const O=[];for(const I of A)O.push(wS(x,o,I));C={arrayValue:{values:O}}}else C=wS(x,o,A)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||TS(A,_),C=kB(g,u,A,_==="in"||_==="not-in");return ai.create(m,_,C)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function o0(t,e,n){const r=e,i=wm("where",t);return Tm._create(i,r,n)}class Ev extends _v{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ev(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$a.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let u=i;const g=o.getFlattenedFilters();for(const x of g)lI(u,x),u=Px(u,x)}(e._query,n),new bc(e.firestore,e.converter,Px(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wv extends oI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wv(e,n)}_apply(e){const n=function(i,o,u){if(i.startAt!==null)throw new yt(Ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new yt(Ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new C0(o,u)}(e._query,this._field,this._direction);return new bc(e.firestore,e.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new zf(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function FB(t,e="asc"){const n=e,r=wm("orderBy",t);return wv._create(r,n)}function wS(t,e,n){if(typeof(n=Ir(n))=="string"){if(n==="")throw new yt(Ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ob(e)&&n.indexOf("/")!==-1)throw new yt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(cr.fromString(n));if(!Nt.isDocumentKey(r))throw new yt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return BA(t,new Nt(r))}if(n instanceof jr)return BA(t,n._key);throw new yt(Ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rm(n)}.`)}function TS(t,e){if(!Array.isArray(t)||t.length===0)throw new yt(Ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lI(t,e){const n=function(i,o){for(const u of i)for(const g of u.getFlattenedFilters())if(o.indexOf(g.op)>=0)return g.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new yt(Ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new yt(Ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class BB{convertValue(e,n="none"){switch(mc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Bt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Sc(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[lg].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>Kr(u.doubleValue));return new Ro(o)}convertGeoPoint(e){return new Io(Kr(e.latitude),Kr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=am(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(T0(e));default:return null}}convertTimestamp(e){const n=dc(e);return new xr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=cr.fromString(e);Fn(Rb(r),9688,{name:e});const i=new A0(r.get(1),r.get(3)),o=new Nt(r.popFirst(5));return i.isEqual(n)||fl(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Qh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xc extends sI{constructor(e,n,r,i,o,u){super(e,n,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new X1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(Ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xc._jsonSchema={type:oi("string",Xc._jsonSchemaVersion),bundleSource:oi("string","DocumentSnapshot"),bundleName:oi("string"),bundle:oi("string")};class X1 extends Xc{data(e={}){return super.data(e)}}class Kc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new X1(this._firestore,this._userDataWriter,r.key,r,new Qh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new yt(Ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(g=>{const x=new X1(i._firestore,i._userDataWriter,g.doc.key,g.doc,new Qh(i._snapshot.mutatedKeys.has(g.doc.key),i._snapshot.fromCache),i.query.converter);return g.doc,{type:"added",doc:x,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(g=>o||g.type!==3).map(g=>{const x=new X1(i._firestore,i._userDataWriter,g.doc.key,g.doc,new Qh(i._snapshot.mutatedKeys.has(g.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,_=-1;return g.type!==0&&(m=u.indexOf(g.doc.key),u=u.delete(g.doc.key)),g.type!==1&&(u=u.add(g.doc),_=u.indexOf(g.doc.key)),{type:UB(g.type),doc:x,oldIndex:m,newIndex:_}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new yt(Ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Hy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t){t=Rs(t,jr);const e=Rs(t.firestore,dl);return AB(xm(e),t._key).then(n=>hI(e,t,n))}Kc._jsonSchemaVersion="firestore/querySnapshot/1.0",Kc._jsonSchema={type:oi("string",Kc._jsonSchemaVersion),bundleSource:oi("string","QuerySnapshot"),bundleName:oi("string"),bundle:oi("string")};class Tv extends BB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ia(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jr(this.firestore,null,n)}}function N0(t){t=Rs(t,bc);const e=Rs(t.firestore,dl),n=xm(e),r=new Tv(e);return aI(t._query),SB(n,t._query).then(i=>new Kc(e,r,t,i))}function yg(t,e,n){t=Rs(t,jr);const r=Rs(t.firestore,dl),i=cI(t.converter,e,n);return Am(r,[tI(_m(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Na.none())])}function Av(t,e,n,...r){t=Rs(t,jr);const i=Rs(t.firestore,dl),o=_m(i);let u;return u=typeof(e=Ir(e))=="string"||e instanceof ym?MB(o,"updateDoc",t._key,e,n,r):DB(o,"updateDoc",t._key,e),Am(i,[u.toMutation(t._key,Na.exists(!0))])}function fI(t){return Am(Rs(t.firestore,dl),[new Ky(t._key,Na.none())])}function vg(t,e){const n=Rs(t.firestore,dl),r=Ra(t),i=cI(t.converter,e);return Am(n,[tI(_m(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Na.exists(!1))]).then(()=>r)}function VB(t,...e){var n,r,i;t=Ir(t);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||ES(e[u])||(o=e[u++]);const g={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ES(e[u])){const A=e[u];e[u]=(n=A.next)===null||n===void 0?void 0:n.bind(A),e[u+1]=(r=A.error)===null||r===void 0?void 0:r.bind(A),e[u+2]=(i=A.complete)===null||i===void 0?void 0:i.bind(A)}let x,m,_;if(t instanceof jr)m=Rs(t.firestore,dl),_=om(t._key.path),x={next:A=>{e[u]&&e[u](hI(m,t,A))},error:e[u+1],complete:e[u+2]};else{const A=Rs(t,bc);m=Rs(A.firestore,dl),_=A._query;const C=new Tv(m);x={next:R=>{e[u]&&e[u](new Kc(m,C,A,R))},error:e[u+1],complete:e[u+2]},aI(t._query)}return function(C,R,O,I){const k=new mv(I),H=new hv(R,k,O);return C.asyncQueue.enqueueAndForget(async()=>cv(await mg(C),H)),()=>{k.Ou(),C.asyncQueue.enqueueAndForget(async()=>uv(await mg(C),H))}}(xm(m),_,g,x)}function Am(t,e){return function(r,i){const o=new rl;return r.asyncQueue.enqueueAndForget(async()=>hB(await TB(r),i,o)),o.promise}(xm(t),e)}function hI(t,e,n){const r=n.docs.get(e._key),i=new Tv(t);return new Xc(t,i,e._key,r,new Qh(n.hasPendingWrites,n.fromCache),e.converter)}function jB(){return new xv("serverTimestamp")}(function(e,n=!0){(function(i){Vf=i})(cu),eu(new uc("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),g=new dl(new kL(r.getProvider("auth-internal")),new FL(u,r.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new yt(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new A0(m.options.projectId,_)}(u,i),u);return o=Object.assign({useFetchStreams:n},o),g._setSettings(o),g},"PUBLIC").setMultipleInstances(!0)),wo(AA,SA,e),wo(AA,SA,"esm2017")})();var HB="firebase",zB="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo(HB,zB,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="firebasestorage.googleapis.com",gI="storageBucket",GB=2*60*1e3,WB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Do{constructor(e,n,r=0){super(q2(e),`Firebase Storage: ${n} (${q2(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return q2(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var zr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(zr||(zr={}));function q2(t){return"storage/"+t}function Sv(){const t="An unknown error occurred, please check the error payload for server response.";return new Gr(zr.UNKNOWN,t)}function qB(t){return new Gr(zr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function YB(t){return new Gr(zr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XB(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Gr(zr.UNAUTHENTICATED,t)}function KB(){return new Gr(zr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function QB(t){return new Gr(zr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function $B(){return new Gr(zr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ZB(){return new Gr(zr.CANCELED,"User canceled the upload/download.")}function JB(t){return new Gr(zr.INVALID_URL,"Invalid URL '"+t+"'.")}function eU(t){return new Gr(zr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tU(){return new Gr(zr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gI+"' property when initializing the app?")}function nU(){return new Gr(zr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rU(){return new Gr(zr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function iU(t){return new Gr(zr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Xx(t){return new Gr(zr.INVALID_ARGUMENT,t)}function mI(){return new Gr(zr.APP_DELETED,"The Firebase app was deleted.")}function sU(t){return new Gr(zr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function l0(t,e){return new Gr(zr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function jh(t){throw new Gr(zr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=aa.makeFromUrl(e,n)}catch{return new aa(e,"")}if(r.path==="")return r;throw eU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}const u="(/(.*))?$",g=new RegExp("^gs://"+i+u,"i"),x={bucket:1,path:3};function m(te){te.path_=decodeURIComponent(te.path)}const _="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",R=new RegExp(`^https?://${A}/${_}/b/${i}/o${C}`,"i"),O={bucket:1,path:3},I=n===dI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",H=new RegExp(`^https?://${I}/${i}/${k}`,"i"),W=[{regex:g,indices:x,postModify:o},{regex:R,indices:O,postModify:m},{regex:H,indices:{bucket:1,path:2},postModify:m}];for(let te=0;te<W.length;te++){const oe=W[te],ve=oe.regex.exec(e);if(ve){const B=ve[oe.indices.bucket];let V=ve[oe.indices.path];V||(V=""),r=new aa(B,V),oe.postModify(r);break}}if(r==null)throw JB(e);return r}}class aU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t,e,n){let r=1,i=null,o=null,u=!1,g=0;function x(){return g===2}let m=!1;function _(...k){m||(m=!0,e.apply(null,k))}function A(k){i=setTimeout(()=>{i=null,t(R,x())},k)}function C(){o&&clearTimeout(o)}function R(k,...H){if(m){C();return}if(k){C(),_.call(null,k,...H);return}if(x()||u){C(),_.call(null,k,...H);return}r<64&&(r*=2);let W;g===1?(g=2,W=0):W=(r+Math.random())*1e3,A(W)}let O=!1;function I(k){O||(O=!0,C(),!m&&(i!==null?(k||(g=2),clearTimeout(i),A(0)):k||(g=1)))}return A(0),o=setTimeout(()=>{u=!0,I(!0)},n),I}function lU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t){return t!==void 0}function uU(t){return typeof t=="object"&&!Array.isArray(t)}function Cv(t){return typeof t=="string"||t instanceof String}function AS(t){return bv()&&t instanceof Blob}function bv(){return typeof Blob<"u"}function SS(t,e,n,r){if(r<e)throw Xx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Xx(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function pI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Qc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qc||(Qc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,n,r,i,o,u,g,x,m,_,A,C=!0,R=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=g,this.errorCallback_=x,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=A,this.retry=C,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,I)=>{this.resolve_=O,this.reject_=I,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new T1(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=g=>{const x=g.loaded,m=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(x,m)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const g=o.getErrorCode()===Qc.NO_ERROR,x=o.getStatus();if(!g||fU(x,this.additionalRetryCodes_)&&this.retry){const _=o.getErrorCode()===Qc.ABORT;r(!1,new T1(!1,null,_));return}const m=this.successCodes_.indexOf(x)!==-1;r(!0,new T1(m,o))})},n=(r,i)=>{const o=this.resolve_,u=this.reject_,g=i.connection;if(i.wasSuccessCode)try{const x=this.callback_(g,g.getResponse());cU(x)?o(x):o()}catch(x){u(x)}else if(g!==null){const x=Sv();x.serverResponse=g.getErrorText(),this.errorCallback_?u(this.errorCallback_(g,x)):u(x)}else if(i.canceled){const x=this.appDelete_?mI():ZB();u(x)}else{const x=$B();u(x)}};this.canceled_?n(!1,new T1(!1,null,!0)):this.backoffId_=oU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class T1{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function dU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function pU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function xU(t,e,n,r,i,o,u=!0,g=!1){const x=pI(t.urlParams),m=t.url+x,_=Object.assign({},t.headers);return mU(_,e),dU(_,n),gU(_,o),pU(_,r),new hU(m,t.method,_,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,u,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function vU(...t){const e=yU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(bv())return new Blob(t);throw new Gr(zr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function _U(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(t){if(typeof atob>"u")throw iU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Y2{constructor(e,n){this.data=e,this.contentType=n||null}}function wU(t,e){switch(t){case _o.RAW:return new Y2(xI(e));case _o.BASE64:case _o.BASE64URL:return new Y2(yI(t,e));case _o.DATA_URL:return new Y2(AU(e),SU(e))}throw Sv()}function xI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,u=t.charCodeAt(++n);r=65536|(o&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function TU(t){let e;try{e=decodeURIComponent(t)}catch{throw l0(_o.DATA_URL,"Malformed data URL.")}return xI(e)}function yI(t,e){switch(t){case _o.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw l0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case _o.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw l0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=EU(e)}catch(i){throw i.message.includes("polyfill")?i:l0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class vI{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw l0(_o.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=CU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function AU(t){const e=new vI(t);return e.base64?yI(_o.BASE64,e.rest):TU(e.rest)}function SU(t){return new vI(t).contentType}function CU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){let r=0,i="";AS(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(AS(this.data_)){const r=this.data_,i=_U(r,e,n);return i===null?null:new tc(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new tc(r,!0)}}static getBlob(...e){if(bv()){const n=e.map(r=>r instanceof tc?r.data_:r);return new tc(vU.apply(null,n))}else{const n=e.map(u=>Cv(u)?wU(_o.RAW,u).data:u.data_);let r=0;n.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(u=>{for(let g=0;g<u.length;g++)i[o++]=u[g]}),new tc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){let e;try{e=JSON.parse(t)}catch{return null}return uU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function IU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function EI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(t,e){return e}class hs{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||RU}}let A1=null;function NU(t){return!Cv(t)||t.length<2?t:EI(t)}function wI(){if(A1)return A1;const t=[];t.push(new hs("bucket")),t.push(new hs("generation")),t.push(new hs("metageneration")),t.push(new hs("name","fullPath",!0));function e(o,u){return NU(u)}const n=new hs("name");n.xform=e,t.push(n);function r(o,u){return u!==void 0?Number(u):u}const i=new hs("size");return i.xform=r,t.push(i),t.push(new hs("timeCreated")),t.push(new hs("updated")),t.push(new hs("md5Hash",null,!0)),t.push(new hs("cacheControl",null,!0)),t.push(new hs("contentDisposition",null,!0)),t.push(new hs("contentEncoding",null,!0)),t.push(new hs("contentLanguage",null,!0)),t.push(new hs("contentType",null,!0)),t.push(new hs("metadata","customMetadata",!0)),A1=t,A1}function OU(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new aa(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function DU(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const u=n[o];r[u.local]=u.xform(r,e[u.server])}return OU(r,t),r}function TI(t,e,n){const r=_I(e);return r===null?null:DU(t,r,n)}function MU(t,e,n,r){const i=_I(e);if(i===null||!Cv(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(m=>{const _=t.bucket,A=t.fullPath,C="/b/"+u(_)+"/o/"+u(A),R=Iv(C,n,r),O=pI({alt:"media",token:m});return R+O})[0]}function kU(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class AI{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t){if(!t)throw Sv()}function LU(t,e){function n(r,i){const o=TI(t,i,e);return SI(o!==null),o}return n}function PU(t,e){function n(r,i){const o=TI(t,i,e);return SI(o!==null),MU(o,i,t.host,t._protocol)}return n}function CI(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=KB():i=XB():n.getStatus()===402?i=YB(t.bucket):n.getStatus()===403?i=QB(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function FU(t){const e=CI(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=qB(t.path)),o.serverResponse=i.serverResponse,o}return n}function BU(t,e,n){const r=e.fullServerUrl(),i=Iv(r,t.host,t._protocol),o="GET",u=t.maxOperationRetryTime,g=new AI(i,o,PU(t,n),u);return g.errorHandler=FU(e),g}function UU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function VU(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=UU(null,e)),r}function jU(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function g(){let W="";for(let te=0;te<2;te++)W=W+Math.random().toString().slice(2);return W}const x=g();u["Content-Type"]="multipart/related; boundary="+x;const m=VU(e,r,i),_=kU(m,n),A="--"+x+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+x+`\r
Content-Type: `+m.contentType+`\r
\r
`,C=`\r
--`+x+"--",R=tc.getBlob(A,r,C);if(R===null)throw nU();const O={name:m.fullPath},I=Iv(o,t.host,t._protocol),k="POST",H=t.maxUploadRetryTime,Y=new AI(I,k,LU(t,n),H);return Y.urlParams=O,Y.headers=u,Y.body=R.uploadData(),Y.errorHandler=CI(e),Y}class HU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw jh("cannot .send() more than once");if(Tc(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw jh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class zU extends HU{initXhr(){this.xhr_.responseType="text"}}function bI(){return new zU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this._service=e,n instanceof aa?this._location=n:this._location=aa.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new su(e,n)}get root(){const e=new aa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EI(this._location.path)}get storage(){return this._service}get parent(){const e=bU(this._location.path);if(e===null)return null;const n=new aa(this._location.bucket,e);return new su(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw sU(e)}}function GU(t,e,n){t._throwIfRoot("uploadBytes");const r=jU(t.storage,t._location,wI(),new tc(e,!0),n);return t.storage.makeRequestWithTokens(r,bI).then(i=>({metadata:i,ref:t}))}function WU(t){t._throwIfRoot("getDownloadURL");const e=BU(t.storage,t._location,wI());return t.storage.makeRequestWithTokens(e,bI).then(n=>{if(n===null)throw rU();return n})}function qU(t,e){const n=IU(t._location.path,e),r=new aa(t._location.bucket,n);return new su(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t){return/^[A-Za-z]+:\/\//.test(t)}function XU(t,e){return new su(t,e)}function II(t,e){if(t instanceof Rv){const n=t;if(n._bucket==null)throw tU();const r=new su(n,n._bucket);return e!=null?II(r,e):r}else return e!==void 0?qU(t,e):t}function KU(t,e){if(e&&YU(e)){if(t instanceof Rv)return XU(t,e);throw Xx("To use ref(service, url), the first argument must be a Storage instance.")}else return II(t,e)}function CS(t,e){const n=e==null?void 0:e[gI];return n==null?null:aa.makeFromBucketSpec(n,t)}function QU(t,e,n,r={}){t.host=`${e}:${n}`;const i=Tc(e);i&&(by(`https://${t.host}/b`),Iy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:Y4(o,t.app.options.projectId))}class Rv{constructor(e,n,r,i,o,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=dI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GB,this._maxUploadRetryTime=WB,this._requests=new Set,i!=null?this._bucket=aa.makeFromBucketSpec(i,this._host):this._bucket=CS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=aa.makeFromBucketSpec(this._url,e):this._bucket=CS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ra(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new su(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new aU(mI());{const u=xU(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const bS="@firebase/storage",IS="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="storage";function $U(t,e,n){return t=Ir(t),GU(t,e,n)}function ZU(t){return t=Ir(t),WU(t)}function JU(t,e){return t=Ir(t),KU(t,e)}function eV(t=Oy(),e){t=Ir(t);const r=Jg(t,RI).getImmediate({identifier:e}),i=G4("storage");return i&&tV(r,...i),r}function tV(t,e,n,r={}){QU(t,e,n,r)}function nV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Rv(n,r,i,e,cu)}function rV(){eu(new uc(RI,nV,"PUBLIC").setMultipleInstances(!0)),wo(bS,IS,""),wo(bS,IS,"esm2017")}rV();const iV={apiKey:"AIzaSyDq33ZTFy2NKeJ7QN_E1_1-zHboytkayR8",authDomain:"attendance-app-3efdc.firebaseapp.com",projectId:"attendance-app-3efdc",storageBucket:"attendance-app-3efdc.firebasestorage.app",messagingSenderId:"497796473137",appId:"1:497796473137:web:f0e099936c2da1a1a99010",measurementId:"G-7Z9R9H9QBW"},Nv=Q4(iV),$h=NL(Nv),Qr=bB(Nv),sV=eV(Nv),NI=de.createContext();function Da(){return de.useContext(NI)}function aV({children:t}){const[e,n]=de.useState(null),[r,i]=de.useState(!0),[o]=de.useState(()=>!0);function u(I,k,H,Y){return gk($h,I,k).then(async W=>(await dA(W.user,{displayName:H,photoURL:Y}),await yg(Ra(Qr,"users",W.user.uid),{email:I,displayName:H,role:Y,createdAt:new Date,phone:"",profilePhotoURL:""}),W))}function g(I,k){return mk($h,I,k)}function x(){return T3($h)}function m(I){if(!e)throw new Error("No user is currently signed in");return dA(e,I)}async function _(I){if(!e)throw new Error("No user is currently signed in");const k=Ra(Qr,"users",e.uid);await yg(k,I,{merge:!0})}async function A(){if(!e)return null;const I=Ra(Qr,"users",e.uid),k=await uI(I);return k.exists()?k.data():null}function C(){var I;return e?e.displayName||((I=e.email)==null?void 0:I.split("@")[0])||"User":"Guest"}async function R(){if(!e)return"guest";try{const I=await A();if(I&&I.role)return I.role}catch(I){console.warn("Could not get role from Firestore, falling back to auth profile:",I)}return e.photoURL||"member"}de.useEffect(()=>vk($h,k=>{n(k),i(!1)}),[]);const O={currentUser:e,useMock:o,signup:u,login:g,logout:x,updateUserProfile:m,updateUserData:_,getUserData:A,getUserDisplayName:C,getUserRole:R};return F.jsx(NI.Provider,{value:O,children:!r&&t})}function RS({children:t,requiredRole:e}){const{currentUser:n}=Da();return n?e&&n.photoURL!==e?F.jsx(lT,{to:"/"}):t:F.jsx(lT,{to:"/"})}function oV(){const[t,e]=de.useState("member"),[n,r]=de.useState(""),[i,o]=de.useState(""),[u,g]=de.useState(""),[x,m]=de.useState(!1),{login:_}=Da(),A=pl(),C=O=>{e(O),g("")},R=async O=>{O.preventDefault();try{g(""),m(!0);const k=(await _(n,i)).user.photoURL;if(k!==t){g(`Please login as ${k} instead of ${t}`);return}A(t==="admin"?"/admin":"/member")}catch(I){console.error("Login error:",I),I.code==="auth/user-not-found"?g("No account found with this email address"):I.code==="auth/wrong-password"?g("Incorrect password"):I.code==="auth/invalid-email"?g("Invalid email address"):g("Failed to sign in. Please check your credentials or try again in a few moments.")}finally{m(!1)}};return F.jsx("div",{className:"login-container",children:F.jsxs("div",{className:"login-paper",children:[F.jsx("h1",{className:"login-title",children:t==="admin"?"Admin Login":"Member Login"}),F.jsx("p",{className:"login-subtitle",children:"Please sign in to continue"}),F.jsxs("div",{className:"login-toggle-group",children:[F.jsx("button",{type:"button",className:`login-toggle-btn${t==="member"?" active":""}`,onClick:()=>C("member"),disabled:x,children:"Member"}),F.jsx("button",{type:"button",className:`login-toggle-btn${t==="admin"?" active":""}`,onClick:()=>C("admin"),disabled:x,children:"Admin"})]}),u&&F.jsx("div",{className:"login-error",children:u}),F.jsxs("form",{className:"login-form",onSubmit:R,children:[F.jsx("input",{required:!0,type:"email",id:"email",name:"email",autoComplete:"email",autoFocus:!0,value:n,onChange:O=>r(O.target.value),placeholder:"Email Address",className:"login-input",disabled:x}),F.jsx("input",{required:!0,type:"password",name:"password",id:"password",autoComplete:"current-password",value:i,onChange:O=>o(O.target.value),placeholder:"Password",className:"login-input",disabled:x}),F.jsx("button",{type:"submit",className:"login-button",disabled:x,children:x?"Signing In...":"Sign In"})]}),F.jsxs("p",{className:"login-signup-text",children:["Don't have an account? ",F.jsx("a",{href:"/signup",className:"login-signup-link",children:"Sign up"})]})]})})}const lV="/ScanIn-Attendance/assets/vecteezy_qr-code-scanning-vector-illustration-concept-suitable-for_7278490-D1Wq4dNS.jpg",OI="/ScanIn-Attendance/assets/signinLogo2-B6cU-0kx.png";function cV(){const t=pl();return F.jsxs("div",{className:"landing-bg",children:[F.jsx("div",{className:"landing-header",children:F.jsx("img",{src:OI,alt:"checkmark",className:"checkmark-icon"})}),F.jsx("p",{className:"landing-tagline",children:"Your Effortless Attendance Tracking System"}),F.jsxs("section",{className:"landing-hero",children:[F.jsx("img",{src:lV,alt:"QR Code Scanning",className:"landing-illustration"}),F.jsxs("div",{className:"landing-hero-content",children:[F.jsx("h2",{children:"Welcome to ScanIn Attendance Tracking"}),F.jsx("p",{children:"Modern, secure, and easy-to-use attendance management for organizations, schools, and events. Scan, track, and manage attendance in real time with our App today!"}),F.jsx("p",{children:"Click the button below to get started or scan your attendance!"}),F.jsxs("div",{className:"landing-btn-container",children:[F.jsx("button",{className:"landing-btn",onClick:()=>t("/login"),children:"Get Started"}),F.jsx("button",{className:"landing-btn-scan",onClick:()=>t("/scan"),children:"Scan Now!"})]})]})]}),F.jsx("a",{href:"#download",className:"landing-download-link",children:"Download App"}),F.jsxs("section",{className:"landing-features",children:[F.jsx("h2",{children:"Features"}),F.jsxs("div",{className:"features-list",children:[F.jsxs("div",{className:"feature-card",children:[F.jsx("h3",{children:"QR Code Attendance"}),F.jsx("p",{children:"Members clock in and out by scanning unique QR codes. Fast and contactless."})]}),F.jsxs("div",{className:"feature-card",children:[F.jsx("h3",{children:"Admin & Member Roles"}),F.jsx("p",{children:"Admins manage attendance, generate reports, and control users. Members scan and view their history."})]}),F.jsxs("div",{className:"feature-card",children:[F.jsx("h3",{children:"Real-Time Analytics"}),F.jsx("p",{children:"Get instant insights into attendance rates, late arrivals, and more."})]}),F.jsxs("div",{className:"feature-card",children:[F.jsx("h3",{children:"Secure & Private"}),F.jsx("p",{children:"Built on Firebase for secure authentication and data storage."})]}),F.jsxs("div",{className:"feature-card",children:[F.jsx("h3",{children:"Progressive Web App"}),F.jsx("p",{children:"Install on any device. Works offline and feels like a native app."})]})]})]}),F.jsxs("footer",{className:"landing-footer",children:[F.jsxs("div",{id:"download",className:"landing-download-section",children:[F.jsx("h2",{children:"Download Attendid"}),F.jsx("p",{children:"Install as a PWA from your browser or download the APK (coming soon)."}),F.jsx("button",{className:"landing-btn",onClick:()=>window.alert("Use your browser's install option or check back soon for APK!"),children:"Download"})]}),F.jsxs("p",{className:"landing-copyright",children:[" ",new Date().getFullYear()," Attendid. All rights reserved."]})]})]})}var _t;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(_t||(_t={}));var NS=new Map([[_t.QR_CODE,"QR_CODE"],[_t.AZTEC,"AZTEC"],[_t.CODABAR,"CODABAR"],[_t.CODE_39,"CODE_39"],[_t.CODE_93,"CODE_93"],[_t.CODE_128,"CODE_128"],[_t.DATA_MATRIX,"DATA_MATRIX"],[_t.MAXICODE,"MAXICODE"],[_t.ITF,"ITF"],[_t.EAN_13,"EAN_13"],[_t.EAN_8,"EAN_8"],[_t.PDF_417,"PDF_417"],[_t.RSS_14,"RSS_14"],[_t.RSS_EXPANDED,"RSS_EXPANDED"],[_t.UPC_A,"UPC_A"],[_t.UPC_E,"UPC_E"],[_t.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),OS;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(OS||(OS={}));function uV(t){return Object.values(_t).includes(t)}var yc;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(yc||(yc={}));var Ga=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[yc.SCAN_TYPE_CAMERA,yc.SCAN_TYPE_FILE],t}(),DI=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!NS.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,NS.get(e))},t}(),DS=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),Kx;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Kx||(Kx={}));var MI=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:Kx.UNKWOWN_ERROR}},t}(),kI=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function po(t){return typeof t>"u"||t===null}function fV(t,e,n){return t>n?n:t<e?e:t}var gf=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),Gn=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),MS=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),LI=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(i),u=Object.keys(e),g=0,x=u;g<x.length;g++){var m=x[g];if(o.has(m))return n.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},t}(),Zh={exports:{}},hV=Zh.exports,kS;function dV(){return kS||(kS=1,function(t,e){(function(n,r){r(e)})(hV,function(n){function r(z){return z==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,a){z.__proto__=a}||function(z,a){for(var c in a)a.hasOwnProperty(c)&&(z[c]=a[c])};function o(z,a){i(z,a);function c(){this.constructor=z}z.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}function u(z,a){var c=Object.setPrototypeOf;c?c(z,a):z.__proto__=a}function g(z,a){a===void 0&&(a=z.constructor);var c=Error.captureStackTrace;c&&c(z,a)}var x=function(z){o(a,z);function a(c){var f=this.constructor,d=z.call(this,c)||this;return Object.defineProperty(d,"name",{value:f.name,enumerable:!1}),u(d,f.prototype),g(d),d}return a}(Error);class m extends x{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}m.kind="Exception";class _ extends m{}_.kind="ArgumentException";class A extends m{}A.kind="IllegalArgumentException";class C{constructor(a){if(this.binarizer=a,a===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(a,c){return this.binarizer.getBlackRow(a,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(a,c,f,d){const p=this.binarizer.getLuminanceSource().crop(a,c,f,d);return new C(this.binarizer.createBinarizer(p))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new C(this.binarizer.createBinarizer(a))}rotateCounterClockwise45(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new C(this.binarizer.createBinarizer(a))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class R extends m{static getChecksumInstance(){return new R}}R.kind="ChecksumException";class O{constructor(a){this.source=a}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(a,c,f,d,p){for(;p--;)f[d++]=a[c++]}static currentTimeMillis(){return Date.now()}}class k extends m{}k.kind="IndexOutOfBoundsException";class H extends k{constructor(a=void 0,c=void 0){super(c),this.index=a,this.message=c}}H.kind="ArrayIndexOutOfBoundsException";class Y{static fill(a,c){for(let f=0,d=a.length;f<d;f++)a[f]=c}static fillWithin(a,c,f,d){Y.rangeCheck(a.length,c,f);for(let p=c;p<f;p++)a[p]=d}static rangeCheck(a,c,f){if(c>f)throw new A("fromIndex("+c+") > toIndex("+f+")");if(c<0)throw new H(c);if(f>a)throw new H(f)}static asList(...a){return a}static create(a,c,f){return Array.from({length:a}).map(p=>Array.from({length:c}).fill(f))}static createInt32Array(a,c,f){return Array.from({length:a}).map(p=>Int32Array.from({length:c}).fill(f))}static equals(a,c){if(!a||!c||!a.length||!c.length||a.length!==c.length)return!1;for(let f=0,d=a.length;f<d;f++)if(a[f]!==c[f])return!1;return!0}static hashCode(a){if(a===null)return 0;let c=1;for(const f of a)c=31*c+f;return c}static fillUint8Array(a,c){for(let f=0;f!==a.length;f++)a[f]=c}static copyOf(a,c){return a.slice(0,c)}static copyOfUint8Array(a,c){if(a.length<=c){const f=new Uint8Array(c);return f.set(a),f}return a.slice(0,c)}static copyOfRange(a,c,f){const d=f-c,p=new Int32Array(d);return I.arraycopy(a,c,p,0,d),p}static binarySearch(a,c,f){f===void 0&&(f=Y.numberComparator);let d=0,p=a.length-1;for(;d<=p;){const v=p+d>>1,E=f(c,a[v]);if(E>0)d=v+1;else if(E<0)p=v-1;else return v}return-d-1}static numberComparator(a,c){return a-c}}class W{static numberOfTrailingZeros(a){let c;if(a===0)return 32;let f=31;return c=a<<16,c!==0&&(f-=16,a=c),c=a<<8,c!==0&&(f-=8,a=c),c=a<<4,c!==0&&(f-=4,a=c),c=a<<2,c!==0&&(f-=2,a=c),f-(a<<1>>>31)}static numberOfLeadingZeros(a){if(a===0)return 32;let c=1;return a>>>16||(c+=16,a<<=16),a>>>24||(c+=8,a<<=8),a>>>28||(c+=4,a<<=4),a>>>30||(c+=2,a<<=2),c-=a>>>31,c}static toHexString(a){return a.toString(16)}static toBinaryString(a){return String(parseInt(String(a),2))}static bitCount(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),a=a+(a>>>4)&252645135,a=a+(a>>>8),a=a+(a>>>16),a&63}static truncDivision(a,c){return Math.trunc(a/c)}static parseInt(a,c=void 0){return parseInt(a,c)}}W.MIN_VALUE_32_BITS=-2147483648,W.MAX_VALUE=Number.MAX_SAFE_INTEGER;class te{constructor(a,c){a===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=a,c==null?this.bits=te.makeArray(a):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(a){if(a>this.bits.length*32){const c=te.makeArray(a);I.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(a){return(this.bits[Math.floor(a/32)]&1<<(a&31))!==0}set(a){this.bits[Math.floor(a/32)]|=1<<(a&31)}flip(a){this.bits[Math.floor(a/32)]^=1<<(a&31)}getNextSet(a){const c=this.size;if(a>=c)return c;const f=this.bits;let d=Math.floor(a/32),p=f[d];p&=~((1<<(a&31))-1);const v=f.length;for(;p===0;){if(++d===v)return c;p=f[d]}const E=d*32+W.numberOfTrailingZeros(p);return E>c?c:E}getNextUnset(a){const c=this.size;if(a>=c)return c;const f=this.bits;let d=Math.floor(a/32),p=~f[d];p&=~((1<<(a&31))-1);const v=f.length;for(;p===0;){if(++d===v)return c;p=~f[d]}const E=d*32+W.numberOfTrailingZeros(p);return E>c?c:E}setBulk(a,c){this.bits[Math.floor(a/32)]=c}setRange(a,c){if(c<a||a<0||c>this.size)throw new A;if(c===a)return;c--;const f=Math.floor(a/32),d=Math.floor(c/32),p=this.bits;for(let v=f;v<=d;v++){const E=v>f?0:a&31,N=(2<<(v<d?31:c&31))-(1<<E);p[v]|=N}}clear(){const a=this.bits.length,c=this.bits;for(let f=0;f<a;f++)c[f]=0}isRange(a,c,f){if(c<a||a<0||c>this.size)throw new A;if(c===a)return!0;c--;const d=Math.floor(a/32),p=Math.floor(c/32),v=this.bits;for(let E=d;E<=p;E++){const S=E>d?0:a&31,P=(2<<(E<p?31:c&31))-(1<<S)&4294967295;if((v[E]&P)!==(f?P:0))return!1}return!0}appendBit(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(a,c){if(c<0||c>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let f=c;f>0;f--)this.appendBit((a>>f-1&1)===1)}appendBitArray(a){const c=a.size;this.ensureCapacity(this.size+c);for(let f=0;f<c;f++)this.appendBit(a.get(f))}xor(a){if(this.size!==a.size)throw new A("Sizes don't match");const c=this.bits;for(let f=0,d=c.length;f<d;f++)c[f]^=a.bits[f]}toBytes(a,c,f,d){for(let p=0;p<d;p++){let v=0;for(let E=0;E<8;E++)this.get(a)&&(v|=1<<7-E),a++;c[f+p]=v}}getBitArray(){return this.bits}reverse(){const a=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),f=c+1,d=this.bits;for(let p=0;p<f;p++){let v=d[p];v=v>>1&1431655765|(v&1431655765)<<1,v=v>>2&858993459|(v&858993459)<<2,v=v>>4&252645135|(v&252645135)<<4,v=v>>8&16711935|(v&16711935)<<8,v=v>>16&65535|(v&65535)<<16,a[c-p]=v}if(this.size!==f*32){const p=f*32-this.size;let v=a[0]>>>p;for(let E=1;E<f;E++){const S=a[E];v|=S<<32-p,a[E-1]=v,v=S>>>p}a[f-1]=v}this.bits=a}static makeArray(a){return new Int32Array(Math.floor((a+31)/32))}equals(a){if(!(a instanceof te))return!1;const c=a;return this.size===c.size&&Y.equals(this.bits,c.bits)}hashCode(){return 31*this.size+Y.hashCode(this.bits)}toString(){let a="";for(let c=0,f=this.size;c<f;c++)(c&7)===0&&(a+=" "),a+=this.get(c)?"X":".";return a}clone(){return new te(this.size,this.bits.slice())}}var oe;(function(z){z[z.OTHER=0]="OTHER",z[z.PURE_BARCODE=1]="PURE_BARCODE",z[z.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",z[z.TRY_HARDER=3]="TRY_HARDER",z[z.CHARACTER_SET=4]="CHARACTER_SET",z[z.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",z[z.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",z[z.ASSUME_GS1=7]="ASSUME_GS1",z[z.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",z[z.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",z[z.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(oe||(oe={}));var ve=oe;class B extends m{static getFormatInstance(){return new B}}B.kind="FormatException";var V;(function(z){z[z.Cp437=0]="Cp437",z[z.ISO8859_1=1]="ISO8859_1",z[z.ISO8859_2=2]="ISO8859_2",z[z.ISO8859_3=3]="ISO8859_3",z[z.ISO8859_4=4]="ISO8859_4",z[z.ISO8859_5=5]="ISO8859_5",z[z.ISO8859_6=6]="ISO8859_6",z[z.ISO8859_7=7]="ISO8859_7",z[z.ISO8859_8=8]="ISO8859_8",z[z.ISO8859_9=9]="ISO8859_9",z[z.ISO8859_10=10]="ISO8859_10",z[z.ISO8859_11=11]="ISO8859_11",z[z.ISO8859_13=12]="ISO8859_13",z[z.ISO8859_14=13]="ISO8859_14",z[z.ISO8859_15=14]="ISO8859_15",z[z.ISO8859_16=15]="ISO8859_16",z[z.SJIS=16]="SJIS",z[z.Cp1250=17]="Cp1250",z[z.Cp1251=18]="Cp1251",z[z.Cp1252=19]="Cp1252",z[z.Cp1256=20]="Cp1256",z[z.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",z[z.UTF8=22]="UTF8",z[z.ASCII=23]="ASCII",z[z.Big5=24]="Big5",z[z.GB18030=25]="GB18030",z[z.EUC_KR=26]="EUC_KR"})(V||(V={}));class L{constructor(a,c,f,...d){this.valueIdentifier=a,this.name=f,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=d,L.VALUE_IDENTIFIER_TO_ECI.set(a,this),L.NAME_TO_ECI.set(f,this);const p=this.values;for(let v=0,E=p.length;v!==E;v++){const S=p[v];L.VALUES_TO_ECI.set(S,this)}for(const v of d)L.NAME_TO_ECI.set(v,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(a){if(a<0||a>=900)throw new B("incorect value");const c=L.VALUES_TO_ECI.get(a);if(c===void 0)throw new B("incorect value");return c}static getCharacterSetECIByName(a){const c=L.NAME_TO_ECI.get(a);if(c===void 0)throw new B("incorect value");return c}equals(a){if(!(a instanceof L))return!1;const c=a;return this.getName()===c.getName()}}L.VALUE_IDENTIFIER_TO_ECI=new Map,L.VALUES_TO_ECI=new Map,L.NAME_TO_ECI=new Map,L.Cp437=new L(V.Cp437,Int32Array.from([0,2]),"Cp437"),L.ISO8859_1=new L(V.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),L.ISO8859_2=new L(V.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),L.ISO8859_3=new L(V.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),L.ISO8859_4=new L(V.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),L.ISO8859_5=new L(V.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),L.ISO8859_6=new L(V.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),L.ISO8859_7=new L(V.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),L.ISO8859_8=new L(V.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),L.ISO8859_9=new L(V.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),L.ISO8859_10=new L(V.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),L.ISO8859_11=new L(V.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),L.ISO8859_13=new L(V.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),L.ISO8859_14=new L(V.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),L.ISO8859_15=new L(V.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),L.ISO8859_16=new L(V.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),L.SJIS=new L(V.SJIS,20,"SJIS","Shift_JIS"),L.Cp1250=new L(V.Cp1250,21,"Cp1250","windows-1250"),L.Cp1251=new L(V.Cp1251,22,"Cp1251","windows-1251"),L.Cp1252=new L(V.Cp1252,23,"Cp1252","windows-1252"),L.Cp1256=new L(V.Cp1256,24,"Cp1256","windows-1256"),L.UnicodeBigUnmarked=new L(V.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),L.UTF8=new L(V.UTF8,26,"UTF8","UTF-8"),L.ASCII=new L(V.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),L.Big5=new L(V.Big5,28,"Big5"),L.GB18030=new L(V.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),L.EUC_KR=new L(V.EUC_KR,30,"EUC_KR","EUC-KR");class M extends m{}M.kind="UnsupportedOperationException";class q{static decode(a,c){const f=this.encodingName(c);return this.customDecoder?this.customDecoder(a,f):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(f)?this.decodeFallback(a,f):new TextDecoder(f).decode(a)}static shouldDecodeOnFallback(a){return!q.isBrowser()&&a==="ISO-8859-1"}static encode(a,c){const f=this.encodingName(c);return this.customEncoder?this.customEncoder(a,f):typeof TextEncoder>"u"?this.encodeFallback(a):new TextEncoder().encode(a)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(a){return typeof a=="string"?a:a.getName()}static encodingCharacterSet(a){return a instanceof L?a:L.getCharacterSetECIByName(a)}static decodeFallback(a,c){const f=this.encodingCharacterSet(c);if(q.isDecodeFallbackSupported(f)){let d="";for(let p=0,v=a.length;p<v;p++){let E=a[p].toString(16);E.length<2&&(E="0"+E),d+="%"+E}return decodeURIComponent(d)}if(f.equals(L.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(a.buffer));throw new M(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(a){return a.equals(L.UTF8)||a.equals(L.ISO8859_1)||a.equals(L.ASCII)}static encodeFallback(a){const f=btoa(unescape(encodeURIComponent(a))).split(""),d=[];for(let p=0;p<f.length;p++)d.push(f[p].charCodeAt(0));return new Uint8Array(d)}}class Q{static castAsNonUtf8Char(a,c=null){const f=c?c.getName():this.ISO88591;return q.decode(new Uint8Array([a]),f)}static guessEncoding(a,c){if(c!=null&&c.get(ve.CHARACTER_SET)!==void 0)return c.get(ve.CHARACTER_SET).toString();const f=a.length;let d=!0,p=!0,v=!0,E=0,S=0,N=0,P=0,G=0,K=0,ce=0,xe=0,ye=0,Re=0,Le=0;const nt=a.length>3&&a[0]===239&&a[1]===187&&a[2]===191;for(let at=0;at<f&&(d||p||v);at++){const tt=a[at]&255;v&&(E>0?(tt&128)===0?v=!1:E--:(tt&128)!==0&&((tt&64)===0?v=!1:(E++,(tt&32)===0?S++:(E++,(tt&16)===0?N++:(E++,(tt&8)===0?P++:v=!1))))),d&&(tt>127&&tt<160?d=!1:tt>159&&(tt<192||tt===215||tt===247)&&Le++),p&&(G>0?tt<64||tt===127||tt>252?p=!1:G--:tt===128||tt===160||tt>239?p=!1:tt>160&&tt<224?(K++,xe=0,ce++,ce>ye&&(ye=ce)):tt>127?(G++,ce=0,xe++,xe>Re&&(Re=xe)):(ce=0,xe=0))}return v&&E>0&&(v=!1),p&&G>0&&(p=!1),v&&(nt||S+N+P>0)?Q.UTF8:p&&(Q.ASSUME_SHIFT_JIS||ye>=3||Re>=3)?Q.SHIFT_JIS:d&&p?ye===2&&K===2||Le*10>=f?Q.SHIFT_JIS:Q.ISO88591:d?Q.ISO88591:p?Q.SHIFT_JIS:v?Q.UTF8:Q.PLATFORM_DEFAULT_ENCODING}static format(a,...c){let f=-1;function d(v,E,S,N,P,G){if(v==="%%")return"%";if(c[++f]===void 0)return;v=N?parseInt(N.substr(1)):void 0;let K=P?parseInt(P.substr(1)):void 0,ce;switch(G){case"s":ce=c[f];break;case"c":ce=c[f][0];break;case"f":ce=parseFloat(c[f]).toFixed(v);break;case"p":ce=parseFloat(c[f]).toPrecision(v);break;case"e":ce=parseFloat(c[f]).toExponential(v);break;case"x":ce=parseInt(c[f]).toString(K||16);break;case"d":ce=parseFloat(parseInt(c[f],K||10).toPrecision(v)).toFixed(0);break}ce=typeof ce=="object"?JSON.stringify(ce):(+ce).toString(K);let xe=parseInt(S),ye=S&&S[0]+""=="0"?"0":" ";for(;ce.length<xe;)ce=E!==void 0?ce+ye:ye+ce;return ce}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(p,d)}static getBytes(a,c){return q.encode(a,c)}static getCharCode(a,c=0){return a.charCodeAt(c)}static getCharAt(a){return String.fromCharCode(a)}}Q.SHIFT_JIS=L.SJIS.getName(),Q.GB2312="GB2312",Q.ISO88591=L.ISO8859_1.getName(),Q.EUC_JP="EUC_JP",Q.UTF8=L.UTF8.getName(),Q.PLATFORM_DEFAULT_ENCODING=Q.UTF8,Q.ASSUME_SHIFT_JIS=!1;class Z{constructor(a=""){this.value=a}enableDecoding(a){return this.encoding=a,this}append(a){return typeof a=="string"?this.value+=a.toString():this.encoding?this.value+=Q.castAsNonUtf8Char(a,this.encoding):this.value+=String.fromCharCode(a),this}appendChars(a,c,f){for(let d=c;c<c+f;d++)this.append(a[d]);return this}length(){return this.value.length}charAt(a){return this.value.charAt(a)}deleteCharAt(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)}setCharAt(a,c){this.value=this.value.substr(0,a)+c+this.value.substr(a+1)}substring(a,c){return this.value.substring(a,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(a,c){this.value=this.value.substr(0,a)+c+this.value.substr(a+c.length)}}class pt{constructor(a,c,f,d){if(this.width=a,this.height=c,this.rowSize=f,this.bits=d,c==null&&(c=a),this.height=c,a<1||c<1)throw new A("Both dimensions must be greater than 0");f==null&&(f=Math.floor((a+31)/32)),this.rowSize=f,d==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(a){const c=a.length,f=a[0].length,d=new pt(f,c);for(let p=0;p<c;p++){const v=a[p];for(let E=0;E<f;E++)v[E]&&d.set(E,p)}return d}static parseFromString(a,c,f){if(a===null)throw new A("stringRepresentation cannot be null");const d=new Array(a.length);let p=0,v=0,E=-1,S=0,N=0;for(;N<a.length;)if(a.charAt(N)===`
`||a.charAt(N)==="\r"){if(p>v){if(E===-1)E=p-v;else if(p-v!==E)throw new A("row lengths do not match");v=p,S++}N++}else if(a.substring(N,N+c.length)===c)N+=c.length,d[p]=!0,p++;else if(a.substring(N,N+f.length)===f)N+=f.length,d[p]=!1,p++;else throw new A("illegal character encountered: "+a.substring(N));if(p>v){if(E===-1)E=p-v;else if(p-v!==E)throw new A("row lengths do not match");S++}const P=new pt(E,S);for(let G=0;G<p;G++)d[G]&&P.set(Math.floor(G%E),Math.floor(G/E));return P}get(a,c){const f=c*this.rowSize+Math.floor(a/32);return(this.bits[f]>>>(a&31)&1)!==0}set(a,c){const f=c*this.rowSize+Math.floor(a/32);this.bits[f]|=1<<(a&31)&4294967295}unset(a,c){const f=c*this.rowSize+Math.floor(a/32);this.bits[f]&=~(1<<(a&31)&4294967295)}flip(a,c){const f=c*this.rowSize+Math.floor(a/32);this.bits[f]^=1<<(a&31)&4294967295}xor(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new A("input matrix dimensions do not match");const c=new te(Math.floor(this.width/32)+1),f=this.rowSize,d=this.bits;for(let p=0,v=this.height;p<v;p++){const E=p*f,S=a.getRow(p,c).getBitArray();for(let N=0;N<f;N++)d[E+N]^=S[N]}}clear(){const a=this.bits,c=a.length;for(let f=0;f<c;f++)a[f]=0}setRegion(a,c,f,d){if(c<0||a<0)throw new A("Left and top must be nonnegative");if(d<1||f<1)throw new A("Height and width must be at least 1");const p=a+f,v=c+d;if(v>this.height||p>this.width)throw new A("The region must fit inside the matrix");const E=this.rowSize,S=this.bits;for(let N=c;N<v;N++){const P=N*E;for(let G=a;G<p;G++)S[P+Math.floor(G/32)]|=1<<(G&31)&4294967295}}getRow(a,c){c==null||c.getSize()<this.width?c=new te(this.width):c.clear();const f=this.rowSize,d=this.bits,p=a*f;for(let v=0;v<f;v++)c.setBulk(v*32,d[p+v]);return c}setRow(a,c){I.arraycopy(c.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)}rotate180(){const a=this.getWidth(),c=this.getHeight();let f=new te(a),d=new te(a);for(let p=0,v=Math.floor((c+1)/2);p<v;p++)f=this.getRow(p,f),d=this.getRow(c-1-p,d),f.reverse(),d.reverse(),this.setRow(p,d),this.setRow(c-1-p,f)}getEnclosingRectangle(){const a=this.width,c=this.height,f=this.rowSize,d=this.bits;let p=a,v=c,E=-1,S=-1;for(let N=0;N<c;N++)for(let P=0;P<f;P++){const G=d[N*f+P];if(G!==0){if(N<v&&(v=N),N>S&&(S=N),P*32<p){let K=0;for(;(G<<31-K&4294967295)===0;)K++;P*32+K<p&&(p=P*32+K)}if(P*32+31>E){let K=31;for(;!(G>>>K);)K--;P*32+K>E&&(E=P*32+K)}}}return E<p||S<v?null:Int32Array.from([p,v,E-p+1,S-v+1])}getTopLeftOnBit(){const a=this.rowSize,c=this.bits;let f=0;for(;f<c.length&&c[f]===0;)f++;if(f===c.length)return null;const d=f/a;let p=f%a*32;const v=c[f];let E=0;for(;(v<<31-E&4294967295)===0;)E++;return p+=E,Int32Array.from([p,d])}getBottomRightOnBit(){const a=this.rowSize,c=this.bits;let f=c.length-1;for(;f>=0&&c[f]===0;)f--;if(f<0)return null;const d=Math.floor(f/a);let p=Math.floor(f%a)*32;const v=c[f];let E=31;for(;!(v>>>E);)E--;return p+=E,Int32Array.from([p,d])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(a){if(!(a instanceof pt))return!1;const c=a;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&Y.equals(this.bits,c.bits)}hashCode(){let a=this.width;return a=31*a+this.width,a=31*a+this.height,a=31*a+this.rowSize,a=31*a+Y.hashCode(this.bits),a}toString(a="X ",c="  ",f=`
`){return this.buildToString(a,c,f)}buildToString(a,c,f){let d=new Z;for(let p=0,v=this.height;p<v;p++){for(let E=0,S=this.width;E<S;E++)d.append(this.get(E,p)?a:c);d.append(f)}return d.toString()}clone(){return new pt(this.width,this.height,this.rowSize,this.bits.slice())}}class Ee extends m{static getNotFoundInstance(){return new Ee}}Ee.kind="NotFoundException";class be extends O{constructor(a){super(a),this.luminances=be.EMPTY,this.buckets=new Int32Array(be.LUMINANCE_BUCKETS)}getBlackRow(a,c){const f=this.getLuminanceSource(),d=f.getWidth();c==null||c.getSize()<d?c=new te(d):c.clear(),this.initArrays(d);const p=f.getRow(a,this.luminances),v=this.buckets;for(let S=0;S<d;S++)v[(p[S]&255)>>be.LUMINANCE_SHIFT]++;const E=be.estimateBlackPoint(v);if(d<3)for(let S=0;S<d;S++)(p[S]&255)<E&&c.set(S);else{let S=p[0]&255,N=p[1]&255;for(let P=1;P<d-1;P++){const G=p[P+1]&255;(N*4-S-G)/2<E&&c.set(P),S=N,N=G}}return c}getBlackMatrix(){const a=this.getLuminanceSource(),c=a.getWidth(),f=a.getHeight(),d=new pt(c,f);this.initArrays(c);const p=this.buckets;for(let S=1;S<5;S++){const N=Math.floor(f*S/5),P=a.getRow(N,this.luminances),G=Math.floor(c*4/5);for(let K=Math.floor(c/5);K<G;K++){const ce=P[K]&255;p[ce>>be.LUMINANCE_SHIFT]++}}const v=be.estimateBlackPoint(p),E=a.getMatrix();for(let S=0;S<f;S++){const N=S*c;for(let P=0;P<c;P++)(E[N+P]&255)<v&&d.set(P,S)}return d}createBinarizer(a){return new be(a)}initArrays(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));const c=this.buckets;for(let f=0;f<be.LUMINANCE_BUCKETS;f++)c[f]=0}static estimateBlackPoint(a){const c=a.length;let f=0,d=0,p=0;for(let P=0;P<c;P++)a[P]>p&&(d=P,p=a[P]),a[P]>f&&(f=a[P]);let v=0,E=0;for(let P=0;P<c;P++){const G=P-d,K=a[P]*G*G;K>E&&(v=P,E=K)}if(d>v){const P=d;d=v,v=P}if(v-d<=c/16)throw new Ee;let S=v-1,N=-1;for(let P=v-1;P>d;P--){const G=P-d,K=G*G*(v-P)*(f-a[P]);K>N&&(S=P,N=K)}return S<<be.LUMINANCE_SHIFT}}be.LUMINANCE_BITS=5,be.LUMINANCE_SHIFT=8-be.LUMINANCE_BITS,be.LUMINANCE_BUCKETS=1<<be.LUMINANCE_BITS,be.EMPTY=Uint8ClampedArray.from([0]);class Ue extends be{constructor(a){super(a),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const a=this.getLuminanceSource(),c=a.getWidth(),f=a.getHeight();if(c>=Ue.MINIMUM_DIMENSION&&f>=Ue.MINIMUM_DIMENSION){const d=a.getMatrix();let p=c>>Ue.BLOCK_SIZE_POWER;(c&Ue.BLOCK_SIZE_MASK)!==0&&p++;let v=f>>Ue.BLOCK_SIZE_POWER;(f&Ue.BLOCK_SIZE_MASK)!==0&&v++;const E=Ue.calculateBlackPoints(d,p,v,c,f),S=new pt(c,f);Ue.calculateThresholdForBlock(d,p,v,c,f,E,S),this.matrix=S}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(a){return new Ue(a)}static calculateThresholdForBlock(a,c,f,d,p,v,E){const S=p-Ue.BLOCK_SIZE,N=d-Ue.BLOCK_SIZE;for(let P=0;P<f;P++){let G=P<<Ue.BLOCK_SIZE_POWER;G>S&&(G=S);const K=Ue.cap(P,2,f-3);for(let ce=0;ce<c;ce++){let xe=ce<<Ue.BLOCK_SIZE_POWER;xe>N&&(xe=N);const ye=Ue.cap(ce,2,c-3);let Re=0;for(let nt=-2;nt<=2;nt++){const at=v[K+nt];Re+=at[ye-2]+at[ye-1]+at[ye]+at[ye+1]+at[ye+2]}const Le=Re/25;Ue.thresholdBlock(a,xe,G,Le,d,E)}}}static cap(a,c,f){return a<c?c:a>f?f:a}static thresholdBlock(a,c,f,d,p,v){for(let E=0,S=f*p+c;E<Ue.BLOCK_SIZE;E++,S+=p)for(let N=0;N<Ue.BLOCK_SIZE;N++)(a[S+N]&255)<=d&&v.set(c+N,f+E)}static calculateBlackPoints(a,c,f,d,p){const v=p-Ue.BLOCK_SIZE,E=d-Ue.BLOCK_SIZE,S=new Array(f);for(let N=0;N<f;N++){S[N]=new Int32Array(c);let P=N<<Ue.BLOCK_SIZE_POWER;P>v&&(P=v);for(let G=0;G<c;G++){let K=G<<Ue.BLOCK_SIZE_POWER;K>E&&(K=E);let ce=0,xe=255,ye=0;for(let Le=0,nt=P*d+K;Le<Ue.BLOCK_SIZE;Le++,nt+=d){for(let at=0;at<Ue.BLOCK_SIZE;at++){const tt=a[nt+at]&255;ce+=tt,tt<xe&&(xe=tt),tt>ye&&(ye=tt)}if(ye-xe>Ue.MIN_DYNAMIC_RANGE)for(Le++,nt+=d;Le<Ue.BLOCK_SIZE;Le++,nt+=d)for(let at=0;at<Ue.BLOCK_SIZE;at++)ce+=a[nt+at]&255}let Re=ce>>Ue.BLOCK_SIZE_POWER*2;if(ye-xe<=Ue.MIN_DYNAMIC_RANGE&&(Re=xe/2,N>0&&G>0)){const Le=(S[N-1][G]+2*S[N][G-1]+S[N-1][G-1])/4;xe<Le&&(Re=Le)}S[N][G]=Re}}return S}}Ue.BLOCK_SIZE_POWER=3,Ue.BLOCK_SIZE=1<<Ue.BLOCK_SIZE_POWER,Ue.BLOCK_SIZE_MASK=Ue.BLOCK_SIZE-1,Ue.MINIMUM_DIMENSION=Ue.BLOCK_SIZE*5,Ue.MIN_DYNAMIC_RANGE=24;class xt{constructor(a,c){this.width=a,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(a,c,f,d){throw new M("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new M("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new M("This luminance source does not support rotation by 45 degrees.")}toString(){const a=new Uint8ClampedArray(this.width);let c=new Z;for(let f=0;f<this.height;f++){const d=this.getRow(f,a);for(let p=0;p<this.width;p++){const v=d[p]&255;let E;v<64?E="#":v<128?E="+":v<192?E=".":E=" ",c.append(E)}c.append(`
`)}return c.toString()}}class wt extends xt{constructor(a){super(a.getWidth(),a.getHeight()),this.delegate=a}getRow(a,c){const f=this.delegate.getRow(a,c),d=this.getWidth();for(let p=0;p<d;p++)f[p]=255-(f[p]&255);return f}getMatrix(){const a=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),f=new Uint8ClampedArray(c);for(let d=0;d<c;d++)f[d]=255-(a[d]&255);return f}isCropSupported(){return this.delegate.isCropSupported()}crop(a,c,f,d){return new wt(this.delegate.crop(a,c,f,d))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new wt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new wt(this.delegate.rotateCounterClockwise45())}}class me extends xt{constructor(a){super(a.width,a.height),this.canvas=a,this.tempCanvasElement=null,this.buffer=me.makeBufferFromCanvasImageData(a)}static makeBufferFromCanvasImageData(a){const c=a.getContext("2d").getImageData(0,0,a.width,a.height);return me.toGrayscaleBuffer(c.data,a.width,a.height)}static toGrayscaleBuffer(a,c,f){const d=new Uint8ClampedArray(c*f);for(let p=0,v=0,E=a.length;p<E;p+=4,v++){let S;if(a[p+3]===0)S=255;else{const P=a[p],G=a[p+1],K=a[p+2];S=306*P+601*G+117*K+512>>10}d[v]=S}return d}getRow(a,c){if(a<0||a>=this.getHeight())throw new A("Requested row is outside the image: "+a);const f=this.getWidth(),d=a*f;return c===null?c=this.buffer.slice(d,d+f):(c.length<f&&(c=new Uint8ClampedArray(f)),c.set(this.buffer.slice(d,d+f))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(a,c,f,d){return super.crop(a,c,f,d),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement}rotate(a){const c=this.getTempCanvasElement(),f=c.getContext("2d"),d=a*me.DEGREE_TO_RADIANS,p=this.canvas.width,v=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(d))*p+Math.abs(Math.sin(d))*v),S=Math.ceil(Math.abs(Math.sin(d))*p+Math.abs(Math.cos(d))*v);return c.width=E,c.height=S,f.translate(E/2,S/2),f.rotate(d),f.drawImage(this.canvas,p/-2,v/-2),this.buffer=me.makeBufferFromCanvasImageData(c),this}invert(){return new wt(this)}}me.DEGREE_TO_RADIANS=Math.PI/180;class Ge{constructor(a,c,f){this.deviceId=a,this.label=c,this.kind="videoinput",this.groupId=f||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ie=(globalThis||f1||self||window||void 0)&&(globalThis||f1||self||window||void 0).__awaiter||function(z,a,c,f){function d(p){return p instanceof c?p:new c(function(v){v(p)})}return new(c||(c=Promise))(function(p,v){function E(P){try{N(f.next(P))}catch(G){v(G)}}function S(P){try{N(f.throw(P))}catch(G){v(G)}}function N(P){P.done?p(P.value):d(P.value).then(E,S)}N((f=f.apply(z,a||[])).next())})};class fe{constructor(a,c=500,f){this.reader=a,this.timeBetweenScansMillis=c,this._hints=f,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(a){this._timeBetweenDecodingAttempts=a<0?0:a}set hints(a){this._hints=a||null}get hints(){return this._hints}listVideoInputDevices(){return ie(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const a=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const f of a){const d=f.kind==="video"?"videoinput":f.kind;if(d!=="videoinput")continue;const p=f.deviceId||f.id,v=f.label||`Video device ${c.length+1}`,E=f.groupId,S={deviceId:p,label:v,kind:d,groupId:E};c.push(S)}return c})}getVideoInputDevices(){return ie(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new Ge(c.deviceId,c.label))})}findDeviceById(a){return ie(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(f=>f.deviceId===a):null})}decodeFromInputVideoDevice(a,c){return ie(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(a,c)})}decodeOnceFromVideoDevice(a,c){return ie(this,void 0,void 0,function*(){this.reset();let f;a?f={deviceId:{exact:a}}:f={facingMode:"environment"};const d={video:f};return yield this.decodeOnceFromConstraints(d,c)})}decodeOnceFromConstraints(a,c){return ie(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeOnceFromStream(f,c)})}decodeOnceFromStream(a,c){return ie(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(a,c);return yield this.decodeOnce(f)})}decodeFromInputVideoDeviceContinuously(a,c,f){return ie(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(a,c,f)})}decodeFromVideoDevice(a,c,f){return ie(this,void 0,void 0,function*(){let d;a?d={deviceId:{exact:a}}:d={facingMode:"environment"};const p={video:d};return yield this.decodeFromConstraints(p,c,f)})}decodeFromConstraints(a,c,f){return ie(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeFromStream(d,c,f)})}decodeFromStream(a,c,f){return ie(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(a,c);return yield this.decodeContinuously(d,f)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(a,c){return ie(this,void 0,void 0,function*(){const f=this.prepareVideoElement(c);return this.addVideoSource(f,a),this.videoElement=f,this.stream=a,yield this.playVideoOnLoadAsync(f),f})}playVideoOnLoadAsync(a){return new Promise((c,f)=>this.playVideoOnLoad(a,()=>c()))}playVideoOnLoad(a,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(a),a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",c),this.tryPlayVideo(a)}isVideoPlaying(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2}tryPlayVideo(a){return ie(this,void 0,void 0,function*(){if(this.isVideoPlaying(a)){console.warn("Trying to play video that is already playing.");return}try{yield a.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(a,c){const f=document.getElementById(a);if(!f)throw new _(`element with id '${a}' not found`);if(f.nodeName.toLowerCase()!==c.toLowerCase())throw new _(`element with id '${a}' must be an ${c} element`);return f}decodeFromImage(a,c){if(!a&&!c)throw new _("either imageElement with a src set or an url must be provided");return c&&!a?this.decodeFromImageUrl(c):this.decodeFromImageElement(a)}decodeFromVideo(a,c){if(!a&&!c)throw new _("Either an element with a src set or an URL must be provided");return c&&!a?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(a)}decodeFromVideoContinuously(a,c,f){if(a===void 0&&c===void 0)throw new _("Either an element with a src set or an URL must be provided");return c&&!a?this.decodeFromVideoUrlContinuously(c,f):this.decodeFromVideoElementContinuously(a,f)}decodeFromImageElement(a){if(!a)throw new _("An image element must be provided.");this.reset();const c=this.prepareImageElement(a);this.imageElement=c;let f;return this.isImageLoaded(c)?f=this.decodeOnce(c,!1,!0):f=this._decodeOnLoadImage(c),f}decodeFromVideoElement(a){const c=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(a,c){const f=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(f,c)}_decodeFromVideoElementSetup(a){if(!a)throw new _("A video element must be provided.");this.reset();const c=this.prepareVideoElement(a);return this.videoElement=c,c}decodeFromImageUrl(a){if(!a)throw new _("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const f=this._decodeOnLoadImage(c);return c.src=a,f}decodeFromVideoUrl(a){if(!a)throw new _("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),f=this.decodeFromVideoElement(c);return c.src=a,f}decodeFromVideoUrlContinuously(a,c){if(!a)throw new _("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(f,c);return f.src=a,d}_decodeOnLoadImage(a){return new Promise((c,f)=>{this.imageLoadedListener=()=>this.decodeOnce(a,!1,!0).then(c,f),a.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(a){return ie(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(a),yield this.decodeOnce(a)})}_decodeOnLoadVideoContinuously(a,c){return ie(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(a),this.decodeContinuously(a,c)})}isImageLoaded(a){return!(!a.complete||a.naturalWidth===0)}prepareImageElement(a){let c;return typeof a>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof a=="string"&&(c=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(c=a),c}prepareVideoElement(a){let c;return!a&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof a=="string"&&(c=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(c=a),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(a,c=!0,f=!0){this._stopAsyncDecode=!1;const d=(p,v)=>{if(this._stopAsyncDecode){v(new Ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(a);p(E)}catch(E){const S=c&&E instanceof Ee,P=(E instanceof R||E instanceof B)&&f;if(S||P)return setTimeout(d,this._timeBetweenDecodingAttempts,p,v);v(E)}};return new Promise((p,v)=>d(p,v))}decodeContinuously(a,c){this._stopContinuousDecode=!1;const f=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const d=this.decode(a);c(d,null),setTimeout(f,this.timeBetweenScansMillis)}catch(d){c(null,d);const p=d instanceof R||d instanceof B,v=d instanceof Ee;(p||v)&&setTimeout(f,this._timeBetweenDecodingAttempts)}};f()}decode(a){const c=this.createBinaryBitmap(a);return this.decodeBitmap(c)}_isHTMLVideoElement(a){return a.videoWidth!==0}drawFrameOnCanvas(a,c,f){c||(c={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),f||(f=this.captureCanvasContext),f.drawImage(a,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(a,c,f=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),f||(f=this.captureCanvasContext),f.drawImage(a,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(a){this.getCaptureCanvasContext(a),this._isHTMLVideoElement(a)?this.drawFrameOnCanvas(a):this.drawImageOnCanvas(a);const c=this.getCaptureCanvas(a),f=new me(c),d=new Ue(f);return new C(d)}getCaptureCanvasContext(a){if(!this.captureCanvasContext){const f=this.getCaptureCanvas(a).getContext("2d");this.captureCanvasContext=f}return this.captureCanvasContext}getCaptureCanvas(a){if(!this.captureCanvas){const c=this.createCaptureCanvas(a);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(a){return this.reader.decode(a,this._hints)}createCaptureCanvas(a){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let f,d;return typeof a<"u"&&(a instanceof HTMLVideoElement?(f=a.videoWidth,d=a.videoHeight):a instanceof HTMLImageElement&&(f=a.naturalWidth||a.width,d=a.naturalHeight||a.height)),c.style.width=f+"px",c.style.height=d+"px",c.width=f,c.height=d,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(a=>a.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(a,c){try{a.srcObject=c}catch{a.src=URL.createObjectURL(c)}}cleanVideoSource(a){try{a.srcObject=null}catch{a.src=""}this.videoElement.removeAttribute("src")}}class he{constructor(a,c,f=c==null?0:8*c.length,d,p,v=I.currentTimeMillis()){this.text=a,this.rawBytes=c,this.numBits=f,this.resultPoints=d,this.format=p,this.timestamp=v,this.text=a,this.rawBytes=c,f==null?this.numBits=c==null?0:8*c.length:this.numBits=f,this.resultPoints=d,this.format=p,this.resultMetadata=null,v==null?this.timestamp=I.currentTimeMillis():this.timestamp=v}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(a,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(a,c)}putAllMetadata(a){a!==null&&(this.resultMetadata===null?this.resultMetadata=a:this.resultMetadata=new Map(a))}addResultPoints(a){const c=this.resultPoints;if(c===null)this.resultPoints=a;else if(a!==null&&a.length>0){const f=new Array(c.length+a.length);I.arraycopy(c,0,f,0,c.length),I.arraycopy(a,0,f,c.length,a.length),this.resultPoints=f}}getTimestamp(){return this.timestamp}toString(){return this.text}}var pe;(function(z){z[z.AZTEC=0]="AZTEC",z[z.CODABAR=1]="CODABAR",z[z.CODE_39=2]="CODE_39",z[z.CODE_93=3]="CODE_93",z[z.CODE_128=4]="CODE_128",z[z.DATA_MATRIX=5]="DATA_MATRIX",z[z.EAN_8=6]="EAN_8",z[z.EAN_13=7]="EAN_13",z[z.ITF=8]="ITF",z[z.MAXICODE=9]="MAXICODE",z[z.PDF_417=10]="PDF_417",z[z.QR_CODE=11]="QR_CODE",z[z.RSS_14=12]="RSS_14",z[z.RSS_EXPANDED=13]="RSS_EXPANDED",z[z.UPC_A=14]="UPC_A",z[z.UPC_E=15]="UPC_E",z[z.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(pe||(pe={}));var _e=pe,lt;(function(z){z[z.OTHER=0]="OTHER",z[z.ORIENTATION=1]="ORIENTATION",z[z.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",z[z.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",z[z.ISSUE_NUMBER=4]="ISSUE_NUMBER",z[z.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",z[z.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",z[z.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",z[z.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",z[z.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",z[z.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(lt||(lt={}));var Ze=lt;class mt{constructor(a,c,f,d,p=-1,v=-1){this.rawBytes=a,this.text=c,this.byteSegments=f,this.ecLevel=d,this.structuredAppendSequenceNumber=p,this.structuredAppendParity=v,this.numBits=a==null?0:8*a.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(a){this.numBits=a}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(a){this.errorsCorrected=a}getErasures(){return this.erasures}setErasures(a){this.erasures=a}getOther(){return this.other}setOther(a){this.other=a}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ot{exp(a){return this.expTable[a]}log(a){if(a===0)throw new A;return this.logTable[a]}static addOrSubtract(a,c){return a^c}}class Ot{constructor(a,c){if(c.length===0)throw new A;this.field=a;const f=c.length;if(f>1&&c[0]===0){let d=1;for(;d<f&&c[d]===0;)d++;d===f?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(f-d),I.arraycopy(c,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);const c=this.coefficients;let f;if(a===1){f=0;for(let v=0,E=c.length;v!==E;v++){const S=c[v];f=ot.addOrSubtract(f,S)}return f}f=c[0];const d=c.length,p=this.field;for(let v=1;v<d;v++)f=ot.addOrSubtract(p.multiply(a,f),c[v]);return f}addOrSubtract(a){if(!this.field.equals(a.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return a;if(a.isZero())return this;let c=this.coefficients,f=a.coefficients;if(c.length>f.length){const v=c;c=f,f=v}let d=new Int32Array(f.length);const p=f.length-c.length;I.arraycopy(f,0,d,0,p);for(let v=p;v<f.length;v++)d[v]=ot.addOrSubtract(c[v-p],f[v]);return new Ot(this.field,d)}multiply(a){if(!this.field.equals(a.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||a.isZero())return this.field.getZero();const c=this.coefficients,f=c.length,d=a.coefficients,p=d.length,v=new Int32Array(f+p-1),E=this.field;for(let S=0;S<f;S++){const N=c[S];for(let P=0;P<p;P++)v[S+P]=ot.addOrSubtract(v[S+P],E.multiply(N,d[P]))}return new Ot(E,v)}multiplyScalar(a){if(a===0)return this.field.getZero();if(a===1)return this;const c=this.coefficients.length,f=this.field,d=new Int32Array(c),p=this.coefficients;for(let v=0;v<c;v++)d[v]=f.multiply(p[v],a);return new Ot(f,d)}multiplyByMonomial(a,c){if(a<0)throw new A;if(c===0)return this.field.getZero();const f=this.coefficients,d=f.length,p=new Int32Array(d+a),v=this.field;for(let E=0;E<d;E++)p[E]=v.multiply(f[E],c);return new Ot(v,p)}divide(a){if(!this.field.equals(a.field))throw new A("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new A("Divide by 0");const c=this.field;let f=c.getZero(),d=this;const p=a.getCoefficient(a.getDegree()),v=c.inverse(p);for(;d.getDegree()>=a.getDegree()&&!d.isZero();){const E=d.getDegree()-a.getDegree(),S=c.multiply(d.getCoefficient(d.getDegree()),v),N=a.multiplyByMonomial(E,S),P=c.buildMonomial(E,S);f=f.addOrSubtract(P),d=d.addOrSubtract(N)}return[f,d]}toString(){let a="";for(let c=this.getDegree();c>=0;c--){let f=this.getCoefficient(c);if(f!==0){if(f<0?(a+=" - ",f=-f):a.length>0&&(a+=" + "),c===0||f!==1){const d=this.field.log(f);d===0?a+="1":d===1?a+="a":(a+="a^",a+=d)}c!==0&&(c===1?a+="x":(a+="x^",a+=c))}}return a}}class Pt extends m{}Pt.kind="ArithmeticException";class St extends ot{constructor(a,c,f){super(),this.primitive=a,this.size=c,this.generatorBase=f;const d=new Int32Array(c);let p=1;for(let E=0;E<c;E++)d[E]=p,p*=2,p>=c&&(p^=a,p&=c-1);this.expTable=d;const v=new Int32Array(c);for(let E=0;E<c-1;E++)v[d[E]]=E;this.logTable=v,this.zero=new Ot(this,Int32Array.from([0])),this.one=new Ot(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,c){if(a<0)throw new A;if(c===0)return this.zero;const f=new Int32Array(a+1);return f[0]=c,new Ot(this,f)}inverse(a){if(a===0)throw new Pt;return this.expTable[this.size-this.logTable[a]-1]}multiply(a,c){return a===0||c===0?0:this.expTable[(this.logTable[a]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+W.toHexString(this.primitive)+","+this.size+")"}equals(a){return a===this}}St.AZTEC_DATA_12=new St(4201,4096,1),St.AZTEC_DATA_10=new St(1033,1024,1),St.AZTEC_DATA_6=new St(67,64,1),St.AZTEC_PARAM=new St(19,16,1),St.QR_CODE_FIELD_256=new St(285,256,0),St.DATA_MATRIX_FIELD_256=new St(301,256,1),St.AZTEC_DATA_8=St.DATA_MATRIX_FIELD_256,St.MAXICODE_FIELD_64=St.AZTEC_DATA_6;class Ut extends m{}Ut.kind="ReedSolomonException";class Bn extends m{}Bn.kind="IllegalStateException";class vn{constructor(a){this.field=a}decode(a,c){const f=this.field,d=new Ot(f,a),p=new Int32Array(c);let v=!0;for(let ce=0;ce<c;ce++){const xe=d.evaluateAt(f.exp(ce+f.getGeneratorBase()));p[p.length-1-ce]=xe,xe!==0&&(v=!1)}if(v)return;const E=new Ot(f,p),S=this.runEuclideanAlgorithm(f.buildMonomial(c,1),E,c),N=S[0],P=S[1],G=this.findErrorLocations(N),K=this.findErrorMagnitudes(P,G);for(let ce=0;ce<G.length;ce++){const xe=a.length-1-f.log(G[ce]);if(xe<0)throw new Ut("Bad error location");a[xe]=St.addOrSubtract(a[xe],K[ce])}}runEuclideanAlgorithm(a,c,f){if(a.getDegree()<c.getDegree()){const ce=a;a=c,c=ce}const d=this.field;let p=a,v=c,E=d.getZero(),S=d.getOne();for(;v.getDegree()>=(f/2|0);){let ce=p,xe=E;if(p=v,E=S,p.isZero())throw new Ut("r_{i-1} was zero");v=ce;let ye=d.getZero();const Re=p.getCoefficient(p.getDegree()),Le=d.inverse(Re);for(;v.getDegree()>=p.getDegree()&&!v.isZero();){const nt=v.getDegree()-p.getDegree(),at=d.multiply(v.getCoefficient(v.getDegree()),Le);ye=ye.addOrSubtract(d.buildMonomial(nt,at)),v=v.addOrSubtract(p.multiplyByMonomial(nt,at))}if(S=ye.multiply(E).addOrSubtract(xe),v.getDegree()>=p.getDegree())throw new Bn("Division algorithm failed to reduce polynomial?")}const N=S.getCoefficient(0);if(N===0)throw new Ut("sigmaTilde(0) was zero");const P=d.inverse(N),G=S.multiplyScalar(P),K=v.multiplyScalar(P);return[G,K]}findErrorLocations(a){const c=a.getDegree();if(c===1)return Int32Array.from([a.getCoefficient(1)]);const f=new Int32Array(c);let d=0;const p=this.field;for(let v=1;v<p.getSize()&&d<c;v++)a.evaluateAt(v)===0&&(f[d]=p.inverse(v),d++);if(d!==c)throw new Ut("Error locator degree does not match number of roots");return f}findErrorMagnitudes(a,c){const f=c.length,d=new Int32Array(f),p=this.field;for(let v=0;v<f;v++){const E=p.inverse(c[v]);let S=1;for(let N=0;N<f;N++)if(v!==N){const P=p.multiply(c[N],E),G=(P&1)===0?P|1:P&-2;S=p.multiply(S,G)}d[v]=p.multiply(a.evaluateAt(E),p.inverse(S)),p.getGeneratorBase()!==0&&(d[v]=p.multiply(d[v],E))}return d}}var rt;(function(z){z[z.UPPER=0]="UPPER",z[z.LOWER=1]="LOWER",z[z.MIXED=2]="MIXED",z[z.DIGIT=3]="DIGIT",z[z.PUNCT=4]="PUNCT",z[z.BINARY=5]="BINARY"})(rt||(rt={}));class jt{decode(a){this.ddata=a;let c=a.getBits(),f=this.extractBits(c),d=this.correctBits(f),p=jt.convertBoolArrayToByteArray(d),v=jt.getEncodedData(d),E=new mt(p,v,null,null);return E.setNumBits(d.length),E}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let c=a.length,f=rt.UPPER,d=rt.UPPER,p="",v=0;for(;v<c;)if(d===rt.BINARY){if(c-v<5)break;let E=jt.readCode(a,v,5);if(v+=5,E===0){if(c-v<11)break;E=jt.readCode(a,v,11)+31,v+=11}for(let S=0;S<E;S++){if(c-v<8){v=c;break}const N=jt.readCode(a,v,8);p+=Q.castAsNonUtf8Char(N),v+=8}d=f}else{let E=d===rt.DIGIT?4:5;if(c-v<E)break;let S=jt.readCode(a,v,E);v+=E;let N=jt.getCharacter(d,S);N.startsWith("CTRL_")?(f=d,d=jt.getTable(N.charAt(5)),N.charAt(6)==="L"&&(f=d)):(p+=N,d=f)}return p}static getTable(a){switch(a){case"L":return rt.LOWER;case"P":return rt.PUNCT;case"M":return rt.MIXED;case"D":return rt.DIGIT;case"B":return rt.BINARY;case"U":default:return rt.UPPER}}static getCharacter(a,c){switch(a){case rt.UPPER:return jt.UPPER_TABLE[c];case rt.LOWER:return jt.LOWER_TABLE[c];case rt.MIXED:return jt.MIXED_TABLE[c];case rt.PUNCT:return jt.PUNCT_TABLE[c];case rt.DIGIT:return jt.DIGIT_TABLE[c];default:throw new Bn("Bad table")}}correctBits(a){let c,f;this.ddata.getNbLayers()<=2?(f=6,c=St.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(f=8,c=St.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(f=10,c=St.AZTEC_DATA_10):(f=12,c=St.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),p=a.length/f;if(p<d)throw new B;let v=a.length%f,E=new Int32Array(p);for(let K=0;K<p;K++,v+=f)E[K]=jt.readCode(a,v,f);try{new vn(c).decode(E,p-d)}catch(K){throw new B(K)}let S=(1<<f)-1,N=0;for(let K=0;K<d;K++){let ce=E[K];if(ce===0||ce===S)throw new B;(ce===1||ce===S-1)&&N++}let P=new Array(d*f-N),G=0;for(let K=0;K<d;K++){let ce=E[K];if(ce===1||ce===S-1)P.fill(ce>1,G,G+f-1),G+=f-1;else for(let xe=f-1;xe>=0;--xe)P[G++]=(ce&1<<xe)!==0}return P}extractBits(a){let c=this.ddata.isCompact(),f=this.ddata.getNbLayers(),d=(c?11:14)+f*4,p=new Int32Array(d),v=new Array(this.totalBitsInLayer(f,c));if(c)for(let E=0;E<p.length;E++)p[E]=E;else{let E=d+1+2*W.truncDivision(W.truncDivision(d,2)-1,15),S=d/2,N=W.truncDivision(E,2);for(let P=0;P<S;P++){let G=P+W.truncDivision(P,15);p[S-P-1]=N-G-1,p[S+P]=N+G+1}}for(let E=0,S=0;E<f;E++){let N=(f-E)*4+(c?9:12),P=E*2,G=d-1-P;for(let K=0;K<N;K++){let ce=K*2;for(let xe=0;xe<2;xe++)v[S+ce+xe]=a.get(p[P+xe],p[P+K]),v[S+2*N+ce+xe]=a.get(p[P+K],p[G-xe]),v[S+4*N+ce+xe]=a.get(p[G-xe],p[G-K]),v[S+6*N+ce+xe]=a.get(p[G-K],p[P+xe])}S+=N*8}return v}static readCode(a,c,f){let d=0;for(let p=c;p<c+f;p++)d<<=1,a[p]&&(d|=1);return d}static readByte(a,c){let f=a.length-c;return f>=8?jt.readCode(a,c,8):jt.readCode(a,c,f)<<8-f}static convertBoolArrayToByteArray(a){let c=new Uint8Array((a.length+7)/8);for(let f=0;f<c.length;f++)c[f]=jt.readByte(a,8*f);return c}totalBitsInLayer(a,c){return((c?88:112)+16*a)*a}}jt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],jt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],jt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],jt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],jt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Tt{constructor(){}static round(a){return a===NaN?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0}static distance(a,c,f,d){const p=a-f,v=c-d;return Math.sqrt(p*p+v*v)}static sum(a){let c=0;for(let f=0,d=a.length;f!==d;f++){const p=a[f];c+=p}return c}}class vr{static floatToIntBits(a){return a}}vr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class gt{constructor(a,c){this.x=a,this.y=c}getX(){return this.x}getY(){return this.y}equals(a){if(a instanceof gt){const c=a;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*vr.floatToIntBits(this.x)+vr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(a){const c=this.distance(a[0],a[1]),f=this.distance(a[1],a[2]),d=this.distance(a[0],a[2]);let p,v,E;if(f>=c&&f>=d?(v=a[0],p=a[1],E=a[2]):d>=f&&d>=c?(v=a[1],p=a[0],E=a[2]):(v=a[2],p=a[0],E=a[1]),this.crossProductZ(p,v,E)<0){const S=p;p=E,E=S}a[0]=p,a[1]=v,a[2]=E}static distance(a,c){return Tt.distance(a.x,a.y,c.x,c.y)}static crossProductZ(a,c,f){const d=c.x,p=c.y;return(f.x-d)*(a.y-p)-(f.y-p)*(a.x-d)}}class Ri{constructor(a,c){this.bits=a,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class ls extends Ri{constructor(a,c,f,d,p){super(a,c),this.compact=f,this.nbDatablocks=d,this.nbLayers=p}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Un{constructor(a,c,f,d){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),c==null&&(c=Un.INIT_SIZE),f==null&&(f=a.getWidth()/2|0),d==null&&(d=a.getHeight()/2|0);const p=c/2|0;if(this.leftInit=f-p,this.rightInit=f+p,this.upInit=d-p,this.downInit=d+p,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Ee}detect(){let a=this.leftInit,c=this.rightInit,f=this.upInit,d=this.downInit,p=!1,v=!0,E=!1,S=!1,N=!1,P=!1,G=!1;const K=this.width,ce=this.height;for(;v;){v=!1;let xe=!0;for(;(xe||!S)&&c<K;)xe=this.containsBlackPoint(f,d,c,!1),xe?(c++,v=!0,S=!0):S||c++;if(c>=K){p=!0;break}let ye=!0;for(;(ye||!N)&&d<ce;)ye=this.containsBlackPoint(a,c,d,!0),ye?(d++,v=!0,N=!0):N||d++;if(d>=ce){p=!0;break}let Re=!0;for(;(Re||!P)&&a>=0;)Re=this.containsBlackPoint(f,d,a,!1),Re?(a--,v=!0,P=!0):P||a--;if(a<0){p=!0;break}let Le=!0;for(;(Le||!G)&&f>=0;)Le=this.containsBlackPoint(a,c,f,!0),Le?(f--,v=!0,G=!0):G||f--;if(f<0){p=!0;break}v&&(E=!0)}if(!p&&E){const xe=c-a;let ye=null;for(let at=1;ye===null&&at<xe;at++)ye=this.getBlackPointOnSegment(a,d-at,a+at,d);if(ye==null)throw new Ee;let Re=null;for(let at=1;Re===null&&at<xe;at++)Re=this.getBlackPointOnSegment(a,f+at,a+at,f);if(Re==null)throw new Ee;let Le=null;for(let at=1;Le===null&&at<xe;at++)Le=this.getBlackPointOnSegment(c,f+at,c-at,f);if(Le==null)throw new Ee;let nt=null;for(let at=1;nt===null&&at<xe;at++)nt=this.getBlackPointOnSegment(c,d-at,c-at,d);if(nt==null)throw new Ee;return this.centerEdges(nt,ye,Le,Re)}else throw new Ee}getBlackPointOnSegment(a,c,f,d){const p=Tt.round(Tt.distance(a,c,f,d)),v=(f-a)/p,E=(d-c)/p,S=this.image;for(let N=0;N<p;N++){const P=Tt.round(a+N*v),G=Tt.round(c+N*E);if(S.get(P,G))return new gt(P,G)}return null}centerEdges(a,c,f,d){const p=a.getX(),v=a.getY(),E=c.getX(),S=c.getY(),N=f.getX(),P=f.getY(),G=d.getX(),K=d.getY(),ce=Un.CORR;return p<this.width/2?[new gt(G-ce,K+ce),new gt(E+ce,S+ce),new gt(N-ce,P-ce),new gt(p+ce,v-ce)]:[new gt(G+ce,K+ce),new gt(E+ce,S-ce),new gt(N-ce,P+ce),new gt(p-ce,v-ce)]}containsBlackPoint(a,c,f,d){const p=this.image;if(d){for(let v=a;v<=c;v++)if(p.get(v,f))return!0}else for(let v=a;v<=c;v++)if(p.get(f,v))return!0;return!1}}Un.INIT_SIZE=10,Un.CORR=1;class Yi{static checkAndNudgePoints(a,c){const f=a.getWidth(),d=a.getHeight();let p=!0;for(let v=0;v<c.length&&p;v+=2){const E=Math.floor(c[v]),S=Math.floor(c[v+1]);if(E<-1||E>f||S<-1||S>d)throw new Ee;p=!1,E===-1?(c[v]=0,p=!0):E===f&&(c[v]=f-1,p=!0),S===-1?(c[v+1]=0,p=!0):S===d&&(c[v+1]=d-1,p=!0)}p=!0;for(let v=c.length-2;v>=0&&p;v-=2){const E=Math.floor(c[v]),S=Math.floor(c[v+1]);if(E<-1||E>f||S<-1||S>d)throw new Ee;p=!1,E===-1?(c[v]=0,p=!0):E===f&&(c[v]=f-1,p=!0),S===-1?(c[v+1]=0,p=!0):S===d&&(c[v+1]=d-1,p=!0)}}}class Zt{constructor(a,c,f,d,p,v,E,S,N){this.a11=a,this.a21=c,this.a31=f,this.a12=d,this.a22=p,this.a32=v,this.a13=E,this.a23=S,this.a33=N}static quadrilateralToQuadrilateral(a,c,f,d,p,v,E,S,N,P,G,K,ce,xe,ye,Re){const Le=Zt.quadrilateralToSquare(a,c,f,d,p,v,E,S);return Zt.squareToQuadrilateral(N,P,G,K,ce,xe,ye,Re).times(Le)}transformPoints(a){const c=a.length,f=this.a11,d=this.a12,p=this.a13,v=this.a21,E=this.a22,S=this.a23,N=this.a31,P=this.a32,G=this.a33;for(let K=0;K<c;K+=2){const ce=a[K],xe=a[K+1],ye=p*ce+S*xe+G;a[K]=(f*ce+v*xe+N)/ye,a[K+1]=(d*ce+E*xe+P)/ye}}transformPointsWithValues(a,c){const f=this.a11,d=this.a12,p=this.a13,v=this.a21,E=this.a22,S=this.a23,N=this.a31,P=this.a32,G=this.a33,K=a.length;for(let ce=0;ce<K;ce++){const xe=a[ce],ye=c[ce],Re=p*xe+S*ye+G;a[ce]=(f*xe+v*ye+N)/Re,c[ce]=(d*xe+E*ye+P)/Re}}static squareToQuadrilateral(a,c,f,d,p,v,E,S){const N=a-f+p-E,P=c-d+v-S;if(N===0&&P===0)return new Zt(f-a,p-f,a,d-c,v-d,c,0,0,1);{const G=f-p,K=E-p,ce=d-v,xe=S-v,ye=G*xe-K*ce,Re=(N*xe-K*P)/ye,Le=(G*P-N*ce)/ye;return new Zt(f-a+Re*f,E-a+Le*E,a,d-c+Re*d,S-c+Le*S,c,Re,Le,1)}}static quadrilateralToSquare(a,c,f,d,p,v,E,S){return Zt.squareToQuadrilateral(a,c,f,d,p,v,E,S).buildAdjoint()}buildAdjoint(){return new Zt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(a){return new Zt(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}class nn extends Yi{sampleGrid(a,c,f,d,p,v,E,S,N,P,G,K,ce,xe,ye,Re,Le,nt,at){const tt=Zt.quadrilateralToQuadrilateral(d,p,v,E,S,N,P,G,K,ce,xe,ye,Re,Le,nt,at);return this.sampleGridWithTransform(a,c,f,tt)}sampleGridWithTransform(a,c,f,d){if(c<=0||f<=0)throw new Ee;const p=new pt(c,f),v=new Float32Array(2*c);for(let E=0;E<f;E++){const S=v.length,N=E+.5;for(let P=0;P<S;P+=2)v[P]=P/2+.5,v[P+1]=N;d.transformPoints(v),Yi.checkAndNudgePoints(a,v);try{for(let P=0;P<S;P+=2)a.get(Math.floor(v[P]),Math.floor(v[P+1]))&&p.set(P/2,E)}catch{throw new Ee}}return p}}class wn{static setGridSampler(a){wn.gridSampler=a}static getInstance(){return wn.gridSampler}}wn.gridSampler=new nn;class on{constructor(a,c){this.x=a,this.y=c}toResultPoint(){return new gt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ur{constructor(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}detect(){return this.detectMirror(!1)}detectMirror(a){let c=this.getMatrixCenter(),f=this.getBullsEyeCorners(c);if(a){let v=f[0];f[0]=f[2],f[2]=v}this.extractParameters(f);let d=this.sampleGrid(this.image,f[this.shift%4],f[(this.shift+1)%4],f[(this.shift+2)%4],f[(this.shift+3)%4]),p=this.getMatrixCornerPoints(f);return new ls(d,p,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(a){if(!this.isValidPoint(a[0])||!this.isValidPoint(a[1])||!this.isValidPoint(a[2])||!this.isValidPoint(a[3]))throw new Ee;let c=2*this.nbCenterLayers,f=new Int32Array([this.sampleLine(a[0],a[1],c),this.sampleLine(a[1],a[2],c),this.sampleLine(a[2],a[3],c),this.sampleLine(a[3],a[0],c)]);this.shift=this.getRotation(f,c);let d=0;for(let v=0;v<4;v++){let E=f[(this.shift+v)%4];this.compact?(d<<=7,d+=E>>1&127):(d<<=10,d+=(E>>2&992)+(E>>1&31))}let p=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(p>>6)+1,this.nbDataBlocks=(p&63)+1):(this.nbLayers=(p>>11)+1,this.nbDataBlocks=(p&2047)+1)}getRotation(a,c){let f=0;a.forEach((d,p,v)=>{let E=(d>>c-2<<1)+(d&1);f=(f<<3)+E}),f=((f&1)<<11)+(f>>1);for(let d=0;d<4;d++)if(W.bitCount(f^this.EXPECTED_CORNER_BITS[d])<=2)return d;throw new Ee}getCorrectedParameterData(a,c){let f,d;c?(f=7,d=2):(f=10,d=4);let p=f-d,v=new Int32Array(f);for(let S=f-1;S>=0;--S)v[S]=a&15,a>>=4;try{new vn(St.AZTEC_PARAM).decode(v,p)}catch{throw new Ee}let E=0;for(let S=0;S<d;S++)E=(E<<4)+v[S];return E}getBullsEyeCorners(a){let c=a,f=a,d=a,p=a,v=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let G=this.getFirstDifferent(c,v,1,-1),K=this.getFirstDifferent(f,v,1,1),ce=this.getFirstDifferent(d,v,-1,1),xe=this.getFirstDifferent(p,v,-1,-1);if(this.nbCenterLayers>2){let ye=this.distancePoint(xe,G)*this.nbCenterLayers/(this.distancePoint(p,c)*(this.nbCenterLayers+2));if(ye<.75||ye>1.25||!this.isWhiteOrBlackRectangle(G,K,ce,xe))break}c=G,f=K,d=ce,p=xe,v=!v}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Ee;this.compact=this.nbCenterLayers===5;let E=new gt(c.getX()+.5,c.getY()-.5),S=new gt(f.getX()+.5,f.getY()+.5),N=new gt(d.getX()-.5,d.getY()+.5),P=new gt(p.getX()-.5,p.getY()-.5);return this.expandSquare([E,S,N,P],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let a,c,f,d;try{let E=new Un(this.image).detect();a=E[0],c=E[1],f=E[2],d=E[3]}catch{let S=this.image.getWidth()/2,N=this.image.getHeight()/2;a=this.getFirstDifferent(new on(S+7,N-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new on(S+7,N+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new on(S-7,N+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new on(S-7,N-7),!1,-1,-1).toResultPoint()}let p=Tt.round((a.getX()+d.getX()+c.getX()+f.getX())/4),v=Tt.round((a.getY()+d.getY()+c.getY()+f.getY())/4);try{let E=new Un(this.image,15,p,v).detect();a=E[0],c=E[1],f=E[2],d=E[3]}catch{a=this.getFirstDifferent(new on(p+7,v-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new on(p+7,v+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new on(p-7,v+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new on(p-7,v-7),!1,-1,-1).toResultPoint()}return p=Tt.round((a.getX()+d.getX()+c.getX()+f.getX())/4),v=Tt.round((a.getY()+d.getY()+c.getY()+f.getY())/4),new on(p,v)}getMatrixCornerPoints(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())}sampleGrid(a,c,f,d,p){let v=wn.getInstance(),E=this.getDimension(),S=E/2-this.nbCenterLayers,N=E/2+this.nbCenterLayers;return v.sampleGrid(a,E,E,S,S,N,S,N,N,S,N,c.getX(),c.getY(),f.getX(),f.getY(),d.getX(),d.getY(),p.getX(),p.getY())}sampleLine(a,c,f){let d=0,p=this.distanceResultPoint(a,c),v=p/f,E=a.getX(),S=a.getY(),N=v*(c.getX()-a.getX())/p,P=v*(c.getY()-a.getY())/p;for(let G=0;G<f;G++)this.image.get(Tt.round(E+G*N),Tt.round(S+G*P))&&(d|=1<<f-G-1);return d}isWhiteOrBlackRectangle(a,c,f,d){let p=3;a=new on(a.getX()-p,a.getY()+p),c=new on(c.getX()-p,c.getY()-p),f=new on(f.getX()+p,f.getY()-p),d=new on(d.getX()+p,d.getY()+p);let v=this.getColor(d,a);if(v===0)return!1;let E=this.getColor(a,c);return E!==v||(E=this.getColor(c,f),E!==v)?!1:(E=this.getColor(f,d),E===v)}getColor(a,c){let f=this.distancePoint(a,c),d=(c.getX()-a.getX())/f,p=(c.getY()-a.getY())/f,v=0,E=a.getX(),S=a.getY(),N=this.image.get(a.getX(),a.getY()),P=Math.ceil(f);for(let K=0;K<P;K++)E+=d,S+=p,this.image.get(Tt.round(E),Tt.round(S))!==N&&v++;let G=v/f;return G>.1&&G<.9?0:G<=.1===N?1:-1}getFirstDifferent(a,c,f,d){let p=a.getX()+f,v=a.getY()+d;for(;this.isValid(p,v)&&this.image.get(p,v)===c;)p+=f,v+=d;for(p-=f,v-=d;this.isValid(p,v)&&this.image.get(p,v)===c;)p+=f;for(p-=f;this.isValid(p,v)&&this.image.get(p,v)===c;)v+=d;return v-=d,new on(p,v)}expandSquare(a,c,f){let d=f/(2*c),p=a[0].getX()-a[2].getX(),v=a[0].getY()-a[2].getY(),E=(a[0].getX()+a[2].getX())/2,S=(a[0].getY()+a[2].getY())/2,N=new gt(E+d*p,S+d*v),P=new gt(E-d*p,S-d*v);p=a[1].getX()-a[3].getX(),v=a[1].getY()-a[3].getY(),E=(a[1].getX()+a[3].getX())/2,S=(a[1].getY()+a[3].getY())/2;let G=new gt(E+d*p,S+d*v),K=new gt(E-d*p,S-d*v);return[N,G,P,K]}isValid(a,c){return a>=0&&a<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(a){let c=Tt.round(a.getX()),f=Tt.round(a.getY());return this.isValid(c,f)}distancePoint(a,c){return Tt.distance(a.getX(),a.getY(),c.getX(),c.getY())}distanceResultPoint(a,c){return Tt.distance(a.getX(),a.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(W.truncDivision(this.nbLayers-4,8)+1)+15}}class Tn{decode(a,c=null){let f=null,d=new ur(a.getBlackMatrix()),p=null,v=null;try{let P=d.detectMirror(!1);p=P.getPoints(),this.reportFoundResultPoints(c,p),v=new jt().decode(P)}catch(P){f=P}if(v==null)try{let P=d.detectMirror(!0);p=P.getPoints(),this.reportFoundResultPoints(c,p),v=new jt().decode(P)}catch(P){throw f??P}let E=new he(v.getText(),v.getRawBytes(),v.getNumBits(),p,_e.AZTEC,I.currentTimeMillis()),S=v.getByteSegments();S!=null&&E.putMetadata(Ze.BYTE_SEGMENTS,S);let N=v.getECLevel();return N!=null&&E.putMetadata(Ze.ERROR_CORRECTION_LEVEL,N),E}reportFoundResultPoints(a,c){if(a!=null){let f=a.get(ve.NEED_RESULT_POINT_CALLBACK);f!=null&&c.forEach((d,p,v)=>{f.foundPossibleResultPoint(d)})}}reset(){}}class Zr extends fe{constructor(a=500){super(new Tn,a)}}class $t{decode(a,c){try{return this.doDecode(a,c)}catch{if(c&&c.get(ve.TRY_HARDER)===!0&&a.isRotateSupported()){const p=a.rotateCounterClockwise(),v=this.doDecode(p,c),E=v.getResultMetadata();let S=270;E!==null&&E.get(Ze.ORIENTATION)===!0&&(S=S+E.get(Ze.ORIENTATION)%360),v.putMetadata(Ze.ORIENTATION,S);const N=v.getResultPoints();if(N!==null){const P=p.getHeight();for(let G=0;G<N.length;G++)N[G]=new gt(P-N[G].getY()-1,N[G].getX())}return v}else throw new Ee}}reset(){}doDecode(a,c){const f=a.getWidth(),d=a.getHeight();let p=new te(f);const v=c&&c.get(ve.TRY_HARDER)===!0,E=Math.max(1,d>>(v?8:5));let S;v?S=d:S=15;const N=Math.trunc(d/2);for(let P=0;P<S;P++){const G=Math.trunc((P+1)/2),K=(P&1)===0,ce=N+E*(K?G:-G);if(ce<0||ce>=d)break;try{p=a.getBlackRow(ce,p)}catch{continue}for(let xe=0;xe<2;xe++){if(xe===1&&(p.reverse(),c&&c.get(ve.NEED_RESULT_POINT_CALLBACK)===!0)){const ye=new Map;c.forEach((Re,Le)=>ye.set(Le,Re)),ye.delete(ve.NEED_RESULT_POINT_CALLBACK),c=ye}try{const ye=this.decodeRow(ce,p,c);if(xe===1){ye.putMetadata(Ze.ORIENTATION,180);const Re=ye.getResultPoints();Re!==null&&(Re[0]=new gt(f-Re[0].getX()-1,Re[0].getY()),Re[1]=new gt(f-Re[1].getX()-1,Re[1].getY()))}return ye}catch{}}}throw new Ee}static recordPattern(a,c,f){const d=f.length;for(let N=0;N<d;N++)f[N]=0;const p=a.getSize();if(c>=p)throw new Ee;let v=!a.get(c),E=0,S=c;for(;S<p;){if(a.get(S)!==v)f[E]++;else{if(++E===d)break;f[E]=1,v=!v}S++}if(!(E===d||E===d-1&&S===p))throw new Ee}static recordPatternInReverse(a,c,f){let d=f.length,p=a.get(c);for(;c>0&&d>=0;)a.get(--c)!==p&&(d--,p=!p);if(d>=0)throw new Ee;$t.recordPattern(a,c+1,f)}static patternMatchVariance(a,c,f){const d=a.length;let p=0,v=0;for(let N=0;N<d;N++)p+=a[N],v+=c[N];if(p<v)return Number.POSITIVE_INFINITY;const E=p/v;f*=E;let S=0;for(let N=0;N<d;N++){const P=a[N],G=c[N]*E,K=P>G?P-G:G-P;if(K>f)return Number.POSITIVE_INFINITY;S+=K}return S/p}}class et extends $t{static findStartPattern(a){const c=a.getSize(),f=a.getNextSet(0);let d=0,p=Int32Array.from([0,0,0,0,0,0]),v=f,E=!1;const S=6;for(let N=f;N<c;N++)if(a.get(N)!==E)p[d]++;else{if(d===S-1){let P=et.MAX_AVG_VARIANCE,G=-1;for(let K=et.CODE_START_A;K<=et.CODE_START_C;K++){const ce=$t.patternMatchVariance(p,et.CODE_PATTERNS[K],et.MAX_INDIVIDUAL_VARIANCE);ce<P&&(P=ce,G=K)}if(G>=0&&a.isRange(Math.max(0,v-(N-v)/2),v,!1))return Int32Array.from([v,N,G]);v+=p[0]+p[1],p=p.slice(2,p.length-1),p[d-1]=0,p[d]=0,d--}else d++;p[d]=1,E=!E}throw new Ee}static decodeCode(a,c,f){$t.recordPattern(a,f,c);let d=et.MAX_AVG_VARIANCE,p=-1;for(let v=0;v<et.CODE_PATTERNS.length;v++){const E=et.CODE_PATTERNS[v],S=this.patternMatchVariance(c,E,et.MAX_INDIVIDUAL_VARIANCE);S<d&&(d=S,p=v)}if(p>=0)return p;throw new Ee}decodeRow(a,c,f){const d=f&&f.get(ve.ASSUME_GS1)===!0,p=et.findStartPattern(c),v=p[2];let E=0;const S=new Uint8Array(20);S[E++]=v;let N;switch(v){case et.CODE_START_A:N=et.CODE_CODE_A;break;case et.CODE_START_B:N=et.CODE_CODE_B;break;case et.CODE_START_C:N=et.CODE_CODE_C;break;default:throw new B}let P=!1,G=!1,K="",ce=p[0],xe=p[1];const ye=Int32Array.from([0,0,0,0,0,0]);let Re=0,Le=0,nt=v,at=0,tt=!0,Xt=!1,qt=!1;for(;!P;){const ao=G;switch(G=!1,Re=Le,Le=et.decodeCode(c,ye,xe),S[E++]=Le,Le!==et.CODE_STOP&&(tt=!0),Le!==et.CODE_STOP&&(at++,nt+=at*Le),ce=xe,xe+=ye.reduce((zs,fd)=>zs+fd,0),Le){case et.CODE_START_A:case et.CODE_START_B:case et.CODE_START_C:throw new B}switch(N){case et.CODE_CODE_A:if(Le<64)qt===Xt?K+=String.fromCharCode(32+Le):K+=String.fromCharCode(32+Le+128),qt=!1;else if(Le<96)qt===Xt?K+=String.fromCharCode(Le-64):K+=String.fromCharCode(Le+64),qt=!1;else switch(Le!==et.CODE_STOP&&(tt=!1),Le){case et.CODE_FNC_1:d&&(K.length===0?K+="]C1":K+="");break;case et.CODE_FNC_2:case et.CODE_FNC_3:break;case et.CODE_FNC_4_A:!Xt&&qt?(Xt=!0,qt=!1):Xt&&qt?(Xt=!1,qt=!1):qt=!0;break;case et.CODE_SHIFT:G=!0,N=et.CODE_CODE_B;break;case et.CODE_CODE_B:N=et.CODE_CODE_B;break;case et.CODE_CODE_C:N=et.CODE_CODE_C;break;case et.CODE_STOP:P=!0;break}break;case et.CODE_CODE_B:if(Le<96)qt===Xt?K+=String.fromCharCode(32+Le):K+=String.fromCharCode(32+Le+128),qt=!1;else switch(Le!==et.CODE_STOP&&(tt=!1),Le){case et.CODE_FNC_1:d&&(K.length===0?K+="]C1":K+="");break;case et.CODE_FNC_2:case et.CODE_FNC_3:break;case et.CODE_FNC_4_B:!Xt&&qt?(Xt=!0,qt=!1):Xt&&qt?(Xt=!1,qt=!1):qt=!0;break;case et.CODE_SHIFT:G=!0,N=et.CODE_CODE_A;break;case et.CODE_CODE_A:N=et.CODE_CODE_A;break;case et.CODE_CODE_C:N=et.CODE_CODE_C;break;case et.CODE_STOP:P=!0;break}break;case et.CODE_CODE_C:if(Le<100)Le<10&&(K+="0"),K+=Le;else switch(Le!==et.CODE_STOP&&(tt=!1),Le){case et.CODE_FNC_1:d&&(K.length===0?K+="]C1":K+="");break;case et.CODE_CODE_A:N=et.CODE_CODE_A;break;case et.CODE_CODE_B:N=et.CODE_CODE_B;break;case et.CODE_STOP:P=!0;break}break}ao&&(N=N===et.CODE_CODE_A?et.CODE_CODE_B:et.CODE_CODE_A)}const Mi=xe-ce;if(xe=c.getNextUnset(xe),!c.isRange(xe,Math.min(c.getSize(),xe+(xe-ce)/2),!1))throw new Ee;if(nt-=at*Re,nt%103!==Re)throw new R;const Ts=K.length;if(Ts===0)throw new Ee;Ts>0&&tt&&(N===et.CODE_CODE_C?K=K.substring(0,Ts-2):K=K.substring(0,Ts-1));const $i=(p[1]+p[0])/2,Vn=ce+Mi/2,mi=S.length,Zi=new Uint8Array(mi);for(let ao=0;ao<mi;ao++)Zi[ao]=S[ao];const Fo=[new gt($i,a),new gt(Vn,a)];return new he(K,Zi,0,Fo,_e.CODE_128,new Date().getTime())}}et.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],et.MAX_AVG_VARIANCE=.25,et.MAX_INDIVIDUAL_VARIANCE=.7,et.CODE_SHIFT=98,et.CODE_CODE_C=99,et.CODE_CODE_B=100,et.CODE_CODE_A=101,et.CODE_FNC_1=102,et.CODE_FNC_2=97,et.CODE_FNC_3=96,et.CODE_FNC_4_A=101,et.CODE_FNC_4_B=100,et.CODE_START_A=103,et.CODE_START_B=104,et.CODE_START_C=105,et.CODE_STOP=106;class fn extends $t{constructor(a=!1,c=!1){super(),this.usingCheckDigit=a,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,c,f){let d=this.counters;d.fill(0),this.decodeRowResult="";let p=fn.findAsteriskPattern(c,d),v=c.getNextSet(p[1]),E=c.getSize(),S,N;do{fn.recordPattern(c,v,d);let ye=fn.toNarrowWidePattern(d);if(ye<0)throw new Ee;S=fn.patternToChar(ye),this.decodeRowResult+=S,N=v;for(let Re of d)v+=Re;v=c.getNextSet(v)}while(S!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let P=0;for(let ye of d)P+=ye;let G=v-N-P;if(v!==E&&G*2<P)throw new Ee;if(this.usingCheckDigit){let ye=this.decodeRowResult.length-1,Re=0;for(let Le=0;Le<ye;Le++)Re+=fn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Le));if(this.decodeRowResult.charAt(ye)!==fn.ALPHABET_STRING.charAt(Re%43))throw new R;this.decodeRowResult=this.decodeRowResult.substring(0,ye)}if(this.decodeRowResult.length===0)throw new Ee;let K;this.extendedMode?K=fn.decodeExtended(this.decodeRowResult):K=this.decodeRowResult;let ce=(p[1]+p[0])/2,xe=N+P/2;return new he(K,null,0,[new gt(ce,a),new gt(xe,a)],_e.CODE_39,new Date().getTime())}static findAsteriskPattern(a,c){let f=a.getSize(),d=a.getNextSet(0),p=0,v=d,E=!1,S=c.length;for(let N=d;N<f;N++)if(a.get(N)!==E)c[p]++;else{if(p===S-1){if(this.toNarrowWidePattern(c)===fn.ASTERISK_ENCODING&&a.isRange(Math.max(0,v-Math.floor((N-v)/2)),v,!1))return[v,N];v+=c[0]+c[1],c.copyWithin(0,2,2+p-1),c[p-1]=0,c[p]=0,p--}else p++;c[p]=1,E=!E}throw new Ee}static toNarrowWidePattern(a){let c=a.length,f=0,d;do{let p=2147483647;for(let S of a)S<p&&S>f&&(p=S);f=p,d=0;let v=0,E=0;for(let S=0;S<c;S++){let N=a[S];N>f&&(E|=1<<c-1-S,d++,v+=N)}if(d===3){for(let S=0;S<c&&d>0;S++){let N=a[S];if(N>f&&(d--,N*2>=v))return-1}return E}}while(d>3);return-1}static patternToChar(a){for(let c=0;c<fn.CHARACTER_ENCODINGS.length;c++)if(fn.CHARACTER_ENCODINGS[c]===a)return fn.ALPHABET_STRING.charAt(c);if(a===fn.ASTERISK_ENCODING)return"*";throw new Ee}static decodeExtended(a){let c=a.length,f="";for(let d=0;d<c;d++){let p=a.charAt(d);if(p==="+"||p==="$"||p==="%"||p==="/"){let v=a.charAt(d+1),E="\0";switch(p){case"+":if(v>="A"&&v<="Z")E=String.fromCharCode(v.charCodeAt(0)+32);else throw new B;break;case"$":if(v>="A"&&v<="Z")E=String.fromCharCode(v.charCodeAt(0)-64);else throw new B;break;case"%":if(v>="A"&&v<="E")E=String.fromCharCode(v.charCodeAt(0)-38);else if(v>="F"&&v<="J")E=String.fromCharCode(v.charCodeAt(0)-11);else if(v>="K"&&v<="O")E=String.fromCharCode(v.charCodeAt(0)+16);else if(v>="P"&&v<="T")E=String.fromCharCode(v.charCodeAt(0)+43);else if(v==="U")E="\0";else if(v==="V")E="@";else if(v==="W")E="`";else if(v==="X"||v==="Y"||v==="Z")E="";else throw new B;break;case"/":if(v>="A"&&v<="O")E=String.fromCharCode(v.charCodeAt(0)-32);else if(v==="Z")E=":";else throw new B;break}f+=E,d++}else f+=p}return f}}fn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",fn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],fn.ASTERISK_ENCODING=148;class hn extends $t{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(a,c,f){let d=this.decodeStart(c),p=this.decodeEnd(c),v=new Z;hn.decodeMiddle(c,d[1],p[0],v);let E=v.toString(),S=null;f!=null&&(S=f.get(ve.ALLOWED_LENGTHS)),S==null&&(S=hn.DEFAULT_ALLOWED_LENGTHS);let N=E.length,P=!1,G=0;for(let xe of S){if(N===xe){P=!0;break}xe>G&&(G=xe)}if(!P&&N>G&&(P=!0),!P)throw new B;const K=[new gt(d[1],a),new gt(p[0],a)];return new he(E,null,0,K,_e.ITF,new Date().getTime())}static decodeMiddle(a,c,f,d){let p=new Int32Array(10),v=new Int32Array(5),E=new Int32Array(5);for(p.fill(0),v.fill(0),E.fill(0);c<f;){$t.recordPattern(a,c,p);for(let N=0;N<5;N++){let P=2*N;v[N]=p[P],E[N]=p[P+1]}let S=hn.decodeDigit(v);d.append(S.toString()),S=this.decodeDigit(E),d.append(S.toString()),p.forEach(function(N){c+=N})}}decodeStart(a){let c=hn.skipWhiteSpace(a),f=hn.findGuardPattern(a,c,hn.START_PATTERN);return this.narrowLineWidth=(f[1]-f[0])/4,this.validateQuietZone(a,f[0]),f}validateQuietZone(a,c){let f=this.narrowLineWidth*10;f=f<c?f:c;for(let d=c-1;f>0&&d>=0&&!a.get(d);d--)f--;if(f!==0)throw new Ee}static skipWhiteSpace(a){const c=a.getSize(),f=a.getNextSet(0);if(f===c)throw new Ee;return f}decodeEnd(a){a.reverse();try{let c=hn.skipWhiteSpace(a),f;try{f=hn.findGuardPattern(a,c,hn.END_PATTERN_REVERSED[0])}catch(p){p instanceof Ee&&(f=hn.findGuardPattern(a,c,hn.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,f[0]);let d=f[0];return f[0]=a.getSize()-f[1],f[1]=a.getSize()-d,f}finally{a.reverse()}}static findGuardPattern(a,c,f){let d=f.length,p=new Int32Array(d),v=a.getSize(),E=!1,S=0,N=c;p.fill(0);for(let P=c;P<v;P++)if(a.get(P)!==E)p[S]++;else{if(S===d-1){if($t.patternMatchVariance(p,f,hn.MAX_INDIVIDUAL_VARIANCE)<hn.MAX_AVG_VARIANCE)return[N,P];N+=p[0]+p[1],I.arraycopy(p,2,p,0,S-1),p[S-1]=0,p[S]=0,S--}else S++;p[S]=1,E=!E}throw new Ee}static decodeDigit(a){let c=hn.MAX_AVG_VARIANCE,f=-1,d=hn.PATTERNS.length;for(let p=0;p<d;p++){let v=hn.PATTERNS[p],E=$t.patternMatchVariance(a,v,hn.MAX_INDIVIDUAL_VARIANCE);E<c?(c=E,f=p):E===c&&(f=-1)}if(f>=0)return f%10;throw new Ee}}hn.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],hn.MAX_AVG_VARIANCE=.38,hn.MAX_INDIVIDUAL_VARIANCE=.5,hn.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],hn.START_PATTERN=Int32Array.from([1,1,1,1]),hn.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Sn extends $t{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(a){let c=!1,f,d=0,p=Int32Array.from([0,0,0]);for(;!c;){p=Int32Array.from([0,0,0]),f=Sn.findGuardPattern(a,d,!1,this.START_END_PATTERN,p);let v=f[0];d=f[1];let E=v-(d-v);E>=0&&(c=a.isRange(E,v,!1))}return f}static checkChecksum(a){return Sn.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let c=a.length;if(c===0)return!1;let f=parseInt(a.charAt(c-1),10);return Sn.getStandardUPCEANChecksum(a.substring(0,c-1))===f}static getStandardUPCEANChecksum(a){let c=a.length,f=0;for(let d=c-1;d>=0;d-=2){let p=a.charAt(d).charCodeAt(0)-48;if(p<0||p>9)throw new B;f+=p}f*=3;for(let d=c-2;d>=0;d-=2){let p=a.charAt(d).charCodeAt(0)-48;if(p<0||p>9)throw new B;f+=p}return(1e3-f)%10}static decodeEnd(a,c){return Sn.findGuardPattern(a,c,!1,Sn.START_END_PATTERN,new Int32Array(Sn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(a,c,f,d){return this.findGuardPattern(a,c,f,d,new Int32Array(d.length))}static findGuardPattern(a,c,f,d,p){let v=a.getSize();c=f?a.getNextUnset(c):a.getNextSet(c);let E=0,S=c,N=d.length,P=f;for(let G=c;G<v;G++)if(a.get(G)!==P)p[E]++;else{if(E===N-1){if($t.patternMatchVariance(p,d,Sn.MAX_INDIVIDUAL_VARIANCE)<Sn.MAX_AVG_VARIANCE)return Int32Array.from([S,G]);S+=p[0]+p[1];let K=p.slice(2,p.length-1);for(let ce=0;ce<E-1;ce++)p[ce]=K[ce];p[E-1]=0,p[E]=0,E--}else E++;p[E]=1,P=!P}throw new Ee}static decodeDigit(a,c,f,d){this.recordPattern(a,f,c);let p=this.MAX_AVG_VARIANCE,v=-1,E=d.length;for(let S=0;S<E;S++){let N=d[S],P=$t.patternMatchVariance(c,N,Sn.MAX_INDIVIDUAL_VARIANCE);P<p&&(p=P,v=S)}if(v>=0)return v;throw new Ee}}Sn.MAX_AVG_VARIANCE=.48,Sn.MAX_INDIVIDUAL_VARIANCE=.7,Sn.START_END_PATTERN=Int32Array.from([1,1,1]),Sn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Sn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Sn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ps{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,c,f){let d=this.decodeRowStringBuffer,p=this.decodeMiddle(c,f,d),v=d.toString(),E=ps.parseExtensionString(v),S=[new gt((f[0]+f[1])/2,a),new gt(p,a)],N=new he(v,null,0,S,_e.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&N.putAllMetadata(E),N}decodeMiddle(a,c,f){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=a.getSize(),v=c[1],E=0;for(let N=0;N<5&&v<p;N++){let P=Sn.decodeDigit(a,d,v,Sn.L_AND_G_PATTERNS);f+=String.fromCharCode(48+P%10);for(let G of d)v+=G;P>=10&&(E|=1<<4-N),N!==4&&(v=a.getNextSet(v),v=a.getNextUnset(v))}if(f.length!==5)throw new Ee;let S=this.determineCheckDigit(E);if(ps.extensionChecksum(f.toString())!==S)throw new Ee;return v}static extensionChecksum(a){let c=a.length,f=0;for(let d=c-2;d>=0;d-=2)f+=a.charAt(d).charCodeAt(0)-48;f*=3;for(let d=c-1;d>=0;d-=2)f+=a.charAt(d).charCodeAt(0)-48;return f*=3,f%10}determineCheckDigit(a){for(let c=0;c<10;c++)if(a===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new Ee}static parseExtensionString(a){if(a.length!==5)return null;let c=ps.parseExtension5String(a);return c==null?null:new Map([[Ze.SUGGESTED_PRICE,c]])}static parseExtension5String(a){let c;switch(a.charAt(0)){case"0":c="";break;case"5":c="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let f=parseInt(a.substring(1)),d=(f/100).toString(),p=f%100,v=p<10?"0"+p:p.toString();return c+d+"."+v}}class ua{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,c,f){let d=this.decodeRowStringBuffer,p=this.decodeMiddle(c,f,d),v=d.toString(),E=ua.parseExtensionString(v),S=[new gt((f[0]+f[1])/2,a),new gt(p,a)],N=new he(v,null,0,S,_e.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&N.putAllMetadata(E),N}decodeMiddle(a,c,f){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=a.getSize(),v=c[1],E=0;for(let S=0;S<2&&v<p;S++){let N=Sn.decodeDigit(a,d,v,Sn.L_AND_G_PATTERNS);f+=String.fromCharCode(48+N%10);for(let P of d)v+=P;N>=10&&(E|=1<<1-S),S!==1&&(v=a.getNextSet(v),v=a.getNextUnset(v))}if(f.length!==2)throw new Ee;if(parseInt(f.toString())%4!==E)throw new Ee;return v}static parseExtensionString(a){return a.length!==2?null:new Map([[Ze.ISSUE_NUMBER,parseInt(a)]])}}class ka{static decodeRow(a,c,f){let d=Sn.findGuardPattern(c,f,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ps().decodeRow(a,c,d)}catch{return new ua().decodeRow(a,c,d)}}}ka.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Qt extends Sn{constructor(){super(),this.decodeRowStringBuffer="",Qt.L_AND_G_PATTERNS=Qt.L_PATTERNS.map(a=>Int32Array.from(a));for(let a=10;a<20;a++){let c=Qt.L_PATTERNS[a-10],f=new Int32Array(c.length);for(let d=0;d<c.length;d++)f[d]=c[c.length-d-1];Qt.L_AND_G_PATTERNS[a]=f}}decodeRow(a,c,f){let d=Qt.findStartGuardPattern(c),p=f==null?null:f.get(ve.NEED_RESULT_POINT_CALLBACK);if(p!=null){const tt=new gt((d[0]+d[1])/2,a);p.foundPossibleResultPoint(tt)}let v=this.decodeMiddle(c,d,this.decodeRowStringBuffer),E=v.rowOffset,S=v.resultString;if(p!=null){const tt=new gt(E,a);p.foundPossibleResultPoint(tt)}let N=this.decodeEnd(c,E);if(p!=null){const tt=new gt((N[0]+N[1])/2,a);p.foundPossibleResultPoint(tt)}let P=N[1],G=P+(P-N[0]);if(G>=c.getSize()||!c.isRange(P,G,!1))throw new Ee;let K=S.toString();if(K.length<8)throw new B;if(!Qt.checkChecksum(K))throw new R;let ce=(d[1]+d[0])/2,xe=(N[1]+N[0])/2,ye=this.getBarcodeFormat(),Re=[new gt(ce,a),new gt(xe,a)],Le=new he(K,null,0,Re,ye,new Date().getTime()),nt=0;try{let tt=ka.decodeRow(a,c,N[1]);Le.putMetadata(Ze.UPC_EAN_EXTENSION,tt.getText()),Le.putAllMetadata(tt.getResultMetadata()),Le.addResultPoints(tt.getResultPoints()),nt=tt.getText().length}catch{}let at=f==null?null:f.get(ve.ALLOWED_EAN_EXTENSIONS);if(at!=null){let tt=!1;for(let Xt in at)if(nt.toString()===Xt){tt=!0;break}if(!tt)throw new Ee}return Le}decodeEnd(a,c){return Qt.findGuardPattern(a,c,!1,Qt.START_END_PATTERN,new Int32Array(Qt.START_END_PATTERN.length).fill(0))}static checkChecksum(a){return Qt.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let c=a.length;if(c===0)return!1;let f=parseInt(a.charAt(c-1),10);return Qt.getStandardUPCEANChecksum(a.substring(0,c-1))===f}static getStandardUPCEANChecksum(a){let c=a.length,f=0;for(let d=c-1;d>=0;d-=2){let p=a.charAt(d).charCodeAt(0)-48;if(p<0||p>9)throw new B;f+=p}f*=3;for(let d=c-2;d>=0;d-=2){let p=a.charAt(d).charCodeAt(0)-48;if(p<0||p>9)throw new B;f+=p}return(1e3-f)%10}}class ui extends Qt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,c,f){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=a.getSize(),v=c[1],E=0;for(let N=0;N<6&&v<p;N++){let P=Qt.decodeDigit(a,d,v,Qt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+P%10);for(let G of d)v+=G;P>=10&&(E|=1<<5-N)}f=ui.determineFirstDigit(f,E),v=Qt.findGuardPattern(a,v,!0,Qt.MIDDLE_PATTERN,new Int32Array(Qt.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<6&&v<p;N++){let P=Qt.decodeDigit(a,d,v,Qt.L_PATTERNS);f+=String.fromCharCode(48+P);for(let G of d)v+=G}return{rowOffset:v,resultString:f}}getBarcodeFormat(){return _e.EAN_13}static determineFirstDigit(a,c){for(let f=0;f<10;f++)if(c===this.FIRST_DIGIT_ENCODINGS[f])return a=String.fromCharCode(48+f)+a,a;throw new Ee}}ui.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ks extends Qt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,c,f){const d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=a.getSize(),v=c[1];for(let S=0;S<4&&v<p;S++){let N=Qt.decodeDigit(a,d,v,Qt.L_PATTERNS);f+=String.fromCharCode(48+N);for(let P of d)v+=P}v=Qt.findGuardPattern(a,v,!0,Qt.MIDDLE_PATTERN,new Int32Array(Qt.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<4&&v<p;S++){let N=Qt.decodeDigit(a,d,v,Qt.L_PATTERNS);f+=String.fromCharCode(48+N);for(let P of d)v+=P}return{rowOffset:v,resultString:f}}getBarcodeFormat(){return _e.EAN_8}}class cs extends Qt{constructor(){super(...arguments),this.ean13Reader=new ui}getBarcodeFormat(){return _e.UPC_A}decode(a,c){return this.maybeReturnResult(this.ean13Reader.decode(a))}decodeRow(a,c,f){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,c,f))}decodeMiddle(a,c,f){return this.ean13Reader.decodeMiddle(a,c,f)}maybeReturnResult(a){let c=a.getText();if(c.charAt(0)==="0"){let f=new he(c.substring(1),null,null,a.getResultPoints(),_e.UPC_A);return a.getResultMetadata()!=null&&f.putAllMetadata(a.getResultMetadata()),f}else throw new Ee}reset(){this.ean13Reader.reset()}}class fi extends Qt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(a,c,f){const d=this.decodeMiddleCounters.map(N=>N);d[0]=0,d[1]=0,d[2]=0,d[3]=0;const p=a.getSize();let v=c[1],E=0;for(let N=0;N<6&&v<p;N++){const P=fi.decodeDigit(a,d,v,fi.L_AND_G_PATTERNS);f+=String.fromCharCode(48+P%10);for(let G of d)v+=G;P>=10&&(E|=1<<5-N)}let S=fi.determineNumSysAndCheckDigit(f,E);return{rowOffset:v,resultString:S}}decodeEnd(a,c){return fi.findGuardPatternWithoutCounters(a,c,!0,fi.MIDDLE_END_PATTERN)}checkChecksum(a){return Qt.checkChecksum(fi.convertUPCEtoUPCA(a))}static determineNumSysAndCheckDigit(a,c){for(let f=0;f<=1;f++)for(let d=0;d<10;d++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[f][d]){let p=String.fromCharCode(48+f),v=String.fromCharCode(48+d);return p+a+v}throw Ee.getNotFoundInstance()}getBarcodeFormat(){return _e.UPC_E}static convertUPCEtoUPCA(a){const c=a.slice(1,7).split("").map(p=>p.charCodeAt(0)),f=new Z;f.append(a.charAt(0));let d=c[5];switch(d){case 0:case 1:case 2:f.appendChars(c,0,2),f.append(d),f.append("0000"),f.appendChars(c,2,3);break;case 3:f.appendChars(c,0,3),f.append("00000"),f.appendChars(c,3,2);break;case 4:f.appendChars(c,0,4),f.append("00000"),f.append(c[4]);break;default:f.appendChars(c,0,5),f.append("0000"),f.append(d);break}return a.length>=8&&f.append(a.charAt(7)),f.toString()}}fi.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),fi.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class xs extends $t{constructor(a){super();let c=a==null?null:a.get(ve.POSSIBLE_FORMATS),f=[];r(c)?(f.push(new ui),f.push(new cs),f.push(new ks),f.push(new fi)):(c.indexOf(_e.EAN_13)>-1&&f.push(new ui),c.indexOf(_e.UPC_A)>-1&&f.push(new cs),c.indexOf(_e.EAN_8)>-1&&f.push(new ks),c.indexOf(_e.UPC_E)>-1&&f.push(new fi)),this.readers=f}decodeRow(a,c,f){for(let d of this.readers)try{const p=d.decodeRow(a,c,f),v=p.getBarcodeFormat()===_e.EAN_13&&p.getText().charAt(0)==="0",E=f==null?null:f.get(ve.POSSIBLE_FORMATS),S=E==null||E.includes(_e.UPC_A);if(v&&S){const N=p.getRawBytes(),P=new he(p.getText().substring(1),N,N?N.length:null,p.getResultPoints(),_e.UPC_A);return P.putAllMetadata(p.getResultMetadata()),P}return p}catch{}throw new Ee}reset(){for(let a of this.readers)a.reset()}}class fr extends $t{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,c){for(let f=0;f<c.length;f++)if($t.patternMatchVariance(a,c[f],fr.MAX_INDIVIDUAL_VARIANCE)<fr.MAX_AVG_VARIANCE)return f;throw new Ee}static count(a){return Tt.sum(new Int32Array(a))}static increment(a,c){let f=0,d=c[0];for(let p=1;p<a.length;p++)c[p]>d&&(d=c[p],f=p);a[f]++}static decrement(a,c){let f=0,d=c[0];for(let p=1;p<a.length;p++)c[p]<d&&(d=c[p],f=p);a[f]--}static isFinderPattern(a){let c=a[0]+a[1],f=c+a[2]+a[3],d=c/f;if(d>=fr.MIN_FINDER_PATTERN_RATIO&&d<=fr.MAX_FINDER_PATTERN_RATIO){let p=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER;for(let E of a)E>v&&(v=E),E<p&&(p=E);return v<10*p}return!1}}fr.MAX_AVG_VARIANCE=.2,fr.MAX_INDIVIDUAL_VARIANCE=.45,fr.MIN_FINDER_PATTERN_RATIO=9.5/12,fr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ni{constructor(a,c){this.value=a,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(a){if(!(a instanceof Ni))return!1;const c=a;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class La{constructor(a,c,f,d,p){this.value=a,this.startEnd=c,this.value=a,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new gt(f,p)),this.resultPoints.push(new gt(d,p))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(a){if(!(a instanceof La))return!1;const c=a;return this.value===c.value}hashCode(){return this.value}}class ln{constructor(){}static getRSSvalue(a,c,f){let d=0;for(let S of a)d+=S;let p=0,v=0,E=a.length;for(let S=0;S<E-1;S++){let N;for(N=1,v|=1<<S;N<a[S];N++,v&=~(1<<S)){let P=ln.combins(d-N-1,E-S-2);if(f&&v===0&&d-N-(E-S-1)>=E-S-1&&(P-=ln.combins(d-N-(E-S),E-S-2)),E-S-1>1){let G=0;for(let K=d-N-(E-S-2);K>c;K--)G+=ln.combins(d-N-K-1,E-S-3);P-=G*(E-1-S)}else d-N>c&&P--;p+=P}d-=N}return p}static combins(a,c){let f,d;a-c>c?(d=c,f=a-c):(d=a-c,f=c);let p=1,v=1;for(let E=a;E>f;E--)p*=E,v<=d&&(p/=v,v++);for(;v<=d;)p/=v,v++;return p}}class Rr{static buildBitArray(a){let c=a.length*2-1;a[a.length-1].getRightChar()==null&&(c-=1);let f=12*c,d=new te(f),p=0,E=a[0].getRightChar().getValue();for(let S=11;S>=0;--S)(E&1<<S)!=0&&d.set(p),p++;for(let S=1;S<a.length;++S){let N=a[S],P=N.getLeftChar().getValue();for(let G=11;G>=0;--G)(P&1<<G)!=0&&d.set(p),p++;if(N.getRightChar()!=null){let G=N.getRightChar().getValue();for(let K=11;K>=0;--K)(G&1<<K)!=0&&d.set(p),p++}}return d}}class Cn{constructor(a,c){c?this.decodedInformation=null:(this.finished=a,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class _i{constructor(a){this.newPosition=a}getNewPosition(){return this.newPosition}}class Dr extends _i{constructor(a,c){super(a),this.value=c}getValue(){return this.value}isFNC1(){return this.value===Dr.FNC1}}Dr.FNC1="$";class Ls extends _i{constructor(a,c,f){super(a),f?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class X extends _i{constructor(a,c,f){if(super(a),c<0||c>10||f<0||f>10)throw new B;this.firstDigit=c,this.secondDigit=f}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===X.FNC1}isSecondDigitFNC1(){return this.secondDigit===X.FNC1}isAnyFNC1(){return this.firstDigit===X.FNC1||this.secondDigit===X.FNC1}}X.FNC1=10;class ee{constructor(){}static parseFieldsInGeneralPurpose(a){if(!a)return null;if(a.length<2)throw new Ee;let c=a.substring(0,2);for(let p of ee.TWO_DIGIT_DATA_LENGTH)if(p[0]===c)return p[1]===ee.VARIABLE_LENGTH?ee.processVariableAI(2,p[2],a):ee.processFixedAI(2,p[1],a);if(a.length<3)throw new Ee;let f=a.substring(0,3);for(let p of ee.THREE_DIGIT_DATA_LENGTH)if(p[0]===f)return p[1]===ee.VARIABLE_LENGTH?ee.processVariableAI(3,p[2],a):ee.processFixedAI(3,p[1],a);for(let p of ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(p[0]===f)return p[1]===ee.VARIABLE_LENGTH?ee.processVariableAI(4,p[2],a):ee.processFixedAI(4,p[1],a);if(a.length<4)throw new Ee;let d=a.substring(0,4);for(let p of ee.FOUR_DIGIT_DATA_LENGTH)if(p[0]===d)return p[1]===ee.VARIABLE_LENGTH?ee.processVariableAI(4,p[2],a):ee.processFixedAI(4,p[1],a);throw new Ee}static processFixedAI(a,c,f){if(f.length<a)throw new Ee;let d=f.substring(0,a);if(f.length<a+c)throw new Ee;let p=f.substring(a,a+c),v=f.substring(a+c),E="("+d+")"+p,S=ee.parseFieldsInGeneralPurpose(v);return S==null?E:E+S}static processVariableAI(a,c,f){let d=f.substring(0,a),p;f.length<a+c?p=f.length:p=a+c;let v=f.substring(a,p),E=f.substring(p),S="("+d+")"+v,N=ee.parseFieldsInGeneralPurpose(E);return N==null?S:S+N}}ee.VARIABLE_LENGTH=[],ee.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ee.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ee.VARIABLE_LENGTH,20],["22",ee.VARIABLE_LENGTH,29],["30",ee.VARIABLE_LENGTH,8],["37",ee.VARIABLE_LENGTH,8],["90",ee.VARIABLE_LENGTH,30],["91",ee.VARIABLE_LENGTH,30],["92",ee.VARIABLE_LENGTH,30],["93",ee.VARIABLE_LENGTH,30],["94",ee.VARIABLE_LENGTH,30],["95",ee.VARIABLE_LENGTH,30],["96",ee.VARIABLE_LENGTH,30],["97",ee.VARIABLE_LENGTH,3],["98",ee.VARIABLE_LENGTH,30],["99",ee.VARIABLE_LENGTH,30]],ee.THREE_DIGIT_DATA_LENGTH=[["240",ee.VARIABLE_LENGTH,30],["241",ee.VARIABLE_LENGTH,30],["242",ee.VARIABLE_LENGTH,6],["250",ee.VARIABLE_LENGTH,30],["251",ee.VARIABLE_LENGTH,30],["253",ee.VARIABLE_LENGTH,17],["254",ee.VARIABLE_LENGTH,20],["400",ee.VARIABLE_LENGTH,30],["401",ee.VARIABLE_LENGTH,30],["402",17],["403",ee.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ee.VARIABLE_LENGTH,20],["421",ee.VARIABLE_LENGTH,15],["422",3],["423",ee.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ee.VARIABLE_LENGTH,15],["391",ee.VARIABLE_LENGTH,18],["392",ee.VARIABLE_LENGTH,15],["393",ee.VARIABLE_LENGTH,18],["703",ee.VARIABLE_LENGTH,30]],ee.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ee.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ee.VARIABLE_LENGTH,20],["8003",ee.VARIABLE_LENGTH,30],["8004",ee.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ee.VARIABLE_LENGTH,30],["8008",ee.VARIABLE_LENGTH,12],["8018",18],["8020",ee.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ee.VARIABLE_LENGTH,70],["8200",ee.VARIABLE_LENGTH,70]];class re{constructor(a){this.buffer=new Z,this.information=a}decodeAllCodes(a,c){let f=c,d=null;do{let p=this.decodeGeneralPurposeField(f,d),v=ee.parseFieldsInGeneralPurpose(p.getNewString());if(v!=null&&a.append(v),p.isRemaining()?d=""+p.getRemainingValue():d=null,f===p.getNewPosition())break;f=p.getNewPosition()}while(!0);return a.toString()}isStillNumeric(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(let c=a;c<a+3;++c)if(this.information.get(c))return!0;return this.information.get(a+3)}decodeNumeric(a){if(a+7>this.information.getSize()){let p=this.extractNumericValueFromBitArray(a,4);return p===0?new X(this.information.getSize(),X.FNC1,X.FNC1):new X(this.information.getSize(),p-1,X.FNC1)}let c=this.extractNumericValueFromBitArray(a,7),f=(c-8)/11,d=(c-8)%11;return new X(a+7,f,d)}extractNumericValueFromBitArray(a,c){return re.extractNumericValueFromBitArray(this.information,a,c)}static extractNumericValueFromBitArray(a,c,f){let d=0;for(let p=0;p<f;++p)a.get(c+p)&&(d|=1<<f-p-1);return d}decodeGeneralPurposeField(a,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(a);let f=this.parseBlocks();return f!=null&&f.isRemaining()?new Ls(this.current.getPosition(),this.buffer.toString(),f.getRemainingValue()):new Ls(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let a,c;do{let f=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),a=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),a=c.isFinished()):(c=this.parseNumericBlock(),a=c.isFinished()),!(f!==this.current.getPosition())&&!a)break}while(!a);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){let c;return a.isSecondDigitFNC1()?c=new Ls(this.current.getPosition(),this.buffer.toString()):c=new Ls(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()),new Cn(!0,c)}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){let c=new Ls(this.current.getPosition(),this.buffer.toString());return new Cn(!0,c)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Cn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let c=new Ls(this.current.getPosition(),this.buffer.toString());return new Cn(!0,c)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Cn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let c=new Ls(this.current.getPosition(),this.buffer.toString());return new Cn(!0,c)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Cn(!1)}isStillIsoIec646(a){if(a+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,5);if(c>=5&&c<16)return!0;if(a+7>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(a,7);if(f>=64&&f<116)return!0;if(a+8>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(a,8);return d>=232&&d<253}decodeIsoIec646(a){let c=this.extractNumericValueFromBitArray(a,5);if(c===15)return new Dr(a+5,Dr.FNC1);if(c>=5&&c<15)return new Dr(a+5,"0"+(c-5));let f=this.extractNumericValueFromBitArray(a,7);if(f>=64&&f<90)return new Dr(a+7,""+(f+1));if(f>=90&&f<116)return new Dr(a+7,""+(f+7));let d=this.extractNumericValueFromBitArray(a,8),p;switch(d){case 232:p="!";break;case 233:p='"';break;case 234:p="%";break;case 235:p="&";break;case 236:p="'";break;case 237:p="(";break;case 238:p=")";break;case 239:p="*";break;case 240:p="+";break;case 241:p=",";break;case 242:p="-";break;case 243:p=".";break;case 244:p="/";break;case 245:p=":";break;case 246:p=";";break;case 247:p="<";break;case 248:p="=";break;case 249:p=">";break;case 250:p="?";break;case 251:p="_";break;case 252:p=" ";break;default:throw new B}return new Dr(a+8,p)}isStillAlpha(a){if(a+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,5);if(c>=5&&c<16)return!0;if(a+6>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(a,6);return f>=16&&f<63}decodeAlphanumeric(a){let c=this.extractNumericValueFromBitArray(a,5);if(c===15)return new Dr(a+5,Dr.FNC1);if(c>=5&&c<15)return new Dr(a+5,"0"+(c-5));let f=this.extractNumericValueFromBitArray(a,6);if(f>=32&&f<58)return new Dr(a+6,""+(f+33));let d;switch(f){case 58:d="*";break;case 59:d=",";break;case 60:d="-";break;case 61:d=".";break;case 62:d="/";break;default:throw new Bn("Decoding invalid alphanumeric value: "+f)}return new Dr(a+6,d)}isAlphaTo646ToAlphaLatch(a){if(a+1>this.information.getSize())return!1;for(let c=0;c<5&&c+a<this.information.getSize();++c)if(c===2){if(!this.information.get(a+2))return!1}else if(this.information.get(a+c))return!1;return!0}isAlphaOr646ToNumericLatch(a){if(a+3>this.information.getSize())return!1;for(let c=a;c<a+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(a){if(a+1>this.information.getSize())return!1;for(let c=0;c<4&&c+a<this.information.getSize();++c)if(this.information.get(a+c))return!1;return!0}}class se{constructor(a){this.information=a,this.generalDecoder=new re(a)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class le extends se{constructor(a){super(a)}encodeCompressedGtin(a,c){a.append("(01)");let f=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,c,f)}encodeCompressedGtinWithoutAI(a,c,f){for(let d=0;d<4;++d){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*d,10);p/100===0&&a.append("0"),p/10===0&&a.append("0"),a.append(p)}le.appendCheckDigit(a,f)}static appendCheckDigit(a,c){let f=0;for(let d=0;d<13;d++){let p=a.charAt(d+c).charCodeAt(0)-48;f+=(d&1)===0?3*p:p}f=10-f%10,f===10&&(f=0),a.append(f)}}le.GTIN_SIZE=40;class ue extends le{constructor(a){super(a)}parseInformation(){let a=new Z;a.append("(01)");let c=a.length(),f=this.getGeneralDecoder().extractNumericValueFromBitArray(ue.HEADER_SIZE,4);return a.append(f),this.encodeCompressedGtinWithoutAI(a,ue.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(a,ue.HEADER_SIZE+44)}}ue.HEADER_SIZE=4;class Ie extends se{constructor(a){super(a)}parseInformation(){let a=new Z;return this.getGeneralDecoder().decodeAllCodes(a,Ie.HEADER_SIZE)}}Ie.HEADER_SIZE=5;class Ve extends le{constructor(a){super(a)}encodeCompressedWeight(a,c,f){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(c,f);this.addWeightCode(a,d);let p=this.checkWeight(d),v=1e5;for(let E=0;E<5;++E)p/v===0&&a.append("0"),v/=10;a.append(p)}}class Te extends Ve{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=Te.HEADER_SIZE+Ve.GTIN_SIZE+Te.WEIGHT_SIZE)throw new Ee;let a=new Z;return this.encodeCompressedGtin(a,Te.HEADER_SIZE),this.encodeCompressedWeight(a,Te.HEADER_SIZE+Ve.GTIN_SIZE,Te.WEIGHT_SIZE),a.toString()}}Te.HEADER_SIZE=5,Te.WEIGHT_SIZE=15;class De extends Te{constructor(a){super(a)}addWeightCode(a,c){a.append("(3103)")}checkWeight(a){return a}}class Me extends Te{constructor(a){super(a)}addWeightCode(a,c){c<1e4?a.append("(3202)"):a.append("(3203)")}checkWeight(a){return a<1e4?a:a-1e4}}class Xe extends le{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<Xe.HEADER_SIZE+le.GTIN_SIZE)throw new Ee;let a=new Z;this.encodeCompressedGtin(a,Xe.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Xe.HEADER_SIZE+le.GTIN_SIZE,Xe.LAST_DIGIT_SIZE);a.append("(392"),a.append(c),a.append(")");let f=this.getGeneralDecoder().decodeGeneralPurposeField(Xe.HEADER_SIZE+le.GTIN_SIZE+Xe.LAST_DIGIT_SIZE,null);return a.append(f.getNewString()),a.toString()}}Xe.HEADER_SIZE=8,Xe.LAST_DIGIT_SIZE=2;class Je extends le{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<Je.HEADER_SIZE+le.GTIN_SIZE)throw new Ee;let a=new Z;this.encodeCompressedGtin(a,Je.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Je.HEADER_SIZE+le.GTIN_SIZE,Je.LAST_DIGIT_SIZE);a.append("(393"),a.append(c),a.append(")");let f=this.getGeneralDecoder().extractNumericValueFromBitArray(Je.HEADER_SIZE+le.GTIN_SIZE+Je.LAST_DIGIT_SIZE,Je.FIRST_THREE_DIGITS_SIZE);f/100==0&&a.append("0"),f/10==0&&a.append("0"),a.append(f);let d=this.getGeneralDecoder().decodeGeneralPurposeField(Je.HEADER_SIZE+le.GTIN_SIZE+Je.LAST_DIGIT_SIZE+Je.FIRST_THREE_DIGITS_SIZE,null);return a.append(d.getNewString()),a.toString()}}Je.HEADER_SIZE=8,Je.LAST_DIGIT_SIZE=2,Je.FIRST_THREE_DIGITS_SIZE=10;class it extends Ve{constructor(a,c,f){super(a),this.dateCode=f,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=it.HEADER_SIZE+it.GTIN_SIZE+it.WEIGHT_SIZE+it.DATE_SIZE)throw new Ee;let a=new Z;return this.encodeCompressedGtin(a,it.HEADER_SIZE),this.encodeCompressedWeight(a,it.HEADER_SIZE+it.GTIN_SIZE,it.WEIGHT_SIZE),this.encodeCompressedDate(a,it.HEADER_SIZE+it.GTIN_SIZE+it.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(c,it.DATE_SIZE);if(f==38400)return;a.append("("),a.append(this.dateCode),a.append(")");let d=f%32;f/=32;let p=f%12+1;f/=12;let v=f;v/10==0&&a.append("0"),a.append(v),p/10==0&&a.append("0"),a.append(p),d/10==0&&a.append("0"),a.append(d)}addWeightCode(a,c){a.append("("),a.append(this.firstAIdigits),a.append(c/1e5),a.append(")")}checkWeight(a){return a%1e5}}it.HEADER_SIZE=8,it.WEIGHT_SIZE=20,it.DATE_SIZE=16;function st(z){try{if(z.get(1))return new ue(z);if(!z.get(2))return new Ie(z);switch(re.extractNumericValueFromBitArray(z,1,4)){case 4:return new De(z);case 5:return new Me(z)}switch(re.extractNumericValueFromBitArray(z,1,5)){case 12:return new Xe(z);case 13:return new Je(z)}switch(re.extractNumericValueFromBitArray(z,1,7)){case 56:return new it(z,"310","11");case 57:return new it(z,"320","11");case 58:return new it(z,"310","13");case 59:return new it(z,"320","13");case 60:return new it(z,"310","15");case 61:return new it(z,"320","15");case 62:return new it(z,"310","17");case 63:return new it(z,"320","17")}}catch(a){throw console.log(a),new Bn("unknown decoder: "+z)}}class ct{constructor(a,c,f,d){this.leftchar=a,this.rightchar=c,this.finderpattern=f,this.maybeLast=d}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(a,c){return a instanceof ct?ct.equalsOrNull(a.leftchar,c.leftchar)&&ct.equalsOrNull(a.rightchar,c.rightchar)&&ct.equalsOrNull(a.finderpattern,c.finderpattern):!1}static equalsOrNull(a,c){return a===null?c===null:ct.equals(a,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Mt{constructor(a,c,f){this.pairs=a,this.rowNumber=c,this.wasReversed=f}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(a){return this.checkEqualitity(this,a)}toString(){return"{ "+this.pairs+" }"}equals(a,c){return a instanceof Mt?this.checkEqualitity(a,c)&&a.wasReversed===c.wasReversed:!1}checkEqualitity(a,c){if(!a||!c)return;let f;return a.forEach((d,p)=>{c.forEach(v=>{d.getLeftChar().getValue()===v.getLeftChar().getValue()&&d.getRightChar().getValue()===v.getRightChar().getValue()&&d.getFinderPatter().getValue()===v.getFinderPatter().getValue()&&(f=!0)})}),f}}class je extends fr{constructor(a){super(...arguments),this.pairs=new Array(je.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=a===!0}decodeRow(a,c,f){this.pairs.length=0,this.startFromEven=!1;try{return je.constructResult(this.decodeRow2pairs(a,c))}catch(d){this.verbose&&console.log(d)}return this.pairs.length=0,this.startFromEven=!0,je.constructResult(this.decodeRow2pairs(a,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(a,c){let f=!1;for(;!f;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,a))}catch(p){if(p instanceof Ee){if(!this.pairs.length)throw new Ee;f=!0}}if(this.checkChecksum())return this.pairs;let d;if(this.rows.length?d=!0:d=!1,this.storeRow(a,!1),d){let p=this.checkRowsBoolean(!1);if(p!=null||(p=this.checkRowsBoolean(!0),p!=null))return p}throw new Ee}checkRowsBoolean(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(f){this.verbose&&console.log(f)}return a&&(this.rows=this.rows.reverse()),c}checkRows(a,c){for(let f=c;f<this.rows.length;f++){let d=this.rows[f];this.pairs.length=0;for(let v of a)this.pairs.push(v.getPairs());if(this.pairs.push(d.getPairs()),!je.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let p=new Array(a);p.push(d);try{return this.checkRows(p,f+1)}catch(v){this.verbose&&console.log(v)}}throw new Ee}static isValidSequence(a){for(let c of je.FINDER_PATTERN_SEQUENCES){if(a.length>c.length)continue;let f=!0;for(let d=0;d<a.length;d++)if(a[d].getFinderPattern().getValue()!=c[d]){f=!1;break}if(f)return!0}return!1}storeRow(a,c){let f=0,d=!1,p=!1;for(;f<this.rows.length;){let v=this.rows[f];if(v.getRowNumber()>a){p=v.isEquivalent(this.pairs);break}d=v.isEquivalent(this.pairs),f++}p||d||je.isPartialRow(this.pairs,this.rows)||(this.rows.push(f,new Mt(this.pairs,a,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(a,c){for(let f of c)if(f.getPairs().length!==a.length){for(let d of f.getPairs())for(let p of a)if(ct.equals(d,p))break}}static isPartialRow(a,c){for(let f of c){let d=!0;for(let p of a){let v=!1;for(let E of f.getPairs())if(p.equals(E)){v=!0;break}if(!v){d=!1;break}}if(d)return!0}return!1}getRows(){return this.rows}static constructResult(a){let c=Rr.buildBitArray(a),d=st(c).parseInformation(),p=a[0].getFinderPattern().getResultPoints(),v=a[a.length-1].getFinderPattern().getResultPoints(),E=[p[0],p[1],v[0],v[1]];return new he(d,null,null,E,_e.RSS_EXPANDED,null)}checkChecksum(){let a=this.pairs.get(0),c=a.getLeftChar(),f=a.getRightChar();if(f==null)return!1;let d=f.getChecksumPortion(),p=2;for(let E=1;E<this.pairs.size();++E){let S=this.pairs.get(E);d+=S.getLeftChar().getChecksumPortion(),p++;let N=S.getRightChar();N!=null&&(d+=N.getChecksumPortion(),p++)}return d%=211,211*(p-4)+d==c.getValue()}static getNextSecondBar(a,c){let f;return a.get(c)?(f=a.getNextUnset(c),f=a.getNextSet(f)):(f=a.getNextSet(c),f=a.getNextUnset(f)),f}retrieveNextPair(a,c,f){let d=c.length%2==0;this.startFromEven&&(d=!d);let p,v=!0,E=-1;do this.findNextPair(a,c,E),p=this.parseFoundFinderPattern(a,f,d),p==null?E=je.getNextSecondBar(a,this.startEnd[0]):v=!1;while(v);let S=this.decodeDataCharacter(a,p,d,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new Ee;let N;try{N=this.decodeDataCharacter(a,p,d,!1)}catch(P){N=null,this.verbose&&console.log(P)}return new ct(S,N,p,!0)}isEmptyPair(a){return a.length===0}findNextPair(a,c,f){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=a.getSize(),v;f>=0?v=f:this.isEmptyPair(c)?v=0:v=c[c.length-1].getFinderPattern().getStartEnd()[1];let E=c.length%2!=0;this.startFromEven&&(E=!E);let S=!1;for(;v<p&&(S=!a.get(v),!!S);)v++;let N=0,P=v;for(let G=v;G<p;G++)if(a.get(G)!=S)d[N]++;else{if(N==3){if(E&&je.reverseCounters(d),je.isFinderPattern(d)){this.startEnd[0]=P,this.startEnd[1]=G;return}E&&je.reverseCounters(d),P+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,N--}else N++;d[N]=1,S=!S}throw new Ee}static reverseCounters(a){let c=a.length;for(let f=0;f<c/2;++f){let d=a[f];a[f]=a[c-f-1],a[c-f-1]=d}}parseFoundFinderPattern(a,c,f){let d,p,v;if(f){let N=this.startEnd[0]-1;for(;N>=0&&!a.get(N);)N--;N++,d=this.startEnd[0]-N,p=N,v=this.startEnd[1]}else p=this.startEnd[0],v=a.getNextUnset(this.startEnd[1]+1),d=v-this.startEnd[1];let E=this.getDecodeFinderCounters();I.arraycopy(E,0,E,1,E.length-1),E[0]=d;let S;try{S=this.parseFinderValue(E,je.FINDER_PATTERNS)}catch{return null}return new La(S,[p,v],p,v,c)}decodeDataCharacter(a,c,f,d){let p=this.getDataCharacterCounters();for(let Vn=0;Vn<p.length;Vn++)p[Vn]=0;if(d)je.recordPatternInReverse(a,c.getStartEnd()[0],p);else{je.recordPattern(a,c.getStartEnd()[1],p);for(let Vn=0,mi=p.length-1;Vn<mi;Vn++,mi--){let Zi=p[Vn];p[Vn]=p[mi],p[mi]=Zi}}let v=17,E=Tt.sum(new Int32Array(p))/v,S=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(E-S)/S>.3)throw new Ee;let N=this.getOddCounts(),P=this.getEvenCounts(),G=this.getOddRoundingErrors(),K=this.getEvenRoundingErrors();for(let Vn=0;Vn<p.length;Vn++){let mi=1*p[Vn]/E,Zi=mi+.5;if(Zi<1){if(mi<.3)throw new Ee;Zi=1}else if(Zi>8){if(mi>8.7)throw new Ee;Zi=8}let Fo=Vn/2;(Vn&1)==0?(N[Fo]=Zi,G[Fo]=mi-Zi):(P[Fo]=Zi,K[Fo]=mi-Zi)}this.adjustOddEvenCounts(v);let ce=4*c.getValue()+(f?0:2)+(d?0:1)-1,xe=0,ye=0;for(let Vn=N.length-1;Vn>=0;Vn--){if(je.isNotA1left(c,f,d)){let mi=je.WEIGHTS[ce][2*Vn];ye+=N[Vn]*mi}xe+=N[Vn]}let Re=0;for(let Vn=P.length-1;Vn>=0;Vn--)if(je.isNotA1left(c,f,d)){let mi=je.WEIGHTS[ce][2*Vn+1];Re+=P[Vn]*mi}let Le=ye+Re;if((xe&1)!=0||xe>13||xe<4)throw new Ee;let nt=(13-xe)/2,at=je.SYMBOL_WIDEST[nt],tt=9-at,Xt=ln.getRSSvalue(N,at,!0),qt=ln.getRSSvalue(P,tt,!1),Mi=je.EVEN_TOTAL_SUBSET[nt],Ts=je.GSUM[nt],$i=Xt*Mi+qt+Ts;return new Ni($i,Le)}static isNotA1left(a,c,f){return!(a.getValue()==0&&c&&f)}adjustOddEvenCounts(a){let c=Tt.sum(new Int32Array(this.getOddCounts())),f=Tt.sum(new Int32Array(this.getEvenCounts())),d=!1,p=!1;c>13?p=!0:c<4&&(d=!0);let v=!1,E=!1;f>13?E=!0:f<4&&(v=!0);let S=c+f-a,N=(c&1)==1,P=(f&1)==0;if(S==1)if(N){if(P)throw new Ee;p=!0}else{if(!P)throw new Ee;E=!0}else if(S==-1)if(N){if(P)throw new Ee;d=!0}else{if(!P)throw new Ee;v=!0}else if(S==0){if(N){if(!P)throw new Ee;c<f?(d=!0,E=!0):(p=!0,v=!0)}else if(P)throw new Ee}else throw new Ee;if(d){if(p)throw new Ee;je.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&je.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(E)throw new Ee;je.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&je.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}je.SYMBOL_WIDEST=[7,5,4,3,1],je.EVEN_TOTAL_SUBSET=[4,20,52,104,204],je.GSUM=[0,348,1388,2948,3988],je.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],je.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],je.FINDER_PAT_A=0,je.FINDER_PAT_B=1,je.FINDER_PAT_C=2,je.FINDER_PAT_D=3,je.FINDER_PAT_E=4,je.FINDER_PAT_F=5,je.FINDER_PATTERN_SEQUENCES=[[je.FINDER_PAT_A,je.FINDER_PAT_A],[je.FINDER_PAT_A,je.FINDER_PAT_B,je.FINDER_PAT_B],[je.FINDER_PAT_A,je.FINDER_PAT_C,je.FINDER_PAT_B,je.FINDER_PAT_D],[je.FINDER_PAT_A,je.FINDER_PAT_E,je.FINDER_PAT_B,je.FINDER_PAT_D,je.FINDER_PAT_C],[je.FINDER_PAT_A,je.FINDER_PAT_E,je.FINDER_PAT_B,je.FINDER_PAT_D,je.FINDER_PAT_D,je.FINDER_PAT_F],[je.FINDER_PAT_A,je.FINDER_PAT_E,je.FINDER_PAT_B,je.FINDER_PAT_D,je.FINDER_PAT_E,je.FINDER_PAT_F,je.FINDER_PAT_F],[je.FINDER_PAT_A,je.FINDER_PAT_A,je.FINDER_PAT_B,je.FINDER_PAT_B,je.FINDER_PAT_C,je.FINDER_PAT_C,je.FINDER_PAT_D,je.FINDER_PAT_D],[je.FINDER_PAT_A,je.FINDER_PAT_A,je.FINDER_PAT_B,je.FINDER_PAT_B,je.FINDER_PAT_C,je.FINDER_PAT_C,je.FINDER_PAT_D,je.FINDER_PAT_E,je.FINDER_PAT_E],[je.FINDER_PAT_A,je.FINDER_PAT_A,je.FINDER_PAT_B,je.FINDER_PAT_B,je.FINDER_PAT_C,je.FINDER_PAT_C,je.FINDER_PAT_D,je.FINDER_PAT_E,je.FINDER_PAT_F,je.FINDER_PAT_F],[je.FINDER_PAT_A,je.FINDER_PAT_A,je.FINDER_PAT_B,je.FINDER_PAT_B,je.FINDER_PAT_C,je.FINDER_PAT_D,je.FINDER_PAT_D,je.FINDER_PAT_E,je.FINDER_PAT_E,je.FINDER_PAT_F,je.FINDER_PAT_F]],je.MAX_PAIRS=11;class dn extends Ni{constructor(a,c,f){super(a,c),this.count=0,this.finderPattern=f}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ct extends fr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(a,c,f){const d=this.decodePair(c,!1,a,f);Ct.addOrTally(this.possibleLeftPairs,d),c.reverse();let p=this.decodePair(c,!0,a,f);Ct.addOrTally(this.possibleRightPairs,p),c.reverse();for(let v of this.possibleLeftPairs)if(v.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&Ct.checkChecksum(v,E))return Ct.constructResult(v,E)}throw new Ee}static addOrTally(a,c){if(c==null)return;let f=!1;for(let d of a)if(d.getValue()===c.getValue()){d.incrementCount(),f=!0;break}f||a.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(a,c){let f=4537077*a.getValue()+c.getValue(),d=new String(f).toString(),p=new Z;for(let N=13-d.length;N>0;N--)p.append("0");p.append(d);let v=0;for(let N=0;N<13;N++){let P=p.charAt(N).charCodeAt(0)-48;v+=(N&1)===0?3*P:P}v=10-v%10,v===10&&(v=0),p.append(v.toString());let E=a.getFinderPattern().getResultPoints(),S=c.getFinderPattern().getResultPoints();return new he(p.toString(),null,0,[E[0],E[1],S[0],S[1]],_e.RSS_14,new Date().getTime())}static checkChecksum(a,c){let f=(a.getChecksumPortion()+16*c.getChecksumPortion())%79,d=9*a.getFinderPattern().getValue()+c.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,f===d}decodePair(a,c,f,d){try{let p=this.findFinderPattern(a,c),v=this.parseFoundFinderPattern(a,f,c,p),E=d==null?null:d.get(ve.NEED_RESULT_POINT_CALLBACK);if(E!=null){let P=(p[0]+p[1])/2;c&&(P=a.getSize()-1-P),E.foundPossibleResultPoint(new gt(P,f))}let S=this.decodeDataCharacter(a,v,!0),N=this.decodeDataCharacter(a,v,!1);return new dn(1597*S.getValue()+N.getValue(),S.getChecksumPortion()+4*N.getChecksumPortion(),v)}catch{return null}}decodeDataCharacter(a,c,f){let d=this.getDataCharacterCounters();for(let Re=0;Re<d.length;Re++)d[Re]=0;if(f)$t.recordPatternInReverse(a,c.getStartEnd()[0],d);else{$t.recordPattern(a,c.getStartEnd()[1]+1,d);for(let Re=0,Le=d.length-1;Re<Le;Re++,Le--){let nt=d[Re];d[Re]=d[Le],d[Le]=nt}}let p=f?16:15,v=Tt.sum(new Int32Array(d))/p,E=this.getOddCounts(),S=this.getEvenCounts(),N=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let Re=0;Re<d.length;Re++){let Le=d[Re]/v,nt=Math.floor(Le+.5);nt<1?nt=1:nt>8&&(nt=8);let at=Math.floor(Re/2);(Re&1)===0?(E[at]=nt,N[at]=Le-nt):(S[at]=nt,P[at]=Le-nt)}this.adjustOddEvenCounts(f,p);let G=0,K=0;for(let Re=E.length-1;Re>=0;Re--)K*=9,K+=E[Re],G+=E[Re];let ce=0,xe=0;for(let Re=S.length-1;Re>=0;Re--)ce*=9,ce+=S[Re],xe+=S[Re];let ye=K+3*ce;if(f){if((G&1)!==0||G>12||G<4)throw new Ee;let Re=(12-G)/2,Le=Ct.OUTSIDE_ODD_WIDEST[Re],nt=9-Le,at=ln.getRSSvalue(E,Le,!1),tt=ln.getRSSvalue(S,nt,!0),Xt=Ct.OUTSIDE_EVEN_TOTAL_SUBSET[Re],qt=Ct.OUTSIDE_GSUM[Re];return new Ni(at*Xt+tt+qt,ye)}else{if((xe&1)!==0||xe>10||xe<4)throw new Ee;let Re=(10-xe)/2,Le=Ct.INSIDE_ODD_WIDEST[Re],nt=9-Le,at=ln.getRSSvalue(E,Le,!0),tt=ln.getRSSvalue(S,nt,!1),Xt=Ct.INSIDE_ODD_TOTAL_SUBSET[Re],qt=Ct.INSIDE_GSUM[Re];return new Ni(tt*Xt+at+qt,ye)}}findFinderPattern(a,c){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let d=a.getSize(),p=!1,v=0;for(;v<d&&(p=!a.get(v),c!==p);)v++;let E=0,S=v;for(let N=v;N<d;N++)if(a.get(N)!==p)f[E]++;else{if(E===3){if(fr.isFinderPattern(f))return[S,N];S+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,E--}else E++;f[E]=1,p=!p}throw new Ee}parseFoundFinderPattern(a,c,f,d){let p=a.get(d[0]),v=d[0]-1;for(;v>=0&&p!==a.get(v);)v--;v++;const E=d[0]-v,S=this.getDecodeFinderCounters(),N=new Int32Array(S.length);I.arraycopy(S,0,N,1,S.length-1),N[0]=E;const P=this.parseFinderValue(N,Ct.FINDER_PATTERNS);let G=v,K=d[1];return f&&(G=a.getSize()-1-G,K=a.getSize()-1-K),new La(P,[v,d[1]],G,K,c)}adjustOddEvenCounts(a,c){let f=Tt.sum(new Int32Array(this.getOddCounts())),d=Tt.sum(new Int32Array(this.getEvenCounts())),p=!1,v=!1,E=!1,S=!1;a?(f>12?v=!0:f<4&&(p=!0),d>12?S=!0:d<4&&(E=!0)):(f>11?v=!0:f<5&&(p=!0),d>10?S=!0:d<4&&(E=!0));let N=f+d-c,P=(f&1)===(a?1:0),G=(d&1)===1;if(N===1)if(P){if(G)throw new Ee;v=!0}else{if(!G)throw new Ee;S=!0}else if(N===-1)if(P){if(G)throw new Ee;p=!0}else{if(!G)throw new Ee;E=!0}else if(N===0){if(P){if(!G)throw new Ee;f<d?(p=!0,S=!0):(v=!0,E=!0)}else if(G)throw new Ee}else throw new Ee;if(p){if(v)throw new Ee;fr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&fr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(S)throw new Ee;fr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&fr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ct.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ct.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ct.OUTSIDE_GSUM=[0,161,961,2015,2715],Ct.INSIDE_GSUM=[0,336,1036,1516],Ct.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ct.INSIDE_ODD_WIDEST=[2,4,6,8],Ct.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Jr extends $t{constructor(a,c){super(),this.readers=[],this.verbose=c===!0;const f=a?a.get(ve.POSSIBLE_FORMATS):null,d=a&&a.get(ve.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;f?((f.includes(_e.EAN_13)||f.includes(_e.UPC_A)||f.includes(_e.EAN_8)||f.includes(_e.UPC_E))&&this.readers.push(new xs(a)),f.includes(_e.CODE_39)&&this.readers.push(new fn(d)),f.includes(_e.CODE_128)&&this.readers.push(new et),f.includes(_e.ITF)&&this.readers.push(new hn),f.includes(_e.RSS_14)&&this.readers.push(new Ct),f.includes(_e.RSS_EXPANDED)&&this.readers.push(new je(this.verbose))):(this.readers.push(new xs(a)),this.readers.push(new fn),this.readers.push(new xs(a)),this.readers.push(new et),this.readers.push(new hn),this.readers.push(new Ct),this.readers.push(new je(this.verbose)))}decodeRow(a,c,f){for(let d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(a,c,f)}catch{}throw new Ee}reset(){this.readers.forEach(a=>a.reset())}}class fa extends fe{constructor(a=500,c){super(new Jr(c),a,c)}}class Ht{constructor(a,c,f){this.ecCodewords=a,this.ecBlocks=[c],f&&this.ecBlocks.push(f)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class zt{constructor(a,c){this.count=a,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Gt{constructor(a,c,f,d,p,v){this.versionNumber=a,this.symbolSizeRows=c,this.symbolSizeColumns=f,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=p,this.ecBlocks=v;let E=0;const S=v.getECCodewords(),N=v.getECBlocks();for(let P of N)E+=P.getCount()*(P.getDataCodewords()+S);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(a,c){if((a&1)!==0||(c&1)!==0)throw new B;for(let f of Gt.VERSIONS)if(f.symbolSizeRows===a&&f.symbolSizeColumns===c)return f;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new Gt(1,10,10,8,8,new Ht(5,new zt(1,3))),new Gt(2,12,12,10,10,new Ht(7,new zt(1,5))),new Gt(3,14,14,12,12,new Ht(10,new zt(1,8))),new Gt(4,16,16,14,14,new Ht(12,new zt(1,12))),new Gt(5,18,18,16,16,new Ht(14,new zt(1,18))),new Gt(6,20,20,18,18,new Ht(18,new zt(1,22))),new Gt(7,22,22,20,20,new Ht(20,new zt(1,30))),new Gt(8,24,24,22,22,new Ht(24,new zt(1,36))),new Gt(9,26,26,24,24,new Ht(28,new zt(1,44))),new Gt(10,32,32,14,14,new Ht(36,new zt(1,62))),new Gt(11,36,36,16,16,new Ht(42,new zt(1,86))),new Gt(12,40,40,18,18,new Ht(48,new zt(1,114))),new Gt(13,44,44,20,20,new Ht(56,new zt(1,144))),new Gt(14,48,48,22,22,new Ht(68,new zt(1,174))),new Gt(15,52,52,24,24,new Ht(42,new zt(2,102))),new Gt(16,64,64,14,14,new Ht(56,new zt(2,140))),new Gt(17,72,72,16,16,new Ht(36,new zt(4,92))),new Gt(18,80,80,18,18,new Ht(48,new zt(4,114))),new Gt(19,88,88,20,20,new Ht(56,new zt(4,144))),new Gt(20,96,96,22,22,new Ht(68,new zt(4,174))),new Gt(21,104,104,24,24,new Ht(56,new zt(6,136))),new Gt(22,120,120,18,18,new Ht(68,new zt(6,175))),new Gt(23,132,132,20,20,new Ht(62,new zt(8,163))),new Gt(24,144,144,22,22,new Ht(62,new zt(8,156),new zt(2,155))),new Gt(25,8,18,6,16,new Ht(7,new zt(1,5))),new Gt(26,8,32,6,14,new Ht(11,new zt(1,10))),new Gt(27,12,26,10,24,new Ht(14,new zt(1,16))),new Gt(28,12,36,10,16,new Ht(18,new zt(1,22))),new Gt(29,16,36,14,16,new Ht(24,new zt(1,32))),new Gt(30,16,48,14,22,new Ht(28,new zt(1,49)))]}}Gt.VERSIONS=Gt.buildVersions();class hi{constructor(a){const c=a.getHeight();if(c<8||c>144||(c&1)!==0)throw new B;this.version=hi.readVersion(a),this.mappingBitMatrix=this.extractDataRegion(a),this.readMappingMatrix=new pt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(a){const c=a.getHeight(),f=a.getWidth();return Gt.getVersionForDimensions(c,f)}readCodewords(){const a=new Int8Array(this.version.getTotalCodewords());let c=0,f=4,d=0;const p=this.mappingBitMatrix.getHeight(),v=this.mappingBitMatrix.getWidth();let E=!1,S=!1,N=!1,P=!1;do if(f===p&&d===0&&!E)a[c++]=this.readCorner1(p,v)&255,f-=2,d+=2,E=!0;else if(f===p-2&&d===0&&(v&3)!==0&&!S)a[c++]=this.readCorner2(p,v)&255,f-=2,d+=2,S=!0;else if(f===p+4&&d===2&&(v&7)===0&&!N)a[c++]=this.readCorner3(p,v)&255,f-=2,d+=2,N=!0;else if(f===p-2&&d===0&&(v&7)===4&&!P)a[c++]=this.readCorner4(p,v)&255,f-=2,d+=2,P=!0;else{do f<p&&d>=0&&!this.readMappingMatrix.get(d,f)&&(a[c++]=this.readUtah(f,d,p,v)&255),f-=2,d+=2;while(f>=0&&d<v);f+=1,d+=3;do f>=0&&d<v&&!this.readMappingMatrix.get(d,f)&&(a[c++]=this.readUtah(f,d,p,v)&255),f+=2,d-=2;while(f<p&&d>=0);f+=3,d+=1}while(f<p||d<v);if(c!==this.version.getTotalCodewords())throw new B;return a}readModule(a,c,f,d){return a<0&&(a+=f,c+=4-(f+4&7)),c<0&&(c+=d,a+=4-(d+4&7)),this.readMappingMatrix.set(c,a),this.mappingBitMatrix.get(c,a)}readUtah(a,c,f,d){let p=0;return this.readModule(a-2,c-2,f,d)&&(p|=1),p<<=1,this.readModule(a-2,c-1,f,d)&&(p|=1),p<<=1,this.readModule(a-1,c-2,f,d)&&(p|=1),p<<=1,this.readModule(a-1,c-1,f,d)&&(p|=1),p<<=1,this.readModule(a-1,c,f,d)&&(p|=1),p<<=1,this.readModule(a,c-2,f,d)&&(p|=1),p<<=1,this.readModule(a,c-1,f,d)&&(p|=1),p<<=1,this.readModule(a,c,f,d)&&(p|=1),p}readCorner1(a,c){let f=0;return this.readModule(a-1,0,a,c)&&(f|=1),f<<=1,this.readModule(a-1,1,a,c)&&(f|=1),f<<=1,this.readModule(a-1,2,a,c)&&(f|=1),f<<=1,this.readModule(0,c-2,a,c)&&(f|=1),f<<=1,this.readModule(0,c-1,a,c)&&(f|=1),f<<=1,this.readModule(1,c-1,a,c)&&(f|=1),f<<=1,this.readModule(2,c-1,a,c)&&(f|=1),f<<=1,this.readModule(3,c-1,a,c)&&(f|=1),f}readCorner2(a,c){let f=0;return this.readModule(a-3,0,a,c)&&(f|=1),f<<=1,this.readModule(a-2,0,a,c)&&(f|=1),f<<=1,this.readModule(a-1,0,a,c)&&(f|=1),f<<=1,this.readModule(0,c-4,a,c)&&(f|=1),f<<=1,this.readModule(0,c-3,a,c)&&(f|=1),f<<=1,this.readModule(0,c-2,a,c)&&(f|=1),f<<=1,this.readModule(0,c-1,a,c)&&(f|=1),f<<=1,this.readModule(1,c-1,a,c)&&(f|=1),f}readCorner3(a,c){let f=0;return this.readModule(a-1,0,a,c)&&(f|=1),f<<=1,this.readModule(a-1,c-1,a,c)&&(f|=1),f<<=1,this.readModule(0,c-3,a,c)&&(f|=1),f<<=1,this.readModule(0,c-2,a,c)&&(f|=1),f<<=1,this.readModule(0,c-1,a,c)&&(f|=1),f<<=1,this.readModule(1,c-3,a,c)&&(f|=1),f<<=1,this.readModule(1,c-2,a,c)&&(f|=1),f<<=1,this.readModule(1,c-1,a,c)&&(f|=1),f}readCorner4(a,c){let f=0;return this.readModule(a-3,0,a,c)&&(f|=1),f<<=1,this.readModule(a-2,0,a,c)&&(f|=1),f<<=1,this.readModule(a-1,0,a,c)&&(f|=1),f<<=1,this.readModule(0,c-2,a,c)&&(f|=1),f<<=1,this.readModule(0,c-1,a,c)&&(f|=1),f<<=1,this.readModule(1,c-1,a,c)&&(f|=1),f<<=1,this.readModule(2,c-1,a,c)&&(f|=1),f<<=1,this.readModule(3,c-1,a,c)&&(f|=1),f}extractDataRegion(a){const c=this.version.getSymbolSizeRows(),f=this.version.getSymbolSizeColumns();if(a.getHeight()!==c)throw new A("Dimension of bitMatrix must match the version size");const d=this.version.getDataRegionSizeRows(),p=this.version.getDataRegionSizeColumns(),v=c/d|0,E=f/p|0,S=v*d,N=E*p,P=new pt(N,S);for(let G=0;G<v;++G){const K=G*d;for(let ce=0;ce<E;++ce){const xe=ce*p;for(let ye=0;ye<d;++ye){const Re=G*(d+2)+1+ye,Le=K+ye;for(let nt=0;nt<p;++nt){const at=ce*(p+2)+1+nt;if(a.get(at,Re)){const tt=xe+nt;P.set(tt,Le)}}}}}return P}}class eo{constructor(a,c){this.numDataCodewords=a,this.codewords=c}static getDataBlocks(a,c){const f=c.getECBlocks();let d=0;const p=f.getECBlocks();for(let ye of p)d+=ye.getCount();const v=new Array(d);let E=0;for(let ye of p)for(let Re=0;Re<ye.getCount();Re++){const Le=ye.getDataCodewords(),nt=f.getECCodewords()+Le;v[E++]=new eo(Le,new Uint8Array(nt))}const N=v[0].codewords.length-f.getECCodewords(),P=N-1;let G=0;for(let ye=0;ye<P;ye++)for(let Re=0;Re<E;Re++)v[Re].codewords[ye]=a[G++];const K=c.getVersionNumber()===24,ce=K?8:E;for(let ye=0;ye<ce;ye++)v[ye].codewords[N-1]=a[G++];const xe=v[0].codewords.length;for(let ye=N;ye<xe;ye++)for(let Re=0;Re<E;Re++){const Le=K?(Re+8)%E:Re,nt=K&&Le>7?ye-1:ye;v[Le].codewords[nt]=a[G++]}if(G!==a.length)throw new A;return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class di{constructor(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(a){if(a<1||a>32||a>this.available())throw new A(""+a);let c=0,f=this.bitOffset,d=this.byteOffset;const p=this.bytes;if(f>0){const v=8-f,E=a<v?a:v,S=v-E,N=255>>8-E<<S;c=(p[d]&N)>>S,a-=E,f+=E,f===8&&(f=0,d++)}if(a>0){for(;a>=8;)c=c<<8|p[d]&255,d++,a-=8;if(a>0){const v=8-a,E=255>>v<<v;c=c<<a|(p[d]&E)>>v,f+=a}}return this.bitOffset=f,this.byteOffset=d,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var hr;(function(z){z[z.PAD_ENCODE=0]="PAD_ENCODE",z[z.ASCII_ENCODE=1]="ASCII_ENCODE",z[z.C40_ENCODE=2]="C40_ENCODE",z[z.TEXT_ENCODE=3]="TEXT_ENCODE",z[z.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",z[z.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",z[z.BASE256_ENCODE=6]="BASE256_ENCODE"})(hr||(hr={}));class ha{static decode(a){const c=new di(a),f=new Z,d=new Z,p=new Array;let v=hr.ASCII_ENCODE;do if(v===hr.ASCII_ENCODE)v=this.decodeAsciiSegment(c,f,d);else{switch(v){case hr.C40_ENCODE:this.decodeC40Segment(c,f);break;case hr.TEXT_ENCODE:this.decodeTextSegment(c,f);break;case hr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,f);break;case hr.EDIFACT_ENCODE:this.decodeEdifactSegment(c,f);break;case hr.BASE256_ENCODE:this.decodeBase256Segment(c,f,p);break;default:throw new B}v=hr.ASCII_ENCODE}while(v!==hr.PAD_ENCODE&&c.available()>0);return d.length()>0&&f.append(d.toString()),new mt(a,f.toString(),p.length===0?null:p,null)}static decodeAsciiSegment(a,c,f){let d=!1;do{let p=a.readBits(8);if(p===0)throw new B;if(p<=128)return d&&(p+=128),c.append(String.fromCharCode(p-1)),hr.ASCII_ENCODE;if(p===129)return hr.PAD_ENCODE;if(p<=229){const v=p-130;v<10&&c.append("0"),c.append(""+v)}else switch(p){case 230:return hr.C40_ENCODE;case 231:return hr.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:d=!0;break;case 236:c.append("[)>05"),f.insert(0,"");break;case 237:c.append("[)>06"),f.insert(0,"");break;case 238:return hr.ANSIX12_ENCODE;case 239:return hr.TEXT_ENCODE;case 240:return hr.EDIFACT_ENCODE;case 241:break;default:if(p!==254||a.available()!==0)throw new B;break}}while(a.available()>0);return hr.ASCII_ENCODE}static decodeC40Segment(a,c){let f=!1;const d=[];let p=0;do{if(a.available()===8)return;const v=a.readBits(8);if(v===254)return;this.parseTwoBytes(v,a.readBits(8),d);for(let E=0;E<3;E++){const S=d[E];switch(p){case 0:if(S<3)p=S+1;else if(S<this.C40_BASIC_SET_CHARS.length){const N=this.C40_BASIC_SET_CHARS[S];f?(c.append(String.fromCharCode(N.charCodeAt(0)+128)),f=!1):c.append(N)}else throw new B;break;case 1:f?(c.append(String.fromCharCode(S+128)),f=!1):c.append(String.fromCharCode(S)),p=0;break;case 2:if(S<this.C40_SHIFT2_SET_CHARS.length){const N=this.C40_SHIFT2_SET_CHARS[S];f?(c.append(String.fromCharCode(N.charCodeAt(0)+128)),f=!1):c.append(N)}else switch(S){case 27:c.append("");break;case 30:f=!0;break;default:throw new B}p=0;break;case 3:f?(c.append(String.fromCharCode(S+224)),f=!1):c.append(String.fromCharCode(S+96)),p=0;break;default:throw new B}}}while(a.available()>0)}static decodeTextSegment(a,c){let f=!1,d=[],p=0;do{if(a.available()===8)return;const v=a.readBits(8);if(v===254)return;this.parseTwoBytes(v,a.readBits(8),d);for(let E=0;E<3;E++){const S=d[E];switch(p){case 0:if(S<3)p=S+1;else if(S<this.TEXT_BASIC_SET_CHARS.length){const N=this.TEXT_BASIC_SET_CHARS[S];f?(c.append(String.fromCharCode(N.charCodeAt(0)+128)),f=!1):c.append(N)}else throw new B;break;case 1:f?(c.append(String.fromCharCode(S+128)),f=!1):c.append(String.fromCharCode(S)),p=0;break;case 2:if(S<this.TEXT_SHIFT2_SET_CHARS.length){const N=this.TEXT_SHIFT2_SET_CHARS[S];f?(c.append(String.fromCharCode(N.charCodeAt(0)+128)),f=!1):c.append(N)}else switch(S){case 27:c.append("");break;case 30:f=!0;break;default:throw new B}p=0;break;case 3:if(S<this.TEXT_SHIFT3_SET_CHARS.length){const N=this.TEXT_SHIFT3_SET_CHARS[S];f?(c.append(String.fromCharCode(N.charCodeAt(0)+128)),f=!1):c.append(N),p=0}else throw new B;break;default:throw new B}}}while(a.available()>0)}static decodeAnsiX12Segment(a,c){const f=[];do{if(a.available()===8)return;const d=a.readBits(8);if(d===254)return;this.parseTwoBytes(d,a.readBits(8),f);for(let p=0;p<3;p++){const v=f[p];switch(v){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(v<14)c.append(String.fromCharCode(v+44));else if(v<40)c.append(String.fromCharCode(v+51));else throw new B;break}}}while(a.available()>0)}static parseTwoBytes(a,c,f){let d=(a<<8)+c-1,p=Math.floor(d/1600);f[0]=p,d-=p*1600,p=Math.floor(d/40),f[1]=p,f[2]=d-p*40}static decodeEdifactSegment(a,c){do{if(a.available()<=16)return;for(let f=0;f<4;f++){let d=a.readBits(6);if(d===31){const p=8-a.getBitOffset();p!==8&&a.readBits(p);return}(d&32)===0&&(d|=64),c.append(String.fromCharCode(d))}}while(a.available()>0)}static decodeBase256Segment(a,c,f){let d=1+a.getByteOffset();const p=this.unrandomize255State(a.readBits(8),d++);let v;if(p===0?v=a.available()/8|0:p<250?v=p:v=250*(p-249)+this.unrandomize255State(a.readBits(8),d++),v<0)throw new B;const E=new Uint8Array(v);for(let S=0;S<v;S++){if(a.available()<8)throw new B;E[S]=this.unrandomize255State(a.readBits(8),d++)}f.push(E);try{c.append(q.decode(E,Q.ISO88591))}catch(S){throw new Bn("Platform does not support required encoding: "+S.message)}}static unrandomize255State(a,c){const f=149*c%255+1,d=a-f;return d>=0?d:d+256}}ha.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ha.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ha.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ha.TEXT_SHIFT2_SET_CHARS=ha.C40_SHIFT2_SET_CHARS,ha.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class vl{constructor(){this.rsDecoder=new vn(St.DATA_MATRIX_FIELD_256)}decode(a){const c=new hi(a),f=c.getVersion(),d=c.readCodewords(),p=eo.getDataBlocks(d,f);let v=0;for(let N of p)v+=N.getNumDataCodewords();const E=new Uint8Array(v),S=p.length;for(let N=0;N<S;N++){const P=p[N],G=P.getCodewords(),K=P.getNumDataCodewords();this.correctErrors(G,K);for(let ce=0;ce<K;ce++)E[ce*S+N]=G[ce]}return ha.decode(E)}correctErrors(a,c){const f=new Int32Array(a);try{this.rsDecoder.decode(f,a.length-c)}catch{throw new R}for(let d=0;d<c;d++)a[d]=f[d]}}class Jn{constructor(a){this.image=a,this.rectangleDetector=new Un(this.image)}detect(){const a=this.rectangleDetector.detect();let c=this.detectSolid1(a);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new Ee;c=this.shiftToModuleCenter(c);const f=c[0],d=c[1],p=c[2],v=c[3];let E=this.transitionsBetween(f,v)+1,S=this.transitionsBetween(p,v)+1;(E&1)===1&&(E+=1),(S&1)===1&&(S+=1),4*E<7*S&&4*S<7*E&&(E=S=Math.max(E,S));let N=Jn.sampleGrid(this.image,f,d,p,v,E,S);return new Ri(N,[f,d,p,v])}static shiftPoint(a,c,f){let d=(c.getX()-a.getX())/(f+1),p=(c.getY()-a.getY())/(f+1);return new gt(a.getX()+d,a.getY()+p)}static moveAway(a,c,f){let d=a.getX(),p=a.getY();return d<c?d-=1:d+=1,p<f?p-=1:p+=1,new gt(d,p)}detectSolid1(a){let c=a[0],f=a[1],d=a[3],p=a[2],v=this.transitionsBetween(c,f),E=this.transitionsBetween(f,d),S=this.transitionsBetween(d,p),N=this.transitionsBetween(p,c),P=v,G=[p,c,f,d];return P>E&&(P=E,G[0]=c,G[1]=f,G[2]=d,G[3]=p),P>S&&(P=S,G[0]=f,G[1]=d,G[2]=p,G[3]=c),P>N&&(G[0]=d,G[1]=p,G[2]=c,G[3]=f),G}detectSolid2(a){let c=a[0],f=a[1],d=a[2],p=a[3],v=this.transitionsBetween(c,p),E=Jn.shiftPoint(f,d,(v+1)*4),S=Jn.shiftPoint(d,f,(v+1)*4),N=this.transitionsBetween(E,c),P=this.transitionsBetween(S,p);return N<P?(a[0]=c,a[1]=f,a[2]=d,a[3]=p):(a[0]=f,a[1]=d,a[2]=p,a[3]=c),a}correctTopRight(a){let c=a[0],f=a[1],d=a[2],p=a[3],v=this.transitionsBetween(c,p),E=this.transitionsBetween(f,p),S=Jn.shiftPoint(c,f,(E+1)*4),N=Jn.shiftPoint(d,f,(v+1)*4);v=this.transitionsBetween(S,p),E=this.transitionsBetween(N,p);let P=new gt(p.getX()+(d.getX()-f.getX())/(v+1),p.getY()+(d.getY()-f.getY())/(v+1)),G=new gt(p.getX()+(c.getX()-f.getX())/(E+1),p.getY()+(c.getY()-f.getY())/(E+1));if(!this.isValid(P))return this.isValid(G)?G:null;if(!this.isValid(G))return P;let K=this.transitionsBetween(S,P)+this.transitionsBetween(N,P),ce=this.transitionsBetween(S,G)+this.transitionsBetween(N,G);return K>ce?P:G}shiftToModuleCenter(a){let c=a[0],f=a[1],d=a[2],p=a[3],v=this.transitionsBetween(c,p)+1,E=this.transitionsBetween(d,p)+1,S=Jn.shiftPoint(c,f,E*4),N=Jn.shiftPoint(d,f,v*4);v=this.transitionsBetween(S,p)+1,E=this.transitionsBetween(N,p)+1,(v&1)===1&&(v+=1),(E&1)===1&&(E+=1);let P=(c.getX()+f.getX()+d.getX()+p.getX())/4,G=(c.getY()+f.getY()+d.getY()+p.getY())/4;c=Jn.moveAway(c,P,G),f=Jn.moveAway(f,P,G),d=Jn.moveAway(d,P,G),p=Jn.moveAway(p,P,G);let K,ce;return S=Jn.shiftPoint(c,f,E*4),S=Jn.shiftPoint(S,p,v*4),K=Jn.shiftPoint(f,c,E*4),K=Jn.shiftPoint(K,d,v*4),N=Jn.shiftPoint(d,p,E*4),N=Jn.shiftPoint(N,f,v*4),ce=Jn.shiftPoint(p,d,E*4),ce=Jn.shiftPoint(ce,c,v*4),[S,K,N,ce]}isValid(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()}static sampleGrid(a,c,f,d,p,v,E){return wn.getInstance().sampleGrid(a,v,E,.5,.5,v-.5,.5,v-.5,E-.5,.5,E-.5,c.getX(),c.getY(),p.getX(),p.getY(),d.getX(),d.getY(),f.getX(),f.getY())}transitionsBetween(a,c){let f=Math.trunc(a.getX()),d=Math.trunc(a.getY()),p=Math.trunc(c.getX()),v=Math.trunc(c.getY()),E=Math.abs(v-d)>Math.abs(p-f);if(E){let ye=f;f=d,d=ye,ye=p,p=v,v=ye}let S=Math.abs(p-f),N=Math.abs(v-d),P=-S/2,G=d<v?1:-1,K=f<p?1:-1,ce=0,xe=this.image.get(E?d:f,E?f:d);for(let ye=f,Re=d;ye!==p;ye+=K){let Le=this.image.get(E?Re:ye,E?ye:Re);if(Le!==xe&&(ce++,xe=Le),P+=N,P>0){if(Re===v)break;Re+=G,P-=S}}return ce}}class Xi{constructor(){this.decoder=new vl}decode(a,c=null){let f,d;if(c!=null&&c.has(ve.PURE_BARCODE)){const N=Xi.extractPureBits(a.getBlackMatrix());f=this.decoder.decode(N),d=Xi.NO_POINTS}else{const N=new Jn(a.getBlackMatrix()).detect();f=this.decoder.decode(N.getBits()),d=N.getPoints()}const p=f.getRawBytes(),v=new he(f.getText(),p,8*p.length,d,_e.DATA_MATRIX,I.currentTimeMillis()),E=f.getByteSegments();E!=null&&v.putMetadata(Ze.BYTE_SEGMENTS,E);const S=f.getECLevel();return S!=null&&v.putMetadata(Ze.ERROR_CORRECTION_LEVEL,S),v}reset(){}static extractPureBits(a){const c=a.getTopLeftOnBit(),f=a.getBottomRightOnBit();if(c==null||f==null)throw new Ee;const d=this.moduleSize(c,a);let p=c[1];const v=f[1];let E=c[0];const N=(f[0]-E+1)/d,P=(v-p+1)/d;if(N<=0||P<=0)throw new Ee;const G=d/2;p+=G,E+=G;const K=new pt(N,P);for(let ce=0;ce<P;ce++){const xe=p+ce*d;for(let ye=0;ye<N;ye++)a.get(E+ye*d,xe)&&K.set(ye,ce)}return K}static moduleSize(a,c){const f=c.getWidth();let d=a[0];const p=a[1];for(;d<f&&c.get(d,p);)d++;if(d===f)throw new Ee;const v=d-a[0];if(v===0)throw new Ee;return v}}Xi.NO_POINTS=[];class Kf extends fe{constructor(a=500){super(new Xi,a)}}var er;(function(z){z[z.L=0]="L",z[z.M=1]="M",z[z.Q=2]="Q",z[z.H=3]="H"})(er||(er={}));class en{constructor(a,c,f){this.value=a,this.stringValue=c,this.bits=f,en.FOR_BITS.set(f,this),en.FOR_VALUE.set(a,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(a){switch(a){case"L":return en.L;case"M":return en.M;case"Q":return en.Q;case"H":return en.H;default:throw new _(a+"not available")}}toString(){return this.stringValue}equals(a){if(!(a instanceof en))return!1;const c=a;return this.value===c.value}static forBits(a){if(a<0||a>=en.FOR_BITS.size)throw new A;return en.FOR_BITS.get(a)}}en.FOR_BITS=new Map,en.FOR_VALUE=new Map,en.L=new en(er.L,"L",1),en.M=new en(er.M,"M",0),en.Q=new en(er.Q,"Q",3),en.H=new en(er.H,"H",2);class _r{constructor(a){this.errorCorrectionLevel=en.forBits(a>>3&3),this.dataMask=a&7}static numBitsDiffering(a,c){return W.bitCount(a^c)}static decodeFormatInformation(a,c){const f=_r.doDecodeFormatInformation(a,c);return f!==null?f:_r.doDecodeFormatInformation(a^_r.FORMAT_INFO_MASK_QR,c^_r.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(a,c){let f=Number.MAX_SAFE_INTEGER,d=0;for(const p of _r.FORMAT_INFO_DECODE_LOOKUP){const v=p[0];if(v===a||v===c)return new _r(p[1]);let E=_r.numBitsDiffering(a,v);E<f&&(d=p[1],f=E),a!==c&&(E=_r.numBitsDiffering(c,v),E<f&&(d=p[1],f=E))}return f<=3?new _r(d):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(a){if(!(a instanceof _r))return!1;const c=a;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}_r.FORMAT_INFO_MASK_QR=21522,_r.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Se{constructor(a,...c){this.ecCodewordsPerBlock=a,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let a=0;const c=this.ecBlocks;for(const f of c)a+=f.getCount();return a}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ae{constructor(a,c){this.count=a,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ft{constructor(a,c,...f){this.versionNumber=a,this.alignmentPatternCenters=c,this.ecBlocks=f;let d=0;const p=f[0].getECCodewordsPerBlock(),v=f[0].getECBlocks();for(const E of v)d+=E.getCount()*(E.getDataCodewords()+p);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(a){return this.ecBlocks[a.getValue()]}static getProvisionalVersionForDimension(a){if(a%4!==1)throw new B;try{return this.getVersionForNumber((a-17)/4)}catch{throw new B}}static getVersionForNumber(a){if(a<1||a>40)throw new A;return ft.VERSIONS[a-1]}static decodeVersionInformation(a){let c=Number.MAX_SAFE_INTEGER,f=0;for(let d=0;d<ft.VERSION_DECODE_INFO.length;d++){const p=ft.VERSION_DECODE_INFO[d];if(p===a)return ft.getVersionForNumber(d+7);const v=_r.numBitsDiffering(a,p);v<c&&(f=d+7,c=v)}return c<=3?ft.getVersionForNumber(f):null}buildFunctionPattern(){const a=this.getDimensionForVersion(),c=new pt(a);c.setRegion(0,0,9,9),c.setRegion(a-8,0,8,9),c.setRegion(0,a-8,9,8);const f=this.alignmentPatternCenters.length;for(let d=0;d<f;d++){const p=this.alignmentPatternCenters[d]-2;for(let v=0;v<f;v++)d===0&&(v===0||v===f-1)||d===f-1&&v===0||c.setRegion(this.alignmentPatternCenters[v]-2,p,5,5)}return c.setRegion(6,9,1,a-17),c.setRegion(9,6,a-17,1),this.versionNumber>6&&(c.setRegion(a-11,0,3,6),c.setRegion(0,a-11,6,3)),c}toString(){return""+this.versionNumber}}ft.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ft.VERSIONS=[new ft(1,new Int32Array(0),new Se(7,new ae(1,19)),new Se(10,new ae(1,16)),new Se(13,new ae(1,13)),new Se(17,new ae(1,9))),new ft(2,Int32Array.from([6,18]),new Se(10,new ae(1,34)),new Se(16,new ae(1,28)),new Se(22,new ae(1,22)),new Se(28,new ae(1,16))),new ft(3,Int32Array.from([6,22]),new Se(15,new ae(1,55)),new Se(26,new ae(1,44)),new Se(18,new ae(2,17)),new Se(22,new ae(2,13))),new ft(4,Int32Array.from([6,26]),new Se(20,new ae(1,80)),new Se(18,new ae(2,32)),new Se(26,new ae(2,24)),new Se(16,new ae(4,9))),new ft(5,Int32Array.from([6,30]),new Se(26,new ae(1,108)),new Se(24,new ae(2,43)),new Se(18,new ae(2,15),new ae(2,16)),new Se(22,new ae(2,11),new ae(2,12))),new ft(6,Int32Array.from([6,34]),new Se(18,new ae(2,68)),new Se(16,new ae(4,27)),new Se(24,new ae(4,19)),new Se(28,new ae(4,15))),new ft(7,Int32Array.from([6,22,38]),new Se(20,new ae(2,78)),new Se(18,new ae(4,31)),new Se(18,new ae(2,14),new ae(4,15)),new Se(26,new ae(4,13),new ae(1,14))),new ft(8,Int32Array.from([6,24,42]),new Se(24,new ae(2,97)),new Se(22,new ae(2,38),new ae(2,39)),new Se(22,new ae(4,18),new ae(2,19)),new Se(26,new ae(4,14),new ae(2,15))),new ft(9,Int32Array.from([6,26,46]),new Se(30,new ae(2,116)),new Se(22,new ae(3,36),new ae(2,37)),new Se(20,new ae(4,16),new ae(4,17)),new Se(24,new ae(4,12),new ae(4,13))),new ft(10,Int32Array.from([6,28,50]),new Se(18,new ae(2,68),new ae(2,69)),new Se(26,new ae(4,43),new ae(1,44)),new Se(24,new ae(6,19),new ae(2,20)),new Se(28,new ae(6,15),new ae(2,16))),new ft(11,Int32Array.from([6,30,54]),new Se(20,new ae(4,81)),new Se(30,new ae(1,50),new ae(4,51)),new Se(28,new ae(4,22),new ae(4,23)),new Se(24,new ae(3,12),new ae(8,13))),new ft(12,Int32Array.from([6,32,58]),new Se(24,new ae(2,92),new ae(2,93)),new Se(22,new ae(6,36),new ae(2,37)),new Se(26,new ae(4,20),new ae(6,21)),new Se(28,new ae(7,14),new ae(4,15))),new ft(13,Int32Array.from([6,34,62]),new Se(26,new ae(4,107)),new Se(22,new ae(8,37),new ae(1,38)),new Se(24,new ae(8,20),new ae(4,21)),new Se(22,new ae(12,11),new ae(4,12))),new ft(14,Int32Array.from([6,26,46,66]),new Se(30,new ae(3,115),new ae(1,116)),new Se(24,new ae(4,40),new ae(5,41)),new Se(20,new ae(11,16),new ae(5,17)),new Se(24,new ae(11,12),new ae(5,13))),new ft(15,Int32Array.from([6,26,48,70]),new Se(22,new ae(5,87),new ae(1,88)),new Se(24,new ae(5,41),new ae(5,42)),new Se(30,new ae(5,24),new ae(7,25)),new Se(24,new ae(11,12),new ae(7,13))),new ft(16,Int32Array.from([6,26,50,74]),new Se(24,new ae(5,98),new ae(1,99)),new Se(28,new ae(7,45),new ae(3,46)),new Se(24,new ae(15,19),new ae(2,20)),new Se(30,new ae(3,15),new ae(13,16))),new ft(17,Int32Array.from([6,30,54,78]),new Se(28,new ae(1,107),new ae(5,108)),new Se(28,new ae(10,46),new ae(1,47)),new Se(28,new ae(1,22),new ae(15,23)),new Se(28,new ae(2,14),new ae(17,15))),new ft(18,Int32Array.from([6,30,56,82]),new Se(30,new ae(5,120),new ae(1,121)),new Se(26,new ae(9,43),new ae(4,44)),new Se(28,new ae(17,22),new ae(1,23)),new Se(28,new ae(2,14),new ae(19,15))),new ft(19,Int32Array.from([6,30,58,86]),new Se(28,new ae(3,113),new ae(4,114)),new Se(26,new ae(3,44),new ae(11,45)),new Se(26,new ae(17,21),new ae(4,22)),new Se(26,new ae(9,13),new ae(16,14))),new ft(20,Int32Array.from([6,34,62,90]),new Se(28,new ae(3,107),new ae(5,108)),new Se(26,new ae(3,41),new ae(13,42)),new Se(30,new ae(15,24),new ae(5,25)),new Se(28,new ae(15,15),new ae(10,16))),new ft(21,Int32Array.from([6,28,50,72,94]),new Se(28,new ae(4,116),new ae(4,117)),new Se(26,new ae(17,42)),new Se(28,new ae(17,22),new ae(6,23)),new Se(30,new ae(19,16),new ae(6,17))),new ft(22,Int32Array.from([6,26,50,74,98]),new Se(28,new ae(2,111),new ae(7,112)),new Se(28,new ae(17,46)),new Se(30,new ae(7,24),new ae(16,25)),new Se(24,new ae(34,13))),new ft(23,Int32Array.from([6,30,54,78,102]),new Se(30,new ae(4,121),new ae(5,122)),new Se(28,new ae(4,47),new ae(14,48)),new Se(30,new ae(11,24),new ae(14,25)),new Se(30,new ae(16,15),new ae(14,16))),new ft(24,Int32Array.from([6,28,54,80,106]),new Se(30,new ae(6,117),new ae(4,118)),new Se(28,new ae(6,45),new ae(14,46)),new Se(30,new ae(11,24),new ae(16,25)),new Se(30,new ae(30,16),new ae(2,17))),new ft(25,Int32Array.from([6,32,58,84,110]),new Se(26,new ae(8,106),new ae(4,107)),new Se(28,new ae(8,47),new ae(13,48)),new Se(30,new ae(7,24),new ae(22,25)),new Se(30,new ae(22,15),new ae(13,16))),new ft(26,Int32Array.from([6,30,58,86,114]),new Se(28,new ae(10,114),new ae(2,115)),new Se(28,new ae(19,46),new ae(4,47)),new Se(28,new ae(28,22),new ae(6,23)),new Se(30,new ae(33,16),new ae(4,17))),new ft(27,Int32Array.from([6,34,62,90,118]),new Se(30,new ae(8,122),new ae(4,123)),new Se(28,new ae(22,45),new ae(3,46)),new Se(30,new ae(8,23),new ae(26,24)),new Se(30,new ae(12,15),new ae(28,16))),new ft(28,Int32Array.from([6,26,50,74,98,122]),new Se(30,new ae(3,117),new ae(10,118)),new Se(28,new ae(3,45),new ae(23,46)),new Se(30,new ae(4,24),new ae(31,25)),new Se(30,new ae(11,15),new ae(31,16))),new ft(29,Int32Array.from([6,30,54,78,102,126]),new Se(30,new ae(7,116),new ae(7,117)),new Se(28,new ae(21,45),new ae(7,46)),new Se(30,new ae(1,23),new ae(37,24)),new Se(30,new ae(19,15),new ae(26,16))),new ft(30,Int32Array.from([6,26,52,78,104,130]),new Se(30,new ae(5,115),new ae(10,116)),new Se(28,new ae(19,47),new ae(10,48)),new Se(30,new ae(15,24),new ae(25,25)),new Se(30,new ae(23,15),new ae(25,16))),new ft(31,Int32Array.from([6,30,56,82,108,134]),new Se(30,new ae(13,115),new ae(3,116)),new Se(28,new ae(2,46),new ae(29,47)),new Se(30,new ae(42,24),new ae(1,25)),new Se(30,new ae(23,15),new ae(28,16))),new ft(32,Int32Array.from([6,34,60,86,112,138]),new Se(30,new ae(17,115)),new Se(28,new ae(10,46),new ae(23,47)),new Se(30,new ae(10,24),new ae(35,25)),new Se(30,new ae(19,15),new ae(35,16))),new ft(33,Int32Array.from([6,30,58,86,114,142]),new Se(30,new ae(17,115),new ae(1,116)),new Se(28,new ae(14,46),new ae(21,47)),new Se(30,new ae(29,24),new ae(19,25)),new Se(30,new ae(11,15),new ae(46,16))),new ft(34,Int32Array.from([6,34,62,90,118,146]),new Se(30,new ae(13,115),new ae(6,116)),new Se(28,new ae(14,46),new ae(23,47)),new Se(30,new ae(44,24),new ae(7,25)),new Se(30,new ae(59,16),new ae(1,17))),new ft(35,Int32Array.from([6,30,54,78,102,126,150]),new Se(30,new ae(12,121),new ae(7,122)),new Se(28,new ae(12,47),new ae(26,48)),new Se(30,new ae(39,24),new ae(14,25)),new Se(30,new ae(22,15),new ae(41,16))),new ft(36,Int32Array.from([6,24,50,76,102,128,154]),new Se(30,new ae(6,121),new ae(14,122)),new Se(28,new ae(6,47),new ae(34,48)),new Se(30,new ae(46,24),new ae(10,25)),new Se(30,new ae(2,15),new ae(64,16))),new ft(37,Int32Array.from([6,28,54,80,106,132,158]),new Se(30,new ae(17,122),new ae(4,123)),new Se(28,new ae(29,46),new ae(14,47)),new Se(30,new ae(49,24),new ae(10,25)),new Se(30,new ae(24,15),new ae(46,16))),new ft(38,Int32Array.from([6,32,58,84,110,136,162]),new Se(30,new ae(4,122),new ae(18,123)),new Se(28,new ae(13,46),new ae(32,47)),new Se(30,new ae(48,24),new ae(14,25)),new Se(30,new ae(42,15),new ae(32,16))),new ft(39,Int32Array.from([6,26,54,82,110,138,166]),new Se(30,new ae(20,117),new ae(4,118)),new Se(28,new ae(40,47),new ae(7,48)),new Se(30,new ae(43,24),new ae(22,25)),new Se(30,new ae(10,15),new ae(67,16))),new ft(40,Int32Array.from([6,30,58,86,114,142,170]),new Se(30,new ae(19,118),new ae(6,119)),new Se(28,new ae(18,47),new ae(31,48)),new Se(30,new ae(34,24),new ae(34,25)),new Se(30,new ae(20,15),new ae(61,16)))];var or;(function(z){z[z.DATA_MASK_000=0]="DATA_MASK_000",z[z.DATA_MASK_001=1]="DATA_MASK_001",z[z.DATA_MASK_010=2]="DATA_MASK_010",z[z.DATA_MASK_011=3]="DATA_MASK_011",z[z.DATA_MASK_100=4]="DATA_MASK_100",z[z.DATA_MASK_101=5]="DATA_MASK_101",z[z.DATA_MASK_110=6]="DATA_MASK_110",z[z.DATA_MASK_111=7]="DATA_MASK_111"})(or||(or={}));class dr{constructor(a,c){this.value=a,this.isMasked=c}unmaskBitMatrix(a,c){for(let f=0;f<c;f++)for(let d=0;d<c;d++)this.isMasked(f,d)&&a.flip(d,f)}}dr.values=new Map([[or.DATA_MASK_000,new dr(or.DATA_MASK_000,(z,a)=>(z+a&1)===0)],[or.DATA_MASK_001,new dr(or.DATA_MASK_001,(z,a)=>(z&1)===0)],[or.DATA_MASK_010,new dr(or.DATA_MASK_010,(z,a)=>a%3===0)],[or.DATA_MASK_011,new dr(or.DATA_MASK_011,(z,a)=>(z+a)%3===0)],[or.DATA_MASK_100,new dr(or.DATA_MASK_100,(z,a)=>(Math.floor(z/2)+Math.floor(a/3)&1)===0)],[or.DATA_MASK_101,new dr(or.DATA_MASK_101,(z,a)=>z*a%6===0)],[or.DATA_MASK_110,new dr(or.DATA_MASK_110,(z,a)=>z*a%6<3)],[or.DATA_MASK_111,new dr(or.DATA_MASK_111,(z,a)=>(z+a+z*a%3&1)===0)]]);class Mo{constructor(a){const c=a.getHeight();if(c<21||(c&3)!==1)throw new B;this.bitMatrix=a}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let a=0;for(let p=0;p<6;p++)a=this.copyBit(p,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(let p=5;p>=0;p--)a=this.copyBit(8,p,a);const c=this.bitMatrix.getHeight();let f=0;const d=c-7;for(let p=c-1;p>=d;p--)f=this.copyBit(8,p,f);for(let p=c-8;p<c;p++)f=this.copyBit(p,8,f);if(this.parsedFormatInfo=_r.decodeFormatInformation(a,f),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const a=this.bitMatrix.getHeight(),c=Math.floor((a-17)/4);if(c<=6)return ft.getVersionForNumber(c);let f=0;const d=a-11;for(let v=5;v>=0;v--)for(let E=a-9;E>=d;E--)f=this.copyBit(E,v,f);let p=ft.decodeVersionInformation(f);if(p!==null&&p.getDimensionForVersion()===a)return this.parsedVersion=p,p;f=0;for(let v=5;v>=0;v--)for(let E=a-9;E>=d;E--)f=this.copyBit(v,E,f);if(p=ft.decodeVersionInformation(f),p!==null&&p.getDimensionForVersion()===a)return this.parsedVersion=p,p;throw new B}copyBit(a,c,f){return(this.isMirror?this.bitMatrix.get(c,a):this.bitMatrix.get(a,c))?f<<1|1:f<<1}readCodewords(){const a=this.readFormatInformation(),c=this.readVersion(),f=dr.values.get(a.getDataMask()),d=this.bitMatrix.getHeight();f.unmaskBitMatrix(this.bitMatrix,d);const p=c.buildFunctionPattern();let v=!0;const E=new Uint8Array(c.getTotalCodewords());let S=0,N=0,P=0;for(let G=d-1;G>0;G-=2){G===6&&G--;for(let K=0;K<d;K++){const ce=v?d-1-K:K;for(let xe=0;xe<2;xe++)p.get(G-xe,ce)||(P++,N<<=1,this.bitMatrix.get(G-xe,ce)&&(N|=1),P===8&&(E[S++]=N,P=0,N=0))}v=!v}if(S!==c.getTotalCodewords())throw new B;return E}remask(){if(this.parsedFormatInfo===null)return;const a=dr.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c)}setMirror(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a}mirror(){const a=this.bitMatrix;for(let c=0,f=a.getWidth();c<f;c++)for(let d=c+1,p=a.getHeight();d<p;d++)a.get(c,d)!==a.get(d,c)&&(a.flip(d,c),a.flip(c,d))}}class _l{constructor(a,c){this.numDataCodewords=a,this.codewords=c}static getDataBlocks(a,c,f){if(a.length!==c.getTotalCodewords())throw new A;const d=c.getECBlocksForLevel(f);let p=0;const v=d.getECBlocks();for(const xe of v)p+=xe.getCount();const E=new Array(p);let S=0;for(const xe of v)for(let ye=0;ye<xe.getCount();ye++){const Re=xe.getDataCodewords(),Le=d.getECCodewordsPerBlock()+Re;E[S++]=new _l(Re,new Uint8Array(Le))}const N=E[0].codewords.length;let P=E.length-1;for(;P>=0&&E[P].codewords.length!==N;)P--;P++;const G=N-d.getECCodewordsPerBlock();let K=0;for(let xe=0;xe<G;xe++)for(let ye=0;ye<S;ye++)E[ye].codewords[xe]=a[K++];for(let xe=P;xe<S;xe++)E[xe].codewords[G]=a[K++];const ce=E[0].codewords.length;for(let xe=G;xe<ce;xe++)for(let ye=0;ye<S;ye++){const Re=ye<P?xe:xe+1;E[ye].codewords[Re]=a[K++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ei;(function(z){z[z.TERMINATOR=0]="TERMINATOR",z[z.NUMERIC=1]="NUMERIC",z[z.ALPHANUMERIC=2]="ALPHANUMERIC",z[z.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",z[z.BYTE=4]="BYTE",z[z.ECI=5]="ECI",z[z.KANJI=6]="KANJI",z[z.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",z[z.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",z[z.HANZI=9]="HANZI"})(Ei||(Ei={}));class At{constructor(a,c,f,d){this.value=a,this.stringValue=c,this.characterCountBitsForVersions=f,this.bits=d,At.FOR_BITS.set(d,this),At.FOR_VALUE.set(a,this)}static forBits(a){const c=At.FOR_BITS.get(a);if(c===void 0)throw new A;return c}getCharacterCountBits(a){const c=a.getVersionNumber();let f;return c<=9?f=0:c<=26?f=1:f=2,this.characterCountBitsForVersions[f]}getValue(){return this.value}getBits(){return this.bits}equals(a){if(!(a instanceof At))return!1;const c=a;return this.value===c.value}toString(){return this.stringValue}}At.FOR_BITS=new Map,At.FOR_VALUE=new Map,At.TERMINATOR=new At(Ei.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),At.NUMERIC=new At(Ei.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),At.ALPHANUMERIC=new At(Ei.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),At.STRUCTURED_APPEND=new At(Ei.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),At.BYTE=new At(Ei.BYTE,"BYTE",Int32Array.from([8,16,16]),4),At.ECI=new At(Ei.ECI,"ECI",Int32Array.from([0,0,0]),7),At.KANJI=new At(Ei.KANJI,"KANJI",Int32Array.from([8,10,12]),8),At.FNC1_FIRST_POSITION=new At(Ei.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),At.FNC1_SECOND_POSITION=new At(Ei.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),At.HANZI=new At(Ei.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class tr{static decode(a,c,f,d){const p=new di(a);let v=new Z;const E=new Array;let S=-1,N=-1;try{let P=null,G=!1,K;do{if(p.available()<4)K=At.TERMINATOR;else{const ce=p.readBits(4);K=At.forBits(ce)}switch(K){case At.TERMINATOR:break;case At.FNC1_FIRST_POSITION:case At.FNC1_SECOND_POSITION:G=!0;break;case At.STRUCTURED_APPEND:if(p.available()<16)throw new B;S=p.readBits(8),N=p.readBits(8);break;case At.ECI:const ce=tr.parseECIValue(p);if(P=L.getCharacterSetECIByValue(ce),P===null)throw new B;break;case At.HANZI:const xe=p.readBits(4),ye=p.readBits(K.getCharacterCountBits(c));xe===tr.GB2312_SUBSET&&tr.decodeHanziSegment(p,v,ye);break;default:const Re=p.readBits(K.getCharacterCountBits(c));switch(K){case At.NUMERIC:tr.decodeNumericSegment(p,v,Re);break;case At.ALPHANUMERIC:tr.decodeAlphanumericSegment(p,v,Re,G);break;case At.BYTE:tr.decodeByteSegment(p,v,Re,P,E,d);break;case At.KANJI:tr.decodeKanjiSegment(p,v,Re);break;default:throw new B}break}}while(K!==At.TERMINATOR)}catch{throw new B}return new mt(a,v.toString(),E.length===0?null:E,f===null?null:f.toString(),S,N)}static decodeHanziSegment(a,c,f){if(f*13>a.available())throw new B;const d=new Uint8Array(2*f);let p=0;for(;f>0;){const v=a.readBits(13);let E=v/96<<8&4294967295|v%96;E<959?E+=41377:E+=42657,d[p]=E>>8&255,d[p+1]=E&255,p+=2,f--}try{c.append(q.decode(d,Q.GB2312))}catch(v){throw new B(v)}}static decodeKanjiSegment(a,c,f){if(f*13>a.available())throw new B;const d=new Uint8Array(2*f);let p=0;for(;f>0;){const v=a.readBits(13);let E=v/192<<8&4294967295|v%192;E<7936?E+=33088:E+=49472,d[p]=E>>8,d[p+1]=E,p+=2,f--}try{c.append(q.decode(d,Q.SHIFT_JIS))}catch(v){throw new B(v)}}static decodeByteSegment(a,c,f,d,p,v){if(8*f>a.available())throw new B;const E=new Uint8Array(f);for(let N=0;N<f;N++)E[N]=a.readBits(8);let S;d===null?S=Q.guessEncoding(E,v):S=d.getName();try{c.append(q.decode(E,S))}catch(N){throw new B(N)}p.push(E)}static toAlphaNumericChar(a){if(a>=tr.ALPHANUMERIC_CHARS.length)throw new B;return tr.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,c,f,d){const p=c.length();for(;f>1;){if(a.available()<11)throw new B;const v=a.readBits(11);c.append(tr.toAlphaNumericChar(Math.floor(v/45))),c.append(tr.toAlphaNumericChar(v%45)),f-=2}if(f===1){if(a.available()<6)throw new B;c.append(tr.toAlphaNumericChar(a.readBits(6)))}if(d)for(let v=p;v<c.length();v++)c.charAt(v)==="%"&&(v<c.length()-1&&c.charAt(v+1)==="%"?c.deleteCharAt(v+1):c.setCharAt(v,""))}static decodeNumericSegment(a,c,f){for(;f>=3;){if(a.available()<10)throw new B;const d=a.readBits(10);if(d>=1e3)throw new B;c.append(tr.toAlphaNumericChar(Math.floor(d/100))),c.append(tr.toAlphaNumericChar(Math.floor(d/10)%10)),c.append(tr.toAlphaNumericChar(d%10)),f-=3}if(f===2){if(a.available()<7)throw new B;const d=a.readBits(7);if(d>=100)throw new B;c.append(tr.toAlphaNumericChar(Math.floor(d/10))),c.append(tr.toAlphaNumericChar(d%10))}else if(f===1){if(a.available()<4)throw new B;const d=a.readBits(4);if(d>=10)throw new B;c.append(tr.toAlphaNumericChar(d))}}static parseECIValue(a){const c=a.readBits(8);if((c&128)===0)return c&127;if((c&192)===128){const f=a.readBits(8);return(c&63)<<8&4294967295|f}if((c&224)===192){const f=a.readBits(16);return(c&31)<<16&4294967295|f}throw new B}}tr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",tr.GB2312_SUBSET=1;class yu{constructor(a){this.mirrored=a}isMirrored(){return this.mirrored}applyMirroredCorrection(a){if(!this.mirrored||a===null||a.length<3)return;const c=a[0];a[0]=a[2],a[2]=c}}class El{constructor(){this.rsDecoder=new vn(St.QR_CODE_FIELD_256)}decodeBooleanArray(a,c){return this.decodeBitMatrix(pt.parseFromBooleanArray(a),c)}decodeBitMatrix(a,c){const f=new Mo(a);let d=null;try{return this.decodeBitMatrixParser(f,c)}catch(p){d=p}try{f.remask(),f.setMirror(!0),f.readVersion(),f.readFormatInformation(),f.mirror();const p=this.decodeBitMatrixParser(f,c);return p.setOther(new yu(!0)),p}catch(p){throw d!==null?d:p}}decodeBitMatrixParser(a,c){const f=a.readVersion(),d=a.readFormatInformation().getErrorCorrectionLevel(),p=a.readCodewords(),v=_l.getDataBlocks(p,f,d);let E=0;for(const P of v)E+=P.getNumDataCodewords();const S=new Uint8Array(E);let N=0;for(const P of v){const G=P.getCodewords(),K=P.getNumDataCodewords();this.correctErrors(G,K);for(let ce=0;ce<K;ce++)S[N++]=G[ce]}return tr.decode(S,f,d,c)}correctErrors(a,c){const f=new Int32Array(a);try{this.rsDecoder.decode(f,a.length-c)}catch{throw new R}for(let d=0;d<c;d++)a[d]=f[d]}}class Ps extends gt{constructor(a,c,f){super(a,c),this.estimatedModuleSize=f}aboutEquals(a,c,f){if(Math.abs(c-this.getY())<=a&&Math.abs(f-this.getX())<=a){const d=Math.abs(a-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(a,c,f){const d=(this.getX()+c)/2,p=(this.getY()+a)/2,v=(this.estimatedModuleSize+f)/2;return new Ps(d,p,v)}}class Oi{constructor(a,c,f,d,p,v,E){this.image=a,this.startX=c,this.startY=f,this.width=d,this.height=p,this.moduleSize=v,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const a=this.startX,c=this.height,f=this.width,d=a+f,p=this.startY+c/2,v=new Int32Array(3),E=this.image;for(let S=0;S<c;S++){const N=p+((S&1)===0?Math.floor((S+1)/2):-Math.floor((S+1)/2));v[0]=0,v[1]=0,v[2]=0;let P=a;for(;P<d&&!E.get(P,N);)P++;let G=0;for(;P<d;){if(E.get(P,N))if(G===1)v[1]++;else if(G===2){if(this.foundPatternCross(v)){const K=this.handlePossibleCenter(v,N,P);if(K!==null)return K}v[0]=v[2],v[1]=1,v[2]=0,G=1}else v[++G]++;else G===1&&G++,v[G]++;P++}if(this.foundPatternCross(v)){const K=this.handlePossibleCenter(v,N,d);if(K!==null)return K}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Ee}static centerFromEnd(a,c){return c-a[2]-a[1]/2}foundPatternCross(a){const c=this.moduleSize,f=c/2;for(let d=0;d<3;d++)if(Math.abs(c-a[d])>=f)return!1;return!0}crossCheckVertical(a,c,f,d){const p=this.image,v=p.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let S=a;for(;S>=0&&p.get(c,S)&&E[1]<=f;)E[1]++,S--;if(S<0||E[1]>f)return NaN;for(;S>=0&&!p.get(c,S)&&E[0]<=f;)E[0]++,S--;if(E[0]>f)return NaN;for(S=a+1;S<v&&p.get(c,S)&&E[1]<=f;)E[1]++,S++;if(S===v||E[1]>f)return NaN;for(;S<v&&!p.get(c,S)&&E[2]<=f;)E[2]++,S++;if(E[2]>f)return NaN;const N=E[0]+E[1]+E[2];return 5*Math.abs(N-d)>=2*d?NaN:this.foundPatternCross(E)?Oi.centerFromEnd(E,S):NaN}handlePossibleCenter(a,c,f){const d=a[0]+a[1]+a[2],p=Oi.centerFromEnd(a,f),v=this.crossCheckVertical(c,p,2*a[1],d);if(!isNaN(v)){const E=(a[0]+a[1]+a[2])/3;for(const N of this.possibleCenters)if(N.aboutEquals(E,v,p))return N.combineEstimate(v,p,E);const S=new Ps(p,v,E);this.possibleCenters.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return null}}class Fs extends gt{constructor(a,c,f,d){super(a,c),this.estimatedModuleSize=f,this.count=d,d===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(a,c,f){if(Math.abs(c-this.getY())<=a&&Math.abs(f-this.getX())<=a){const d=Math.abs(a-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(a,c,f){const d=this.count+1,p=(this.count*this.getX()+c)/d,v=(this.count*this.getY()+a)/d,E=(this.count*this.estimatedModuleSize+f)/d;return new Fs(p,v,E,d)}}class Pa{constructor(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Er{constructor(a,c){this.image=a,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const c=a!=null&&a.get(ve.TRY_HARDER)!==void 0,f=a!=null&&a.get(ve.PURE_BARCODE)!==void 0,d=this.image,p=d.getHeight(),v=d.getWidth();let E=Math.floor(3*p/(4*Er.MAX_MODULES));(E<Er.MIN_SKIP||c)&&(E=Er.MIN_SKIP);let S=!1;const N=new Int32Array(5);for(let G=E-1;G<p&&!S;G+=E){N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0;let K=0;for(let ce=0;ce<v;ce++)if(d.get(ce,G))(K&1)===1&&K++,N[K]++;else if((K&1)===0)if(K===4)if(Er.foundPatternCross(N)){if(this.handlePossibleCenter(N,G,ce,f)===!0)if(E=2,this.hasSkipped===!0)S=this.haveMultiplyConfirmedCenters();else{const ye=this.findRowSkip();ye>N[2]&&(G+=ye-N[2]-E,ce=v-1)}else{N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,K=3;continue}K=0,N[0]=0,N[1]=0,N[2]=0,N[3]=0,N[4]=0}else N[0]=N[2],N[1]=N[3],N[2]=N[4],N[3]=1,N[4]=0,K=3;else N[++K]++;else N[K]++;Er.foundPatternCross(N)&&this.handlePossibleCenter(N,G,v,f)===!0&&(E=N[0],this.hasSkipped&&(S=this.haveMultiplyConfirmedCenters()))}const P=this.selectBestPatterns();return gt.orderBestPatterns(P),new Pa(P)}static centerFromEnd(a,c){return c-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let c=0;for(let p=0;p<5;p++){const v=a[p];if(v===0)return!1;c+=v}if(c<7)return!1;const f=c/7,d=f/2;return Math.abs(f-a[0])<d&&Math.abs(f-a[1])<d&&Math.abs(3*f-a[2])<3*d&&Math.abs(f-a[3])<d&&Math.abs(f-a[4])<d}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,c,f,d){const p=this.getCrossCheckStateCount();let v=0;const E=this.image;for(;a>=v&&c>=v&&E.get(c-v,a-v);)p[2]++,v++;if(a<v||c<v)return!1;for(;a>=v&&c>=v&&!E.get(c-v,a-v)&&p[1]<=f;)p[1]++,v++;if(a<v||c<v||p[1]>f)return!1;for(;a>=v&&c>=v&&E.get(c-v,a-v)&&p[0]<=f;)p[0]++,v++;if(p[0]>f)return!1;const S=E.getHeight(),N=E.getWidth();for(v=1;a+v<S&&c+v<N&&E.get(c+v,a+v);)p[2]++,v++;if(a+v>=S||c+v>=N)return!1;for(;a+v<S&&c+v<N&&!E.get(c+v,a+v)&&p[3]<f;)p[3]++,v++;if(a+v>=S||c+v>=N||p[3]>=f)return!1;for(;a+v<S&&c+v<N&&E.get(c+v,a+v)&&p[4]<f;)p[4]++,v++;if(p[4]>=f)return!1;const P=p[0]+p[1]+p[2]+p[3]+p[4];return Math.abs(P-d)<2*d&&Er.foundPatternCross(p)}crossCheckVertical(a,c,f,d){const p=this.image,v=p.getHeight(),E=this.getCrossCheckStateCount();let S=a;for(;S>=0&&p.get(c,S);)E[2]++,S--;if(S<0)return NaN;for(;S>=0&&!p.get(c,S)&&E[1]<=f;)E[1]++,S--;if(S<0||E[1]>f)return NaN;for(;S>=0&&p.get(c,S)&&E[0]<=f;)E[0]++,S--;if(E[0]>f)return NaN;for(S=a+1;S<v&&p.get(c,S);)E[2]++,S++;if(S===v)return NaN;for(;S<v&&!p.get(c,S)&&E[3]<f;)E[3]++,S++;if(S===v||E[3]>=f)return NaN;for(;S<v&&p.get(c,S)&&E[4]<f;)E[4]++,S++;if(E[4]>=f)return NaN;const N=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(N-d)>=2*d?NaN:Er.foundPatternCross(E)?Er.centerFromEnd(E,S):NaN}crossCheckHorizontal(a,c,f,d){const p=this.image,v=p.getWidth(),E=this.getCrossCheckStateCount();let S=a;for(;S>=0&&p.get(S,c);)E[2]++,S--;if(S<0)return NaN;for(;S>=0&&!p.get(S,c)&&E[1]<=f;)E[1]++,S--;if(S<0||E[1]>f)return NaN;for(;S>=0&&p.get(S,c)&&E[0]<=f;)E[0]++,S--;if(E[0]>f)return NaN;for(S=a+1;S<v&&p.get(S,c);)E[2]++,S++;if(S===v)return NaN;for(;S<v&&!p.get(S,c)&&E[3]<f;)E[3]++,S++;if(S===v||E[3]>=f)return NaN;for(;S<v&&p.get(S,c)&&E[4]<f;)E[4]++,S++;if(E[4]>=f)return NaN;const N=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(N-d)>=d?NaN:Er.foundPatternCross(E)?Er.centerFromEnd(E,S):NaN}handlePossibleCenter(a,c,f,d){const p=a[0]+a[1]+a[2]+a[3]+a[4];let v=Er.centerFromEnd(a,f),E=this.crossCheckVertical(c,Math.floor(v),a[2],p);if(!isNaN(E)&&(v=this.crossCheckHorizontal(Math.floor(v),Math.floor(E),a[2],p),!isNaN(v)&&(!d||this.crossCheckDiagonal(Math.floor(E),Math.floor(v),a[2],p)))){const S=p/7;let N=!1;const P=this.possibleCenters;for(let G=0,K=P.length;G<K;G++){const ce=P[G];if(ce.aboutEquals(S,E,v)){P[G]=ce.combineEstimate(E,v,S),N=!0;break}}if(!N){const G=new Fs(v,E,S);P.push(G),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(G)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const f of this.possibleCenters)if(f.getCount()>=Er.CENTER_QUORUM)if(c==null)c=f;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-f.getX())-Math.abs(c.getY()-f.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let a=0,c=0;const f=this.possibleCenters.length;for(const v of this.possibleCenters)v.getCount()>=Er.CENTER_QUORUM&&(a++,c+=v.getEstimatedModuleSize());if(a<3)return!1;const d=c/f;let p=0;for(const v of this.possibleCenters)p+=Math.abs(v.getEstimatedModuleSize()-d);return p<=.05*c}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new Ee;const c=this.possibleCenters;let f;if(a>3){let d=0,p=0;for(const S of this.possibleCenters){const N=S.getEstimatedModuleSize();d+=N,p+=N*N}f=d/a;let v=Math.sqrt(p/a-f*f);c.sort((S,N)=>{const P=Math.abs(N.getEstimatedModuleSize()-f),G=Math.abs(S.getEstimatedModuleSize()-f);return P<G?-1:P>G?1:0});const E=Math.max(.2*f,v);for(let S=0;S<c.length&&c.length>3;S++){const N=c[S];Math.abs(N.getEstimatedModuleSize()-f)>E&&(c.splice(S,1),S--)}}if(c.length>3){let d=0;for(const p of c)d+=p.getEstimatedModuleSize();f=d/c.length,c.sort((p,v)=>{if(v.getCount()===p.getCount()){const E=Math.abs(v.getEstimatedModuleSize()-f),S=Math.abs(p.getEstimatedModuleSize()-f);return E<S?1:E>S?-1:0}else return v.getCount()-p.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}Er.CENTER_QUORUM=2,Er.MIN_SKIP=3,Er.MAX_MODULES=57;class Ki{constructor(a){this.image=a}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(a){this.resultPointCallback=a==null?null:a.get(ve.NEED_RESULT_POINT_CALLBACK);const f=new Er(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(f)}processFinderPatternInfo(a){const c=a.getTopLeft(),f=a.getTopRight(),d=a.getBottomLeft(),p=this.calculateModuleSize(c,f,d);if(p<1)throw new Ee("No pattern found in proccess finder.");const v=Ki.computeDimension(c,f,d,p),E=ft.getProvisionalVersionForDimension(v),S=E.getDimensionForVersion()-7;let N=null;if(E.getAlignmentPatternCenters().length>0){const ce=f.getX()-c.getX()+d.getX(),xe=f.getY()-c.getY()+d.getY(),ye=1-3/S,Re=Math.floor(c.getX()+ye*(ce-c.getX())),Le=Math.floor(c.getY()+ye*(xe-c.getY()));for(let nt=4;nt<=16;nt<<=1)try{N=this.findAlignmentInRegion(p,Re,Le,nt);break}catch(at){if(!(at instanceof Ee))throw at}}const P=Ki.createTransform(c,f,d,N,v),G=Ki.sampleGrid(this.image,P,v);let K;return N===null?K=[d,c,f]:K=[d,c,f,N],new Ri(G,K)}static createTransform(a,c,f,d,p){const v=p-3.5;let E,S,N,P;return d!==null?(E=d.getX(),S=d.getY(),N=v-3,P=N):(E=c.getX()-a.getX()+f.getX(),S=c.getY()-a.getY()+f.getY(),N=v,P=v),Zt.quadrilateralToQuadrilateral(3.5,3.5,v,3.5,N,P,3.5,v,a.getX(),a.getY(),c.getX(),c.getY(),E,S,f.getX(),f.getY())}static sampleGrid(a,c,f){return wn.getInstance().sampleGridWithTransform(a,f,f,c)}static computeDimension(a,c,f,d){const p=Tt.round(gt.distance(a,c)/d),v=Tt.round(gt.distance(a,f)/d);let E=Math.floor((p+v)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new Ee("Dimensions could be not found.")}return E}calculateModuleSize(a,c,f){return(this.calculateModuleSizeOneWay(a,c)+this.calculateModuleSizeOneWay(a,f))/2}calculateModuleSizeOneWay(a,c){const f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(c.getX()),Math.floor(c.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(f)?d/7:isNaN(d)?f/7:(f+d)/14}sizeOfBlackWhiteBlackRunBothWays(a,c,f,d){let p=this.sizeOfBlackWhiteBlackRun(a,c,f,d),v=1,E=a-(f-a);E<0?(v=a/(a-E),E=0):E>=this.image.getWidth()&&(v=(this.image.getWidth()-1-a)/(E-a),E=this.image.getWidth()-1);let S=Math.floor(c-(d-c)*v);return v=1,S<0?(v=c/(c-S),S=0):S>=this.image.getHeight()&&(v=(this.image.getHeight()-1-c)/(S-c),S=this.image.getHeight()-1),E=Math.floor(a+(E-a)*v),p+=this.sizeOfBlackWhiteBlackRun(a,c,E,S),p-1}sizeOfBlackWhiteBlackRun(a,c,f,d){const p=Math.abs(d-c)>Math.abs(f-a);if(p){let ce=a;a=c,c=ce,ce=f,f=d,d=ce}const v=Math.abs(f-a),E=Math.abs(d-c);let S=-v/2;const N=a<f?1:-1,P=c<d?1:-1;let G=0;const K=f+N;for(let ce=a,xe=c;ce!==K;ce+=N){const ye=p?xe:ce,Re=p?ce:xe;if(G===1===this.image.get(ye,Re)){if(G===2)return Tt.distance(ce,xe,a,c);G++}if(S+=E,S>0){if(xe===d)break;xe+=P,S-=v}}return G===2?Tt.distance(f+N,d,a,c):NaN}findAlignmentInRegion(a,c,f,d){const p=Math.floor(d*a),v=Math.max(0,c-p),E=Math.min(this.image.getWidth()-1,c+p);if(E-v<a*3)throw new Ee("Alignment top exceeds estimated module size.");const S=Math.max(0,f-p),N=Math.min(this.image.getHeight()-1,f+p);if(N-S<a*3)throw new Ee("Alignment bottom exceeds estimated module size.");return new Oi(this.image,v,S,E-v,N-S,a,this.resultPointCallback).find()}}class Bs{constructor(){this.decoder=new El}getDecoder(){return this.decoder}decode(a,c){let f,d;if(c!=null&&c.get(ve.PURE_BARCODE)!==void 0){const S=Bs.extractPureBits(a.getBlackMatrix());f=this.decoder.decodeBitMatrix(S,c),d=Bs.NO_POINTS}else{const S=new Ki(a.getBlackMatrix()).detect(c);f=this.decoder.decodeBitMatrix(S.getBits(),c),d=S.getPoints()}f.getOther()instanceof yu&&f.getOther().applyMirroredCorrection(d);const p=new he(f.getText(),f.getRawBytes(),void 0,d,_e.QR_CODE,void 0),v=f.getByteSegments();v!==null&&p.putMetadata(Ze.BYTE_SEGMENTS,v);const E=f.getECLevel();return E!==null&&p.putMetadata(Ze.ERROR_CORRECTION_LEVEL,E),f.hasStructuredAppend()&&(p.putMetadata(Ze.STRUCTURED_APPEND_SEQUENCE,f.getStructuredAppendSequenceNumber()),p.putMetadata(Ze.STRUCTURED_APPEND_PARITY,f.getStructuredAppendParity())),p}reset(){}static extractPureBits(a){const c=a.getTopLeftOnBit(),f=a.getBottomRightOnBit();if(c===null||f===null)throw new Ee;const d=this.moduleSize(c,a);let p=c[1],v=f[1],E=c[0],S=f[0];if(E>=S||p>=v)throw new Ee;if(v-p!==S-E&&(S=E+(v-p),S>=a.getWidth()))throw new Ee;const N=Math.round((S-E+1)/d),P=Math.round((v-p+1)/d);if(N<=0||P<=0)throw new Ee;if(P!==N)throw new Ee;const G=Math.floor(d/2);p+=G,E+=G;const K=E+Math.floor((N-1)*d)-S;if(K>0){if(K>G)throw new Ee;E-=K}const ce=p+Math.floor((P-1)*d)-v;if(ce>0){if(ce>G)throw new Ee;p-=ce}const xe=new pt(N,P);for(let ye=0;ye<P;ye++){const Re=p+Math.floor(ye*d);for(let Le=0;Le<N;Le++)a.get(E+Math.floor(Le*d),Re)&&xe.set(Le,ye)}return xe}static moduleSize(a,c){const f=c.getHeight(),d=c.getWidth();let p=a[0],v=a[1],E=!0,S=0;for(;p<d&&v<f;){if(E!==c.get(p,v)){if(++S===5)break;E=!E}p++,v++}if(p===d||v===f)throw new Ee;return(p-a[0])/7}}Bs.NO_POINTS=new Array;class bt{PDF417Common(){}static getBitCountSum(a){return Tt.sum(a)}static toIntArray(a){if(a==null||!a.length)return bt.EMPTY_INT_ARRAY;const c=new Int32Array(a.length);let f=0;for(const d of a)c[f++]=d;return c}static getCodeword(a){const c=Y.binarySearch(bt.SYMBOL_TABLE,a&262143);return c<0?-1:(bt.CODEWORD_TABLE[c]-1)%bt.NUMBER_OF_CODEWORDS}}bt.NUMBER_OF_CODEWORDS=929,bt.MAX_CODEWORDS_IN_BARCODE=bt.NUMBER_OF_CODEWORDS-1,bt.MIN_ROWS_IN_BARCODE=3,bt.MAX_ROWS_IN_BARCODE=90,bt.MODULES_IN_CODEWORD=17,bt.MODULES_IN_STOP_PATTERN=18,bt.BARS_IN_MODULE=8,bt.EMPTY_INT_ARRAY=new Int32Array([]),bt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),bt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Us{constructor(a,c){this.bits=a,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class Dt{static detectMultiple(a,c,f){let d=a.getBlackMatrix(),p=Dt.detect(f,d);return p.length||(d=d.clone(),d.rotate180(),p=Dt.detect(f,d)),new Us(d,p)}static detect(a,c){const f=new Array;let d=0,p=0,v=!1;for(;d<c.getHeight();){const E=Dt.findVertices(c,d,p);if(E[0]==null&&E[3]==null){if(!v)break;v=!1,p=0;for(const S of f)S[1]!=null&&(d=Math.trunc(Math.max(d,S[1].getY()))),S[3]!=null&&(d=Math.max(d,Math.trunc(S[3].getY())));d+=Dt.ROW_STEP;continue}if(v=!0,f.push(E),!a)break;E[2]!=null?(p=Math.trunc(E[2].getX()),d=Math.trunc(E[2].getY())):(p=Math.trunc(E[4].getX()),d=Math.trunc(E[4].getY()))}return f}static findVertices(a,c,f){const d=a.getHeight(),p=a.getWidth(),v=new Array(8);return Dt.copyToResult(v,Dt.findRowsWithPattern(a,d,p,c,f,Dt.START_PATTERN),Dt.INDEXES_START_PATTERN),v[4]!=null&&(f=Math.trunc(v[4].getX()),c=Math.trunc(v[4].getY())),Dt.copyToResult(v,Dt.findRowsWithPattern(a,d,p,c,f,Dt.STOP_PATTERN),Dt.INDEXES_STOP_PATTERN),v}static copyToResult(a,c,f){for(let d=0;d<f.length;d++)a[f[d]]=c[d]}static findRowsWithPattern(a,c,f,d,p,v){const E=new Array(4);let S=!1;const N=new Int32Array(v.length);for(;d<c;d+=Dt.ROW_STEP){let G=Dt.findGuardPattern(a,p,d,f,!1,v,N);if(G!=null){for(;d>0;){const K=Dt.findGuardPattern(a,p,--d,f,!1,v,N);if(K!=null)G=K;else{d++;break}}E[0]=new gt(G[0],d),E[1]=new gt(G[1],d),S=!0;break}}let P=d+1;if(S){let G=0,K=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;P<c;P++){const ce=Dt.findGuardPattern(a,K[0],P,f,!1,v,N);if(ce!=null&&Math.abs(K[0]-ce[0])<Dt.MAX_PATTERN_DRIFT&&Math.abs(K[1]-ce[1])<Dt.MAX_PATTERN_DRIFT)K=ce,G=0;else{if(G>Dt.SKIPPED_ROW_COUNT_MAX)break;G++}}P-=G+1,E[2]=new gt(K[0],P),E[3]=new gt(K[1],P)}return P-d<Dt.BARCODE_MIN_HEIGHT&&Y.fill(E,null),E}static findGuardPattern(a,c,f,d,p,v,E){Y.fillWithin(E,0,E.length,0);let S=c,N=0;for(;a.get(S,f)&&S>0&&N++<Dt.MAX_PIXEL_DRIFT;)S--;let P=S,G=0,K=v.length;for(let ce=p;P<d;P++)if(a.get(P,f)!==ce)E[G]++;else{if(G===K-1){if(Dt.patternMatchVariance(E,v,Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return new Int32Array([S,P]);S+=E[0]+E[1],I.arraycopy(E,2,E,0,G-1),E[G-1]=0,E[G]=0,G--}else G++;E[G]=1,ce=!ce}return G===K-1&&Dt.patternMatchVariance(E,v,Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE?new Int32Array([S,P-1]):null}static patternMatchVariance(a,c,f){let d=a.length,p=0,v=0;for(let N=0;N<d;N++)p+=a[N],v+=c[N];if(p<v)return 1/0;let E=p/v;f*=E;let S=0;for(let N=0;N<d;N++){let P=a[N],G=c[N]*E,K=P>G?P-G:G-P;if(K>f)return 1/0;S+=K}return S/p}}Dt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Dt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Dt.MAX_AVG_VARIANCE=.42,Dt.MAX_INDIVIDUAL_VARIANCE=.8,Dt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Dt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Dt.MAX_PIXEL_DRIFT=3,Dt.MAX_PATTERN_DRIFT=5,Dt.SKIPPED_ROW_COUNT_MAX=25,Dt.ROW_STEP=5,Dt.BARCODE_MIN_HEIGHT=10;class gr{constructor(a,c){if(c.length===0)throw new A;this.field=a;let f=c.length;if(f>1&&c[0]===0){let d=1;for(;d<f&&c[d]===0;)d++;d===f?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(f-d),I.arraycopy(c,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);if(a===1){let d=0;for(let p of this.coefficients)d=this.field.add(d,p);return d}let c=this.coefficients[0],f=this.coefficients.length;for(let d=1;d<f;d++)c=this.field.add(this.field.multiply(a,c),this.coefficients[d]);return c}add(a){if(!this.field.equals(a.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return a;if(a.isZero())return this;let c=this.coefficients,f=a.coefficients;if(c.length>f.length){let v=c;c=f,f=v}let d=new Int32Array(f.length),p=f.length-c.length;I.arraycopy(f,0,d,0,p);for(let v=p;v<f.length;v++)d[v]=this.field.add(c[v-p],f[v]);return new gr(this.field,d)}subtract(a){if(!this.field.equals(a.field))throw new A("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())}multiply(a){return a instanceof gr?this.multiplyOther(a):this.multiplyScalar(a)}multiplyOther(a){if(!this.field.equals(a.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||a.isZero())return new gr(this.field,new Int32Array([0]));let c=this.coefficients,f=c.length,d=a.coefficients,p=d.length,v=new Int32Array(f+p-1);for(let E=0;E<f;E++){let S=c[E];for(let N=0;N<p;N++)v[E+N]=this.field.add(v[E+N],this.field.multiply(S,d[N]))}return new gr(this.field,v)}negative(){let a=this.coefficients.length,c=new Int32Array(a);for(let f=0;f<a;f++)c[f]=this.field.subtract(0,this.coefficients[f]);return new gr(this.field,c)}multiplyScalar(a){if(a===0)return new gr(this.field,new Int32Array([0]));if(a===1)return this;let c=this.coefficients.length,f=new Int32Array(c);for(let d=0;d<c;d++)f[d]=this.field.multiply(this.coefficients[d],a);return new gr(this.field,f)}multiplyByMonomial(a,c){if(a<0)throw new A;if(c===0)return new gr(this.field,new Int32Array([0]));let f=this.coefficients.length,d=new Int32Array(f+a);for(let p=0;p<f;p++)d[p]=this.field.multiply(this.coefficients[p],c);return new gr(this.field,d)}toString(){let a=new Z;for(let c=this.getDegree();c>=0;c--){let f=this.getCoefficient(c);f!==0&&(f<0?(a.append(" - "),f=-f):a.length()>0&&a.append(" + "),(c===0||f!==1)&&a.append(f),c!==0&&(c===1?a.append("x"):(a.append("x^"),a.append(c))))}return a.toString()}}class da{add(a,c){return(a+c)%this.modulus}subtract(a,c){return(this.modulus+a-c)%this.modulus}exp(a){return this.expTable[a]}log(a){if(a===0)throw new A;return this.logTable[a]}inverse(a){if(a===0)throw new Pt;return this.expTable[this.modulus-this.logTable[a]-1]}multiply(a,c){return a===0||c===0?0:this.expTable[(this.logTable[a]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(a){return a===this}}class ga extends da{constructor(a,c){super(),this.modulus=a,this.expTable=new Int32Array(a),this.logTable=new Int32Array(a);let f=1;for(let d=0;d<a;d++)this.expTable[d]=f,f=f*c%a;for(let d=0;d<a-1;d++)this.logTable[this.expTable[d]]=d;this.zero=new gr(this,new Int32Array([0])),this.one=new gr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,c){if(a<0)throw new A;if(c===0)return this.zero;let f=new Int32Array(a+1);return f[0]=c,new gr(this,f)}}ga.PDF417_GF=new ga(bt.NUMBER_OF_CODEWORDS,3);class ma{constructor(){this.field=ga.PDF417_GF}decode(a,c,f){let d=new gr(this.field,a),p=new Int32Array(c),v=!1;for(let xe=c;xe>0;xe--){let ye=d.evaluateAt(this.field.exp(xe));p[c-xe]=ye,ye!==0&&(v=!0)}if(!v)return 0;let E=this.field.getOne();if(f!=null)for(const xe of f){let ye=this.field.exp(a.length-1-xe),Re=new gr(this.field,new Int32Array([this.field.subtract(0,ye),1]));E=E.multiply(Re)}let S=new gr(this.field,p),N=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),S,c),P=N[0],G=N[1],K=this.findErrorLocations(P),ce=this.findErrorMagnitudes(G,P,K);for(let xe=0;xe<K.length;xe++){let ye=a.length-1-this.field.log(K[xe]);if(ye<0)throw R.getChecksumInstance();a[ye]=this.field.subtract(a[ye],ce[xe])}return K.length}runEuclideanAlgorithm(a,c,f){if(a.getDegree()<c.getDegree()){let K=a;a=c,c=K}let d=a,p=c,v=this.field.getZero(),E=this.field.getOne();for(;p.getDegree()>=Math.round(f/2);){let K=d,ce=v;if(d=p,v=E,d.isZero())throw R.getChecksumInstance();p=K;let xe=this.field.getZero(),ye=d.getCoefficient(d.getDegree()),Re=this.field.inverse(ye);for(;p.getDegree()>=d.getDegree()&&!p.isZero();){let Le=p.getDegree()-d.getDegree(),nt=this.field.multiply(p.getCoefficient(p.getDegree()),Re);xe=xe.add(this.field.buildMonomial(Le,nt)),p=p.subtract(d.multiplyByMonomial(Le,nt))}E=xe.multiply(v).subtract(ce).negative()}let S=E.getCoefficient(0);if(S===0)throw R.getChecksumInstance();let N=this.field.inverse(S),P=E.multiply(N),G=p.multiply(N);return[P,G]}findErrorLocations(a){let c=a.getDegree(),f=new Int32Array(c),d=0;for(let p=1;p<this.field.getSize()&&d<c;p++)a.evaluateAt(p)===0&&(f[d]=this.field.inverse(p),d++);if(d!==c)throw R.getChecksumInstance();return f}findErrorMagnitudes(a,c,f){let d=c.getDegree(),p=new Int32Array(d);for(let N=1;N<=d;N++)p[d-N]=this.field.multiply(N,c.getCoefficient(N));let v=new gr(this.field,p),E=f.length,S=new Int32Array(E);for(let N=0;N<E;N++){let P=this.field.inverse(f[N]),G=this.field.subtract(0,a.evaluateAt(P)),K=this.field.inverse(v.evaluateAt(P));S[N]=this.field.multiply(G,K)}return S}}class Vs{constructor(a,c,f,d,p){a instanceof Vs?this.constructor_2(a):this.constructor_1(a,c,f,d,p)}constructor_1(a,c,f,d,p){const v=c==null||f==null,E=d==null||p==null;if(v&&E)throw new Ee;v?(c=new gt(0,d.getY()),f=new gt(0,p.getY())):E&&(d=new gt(a.getWidth()-1,c.getY()),p=new gt(a.getWidth()-1,f.getY())),this.image=a,this.topLeft=c,this.bottomLeft=f,this.topRight=d,this.bottomRight=p,this.minX=Math.trunc(Math.min(c.getX(),f.getX())),this.maxX=Math.trunc(Math.max(d.getX(),p.getX())),this.minY=Math.trunc(Math.min(c.getY(),d.getY())),this.maxY=Math.trunc(Math.max(f.getY(),p.getY()))}constructor_2(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()}static merge(a,c){return a==null?c:c==null?a:new Vs(a.image,a.topLeft,a.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(a,c,f){let d=this.topLeft,p=this.bottomLeft,v=this.topRight,E=this.bottomRight;if(a>0){let S=f?this.topLeft:this.topRight,N=Math.trunc(S.getY()-a);N<0&&(N=0);let P=new gt(S.getX(),N);f?d=P:v=P}if(c>0){let S=f?this.bottomLeft:this.bottomRight,N=Math.trunc(S.getY()+c);N>=this.image.getHeight()&&(N=this.image.getHeight()-1);let P=new gt(S.getX(),N);f?p=P:E=P}return new Vs(this.image,d,p,v,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class pa{constructor(a,c,f,d){this.columnCount=a,this.errorCorrectionLevel=d,this.rowCountUpperPart=c,this.rowCountLowerPart=f,this.rowCount=c+f}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Qi{constructor(){this.buffer=""}static form(a,c){let f=-1;function d(v,E,S,N,P,G){if(v==="%%")return"%";if(c[++f]===void 0)return;v=N?parseInt(N.substr(1)):void 0;let K=P?parseInt(P.substr(1)):void 0,ce;switch(G){case"s":ce=c[f];break;case"c":ce=c[f][0];break;case"f":ce=parseFloat(c[f]).toFixed(v);break;case"p":ce=parseFloat(c[f]).toPrecision(v);break;case"e":ce=parseFloat(c[f]).toExponential(v);break;case"x":ce=parseInt(c[f]).toString(K||16);break;case"d":ce=parseFloat(parseInt(c[f],K||10).toPrecision(v)).toFixed(0);break}ce=typeof ce=="object"?JSON.stringify(ce):(+ce).toString(K);let xe=parseInt(S),ye=S&&S[0]+""=="0"?"0":" ";for(;ce.length<xe;)ce=E!==void 0?ce+ye:ye+ce;return ce}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(p,d)}format(a,...c){this.buffer+=Qi.form(a,c)}toString(){return this.buffer}}class Fa{constructor(a){this.boundingBox=new Vs(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let c=this.getCodeword(a);if(c!=null)return c;for(let f=1;f<Fa.MAX_NEARBY_DISTANCE;f++){let d=this.imageRowToCodewordIndex(a)-f;if(d>=0&&(c=this.codewords[d],c!=null)||(d=this.imageRowToCodewordIndex(a)+f,d<this.codewords.length&&(c=this.codewords[d],c!=null)))return c}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,c){this.codewords[this.imageRowToCodewordIndex(a)]=c}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new Qi;let c=0;for(const f of this.codewords){if(f==null){a.format("%3d:    |   %n",c++);continue}a.format("%3d: %3d|%3d%n",c++,f.getRowNumber(),f.getValue())}return a.toString()}}Fa.MAX_NEARBY_DISTANCE=5;class wr{constructor(){this.values=new Map}setValue(a){a=Math.trunc(a);let c=this.values.get(a);c==null&&(c=0),c++,this.values.set(a,c)}getValue(){let a=-1,c=new Array;for(const[f,d]of this.values.entries()){const p={getKey:()=>f,getValue:()=>d};p.getValue()>a?(a=p.getValue(),c=[],c.push(p.getKey())):p.getValue()===a&&c.push(p.getKey())}return bt.toIntArray(c)}getConfidence(a){return this.values.get(a)}}class An extends Fa{constructor(a,c){super(a),this._isLeft=c}setRowNumbers(){for(let a of this.getCodewords())a!=null&&a.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(a){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,a);let f=this.getBoundingBox(),d=this._isLeft?f.getTopLeft():f.getTopRight(),p=this._isLeft?f.getBottomLeft():f.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(d.getY())),E=this.imageRowToCodewordIndex(Math.trunc(p.getY())),S=-1,N=1,P=0;for(let G=v;G<E;G++){if(c[G]==null)continue;let K=c[G],ce=K.getRowNumber()-S;if(ce===0)P++;else if(ce===1)N=Math.max(N,P),P=1,S=K.getRowNumber();else if(ce<0||K.getRowNumber()>=a.getRowCount()||ce>G)c[G]=null;else{let xe;N>2?xe=(N-2)*ce:xe=ce;let ye=xe>=G;for(let Re=1;Re<=xe&&!ye;Re++)ye=c[G-Re]!=null;ye?c[G]=null:(S=K.getRowNumber(),P=1)}}}getRowHeights(){let a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);let c=new Int32Array(a.getRowCount());for(let f of this.getCodewords())if(f!=null){let d=f.getRowNumber();if(d>=c.length)continue;c[d]++}return c}adjustIncompleteIndicatorColumnRowNumbers(a){let c=this.getBoundingBox(),f=this._isLeft?c.getTopLeft():c.getTopRight(),d=this._isLeft?c.getBottomLeft():c.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(f.getY())),v=this.imageRowToCodewordIndex(Math.trunc(d.getY())),E=this.getCodewords(),S=-1;for(let N=p;N<v;N++){if(E[N]==null)continue;let P=E[N];P.setRowNumberAsRowIndicatorColumn();let G=P.getRowNumber()-S;G===0||(G===1?S=P.getRowNumber():P.getRowNumber()>=a.getRowCount()?E[N]=null:S=P.getRowNumber())}}getBarcodeMetadata(){let a=this.getCodewords(),c=new wr,f=new wr,d=new wr,p=new wr;for(let E of a){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let S=E.getValue()%30,N=E.getRowNumber();switch(this._isLeft||(N+=2),N%3){case 0:f.setValue(S*3+1);break;case 1:p.setValue(S/3),d.setValue(S%3);break;case 2:c.setValue(S+1);break}}if(c.getValue().length===0||f.getValue().length===0||d.getValue().length===0||p.getValue().length===0||c.getValue()[0]<1||f.getValue()[0]+d.getValue()[0]<bt.MIN_ROWS_IN_BARCODE||f.getValue()[0]+d.getValue()[0]>bt.MAX_ROWS_IN_BARCODE)return null;let v=new pa(c.getValue()[0],f.getValue()[0],d.getValue()[0],p.getValue()[0]);return this.removeIncorrectCodewords(a,v),v}removeIncorrectCodewords(a,c){for(let f=0;f<a.length;f++){let d=a[f];if(a[f]==null)continue;let p=d.getValue()%30,v=d.getRowNumber();if(v>c.getRowCount()){a[f]=null;continue}switch(this._isLeft||(v+=2),v%3){case 0:p*3+1!==c.getRowCountUpperPart()&&(a[f]=null);break;case 1:(Math.trunc(p/3)!==c.getErrorCorrectionLevel()||p%3!==c.getRowCountLowerPart())&&(a[f]=null);break;case 2:p+1!==c.getColumnCount()&&(a[f]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class xa{constructor(a,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a=bt.MAX_CODEWORDS_IN_BARCODE,c;do c=a,a=this.adjustRowNumbersAndGetCount();while(a>0&&a<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(a){a!=null&&a.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let a=this.adjustRowNumbersByRow();if(a===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let f=this.detectionResultColumns[c].getCodewords();for(let d=0;d<f.length;d++)f[d]!=null&&(f[d].hasValidRowNumber()||this.adjustRowNumbers(c,d,f))}return a}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let a=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<a.length;f++)if(a[f]!=null&&c[f]!=null&&a[f].getRowNumber()===c[f].getRowNumber())for(let d=1;d<=this.barcodeColumnCount;d++){let p=this.detectionResultColumns[d].getCodewords()[f];p!=null&&(p.setRowNumber(a[f].getRowNumber()),p.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[f]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let a=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<c.length;f++){if(c[f]==null)continue;let d=c[f].getRowNumber(),p=0;for(let v=this.barcodeColumnCount+1;v>0&&p<this.ADJUST_ROW_NUMBER_SKIP;v--){let E=this.detectionResultColumns[v].getCodewords()[f];E!=null&&(p=xa.adjustRowNumberIfValid(d,p,E),E.hasValidRowNumber()||a++)}}return a}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let a=0,c=this.detectionResultColumns[0].getCodewords();for(let f=0;f<c.length;f++){if(c[f]==null)continue;let d=c[f].getRowNumber(),p=0;for(let v=1;v<this.barcodeColumnCount+1&&p<this.ADJUST_ROW_NUMBER_SKIP;v++){let E=this.detectionResultColumns[v].getCodewords()[f];E!=null&&(p=xa.adjustRowNumberIfValid(d,p,E),E.hasValidRowNumber()||a++)}}return a}static adjustRowNumberIfValid(a,c,f){return f==null||f.hasValidRowNumber()||(f.isValidRowNumber(a)?(f.setRowNumber(a),c=0):++c),c}adjustRowNumbers(a,c,f){if(!this.detectionResultColumns[a-1])return;let d=f[c],p=this.detectionResultColumns[a-1].getCodewords(),v=p;this.detectionResultColumns[a+1]!=null&&(v=this.detectionResultColumns[a+1].getCodewords());let E=new Array(14);E[2]=p[c],E[3]=v[c],c>0&&(E[0]=f[c-1],E[4]=p[c-1],E[5]=v[c-1]),c>1&&(E[8]=f[c-2],E[10]=p[c-2],E[11]=v[c-2]),c<f.length-1&&(E[1]=f[c+1],E[6]=p[c+1],E[7]=v[c+1]),c<f.length-2&&(E[9]=f[c+2],E[12]=p[c+2],E[13]=v[c+2]);for(let S of E)if(xa.adjustRowNumber(d,S))return}static adjustRowNumber(a,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===a.getBucket()?(a.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(a){this.boundingBox=a}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(a,c){this.detectionResultColumns[a]=c}getDetectionResultColumn(a){return this.detectionResultColumns[a]}toString(){let a=this.detectionResultColumns[0];a==null&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new Qi;for(let f=0;f<a.getCodewords().length;f++){c.format("CW %3d:",f);for(let d=0;d<this.barcodeColumnCount+2;d++){if(this.detectionResultColumns[d]==null){c.format("    |   ");continue}let p=this.detectionResultColumns[d].getCodewords()[f];if(p==null){c.format("    |   ");continue}c.format(" %3d|%3d",p.getRowNumber(),p.getValue())}c.format("%n")}return c.toString()}}class js{constructor(a,c,f,d){this.rowNumber=js.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(c),this.bucket=Math.trunc(f),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==js.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}js.BARCODE_ROW_UNKNOWN=-1;class gi{static initialize(){for(let a=0;a<bt.SYMBOL_TABLE.length;a++){let c=bt.SYMBOL_TABLE[a],f=c&1;for(let d=0;d<bt.BARS_IN_MODULE;d++){let p=0;for(;(c&1)===f;)p+=1,c>>=1;f=c&1,gi.RATIOS_TABLE[a]||(gi.RATIOS_TABLE[a]=new Array(bt.BARS_IN_MODULE)),gi.RATIOS_TABLE[a][bt.BARS_IN_MODULE-d-1]=Math.fround(p/bt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(a){let c=gi.getDecodedCodewordValue(gi.sampleBitCounts(a));return c!==-1?c:gi.getClosestDecodedValue(a)}static sampleBitCounts(a){let c=Tt.sum(a),f=new Int32Array(bt.BARS_IN_MODULE),d=0,p=0;for(let v=0;v<bt.MODULES_IN_CODEWORD;v++){let E=c/(2*bt.MODULES_IN_CODEWORD)+v*c/bt.MODULES_IN_CODEWORD;p+a[d]<=E&&(p+=a[d],d++),f[d]++}return f}static getDecodedCodewordValue(a){let c=gi.getBitValue(a);return bt.getCodeword(c)===-1?-1:c}static getBitValue(a){let c=0;for(let f=0;f<a.length;f++)for(let d=0;d<a[f];d++)c=c<<1|(f%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(a){let c=Tt.sum(a),f=new Array(bt.BARS_IN_MODULE);if(c>1)for(let v=0;v<f.length;v++)f[v]=Math.fround(a[v]/c);let d=vr.MAX_VALUE,p=-1;this.bSymbolTableReady||gi.initialize();for(let v=0;v<gi.RATIOS_TABLE.length;v++){let E=0,S=gi.RATIOS_TABLE[v];for(let N=0;N<bt.BARS_IN_MODULE;N++){let P=Math.fround(S[N]-f[N]);if(E+=Math.fround(P*P),E>=d)break}E<d&&(d=E,p=bt.SYMBOL_TABLE[v])}return p}}gi.bSymbolTableReady=!1,gi.RATIOS_TABLE=new Array(bt.SYMBOL_TABLE.length).map(z=>new Array(bt.BARS_IN_MODULE));class ko{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(a){this.segmentIndex=a}getFileId(){return this.fileId}setFileId(a){this.fileId=a}getOptionalData(){return this.optionalData}setOptionalData(a){this.optionalData=a}isLastSegment(){return this.lastSegment}setLastSegment(a){this.lastSegment=a}getSegmentCount(){return this.segmentCount}setSegmentCount(a){this.segmentCount=a}getSender(){return this.sender||null}setSender(a){this.sender=a}getAddressee(){return this.addressee||null}setAddressee(a){this.addressee=a}getFileName(){return this.fileName}setFileName(a){this.fileName=a}getFileSize(){return this.fileSize}setFileSize(a){this.fileSize=a}getChecksum(){return this.checksum}setChecksum(a){this.checksum=a}getTimestamp(){return this.timestamp}setTimestamp(a){this.timestamp=a}}class Lo{static parseLong(a,c=void 0){return parseInt(a,c)}}class Hs extends m{}Hs.kind="NullPointerException";class Po{writeBytes(a){this.writeBytesOffset(a,0,a.length)}writeBytesOffset(a,c,f){if(a==null)throw new Hs;if(c<0||c>a.length||f<0||c+f>a.length||c+f<0)throw new k;if(f===0)return;for(let d=0;d<f;d++)this.write(a[c+d])}flush(){}close(){}}class ys extends m{}class vu extends Po{constructor(a=32){if(super(),this.count=0,a<0)throw new A("Negative initial size: "+a);this.buf=new Uint8Array(a)}ensureCapacity(a){a-this.buf.length>0&&this.grow(a)}grow(a){let f=this.buf.length<<1;if(f-a<0&&(f=a),f<0){if(a<0)throw new ys;f=W.MAX_VALUE}this.buf=Y.copyOfUint8Array(this.buf,f)}write(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1}writeBytesOffset(a,c,f){if(c<0||c>a.length||f<0||c+f-a.length>0)throw new k;this.ensureCapacity(this.count+f),I.arraycopy(a,c,this.buf,this.count,f),this.count+=f}writeTo(a){a.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Y.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(a){return a?typeof a=="string"?this.toString_string(a):this.toString_number(a):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(a){return new String(this.buf).toString()}toString_number(a){return new String(this.buf).toString()}close(){}}var bn;(function(z){z[z.ALPHA=0]="ALPHA",z[z.LOWER=1]="LOWER",z[z.MIXED=2]="MIXED",z[z.PUNCT=3]="PUNCT",z[z.ALPHA_SHIFT=4]="ALPHA_SHIFT",z[z.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(bn||(bn={}));function to(){if(typeof window<"u")return window.BigInt||null;if(typeof f1<"u")return f1.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ba;function vs(z){if(typeof Ba>"u"&&(Ba=to()),Ba===null)throw new Error("BigInt is not supported!");return Ba(z)}function wl(){let z=[];z[0]=vs(1);let a=vs(900);z[1]=a;for(let c=2;c<16;c++)z[c]=z[c-1]*a;return z}class Pe{static decode(a,c){let f=new Z(""),d=L.ISO8859_1;f.enableDecoding(d);let p=1,v=a[p++],E=new ko;for(;p<a[0];){switch(v){case Pe.TEXT_COMPACTION_MODE_LATCH:p=Pe.textCompaction(a,p,f);break;case Pe.BYTE_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH_6:p=Pe.byteCompaction(v,a,d,p,f);break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(a[p++]);break;case Pe.NUMERIC_COMPACTION_MODE_LATCH:p=Pe.numericCompaction(a,p,f);break;case Pe.ECI_CHARSET:L.getCharacterSetECIByValue(a[p++]);break;case Pe.ECI_GENERAL_PURPOSE:p+=2;break;case Pe.ECI_USER_DEFINED:p++;break;case Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:p=Pe.decodeMacroBlock(a,p,E);break;case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pe.MACRO_PDF417_TERMINATOR:throw new B;default:p--,p=Pe.textCompaction(a,p,f);break}if(p<a.length)v=a[p++];else throw B.getFormatInstance()}if(f.length()===0)throw B.getFormatInstance();let S=new mt(null,f.toString(),null,c);return S.setOther(E),S}static decodeMacroBlock(a,c,f){if(c+Pe.NUMBER_OF_SEQUENCE_CODEWORDS>a[0])throw B.getFormatInstance();let d=new Int32Array(Pe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<Pe.NUMBER_OF_SEQUENCE_CODEWORDS;E++,c++)d[E]=a[c];f.setSegmentIndex(W.parseInt(Pe.decodeBase900toBase10(d,Pe.NUMBER_OF_SEQUENCE_CODEWORDS)));let p=new Z;c=Pe.textCompaction(a,c,p),f.setFileId(p.toString());let v=-1;for(a[c]===Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(v=c+1);c<a[0];)switch(a[c]){case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,a[c]){case Pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new Z;c=Pe.textCompaction(a,c+1,E),f.setFileName(E.toString());break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let S=new Z;c=Pe.textCompaction(a,c+1,S),f.setSender(S.toString());break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let N=new Z;c=Pe.textCompaction(a,c+1,N),f.setAddressee(N.toString());break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let P=new Z;c=Pe.numericCompaction(a,c+1,P),f.setSegmentCount(W.parseInt(P.toString()));break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let G=new Z;c=Pe.numericCompaction(a,c+1,G),f.setTimestamp(Lo.parseLong(G.toString()));break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let K=new Z;c=Pe.numericCompaction(a,c+1,K),f.setChecksum(W.parseInt(K.toString()));break;case Pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ce=new Z;c=Pe.numericCompaction(a,c+1,ce),f.setFileSize(Lo.parseLong(ce.toString()));break;default:throw B.getFormatInstance()}break;case Pe.MACRO_PDF417_TERMINATOR:c++,f.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(v!==-1){let E=c-v;f.isLastSegment()&&E--,f.setOptionalData(Y.copyOfRange(a,v,v+E))}return c}static textCompaction(a,c,f){let d=new Int32Array((a[0]-c)*2),p=new Int32Array((a[0]-c)*2),v=0,E=!1;for(;c<a[0]&&!E;){let S=a[c++];if(S<Pe.TEXT_COMPACTION_MODE_LATCH)d[v]=S/30,d[v+1]=S%30,v+=2;else switch(S){case Pe.TEXT_COMPACTION_MODE_LATCH:d[v++]=Pe.TEXT_COMPACTION_MODE_LATCH;break;case Pe.BYTE_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH_6:case Pe.NUMERIC_COMPACTION_MODE_LATCH:case Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pe.MACRO_PDF417_TERMINATOR:c--,E=!0;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d[v]=Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,S=a[c++],p[v]=S,v++;break}}return Pe.decodeTextCompaction(d,p,v,f),c}static decodeTextCompaction(a,c,f,d){let p=bn.ALPHA,v=bn.ALPHA,E=0;for(;E<f;){let S=a[E],N="";switch(p){case bn.ALPHA:if(S<26)N=String.fromCharCode(65+S);else switch(S){case 26:N=" ";break;case Pe.LL:p=bn.LOWER;break;case Pe.ML:p=bn.MIXED;break;case Pe.PS:v=p,p=bn.PUNCT_SHIFT;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(c[E]);break;case Pe.TEXT_COMPACTION_MODE_LATCH:p=bn.ALPHA;break}break;case bn.LOWER:if(S<26)N=String.fromCharCode(97+S);else switch(S){case 26:N=" ";break;case Pe.AS:v=p,p=bn.ALPHA_SHIFT;break;case Pe.ML:p=bn.MIXED;break;case Pe.PS:v=p,p=bn.PUNCT_SHIFT;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(c[E]);break;case Pe.TEXT_COMPACTION_MODE_LATCH:p=bn.ALPHA;break}break;case bn.MIXED:if(S<Pe.PL)N=Pe.MIXED_CHARS[S];else switch(S){case Pe.PL:p=bn.PUNCT;break;case 26:N=" ";break;case Pe.LL:p=bn.LOWER;break;case Pe.AL:p=bn.ALPHA;break;case Pe.PS:v=p,p=bn.PUNCT_SHIFT;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(c[E]);break;case Pe.TEXT_COMPACTION_MODE_LATCH:p=bn.ALPHA;break}break;case bn.PUNCT:if(S<Pe.PAL)N=Pe.PUNCT_CHARS[S];else switch(S){case Pe.PAL:p=bn.ALPHA;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(c[E]);break;case Pe.TEXT_COMPACTION_MODE_LATCH:p=bn.ALPHA;break}break;case bn.ALPHA_SHIFT:if(p=v,S<26)N=String.fromCharCode(65+S);else switch(S){case 26:N=" ";break;case Pe.TEXT_COMPACTION_MODE_LATCH:p=bn.ALPHA;break}break;case bn.PUNCT_SHIFT:if(p=v,S<Pe.PAL)N=Pe.PUNCT_CHARS[S];else switch(S){case Pe.PAL:p=bn.ALPHA;break;case Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(c[E]);break;case Pe.TEXT_COMPACTION_MODE_LATCH:p=bn.ALPHA;break}break}N!==""&&d.append(N),E++}}static byteCompaction(a,c,f,d,p){let v=new vu,E=0,S=0,N=!1;switch(a){case Pe.BYTE_COMPACTION_MODE_LATCH:let P=new Int32Array(6),G=c[d++];for(;d<c[0]&&!N;)switch(P[E++]=G,S=900*S+G,G=c[d++],G){case Pe.TEXT_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH:case Pe.NUMERIC_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH_6:case Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pe.MACRO_PDF417_TERMINATOR:d--,N=!0;break;default:if(E%5===0&&E>0){for(let K=0;K<6;++K)v.write(Number(vs(S)>>vs(8*(5-K))));S=0,E=0}break}d===c[0]&&G<Pe.TEXT_COMPACTION_MODE_LATCH&&(P[E++]=G);for(let K=0;K<E;K++)v.write(P[K]);break;case Pe.BYTE_COMPACTION_MODE_LATCH_6:for(;d<c[0]&&!N;){let K=c[d++];if(K<Pe.TEXT_COMPACTION_MODE_LATCH)E++,S=900*S+K;else switch(K){case Pe.TEXT_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH:case Pe.NUMERIC_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH_6:case Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pe.MACRO_PDF417_TERMINATOR:d--,N=!0;break}if(E%5===0&&E>0){for(let ce=0;ce<6;++ce)v.write(Number(vs(S)>>vs(8*(5-ce))));S=0,E=0}}break}return p.append(q.decode(v.toByteArray(),f)),d}static numericCompaction(a,c,f){let d=0,p=!1,v=new Int32Array(Pe.MAX_NUMERIC_CODEWORDS);for(;c<a[0]&&!p;){let E=a[c++];if(c===a[0]&&(p=!0),E<Pe.TEXT_COMPACTION_MODE_LATCH)v[d]=E,d++;else switch(E){case Pe.TEXT_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH:case Pe.BYTE_COMPACTION_MODE_LATCH_6:case Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Pe.MACRO_PDF417_TERMINATOR:c--,p=!0;break}(d%Pe.MAX_NUMERIC_CODEWORDS===0||E===Pe.NUMERIC_COMPACTION_MODE_LATCH||p)&&d>0&&(f.append(Pe.decodeBase900toBase10(v,d)),d=0)}return c}static decodeBase900toBase10(a,c){let f=vs(0);for(let p=0;p<c;p++)f+=Pe.EXP900[c-p-1]*vs(a[p]);let d=f.toString();if(d.charAt(0)!=="1")throw new B;return d.substring(1)}}Pe.TEXT_COMPACTION_MODE_LATCH=900,Pe.BYTE_COMPACTION_MODE_LATCH=901,Pe.NUMERIC_COMPACTION_MODE_LATCH=902,Pe.BYTE_COMPACTION_MODE_LATCH_6=924,Pe.ECI_USER_DEFINED=925,Pe.ECI_GENERAL_PURPOSE=926,Pe.ECI_CHARSET=927,Pe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Pe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Pe.MACRO_PDF417_TERMINATOR=922,Pe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Pe.MAX_NUMERIC_CODEWORDS=15,Pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Pe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Pe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Pe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Pe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Pe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Pe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Pe.PL=25,Pe.LL=27,Pe.AS=27,Pe.ML=28,Pe.AL=28,Pe.PS=29,Pe.PAL=29,Pe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Pe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Pe.EXP900=to()?wl():[],Pe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Wt{constructor(){}static decode(a,c,f,d,p,v,E){let S=new Vs(a,c,f,d,p),N=null,P=null,G;for(let xe=!0;;xe=!1){if(c!=null&&(N=Wt.getRowIndicatorColumn(a,S,c,!0,v,E)),d!=null&&(P=Wt.getRowIndicatorColumn(a,S,d,!1,v,E)),G=Wt.merge(N,P),G==null)throw Ee.getNotFoundInstance();let ye=G.getBoundingBox();if(xe&&ye!=null&&(ye.getMinY()<S.getMinY()||ye.getMaxY()>S.getMaxY()))S=ye;else break}G.setBoundingBox(S);let K=G.getBarcodeColumnCount()+1;G.setDetectionResultColumn(0,N),G.setDetectionResultColumn(K,P);let ce=N!=null;for(let xe=1;xe<=K;xe++){let ye=ce?xe:K-xe;if(G.getDetectionResultColumn(ye)!==void 0)continue;let Re;ye===0||ye===K?Re=new An(S,ye===0):Re=new Fa(S),G.setDetectionResultColumn(ye,Re);let Le=-1,nt=Le;for(let at=S.getMinY();at<=S.getMaxY();at++){if(Le=Wt.getStartColumn(G,ye,at,ce),Le<0||Le>S.getMaxX()){if(nt===-1)continue;Le=nt}let tt=Wt.detectCodeword(a,S.getMinX(),S.getMaxX(),ce,Le,at,v,E);tt!=null&&(Re.setCodeword(at,tt),nt=Le,v=Math.min(v,tt.getWidth()),E=Math.max(E,tt.getWidth()))}}return Wt.createDecoderResult(G)}static merge(a,c){if(a==null&&c==null)return null;let f=Wt.getBarcodeMetadata(a,c);if(f==null)return null;let d=Vs.merge(Wt.adjustBoundingBox(a),Wt.adjustBoundingBox(c));return new xa(f,d)}static adjustBoundingBox(a){if(a==null)return null;let c=a.getRowHeights();if(c==null)return null;let f=Wt.getMax(c),d=0;for(let E of c)if(d+=f-E,E>0)break;let p=a.getCodewords();for(let E=0;d>0&&p[E]==null;E++)d--;let v=0;for(let E=c.length-1;E>=0&&(v+=f-c[E],!(c[E]>0));E--);for(let E=p.length-1;v>0&&p[E]==null;E--)v--;return a.getBoundingBox().addMissingRows(d,v,a.isLeft())}static getMax(a){let c=-1;for(let f of a)c=Math.max(c,f);return c}static getBarcodeMetadata(a,c){let f;if(a==null||(f=a.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let d;return c==null||(d=c.getBarcodeMetadata())==null?f:f.getColumnCount()!==d.getColumnCount()&&f.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&f.getRowCount()!==d.getRowCount()?null:f}static getRowIndicatorColumn(a,c,f,d,p,v){let E=new An(c,d);for(let S=0;S<2;S++){let N=S===0?1:-1,P=Math.trunc(Math.trunc(f.getX()));for(let G=Math.trunc(Math.trunc(f.getY()));G<=c.getMaxY()&&G>=c.getMinY();G+=N){let K=Wt.detectCodeword(a,0,a.getWidth(),d,P,G,p,v);K!=null&&(E.setCodeword(G,K),d?P=K.getStartX():P=K.getEndX())}}return E}static adjustCodewordCount(a,c){let f=c[0][1],d=f.getValue(),p=a.getBarcodeColumnCount()*a.getBarcodeRowCount()-Wt.getNumberOfECCodeWords(a.getBarcodeECLevel());if(d.length===0){if(p<1||p>bt.MAX_CODEWORDS_IN_BARCODE)throw Ee.getNotFoundInstance();f.setValue(p)}else d[0]!==p&&f.setValue(p)}static createDecoderResult(a){let c=Wt.createBarcodeMatrix(a);Wt.adjustCodewordCount(a,c);let f=new Array,d=new Int32Array(a.getBarcodeRowCount()*a.getBarcodeColumnCount()),p=[],v=new Array;for(let S=0;S<a.getBarcodeRowCount();S++)for(let N=0;N<a.getBarcodeColumnCount();N++){let P=c[S][N+1].getValue(),G=S*a.getBarcodeColumnCount()+N;P.length===0?f.push(G):P.length===1?d[G]=P[0]:(v.push(G),p.push(P))}let E=new Array(p.length);for(let S=0;S<E.length;S++)E[S]=p[S];return Wt.createDecoderResultFromAmbiguousValues(a.getBarcodeECLevel(),d,bt.toIntArray(f),bt.toIntArray(v),E)}static createDecoderResultFromAmbiguousValues(a,c,f,d,p){let v=new Int32Array(d.length),E=100;for(;E-- >0;){for(let S=0;S<v.length;S++)c[d[S]]=p[S][v[S]];try{return Wt.decodeCodewords(c,a,f)}catch(S){if(!(S instanceof R))throw S}if(v.length===0)throw R.getChecksumInstance();for(let S=0;S<v.length;S++)if(v[S]<p[S].length-1){v[S]++;break}else if(v[S]=0,S===v.length-1)throw R.getChecksumInstance()}throw R.getChecksumInstance()}static createBarcodeMatrix(a){let c=Array.from({length:a.getBarcodeRowCount()},()=>new Array(a.getBarcodeColumnCount()+2));for(let d=0;d<c.length;d++)for(let p=0;p<c[d].length;p++)c[d][p]=new wr;let f=0;for(let d of a.getDetectionResultColumns()){if(d!=null){for(let p of d.getCodewords())if(p!=null){let v=p.getRowNumber();if(v>=0){if(v>=c.length)continue;c[v][f].setValue(p.getValue())}}}f++}return c}static isValidBarcodeColumn(a,c){return c>=0&&c<=a.getBarcodeColumnCount()+1}static getStartColumn(a,c,f,d){let p=d?1:-1,v=null;if(Wt.isValidBarcodeColumn(a,c-p)&&(v=a.getDetectionResultColumn(c-p).getCodeword(f)),v!=null)return d?v.getEndX():v.getStartX();if(v=a.getDetectionResultColumn(c).getCodewordNearby(f),v!=null)return d?v.getStartX():v.getEndX();if(Wt.isValidBarcodeColumn(a,c-p)&&(v=a.getDetectionResultColumn(c-p).getCodewordNearby(f)),v!=null)return d?v.getEndX():v.getStartX();let E=0;for(;Wt.isValidBarcodeColumn(a,c-p);){c-=p;for(let S of a.getDetectionResultColumn(c).getCodewords())if(S!=null)return(d?S.getEndX():S.getStartX())+p*E*(S.getEndX()-S.getStartX());E++}return d?a.getBoundingBox().getMinX():a.getBoundingBox().getMaxX()}static detectCodeword(a,c,f,d,p,v,E,S){p=Wt.adjustCodewordStartColumn(a,c,f,d,p,v);let N=Wt.getModuleBitCount(a,c,f,d,p,v);if(N==null)return null;let P,G=Tt.sum(N);if(d)P=p+G;else{for(let xe=0;xe<N.length/2;xe++){let ye=N[xe];N[xe]=N[N.length-1-xe],N[N.length-1-xe]=ye}P=p,p=P-G}if(!Wt.checkCodewordSkew(G,E,S))return null;let K=gi.getDecodedValue(N),ce=bt.getCodeword(K);return ce===-1?null:new js(p,P,Wt.getCodewordBucketNumber(K),ce)}static getModuleBitCount(a,c,f,d,p,v){let E=p,S=new Int32Array(8),N=0,P=d?1:-1,G=d;for(;(d?E<f:E>=c)&&N<S.length;)a.get(E,v)===G?(S[N]++,E+=P):(N++,G=!G);return N===S.length||E===(d?f:c)&&N===S.length-1?S:null}static getNumberOfECCodeWords(a){return 2<<a}static adjustCodewordStartColumn(a,c,f,d,p,v){let E=p,S=d?-1:1;for(let N=0;N<2;N++){for(;(d?E>=c:E<f)&&d===a.get(E,v);){if(Math.abs(p-E)>Wt.CODEWORD_SKEW_SIZE)return p;E+=S}S=-S,d=!d}return E}static checkCodewordSkew(a,c,f){return c-Wt.CODEWORD_SKEW_SIZE<=a&&a<=f+Wt.CODEWORD_SKEW_SIZE}static decodeCodewords(a,c,f){if(a.length===0)throw B.getFormatInstance();let d=1<<c+1,p=Wt.correctErrors(a,f,d);Wt.verifyCodewordCount(a,d);let v=Pe.decode(a,""+c);return v.setErrorsCorrected(p),v.setErasures(f.length),v}static correctErrors(a,c,f){if(c!=null&&c.length>f/2+Wt.MAX_ERRORS||f<0||f>Wt.MAX_EC_CODEWORDS)throw R.getChecksumInstance();return Wt.errorCorrection.decode(a,f,c)}static verifyCodewordCount(a,c){if(a.length<4)throw B.getFormatInstance();let f=a[0];if(f>a.length)throw B.getFormatInstance();if(f===0)if(c<a.length)a[0]=a.length-c;else throw B.getFormatInstance()}static getBitCountForCodeword(a){let c=new Int32Array(8),f=0,d=c.length-1;for(;!((a&1)!==f&&(f=a&1,d--,d<0));)c[d]++,a>>=1;return c}static getCodewordBucketNumber(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)}static getCodewordBucketNumber_number(a){return Wt.getCodewordBucketNumber(Wt.getBitCountForCodeword(a))}static getCodewordBucketNumber_Int32Array(a){return(a[0]-a[2]+a[4]-a[6]+9)%9}static toString(a){let c=new Qi;for(let f=0;f<a.length;f++){c.format("Row %2d: ",f);for(let d=0;d<a[f].length;d++){let p=a[f][d];p.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",p.getValue()[0],p.getConfidence(p.getValue()[0]))}c.format("%n")}return c.toString()}}Wt.CODEWORD_SKEW_SIZE=2,Wt.MAX_ERRORS=3,Wt.MAX_EC_CODEWORDS=512,Wt.errorCorrection=new ma;class Wr{decode(a,c=null){let f=Wr.decode(a,c,!1);if(f==null||f.length===0||f[0]==null)throw Ee.getNotFoundInstance();return f[0]}decodeMultiple(a,c=null){try{return Wr.decode(a,c,!0)}catch(f){throw f instanceof B||f instanceof R?Ee.getNotFoundInstance():f}}static decode(a,c,f){const d=new Array,p=Dt.detectMultiple(a,c,f);for(const v of p.getPoints()){const E=Wt.decode(p.getBits(),v[4],v[5],v[6],v[7],Wr.getMinCodewordWidth(v),Wr.getMaxCodewordWidth(v)),S=new he(E.getText(),E.getRawBytes(),void 0,v,_e.PDF_417);S.putMetadata(Ze.ERROR_CORRECTION_LEVEL,E.getECLevel());const N=E.getOther();N!=null&&S.putMetadata(Ze.PDF417_EXTRA_METADATA,N),d.push(S)}return d.map(v=>v)}static getMaxWidth(a,c){return a==null||c==null?0:Math.trunc(Math.abs(a.getX()-c.getX()))}static getMinWidth(a,c){return a==null||c==null?W.MAX_VALUE:Math.trunc(Math.abs(a.getX()-c.getX()))}static getMaxCodewordWidth(a){return Math.floor(Math.max(Math.max(Wr.getMaxWidth(a[0],a[4]),Wr.getMaxWidth(a[6],a[2])*bt.MODULES_IN_CODEWORD/bt.MODULES_IN_STOP_PATTERN),Math.max(Wr.getMaxWidth(a[1],a[5]),Wr.getMaxWidth(a[7],a[3])*bt.MODULES_IN_CODEWORD/bt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(a){return Math.floor(Math.min(Math.min(Wr.getMinWidth(a[0],a[4]),Wr.getMinWidth(a[6],a[2])*bt.MODULES_IN_CODEWORD/bt.MODULES_IN_STOP_PATTERN),Math.min(Wr.getMinWidth(a[1],a[5]),Wr.getMinWidth(a[7],a[3])*bt.MODULES_IN_CODEWORD/bt.MODULES_IN_STOP_PATTERN)))}reset(){}}class no extends m{}no.kind="ReaderException";class ro{constructor(a,c){this.verbose=a===!0,c&&this.setHints(c)}decode(a,c){return c&&this.setHints(c),this.decodeInternal(a)}decodeWithState(a){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(a)}setHints(a){this.hints=a;const c=!r(a)&&a.get(ve.TRY_HARDER)===!0,f=r(a)?null:a.get(ve.POSSIBLE_FORMATS),d=new Array;if(!r(f)){const p=f.some(v=>v===_e.UPC_A||v===_e.UPC_E||v===_e.EAN_13||v===_e.EAN_8||v===_e.CODABAR||v===_e.CODE_39||v===_e.CODE_93||v===_e.CODE_128||v===_e.ITF||v===_e.RSS_14||v===_e.RSS_EXPANDED);p&&!c&&d.push(new Jr(a,this.verbose)),f.includes(_e.QR_CODE)&&d.push(new Bs),f.includes(_e.DATA_MATRIX)&&d.push(new Xi),f.includes(_e.AZTEC)&&d.push(new Tn),f.includes(_e.PDF_417)&&d.push(new Wr),p&&c&&d.push(new Jr(a,this.verbose))}d.length===0&&(c||d.push(new Jr(a,this.verbose)),d.push(new Bs),d.push(new Xi),d.push(new Tn),d.push(new Wr),c&&d.push(new Jr(a,this.verbose))),this.readers=d}reset(){if(this.readers!==null)for(const a of this.readers)a.reset()}decodeInternal(a){if(this.readers===null)throw new no("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(a,this.hints)}catch(f){if(f instanceof no)continue}throw new Ee("No MultiFormat Readers were able to detect the code.")}}class _u extends fe{constructor(a=null,c=500){const f=new ro;f.setHints(a),super(f,c)}decodeBitmap(a){return this.reader.decodeWithState(a)}}class Eu extends fe{constructor(a=500){super(new Wr,a)}}class Rc extends fe{constructor(a=500){super(new Bs,a)}}var Ua;(function(z){z[z.ERROR_CORRECTION=0]="ERROR_CORRECTION",z[z.CHARACTER_SET=1]="CHARACTER_SET",z[z.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",z[z.MIN_SIZE=3]="MIN_SIZE",z[z.MAX_SIZE=4]="MAX_SIZE",z[z.MARGIN=5]="MARGIN",z[z.PDF417_COMPACT=6]="PDF417_COMPACT",z[z.PDF417_COMPACTION=7]="PDF417_COMPACTION",z[z.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",z[z.AZTEC_LAYERS=9]="AZTEC_LAYERS",z[z.QR_VERSION=10]="QR_VERSION"})(Ua||(Ua={}));var Tr=Ua;class io{constructor(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new Ot(a,Int32Array.from([1])))}buildGenerator(a){const c=this.cachedGenerators;if(a>=c.length){let f=c[c.length-1];const d=this.field;for(let p=c.length;p<=a;p++){const v=f.multiply(new Ot(d,Int32Array.from([1,d.exp(p-1+d.getGeneratorBase())])));c.push(v),f=v}}return c[a]}encode(a,c){if(c===0)throw new A("No error correction bytes");const f=a.length-c;if(f<=0)throw new A("No data bytes provided");const d=this.buildGenerator(c),p=new Int32Array(f);I.arraycopy(a,0,p,0,f);let v=new Ot(this.field,p);v=v.multiplyByMonomial(c,1);const S=v.divide(d)[1].getCoefficients(),N=c-S.length;for(let P=0;P<N;P++)a[f+P]=0;I.arraycopy(S,0,a,f+N,S.length)}}class nr{constructor(){}static applyMaskPenaltyRule1(a){return nr.applyMaskPenaltyRule1Internal(a,!0)+nr.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let c=0;const f=a.getArray(),d=a.getWidth(),p=a.getHeight();for(let v=0;v<p-1;v++){const E=f[v];for(let S=0;S<d-1;S++){const N=E[S];N===E[S+1]&&N===f[v+1][S]&&N===f[v+1][S+1]&&c++}}return nr.N2*c}static applyMaskPenaltyRule3(a){let c=0;const f=a.getArray(),d=a.getWidth(),p=a.getHeight();for(let v=0;v<p;v++)for(let E=0;E<d;E++){const S=f[v];E+6<d&&S[E]===1&&S[E+1]===0&&S[E+2]===1&&S[E+3]===1&&S[E+4]===1&&S[E+5]===0&&S[E+6]===1&&(nr.isWhiteHorizontal(S,E-4,E)||nr.isWhiteHorizontal(S,E+7,E+11))&&c++,v+6<p&&f[v][E]===1&&f[v+1][E]===0&&f[v+2][E]===1&&f[v+3][E]===1&&f[v+4][E]===1&&f[v+5][E]===0&&f[v+6][E]===1&&(nr.isWhiteVertical(f,E,v-4,v)||nr.isWhiteVertical(f,E,v+7,v+11))&&c++}return c*nr.N3}static isWhiteHorizontal(a,c,f){c=Math.max(c,0),f=Math.min(f,a.length);for(let d=c;d<f;d++)if(a[d]===1)return!1;return!0}static isWhiteVertical(a,c,f,d){f=Math.max(f,0),d=Math.min(d,a.length);for(let p=f;p<d;p++)if(a[p][c]===1)return!1;return!0}static applyMaskPenaltyRule4(a){let c=0;const f=a.getArray(),d=a.getWidth(),p=a.getHeight();for(let S=0;S<p;S++){const N=f[S];for(let P=0;P<d;P++)N[P]===1&&c++}const v=a.getHeight()*a.getWidth();return Math.floor(Math.abs(c*2-v)*10/v)*nr.N4}static getDataMaskBit(a,c,f){let d,p;switch(a){case 0:d=f+c&1;break;case 1:d=f&1;break;case 2:d=c%3;break;case 3:d=(f+c)%3;break;case 4:d=Math.floor(f/2)+Math.floor(c/3)&1;break;case 5:p=f*c,d=(p&1)+p%3;break;case 6:p=f*c,d=(p&1)+p%3&1;break;case 7:p=f*c,d=p%3+(f+c&1)&1;break;default:throw new A("Invalid mask pattern: "+a)}return d===0}static applyMaskPenaltyRule1Internal(a,c){let f=0;const d=c?a.getHeight():a.getWidth(),p=c?a.getWidth():a.getHeight(),v=a.getArray();for(let E=0;E<d;E++){let S=0,N=-1;for(let P=0;P<p;P++){const G=c?v[E][P]:v[P][E];G===N?S++:(S>=5&&(f+=nr.N1+(S-5)),S=1,N=G)}S>=5&&(f+=nr.N1+(S-5))}return f}}nr.N1=3,nr.N2=3,nr.N3=40,nr.N4=10;class so{constructor(a,c){this.width=a,this.height=c;const f=new Array(c);for(let d=0;d!==c;d++)f[d]=new Uint8Array(a);this.bytes=f}getHeight(){return this.height}getWidth(){return this.width}get(a,c){return this.bytes[c][a]}getArray(){return this.bytes}setNumber(a,c,f){this.bytes[c][a]=f}setBoolean(a,c,f){this.bytes[c][a]=f?1:0}clear(a){for(const c of this.bytes)Y.fill(c,a)}equals(a){if(!(a instanceof so))return!1;const c=a;if(this.width!==c.width||this.height!==c.height)return!1;for(let f=0,d=this.height;f<d;++f){const p=this.bytes[f],v=c.bytes[f];for(let E=0,S=this.width;E<S;++E)if(p[E]!==v[E])return!1}return!0}toString(){const a=new Z;for(let c=0,f=this.height;c<f;++c){const d=this.bytes[c];for(let p=0,v=this.width;p<v;++p)switch(d[p]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ");break}a.append(`
`)}return a.toString()}}class Di{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new Z;return a.append(`<<
`),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append(`
 ecLevel: `),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append(`
 version: `),a.append(this.version?this.version.toString():"null"),a.append(`
 maskPattern: `),a.append(this.maskPattern.toString()),this.matrix?(a.append(`
 matrix:
`),a.append(this.matrix.toString())):a.append(`
 matrix: null
`),a.append(`>>
`),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<Di.NUM_MASK_PATTERNS}}Di.NUM_MASK_PATTERNS=8;class In extends m{}In.kind="WriterException";class Rt{constructor(){}static clearMatrix(a){a.clear(255)}static buildMatrix(a,c,f,d,p){Rt.clearMatrix(p),Rt.embedBasicPatterns(f,p),Rt.embedTypeInfo(c,d,p),Rt.maybeEmbedVersionInfo(f,p),Rt.embedDataBits(a,d,p)}static embedBasicPatterns(a,c){Rt.embedPositionDetectionPatternsAndSeparators(c),Rt.embedDarkDotAtLeftBottomCorner(c),Rt.maybeEmbedPositionAdjustmentPatterns(a,c),Rt.embedTimingPatterns(c)}static embedTypeInfo(a,c,f){const d=new te;Rt.makeTypeInfoBits(a,c,d);for(let p=0,v=d.getSize();p<v;++p){const E=d.get(d.getSize()-1-p),S=Rt.TYPE_INFO_COORDINATES[p],N=S[0],P=S[1];if(f.setBoolean(N,P,E),p<8){const G=f.getWidth()-p-1;f.setBoolean(G,8,E)}else{const K=f.getHeight()-7+(p-8);f.setBoolean(8,K,E)}}}static maybeEmbedVersionInfo(a,c){if(a.getVersionNumber()<7)return;const f=new te;Rt.makeVersionInfoBits(a,f);let d=6*3-1;for(let p=0;p<6;++p)for(let v=0;v<3;++v){const E=f.get(d);d--,c.setBoolean(p,c.getHeight()-11+v,E),c.setBoolean(c.getHeight()-11+v,p,E)}}static embedDataBits(a,c,f){let d=0,p=-1,v=f.getWidth()-1,E=f.getHeight()-1;for(;v>0;){for(v===6&&(v-=1);E>=0&&E<f.getHeight();){for(let S=0;S<2;++S){const N=v-S;if(!Rt.isEmpty(f.get(N,E)))continue;let P;d<a.getSize()?(P=a.get(d),++d):P=!1,c!==255&&nr.getDataMaskBit(c,N,E)&&(P=!P),f.setBoolean(N,E,P)}E+=p}p=-p,E+=p,v-=2}if(d!==a.getSize())throw new In("Not all bits consumed: "+d+"/"+a.getSize())}static findMSBSet(a){return 32-W.numberOfLeadingZeros(a)}static calculateBCHCode(a,c){if(c===0)throw new A("0 polynomial");const f=Rt.findMSBSet(c);for(a<<=f-1;Rt.findMSBSet(a)>=f;)a^=c<<Rt.findMSBSet(a)-f;return a}static makeTypeInfoBits(a,c,f){if(!Di.isValidMaskPattern(c))throw new In("Invalid mask pattern");const d=a.getBits()<<3|c;f.appendBits(d,5);const p=Rt.calculateBCHCode(d,Rt.TYPE_INFO_POLY);f.appendBits(p,10);const v=new te;if(v.appendBits(Rt.TYPE_INFO_MASK_PATTERN,15),f.xor(v),f.getSize()!==15)throw new In("should not happen but we got: "+f.getSize())}static makeVersionInfoBits(a,c){c.appendBits(a.getVersionNumber(),6);const f=Rt.calculateBCHCode(a.getVersionNumber(),Rt.VERSION_INFO_POLY);if(c.appendBits(f,12),c.getSize()!==18)throw new In("should not happen but we got: "+c.getSize())}static isEmpty(a){return a===255}static embedTimingPatterns(a){for(let c=8;c<a.getWidth()-8;++c){const f=(c+1)%2;Rt.isEmpty(a.get(c,6))&&a.setNumber(c,6,f),Rt.isEmpty(a.get(6,c))&&a.setNumber(6,c,f)}}static embedDarkDotAtLeftBottomCorner(a){if(a.get(8,a.getHeight()-8)===0)throw new In;a.setNumber(8,a.getHeight()-8,1)}static embedHorizontalSeparationPattern(a,c,f){for(let d=0;d<8;++d){if(!Rt.isEmpty(f.get(a+d,c)))throw new In;f.setNumber(a+d,c,0)}}static embedVerticalSeparationPattern(a,c,f){for(let d=0;d<7;++d){if(!Rt.isEmpty(f.get(a,c+d)))throw new In;f.setNumber(a,c+d,0)}}static embedPositionAdjustmentPattern(a,c,f){for(let d=0;d<5;++d){const p=Rt.POSITION_ADJUSTMENT_PATTERN[d];for(let v=0;v<5;++v)f.setNumber(a+v,c+d,p[v])}}static embedPositionDetectionPattern(a,c,f){for(let d=0;d<7;++d){const p=Rt.POSITION_DETECTION_PATTERN[d];for(let v=0;v<7;++v)f.setNumber(a+v,c+d,p[v])}}static embedPositionDetectionPatternsAndSeparators(a){const c=Rt.POSITION_DETECTION_PATTERN[0].length;Rt.embedPositionDetectionPattern(0,0,a),Rt.embedPositionDetectionPattern(a.getWidth()-c,0,a),Rt.embedPositionDetectionPattern(0,a.getWidth()-c,a);const f=8;Rt.embedHorizontalSeparationPattern(0,f-1,a),Rt.embedHorizontalSeparationPattern(a.getWidth()-f,f-1,a),Rt.embedHorizontalSeparationPattern(0,a.getWidth()-f,a);const d=7;Rt.embedVerticalSeparationPattern(d,0,a),Rt.embedVerticalSeparationPattern(a.getHeight()-d-1,0,a),Rt.embedVerticalSeparationPattern(d,a.getHeight()-d,a)}static maybeEmbedPositionAdjustmentPatterns(a,c){if(a.getVersionNumber()<2)return;const f=a.getVersionNumber()-1,d=Rt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[f];for(let p=0,v=d.length;p!==v;p++){const E=d[p];if(E>=0)for(let S=0;S!==v;S++){const N=d[S];N>=0&&Rt.isEmpty(c.get(N,E))&&Rt.embedPositionAdjustmentPattern(N-2,E-2,c)}}}}Rt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Rt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Rt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Rt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Rt.VERSION_INFO_POLY=7973,Rt.TYPE_INFO_POLY=1335,Rt.TYPE_INFO_MASK_PATTERN=21522;class wu{constructor(a,c){this.dataBytes=a,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ln{constructor(){}static calculateMaskPenalty(a){return nr.applyMaskPenaltyRule1(a)+nr.applyMaskPenaltyRule2(a)+nr.applyMaskPenaltyRule3(a)+nr.applyMaskPenaltyRule4(a)}static encode(a,c,f=null){let d=Ln.DEFAULT_BYTE_MODE_ENCODING;const p=f!==null&&f.get(Tr.CHARACTER_SET)!==void 0;p&&(d=f.get(Tr.CHARACTER_SET).toString());const v=this.chooseMode(a,d),E=new te;if(v===At.BYTE&&(p||Ln.DEFAULT_BYTE_MODE_ENCODING!==d)){const at=L.getCharacterSetECIByName(d);at!==void 0&&this.appendECI(at,E)}this.appendModeInfo(v,E);const S=new te;this.appendBytes(a,v,S,d);let N;if(f!==null&&f.get(Tr.QR_VERSION)!==void 0){const at=Number.parseInt(f.get(Tr.QR_VERSION).toString(),10);N=ft.getVersionForNumber(at);const tt=this.calculateBitsNeeded(v,E,S,N);if(!this.willFit(tt,N,c))throw new In("Data too big for requested version")}else N=this.recommendVersion(c,v,E,S);const P=new te;P.appendBitArray(E);const G=v===At.BYTE?S.getSizeInBytes():a.length;this.appendLengthInfo(G,N,v,P),P.appendBitArray(S);const K=N.getECBlocksForLevel(c),ce=N.getTotalCodewords()-K.getTotalECCodewords();this.terminateBits(ce,P);const xe=this.interleaveWithECBytes(P,N.getTotalCodewords(),ce,K.getNumBlocks()),ye=new Di;ye.setECLevel(c),ye.setMode(v),ye.setVersion(N);const Re=N.getDimensionForVersion(),Le=new so(Re,Re),nt=this.chooseMaskPattern(xe,c,N,Le);return ye.setMaskPattern(nt),Rt.buildMatrix(xe,c,N,nt,Le),ye.setMatrix(Le),ye}static recommendVersion(a,c,f,d){const p=this.calculateBitsNeeded(c,f,d,ft.getVersionForNumber(1)),v=this.chooseVersion(p,a),E=this.calculateBitsNeeded(c,f,d,v);return this.chooseVersion(E,a)}static calculateBitsNeeded(a,c,f,d){return c.getSize()+a.getCharacterCountBits(d)+f.getSize()}static getAlphanumericCode(a){return a<Ln.ALPHANUMERIC_TABLE.length?Ln.ALPHANUMERIC_TABLE[a]:-1}static chooseMode(a,c=null){if(L.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(a))return At.KANJI;let f=!1,d=!1;for(let p=0,v=a.length;p<v;++p){const E=a.charAt(p);if(Ln.isDigit(E))f=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)d=!0;else return At.BYTE}return d?At.ALPHANUMERIC:f?At.NUMERIC:At.BYTE}static isOnlyDoubleByteKanji(a){let c;try{c=q.encode(a,L.SJIS)}catch{return!1}const f=c.length;if(f%2!==0)return!1;for(let d=0;d<f;d+=2){const p=c[d]&255;if((p<129||p>159)&&(p<224||p>235))return!1}return!0}static chooseMaskPattern(a,c,f,d){let p=Number.MAX_SAFE_INTEGER,v=-1;for(let E=0;E<Di.NUM_MASK_PATTERNS;E++){Rt.buildMatrix(a,c,f,E,d);let S=this.calculateMaskPenalty(d);S<p&&(p=S,v=E)}return v}static chooseVersion(a,c){for(let f=1;f<=40;f++){const d=ft.getVersionForNumber(f);if(Ln.willFit(a,d,c))return d}throw new In("Data too big")}static willFit(a,c,f){const d=c.getTotalCodewords(),v=c.getECBlocksForLevel(f).getTotalECCodewords(),E=d-v,S=(a+7)/8;return E>=S}static terminateBits(a,c){const f=a*8;if(c.getSize()>f)throw new In("data bits cannot fit in the QR Code"+c.getSize()+" > "+f);for(let v=0;v<4&&c.getSize()<f;++v)c.appendBit(!1);const d=c.getSize()&7;if(d>0)for(let v=d;v<8;v++)c.appendBit(!1);const p=a-c.getSizeInBytes();for(let v=0;v<p;++v)c.appendBits((v&1)===0?236:17,8);if(c.getSize()!==f)throw new In("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(a,c,f,d,p,v){if(d>=f)throw new In("Block ID too large");const E=a%f,S=f-E,N=Math.floor(a/f),P=N+1,G=Math.floor(c/f),K=G+1,ce=N-G,xe=P-K;if(ce!==xe)throw new In("EC bytes mismatch");if(f!==S+E)throw new In("RS blocks mismatch");if(a!==(G+ce)*S+(K+xe)*E)throw new In("Total bytes mismatch");d<S?(p[0]=G,v[0]=ce):(p[0]=K,v[0]=xe)}static interleaveWithECBytes(a,c,f,d){if(a.getSizeInBytes()!==f)throw new In("Number of bits and data bytes does not match");let p=0,v=0,E=0;const S=new Array;for(let P=0;P<d;++P){const G=new Int32Array(1),K=new Int32Array(1);Ln.getNumDataBytesAndNumECBytesForBlockID(c,f,d,P,G,K);const ce=G[0],xe=new Uint8Array(ce);a.toBytes(8*p,xe,0,ce);const ye=Ln.generateECBytes(xe,K[0]);S.push(new wu(xe,ye)),v=Math.max(v,ce),E=Math.max(E,ye.length),p+=G[0]}if(f!==p)throw new In("Data bytes does not match offset");const N=new te;for(let P=0;P<v;++P)for(const G of S){const K=G.getDataBytes();P<K.length&&N.appendBits(K[P],8)}for(let P=0;P<E;++P)for(const G of S){const K=G.getErrorCorrectionBytes();P<K.length&&N.appendBits(K[P],8)}if(c!==N.getSizeInBytes())throw new In("Interleaving error: "+c+" and "+N.getSizeInBytes()+" differ.");return N}static generateECBytes(a,c){const f=a.length,d=new Int32Array(f+c);for(let v=0;v<f;v++)d[v]=a[v]&255;new io(St.QR_CODE_FIELD_256).encode(d,c);const p=new Uint8Array(c);for(let v=0;v<c;v++)p[v]=d[f+v];return p}static appendModeInfo(a,c){c.appendBits(a.getBits(),4)}static appendLengthInfo(a,c,f,d){const p=f.getCharacterCountBits(c);if(a>=1<<p)throw new In(a+" is bigger than "+((1<<p)-1));d.appendBits(a,p)}static appendBytes(a,c,f,d){switch(c){case At.NUMERIC:Ln.appendNumericBytes(a,f);break;case At.ALPHANUMERIC:Ln.appendAlphanumericBytes(a,f);break;case At.BYTE:Ln.append8BitBytes(a,f,d);break;case At.KANJI:Ln.appendKanjiBytes(a,f);break;default:throw new In("Invalid mode: "+c)}}static getDigit(a){return a.charCodeAt(0)-48}static isDigit(a){const c=Ln.getDigit(a);return c>=0&&c<=9}static appendNumericBytes(a,c){const f=a.length;let d=0;for(;d<f;){const p=Ln.getDigit(a.charAt(d));if(d+2<f){const v=Ln.getDigit(a.charAt(d+1)),E=Ln.getDigit(a.charAt(d+2));c.appendBits(p*100+v*10+E,10),d+=3}else if(d+1<f){const v=Ln.getDigit(a.charAt(d+1));c.appendBits(p*10+v,7),d+=2}else c.appendBits(p,4),d++}}static appendAlphanumericBytes(a,c){const f=a.length;let d=0;for(;d<f;){const p=Ln.getAlphanumericCode(a.charCodeAt(d));if(p===-1)throw new In;if(d+1<f){const v=Ln.getAlphanumericCode(a.charCodeAt(d+1));if(v===-1)throw new In;c.appendBits(p*45+v,11),d+=2}else c.appendBits(p,6),d++}}static append8BitBytes(a,c,f){let d;try{d=q.encode(a,f)}catch(p){throw new In(p)}for(let p=0,v=d.length;p!==v;p++){const E=d[p];c.appendBits(E,8)}}static appendKanjiBytes(a,c){let f;try{f=q.encode(a,L.SJIS)}catch(p){throw new In(p)}const d=f.length;for(let p=0;p<d;p+=2){const v=f[p]&255,E=f[p+1]&255,S=v<<8&4294967295|E;let N=-1;if(S>=33088&&S<=40956?N=S-33088:S>=57408&&S<=60351&&(N=S-49472),N===-1)throw new In("Invalid byte sequence");const P=(N>>8)*192+(N&255);c.appendBits(P,13)}}static appendECI(a,c){c.appendBits(At.ECI.getBits(),4),c.appendBits(a.getValue(),8)}}Ln.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ln.DEFAULT_BYTE_MODE_ENCODING=L.UTF8.getName();class _s{write(a,c,f,d=null){if(a.length===0)throw new A("Found empty contents");if(c<0||f<0)throw new A("Requested dimensions are too small: "+c+"x"+f);let p=en.L,v=_s.QUIET_ZONE_SIZE;d!==null&&(d.get(Tr.ERROR_CORRECTION)!==void 0&&(p=en.fromString(d.get(Tr.ERROR_CORRECTION).toString())),d.get(Tr.MARGIN)!==void 0&&(v=Number.parseInt(d.get(Tr.MARGIN).toString(),10)));const E=Ln.encode(a,p,d);return this.renderResult(E,c,f,v)}writeToDom(a,c,f,d,p=null){typeof a=="string"&&(a=document.querySelector(a));const v=this.write(c,f,d,p);a&&a.appendChild(v)}renderResult(a,c,f,d){const p=a.getMatrix();if(p===null)throw new Bn;const v=p.getWidth(),E=p.getHeight(),S=v+d*2,N=E+d*2,P=Math.max(c,S),G=Math.max(f,N),K=Math.min(Math.floor(P/S),Math.floor(G/N)),ce=Math.floor((P-v*K)/2),xe=Math.floor((G-E*K)/2),ye=this.createSVGElement(P,G);for(let Re=0,Le=xe;Re<E;Re++,Le+=K)for(let nt=0,at=ce;nt<v;nt++,at+=K)if(p.get(nt,Re)===1){const tt=this.createSvgRectElement(at,Le,K,K);ye.appendChild(tt)}return ye}createSVGElement(a,c){const f=document.createElementNS(_s.SVG_NS,"svg");return f.setAttributeNS(null,"height",a.toString()),f.setAttributeNS(null,"width",c.toString()),f}createSvgRectElement(a,c,f,d){const p=document.createElementNS(_s.SVG_NS,"rect");return p.setAttributeNS(null,"x",a.toString()),p.setAttributeNS(null,"y",c.toString()),p.setAttributeNS(null,"height",f.toString()),p.setAttributeNS(null,"width",d.toString()),p.setAttributeNS(null,"fill","#000000"),p}}_s.QUIET_ZONE_SIZE=4,_s.SVG_NS="http://www.w3.org/2000/svg";class Mr{encode(a,c,f,d,p){if(a.length===0)throw new A("Found empty contents");if(c!==_e.QR_CODE)throw new A("Can only encode QR_CODE, but got "+c);if(f<0||d<0)throw new A(`Requested dimensions are too small: ${f}x${d}`);let v=en.L,E=Mr.QUIET_ZONE_SIZE;p!==null&&(p.get(Tr.ERROR_CORRECTION)!==void 0&&(v=en.fromString(p.get(Tr.ERROR_CORRECTION).toString())),p.get(Tr.MARGIN)!==void 0&&(E=Number.parseInt(p.get(Tr.MARGIN).toString(),10)));const S=Ln.encode(a,v,p);return Mr.renderResult(S,f,d,E)}static renderResult(a,c,f,d){const p=a.getMatrix();if(p===null)throw new Bn;const v=p.getWidth(),E=p.getHeight(),S=v+d*2,N=E+d*2,P=Math.max(c,S),G=Math.max(f,N),K=Math.min(Math.floor(P/S),Math.floor(G/N)),ce=Math.floor((P-v*K)/2),xe=Math.floor((G-E*K)/2),ye=new pt(P,G);for(let Re=0,Le=xe;Re<E;Re++,Le+=K)for(let nt=0,at=ce;nt<v;nt++,at+=K)p.get(nt,Re)===1&&ye.setRegion(at,Le,K,K);return ye}}Mr.QUIET_ZONE_SIZE=4;class Tu{encode(a,c,f,d,p){let v;switch(c){case _e.QR_CODE:v=new Mr;break;default:throw new A("No encoder available for format "+c)}return v.encode(a,c,f,d,p)}}class us extends xt{constructor(a,c,f,d,p,v,E,S){if(super(v,E),this.yuvData=a,this.dataWidth=c,this.dataHeight=f,this.left=d,this.top=p,d+v>c||p+E>f)throw new A("Crop rectangle does not fit within image data.");S&&this.reverseHorizontal(v,E)}getRow(a,c){if(a<0||a>=this.getHeight())throw new A("Requested row is outside the image: "+a);const f=this.getWidth();(c==null||c.length<f)&&(c=new Uint8ClampedArray(f));const d=(a+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,d,c,0,f),c}getMatrix(){const a=this.getWidth(),c=this.getHeight();if(a===this.dataWidth&&c===this.dataHeight)return this.yuvData;const f=a*c,d=new Uint8ClampedArray(f);let p=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return I.arraycopy(this.yuvData,p,d,0,f),d;for(let v=0;v<c;v++){const E=v*a;I.arraycopy(this.yuvData,p,d,E,a),p+=this.dataWidth}return d}isCropSupported(){return!0}crop(a,c,f,d){return new us(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+c,f,d,!1)}renderThumbnail(){const a=this.getWidth()/us.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/us.THUMBNAIL_SCALE_FACTOR,f=new Int32Array(a*c),d=this.yuvData;let p=this.top*this.dataWidth+this.left;for(let v=0;v<c;v++){const E=v*a;for(let S=0;S<a;S++){const N=d[p+S*us.THUMBNAIL_SCALE_FACTOR]&255;f[E+S]=4278190080|N*65793}p+=this.dataWidth*us.THUMBNAIL_SCALE_FACTOR}return f}getThumbnailWidth(){return this.getWidth()/us.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/us.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,c){const f=this.yuvData;for(let d=0,p=this.top*this.dataWidth+this.left;d<c;d++,p+=this.dataWidth){const v=p+a/2;for(let E=p,S=p+a-1;E<v;E++,S--){const N=f[E];f[E]=f[S],f[S]=N}}}invert(){return new wt(this)}}us.THUMBNAIL_SCALE_FACTOR=2;class Es extends xt{constructor(a,c,f,d,p,v,E){if(super(c,f),this.dataWidth=d,this.dataHeight=p,this.left=v,this.top=E,a.BYTES_PER_ELEMENT===4){const S=c*f,N=new Uint8ClampedArray(S);for(let P=0;P<S;P++){const G=a[P],K=G>>16&255,ce=G>>7&510,xe=G&255;N[P]=(K+ce+xe)/4&255}this.luminances=N}else this.luminances=a;if(d===void 0&&(this.dataWidth=c),p===void 0&&(this.dataHeight=f),v===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+f>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(a,c){if(a<0||a>=this.getHeight())throw new A("Requested row is outside the image: "+a);const f=this.getWidth();(c==null||c.length<f)&&(c=new Uint8ClampedArray(f));const d=(a+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,d,c,0,f),c}getMatrix(){const a=this.getWidth(),c=this.getHeight();if(a===this.dataWidth&&c===this.dataHeight)return this.luminances;const f=a*c,d=new Uint8ClampedArray(f);let p=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return I.arraycopy(this.luminances,p,d,0,f),d;for(let v=0;v<c;v++){const E=v*a;I.arraycopy(this.luminances,p,d,E,a),p+=this.dataWidth}return d}isCropSupported(){return!0}crop(a,c,f,d){return new Es(this.luminances,f,d,this.dataWidth,this.dataHeight,this.left+a,this.top+c)}invert(){return new wt(this)}}class w extends L{static forName(a){return this.getCharacterSetECIByName(a)}}class D{}D.ISO_8859_1=L.ISO8859_1;class U{isCompact(){return this.compact}setCompact(a){this.compact=a}getSize(){return this.size}setSize(a){this.size=a}getLayers(){return this.layers}setLayers(a){this.layers=a}getCodeWords(){return this.codeWords}setCodeWords(a){this.codeWords=a}getMatrix(){return this.matrix}setMatrix(a){this.matrix=a}}class ne{static singletonList(a){return[a]}static min(a,c){return a.sort(c)[0]}}class Ce{constructor(a){this.previous=a}getPrevious(){return this.previous}}class Be extends Ce{constructor(a,c,f){super(a),this.value=c,this.bitCount=f}appendTo(a,c){a.appendBits(this.value,this.bitCount)}add(a,c){return new Be(this,a,c)}addBinaryShift(a,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Be(this,a,c)}toString(){let a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+W.toBinaryString(a|1<<this.bitCount).substring(1)+">"}}class ut extends Be{constructor(a,c,f){super(a,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=f}appendTo(a,c){for(let f=0;f<this.binaryShiftByteCount;f++)(f===0||f===31&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):f===0?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(c[this.binaryShiftStart+f],8)}addBinaryShift(a,c){return new ut(this,a,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function gn(z,a,c){return new ut(z,a,c)}function mr(z,a,c){return new Be(z,a,c)}const mn=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],rr=0,Ar=1,kr=2,ei=3,qr=4,Nc=new Be(null,0,0),Tl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function ud(z){for(let a of z)Y.fill(a,-1);return z[rr][qr]=0,z[Ar][qr]=0,z[Ar][rr]=28,z[ei][qr]=0,z[kr][qr]=0,z[kr][rr]=15,z}const Qf=ud(Y.createInt32Array(6,6));class ws{constructor(a,c,f,d){this.token=a,this.mode=c,this.binaryShiftByteCount=f,this.bitCount=d}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(a,c){let f=this.bitCount,d=this.token;if(a!==this.mode){let v=Tl[this.mode][a];d=mr(d,v&65535,v>>16),f+=v>>16}let p=a===kr?4:5;return d=mr(d,c,p),new ws(d,a,0,f+p)}shiftAndAppend(a,c){let f=this.token,d=this.mode===kr?4:5;return f=mr(f,Qf[this.mode][a],d),f=mr(f,c,5),new ws(f,this.mode,0,this.bitCount+d+5)}addBinaryShiftChar(a){let c=this.token,f=this.mode,d=this.bitCount;if(this.mode===qr||this.mode===kr){let E=Tl[f][rr];c=mr(c,E&65535,E>>16),d+=E>>16,f=rr}let p=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,v=new ws(c,f,this.binaryShiftByteCount+1,d+p);return v.binaryShiftByteCount===2078&&(v=v.endBinaryShift(a+1)),v}endBinaryShift(a){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=gn(c,a-this.binaryShiftByteCount,this.binaryShiftByteCount),new ws(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(a){let c=this.bitCount+(Tl[this.mode][a.mode]>>16);return this.binaryShiftByteCount<a.binaryShiftByteCount?c+=ws.calculateBinaryShiftCost(a)-ws.calculateBinaryShiftCost(this):this.binaryShiftByteCount>a.binaryShiftByteCount&&a.binaryShiftByteCount>0&&(c+=10),c<=a.bitCount}toBitArray(a){let c=[];for(let d=this.endBinaryShift(a.length).token;d!==null;d=d.getPrevious())c.unshift(d);let f=new te;for(const d of c)d.appendTo(f,a);return f}toString(){return Q.format("%s bits=%d bytes=%d",mn[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:a.binaryShiftByteCount>0?10:0}}ws.INITIAL_STATE=new ws(Nc,rr,0,0);function $f(z){const a=Q.getCharCode(" "),c=Q.getCharCode("."),f=Q.getCharCode(",");z[rr][a]=1;const d=Q.getCharCode("Z"),p=Q.getCharCode("A");for(let K=p;K<=d;K++)z[rr][K]=K-p+2;z[Ar][a]=1;const v=Q.getCharCode("z"),E=Q.getCharCode("a");for(let K=E;K<=v;K++)z[Ar][K]=K-E+2;z[kr][a]=1;const S=Q.getCharCode("9"),N=Q.getCharCode("0");for(let K=N;K<=S;K++)z[kr][K]=K-N+2;z[kr][f]=12,z[kr][c]=13;const P=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let K=0;K<P.length;K++)z[ei][Q.getCharCode(P[K])]=K;const G=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let K=0;K<G.length;K++)Q.getCharCode(G[K])>0&&(z[qr][Q.getCharCode(G[K])]=K);return z}const Au=$f(Y.createInt32Array(5,256));class Al{constructor(a){this.text=a}encode(){const a=Q.getCharCode(" "),c=Q.getCharCode(`
`);let f=ne.singletonList(ws.INITIAL_STATE);for(let p=0;p<this.text.length;p++){let v,E=p+1<this.text.length?this.text[p+1]:0;switch(this.text[p]){case Q.getCharCode("\r"):v=E===c?2:0;break;case Q.getCharCode("."):v=E===a?3:0;break;case Q.getCharCode(","):v=E===a?4:0;break;case Q.getCharCode(":"):v=E===a?5:0;break;default:v=0}v>0?(f=Al.updateStateListForPair(f,p,v),p++):f=this.updateStateListForChar(f,p)}return ne.min(f,(p,v)=>p.getBitCount()-v.getBitCount()).toBitArray(this.text)}updateStateListForChar(a,c){const f=[];for(let d of a)this.updateStateForChar(d,c,f);return Al.simplifyStates(f)}updateStateForChar(a,c,f){let d=this.text[c]&255,p=Au[a.getMode()][d]>0,v=null;for(let E=0;E<=qr;E++){let S=Au[E][d];if(S>0){if(v==null&&(v=a.endBinaryShift(c)),!p||E===a.getMode()||E===kr){const N=v.latchAndAppend(E,S);f.push(N)}if(!p&&Qf[a.getMode()][E]>=0){const N=v.shiftAndAppend(E,S);f.push(N)}}}if(a.getBinaryShiftByteCount()>0||Au[a.getMode()][d]===0){let E=a.addBinaryShiftChar(c);f.push(E)}}static updateStateListForPair(a,c,f){const d=[];for(let p of a)this.updateStateForPair(p,c,f,d);return this.simplifyStates(d)}static updateStateForPair(a,c,f,d){let p=a.endBinaryShift(c);if(d.push(p.latchAndAppend(qr,f)),a.getMode()!==qr&&d.push(p.shiftAndAppend(qr,f)),f===3||f===4){let v=p.latchAndAppend(kr,16-f).latchAndAppend(kr,1);d.push(v)}if(a.getBinaryShiftByteCount()>0){let v=a.addBinaryShiftChar(c).addBinaryShiftChar(c+1);d.push(v)}}static simplifyStates(a){let c=[];for(const f of a){let d=!0;for(const p of c){if(p.isBetterThanOrEqualTo(f)){d=!1;break}f.isBetterThanOrEqualTo(p)&&(c=c.filter(v=>v!==p))}d&&c.push(f)}return c}}class pn{constructor(){}static encodeBytes(a){return pn.encode(a,pn.DEFAULT_EC_PERCENT,pn.DEFAULT_AZTEC_LAYERS)}static encode(a,c,f){let d=new Al(a).encode(),p=W.truncDivision(d.getSize()*c,100)+11,v=d.getSize()+p,E,S,N,P,G;if(f!==pn.DEFAULT_AZTEC_LAYERS){if(E=f<0,S=Math.abs(f),S>(E?pn.MAX_NB_BITS_COMPACT:pn.MAX_NB_BITS))throw new A(Q.format("Illegal value %s for layers",f));N=pn.totalBitsInLayer(S,E),P=pn.WORD_SIZE[S];let tt=N-N%P;if(G=pn.stuffBits(d,P),G.getSize()+p>tt)throw new A("Data to large for user specified layer");if(E&&G.getSize()>P*64)throw new A("Data to large for user specified layer")}else{P=0,G=null;for(let tt=0;;tt++){if(tt>pn.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(E=tt<=3,S=E?tt+1:tt,N=pn.totalBitsInLayer(S,E),v>N)continue;(G==null||P!==pn.WORD_SIZE[S])&&(P=pn.WORD_SIZE[S],G=pn.stuffBits(d,P));let Xt=N-N%P;if(!(E&&G.getSize()>P*64)&&G.getSize()+p<=Xt)break}}let K=pn.generateCheckWords(G,N,P),ce=G.getSize()/P,xe=pn.generateModeMessage(E,S,ce),ye=(E?11:14)+S*4,Re=new Int32Array(ye),Le;if(E){Le=ye;for(let tt=0;tt<Re.length;tt++)Re[tt]=tt}else{Le=ye+1+2*W.truncDivision(W.truncDivision(ye,2)-1,15);let tt=W.truncDivision(ye,2),Xt=W.truncDivision(Le,2);for(let qt=0;qt<tt;qt++){let Mi=qt+W.truncDivision(qt,15);Re[tt-qt-1]=Xt-Mi-1,Re[tt+qt]=Xt+Mi+1}}let nt=new pt(Le);for(let tt=0,Xt=0;tt<S;tt++){let qt=(S-tt)*4+(E?9:12);for(let Mi=0;Mi<qt;Mi++){let Ts=Mi*2;for(let $i=0;$i<2;$i++)K.get(Xt+Ts+$i)&&nt.set(Re[tt*2+$i],Re[tt*2+Mi]),K.get(Xt+qt*2+Ts+$i)&&nt.set(Re[tt*2+Mi],Re[ye-1-tt*2-$i]),K.get(Xt+qt*4+Ts+$i)&&nt.set(Re[ye-1-tt*2-$i],Re[ye-1-tt*2-Mi]),K.get(Xt+qt*6+Ts+$i)&&nt.set(Re[ye-1-tt*2-Mi],Re[tt*2+$i])}Xt+=qt*8}if(pn.drawModeMessage(nt,E,Le,xe),E)pn.drawBullsEye(nt,W.truncDivision(Le,2),5);else{pn.drawBullsEye(nt,W.truncDivision(Le,2),7);for(let tt=0,Xt=0;tt<W.truncDivision(ye,2)-1;tt+=15,Xt+=16)for(let qt=W.truncDivision(Le,2)&1;qt<Le;qt+=2)nt.set(W.truncDivision(Le,2)-Xt,qt),nt.set(W.truncDivision(Le,2)+Xt,qt),nt.set(qt,W.truncDivision(Le,2)-Xt),nt.set(qt,W.truncDivision(Le,2)+Xt)}let at=new U;return at.setCompact(E),at.setSize(Le),at.setLayers(S),at.setCodeWords(ce),at.setMatrix(nt),at}static drawBullsEye(a,c,f){for(let d=0;d<f;d+=2)for(let p=c-d;p<=c+d;p++)a.set(p,c-d),a.set(p,c+d),a.set(c-d,p),a.set(c+d,p);a.set(c-f,c-f),a.set(c-f+1,c-f),a.set(c-f,c-f+1),a.set(c+f,c-f),a.set(c+f,c-f+1),a.set(c+f,c+f-1)}static generateModeMessage(a,c,f){let d=new te;return a?(d.appendBits(c-1,2),d.appendBits(f-1,6),d=pn.generateCheckWords(d,28,4)):(d.appendBits(c-1,5),d.appendBits(f-1,11),d=pn.generateCheckWords(d,40,4)),d}static drawModeMessage(a,c,f,d){let p=W.truncDivision(f,2);if(c)for(let v=0;v<7;v++){let E=p-3+v;d.get(v)&&a.set(E,p-5),d.get(v+7)&&a.set(p+5,E),d.get(20-v)&&a.set(E,p+5),d.get(27-v)&&a.set(p-5,E)}else for(let v=0;v<10;v++){let E=p-5+v+W.truncDivision(v,5);d.get(v)&&a.set(E,p-7),d.get(v+10)&&a.set(p+7,E),d.get(29-v)&&a.set(E,p+7),d.get(39-v)&&a.set(p-7,E)}}static generateCheckWords(a,c,f){let d=a.getSize()/f,p=new io(pn.getGF(f)),v=W.truncDivision(c,f),E=pn.bitsToWords(a,f,v);p.encode(E,v-d);let S=c%f,N=new te;N.appendBits(0,S);for(const P of Array.from(E))N.appendBits(P,f);return N}static bitsToWords(a,c,f){let d=new Int32Array(f),p,v;for(p=0,v=a.getSize()/c;p<v;p++){let E=0;for(let S=0;S<c;S++)E|=a.get(p*c+S)?1<<c-S-1:0;d[p]=E}return d}static getGF(a){switch(a){case 4:return St.AZTEC_PARAM;case 6:return St.AZTEC_DATA_6;case 8:return St.AZTEC_DATA_8;case 10:return St.AZTEC_DATA_10;case 12:return St.AZTEC_DATA_12;default:throw new A("Unsupported word size "+a)}}static stuffBits(a,c){let f=new te,d=a.getSize(),p=(1<<c)-2;for(let v=0;v<d;v+=c){let E=0;for(let S=0;S<c;S++)(v+S>=d||a.get(v+S))&&(E|=1<<c-1-S);(E&p)===p?(f.appendBits(E&p,c),v--):(E&p)===0?(f.appendBits(E|1,c),v--):f.appendBits(E,c)}return f}static totalBitsInLayer(a,c){return((c?88:112)+16*a)*a}}pn.DEFAULT_EC_PERCENT=33,pn.DEFAULT_AZTEC_LAYERS=0,pn.MAX_NB_BITS=32,pn.MAX_NB_BITS_COMPACT=4,pn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Su{encode(a,c,f,d){return this.encodeWithHints(a,c,f,d,null)}encodeWithHints(a,c,f,d,p){let v=D.ISO_8859_1,E=pn.DEFAULT_EC_PERCENT,S=pn.DEFAULT_AZTEC_LAYERS;return p!=null&&(p.has(Tr.CHARACTER_SET)&&(v=w.forName(p.get(Tr.CHARACTER_SET).toString())),p.has(Tr.ERROR_CORRECTION)&&(E=W.parseInt(p.get(Tr.ERROR_CORRECTION).toString())),p.has(Tr.AZTEC_LAYERS)&&(S=W.parseInt(p.get(Tr.AZTEC_LAYERS).toString()))),Su.encodeLayers(a,c,f,d,v,E,S)}static encodeLayers(a,c,f,d,p,v,E){if(c!==_e.AZTEC)throw new A("Can only encode AZTEC, but got "+c);let S=pn.encode(Q.getBytes(a,p),v,E);return Su.renderResult(S,f,d)}static renderResult(a,c,f){let d=a.getMatrix();if(d==null)throw new Bn;let p=d.getWidth(),v=d.getHeight(),E=Math.max(c,p),S=Math.max(f,v),N=Math.min(E/p,S/v),P=(E-p*N)/2,G=(S-v*N)/2,K=new pt(E,S);for(let ce=0,xe=G;ce<v;ce++,xe+=N)for(let ye=0,Re=P;ye<p;ye++,Re+=N)d.get(ye,ce)&&K.setRegion(Re,xe,N,N);return K}}n.AbstractExpandedDecoder=se,n.ArgumentException=_,n.ArithmeticException=Pt,n.AztecCode=U,n.AztecCodeReader=Tn,n.AztecCodeWriter=Su,n.AztecDecoder=jt,n.AztecDetector=ur,n.AztecDetectorResult=ls,n.AztecEncoder=pn,n.AztecHighLevelEncoder=Al,n.AztecPoint=on,n.BarcodeFormat=_e,n.Binarizer=O,n.BinaryBitmap=C,n.BitArray=te,n.BitMatrix=pt,n.BitSource=di,n.BrowserAztecCodeReader=Zr,n.BrowserBarcodeReader=fa,n.BrowserCodeReader=fe,n.BrowserDatamatrixCodeReader=Kf,n.BrowserMultiFormatReader=_u,n.BrowserPDF417Reader=Eu,n.BrowserQRCodeReader=Rc,n.BrowserQRCodeSvgWriter=_s,n.CharacterSetECI=L,n.ChecksumException=R,n.Code128Reader=et,n.Code39Reader=fn,n.DataMatrixDecodedBitStreamParser=ha,n.DataMatrixReader=Xi,n.DecodeHintType=ve,n.DecoderResult=mt,n.DefaultGridSampler=nn,n.DetectorResult=Ri,n.EAN13Reader=ui,n.EncodeHintType=Tr,n.Exception=m,n.FormatException=B,n.GenericGF=St,n.GenericGFPoly=Ot,n.GlobalHistogramBinarizer=be,n.GridSampler=Yi,n.GridSamplerInstance=wn,n.HTMLCanvasElementLuminanceSource=me,n.HybridBinarizer=Ue,n.ITFReader=hn,n.IllegalArgumentException=A,n.IllegalStateException=Bn,n.InvertedLuminanceSource=wt,n.LuminanceSource=xt,n.MathUtils=Tt,n.MultiFormatOneDReader=Jr,n.MultiFormatReader=ro,n.MultiFormatWriter=Tu,n.NotFoundException=Ee,n.OneDReader=$t,n.PDF417DecodedBitStreamParser=Pe,n.PDF417DecoderErrorCorrection=ma,n.PDF417Reader=Wr,n.PDF417ResultMetadata=ko,n.PerspectiveTransform=Zt,n.PlanarYUVLuminanceSource=us,n.QRCodeByteMatrix=so,n.QRCodeDataMask=dr,n.QRCodeDecodedBitStreamParser=tr,n.QRCodeDecoderErrorCorrectionLevel=en,n.QRCodeDecoderFormatInformation=_r,n.QRCodeEncoder=Ln,n.QRCodeEncoderQRCode=Di,n.QRCodeMaskUtil=nr,n.QRCodeMatrixUtil=Rt,n.QRCodeMode=At,n.QRCodeReader=Bs,n.QRCodeVersion=ft,n.QRCodeWriter=Mr,n.RGBLuminanceSource=Es,n.RSS14Reader=Ct,n.RSSExpandedReader=je,n.ReaderException=no,n.ReedSolomonDecoder=vn,n.ReedSolomonEncoder=io,n.ReedSolomonException=Ut,n.Result=he,n.ResultMetadataType=Ze,n.ResultPoint=gt,n.StringUtils=Q,n.UnsupportedOperationException=M,n.VideoInputDevice=Ge,n.WhiteRectangleDetector=Un,n.WriterException=In,n.ZXingArrays=Y,n.ZXingCharset=w,n.ZXingInteger=W,n.ZXingStandardCharsets=D,n.ZXingStringBuilder=Z,n.ZXingStringEncoding=q,n.ZXingSystem=I,n.createAbstractExpandedDecoder=st,Object.defineProperty(n,"__esModule",{value:!0})})}(Zh,Zh.exports)),Zh.exports}var pr=dV();const gV=ey(pr),mV=WC({__proto__:null,default:gV},[pr]);var LS=function(){function t(e,n,r){if(this.formatMap=new Map([[_t.QR_CODE,pr.BarcodeFormat.QR_CODE],[_t.AZTEC,pr.BarcodeFormat.AZTEC],[_t.CODABAR,pr.BarcodeFormat.CODABAR],[_t.CODE_39,pr.BarcodeFormat.CODE_39],[_t.CODE_93,pr.BarcodeFormat.CODE_93],[_t.CODE_128,pr.BarcodeFormat.CODE_128],[_t.DATA_MATRIX,pr.BarcodeFormat.DATA_MATRIX],[_t.MAXICODE,pr.BarcodeFormat.MAXICODE],[_t.ITF,pr.BarcodeFormat.ITF],[_t.EAN_13,pr.BarcodeFormat.EAN_13],[_t.EAN_8,pr.BarcodeFormat.EAN_8],[_t.PDF_417,pr.BarcodeFormat.PDF_417],[_t.RSS_14,pr.BarcodeFormat.RSS_14],[_t.RSS_EXPANDED,pr.BarcodeFormat.RSS_EXPANDED],[_t.UPC_A,pr.BarcodeFormat.UPC_A],[_t.UPC_E,pr.BarcodeFormat.UPC_E],[_t.UPC_EAN_EXTENSION,pr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!mV)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(e),o=new Map;o.set(pr.DecodeHintType.POSSIBLE_FORMATS,i),o.set(pr.DecodeHintType.TRY_HARDER,!1),this.hints=o}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,i){try{r(n.decode(e))}catch(o){i(o)}})},t.prototype.decode=function(e){var n=new pr.MultiFormatReader(this.verbose,this.hints),r=new pr.HTMLCanvasElementLuminanceSource(e),i=new pr.BinaryBitmap(new pr.HybridBinarizer(r)),o=n.decode(i);return{text:o.text,format:DI.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),pV=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function g(_){try{m(r.next(_))}catch(A){u(A)}}function x(_){try{m(r.throw(_))}catch(A){u(A)}}function m(_){_.done?o(_.value):i(_.value).then(g,x)}m((r=r.apply(t,e||[])).next())})},xV=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(m){return function(_){return x([m,_])}}function x(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(o=m[0]&2?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){n.label=m[1];break}if(m[0]===6&&n.label<o[1]){n.label=o[1],o=m;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(m);break}o[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(_){m=[6,_],i=0}finally{r=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},PS=function(){function t(e,n,r){if(this.formatMap=new Map([[_t.QR_CODE,"qr_code"],[_t.AZTEC,"aztec"],[_t.CODABAR,"codabar"],[_t.CODE_39,"code_39"],[_t.CODE_93,"code_93"],[_t.CODE_128,"code_128"],[_t.DATA_MATRIX,"data_matrix"],[_t.ITF,"itf"],[_t.EAN_13,"ean_13"],[_t.EAN_8,"ean_8"],[_t.PDF_417,"pdf417"],[_t.UPC_A,"upc_a"],[_t.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return pV(this,void 0,void 0,function(){var n,r;return xV(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:DI.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,i=0,o=e;i<o.length;i++){var u=o[i],g=u.boundingBox.width*u.boundingBox.height;g>r&&(r=g,n=u)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,i){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),FS=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function g(_){try{m(r.next(_))}catch(A){u(A)}}function x(_){try{m(r.throw(_))}catch(A){u(A)}}function m(_){_.done?o(_.value):i(_.value).then(g,x)}m((r=r.apply(t,e||[])).next())})},BS=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(m){return function(_){return x([m,_])}}function x(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(o=m[0]&2?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){n.label=m[1];break}if(m[0]===6&&n.label<o[1]){n.label=o[1],o=m;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(m);break}o[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(_){m=[6,_],i=0}finally{r=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},yV=function(){function t(e,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&PS.isSupported()?(this.primaryDecoder=new PS(e,r,i),this.secondaryDecoder=new LS(e,r,i)):this.primaryDecoder=new LS(e,r,i)}return t.prototype.decodeAsync=function(e){return FS(this,void 0,void 0,function(){var n;return BS(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return FS(this,void 0,void 0,function(){var n,r;return BS(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];e+=i}var o=e/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),Ov=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_g=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function g(_){try{m(r.next(_))}catch(A){u(A)}}function x(_){try{m(r.throw(_))}catch(A){u(A)}}function m(_){_.done?o(_.value):i(_.value).then(g,x)}m((r=r.apply(t,e||[])).next())})},Eg=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(m){return function(_){return x([m,_])}}function x(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(o=m[0]&2?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){n.label=m[1];break}if(m[0]===6&&n.label<o[1]){n.label=o[1],o=m;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(m);break}o[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(_){m=[6,_],i=0}finally{r=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},PI=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),vV=function(t){Ov(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(PI),_V=function(t){Ov(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(vV),EV=function(t){Ov(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(PI),wV=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new _V(this.track)},t.prototype.torchFeature=function(){return new EV(this.track)},t}(),TV=function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,i),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,i){return _g(this,void 0,void 0,function(){var o,u;return Eg(this,function(g){switch(g.label){case 0:return o=new t(e,n,i),r.aspectRatio?(u={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(u)]):[3,2];case 1:g.sent(),g.label=2;case 2:return o.setupSurface(),[2,o]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return _g(this,void 0,void 0,function(){return Eg(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var i=e.mediaStream.getVideoTracks(),o=i.length,u=0;e.mediaStream.getVideoTracks().forEach(function(g){e.mediaStream.removeTrack(g),g.stop(),++u,u>=o&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new wV(this.getFirstTrackOrFail())},t}(),AV=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return _g(this,void 0,void 0,function(){return Eg(this,function(i){return[2,TV.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return _g(this,void 0,void 0,function(){var n,r;return Eg(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new t(r)]}})})},t}(),US=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function g(_){try{m(r.next(_))}catch(A){u(A)}}function x(_){try{m(r.throw(_))}catch(A){u(A)}}function m(_){_.done?o(_.value):i(_.value).then(g,x)}m((r=r.apply(t,e||[])).next())})},VS=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(m){return function(_){return x([m,_])}}function x(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(o=m[0]&2?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){n.label=m[1];break}if(m[0]===6&&n.label<o[1]){n.label=o[1],o=m;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(m);break}o[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(_){m=[6,_],i=0}finally{r=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},SV=function(){function t(){}return t.failIfNotSupported=function(){return US(this,void 0,void 0,function(){return VS(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return US(this,void 0,void 0,function(){return VS(this,function(n){return[2,AV.create(e)]})})},t}(),CV=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function g(_){try{m(r.next(_))}catch(A){u(A)}}function x(_){try{m(r.throw(_))}catch(A){u(A)}}function m(_){_.done?o(_.value):i(_.value).then(g,x)}m((r=r.apply(t,e||[])).next())})},bV=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(m){return function(_){return x([m,_])}}function x(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(o=m[0]&2?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){n.label=m[1];break}if(m[0]===6&&n.label<o[1]){n.label=o[1],o=m;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(m);break}o[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(_){m=[6,_],i=0}finally{r=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},IV=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=gf.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=gf.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return CV(this,void 0,void 0,function(){var e,n,r,i,o,u,g;return bV(this,function(x){switch(x.label){case 0:return e=function(m){for(var _=m.getVideoTracks(),A=0,C=_;A<C.length;A++){var R=C[A];R.enabled=!1,R.stop(),m.removeTrack(R)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=x.sent(),i=[],o=0,u=r;o<u.length;o++)g=u[o],g.kind==="videoinput"&&i.push({id:g.deviceId,label:g.label});return e(n),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(o){for(var u=[],g=0,x=o;g<x.length;g++){var m=x[g];m.kind==="video"&&u.push({id:m.id,label:m.label})}e(u)},i=MediaStreamTrack;i.getSources(r)})},t}(),Ur;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Ur||(Ur={}));var RV=function(){function t(){this.state=Ur.NOT_STARTED,this.onGoingTransactionNewState=Ur.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Ur.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ur.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ur.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ur.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ur.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Ur.UNKNOWN:throw"Transition from unknown is not allowed";case Ur.NOT_STARTED:this.failIfNewStateIs(e,[Ur.PAUSED]);break;case Ur.SCANNING:break;case Ur.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];if(e===o)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),NV=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Ur.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Ur.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ur.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Ur.PAUSED},t}(),OV=function(){function t(){}return t.create=function(){return new NV(new RV)},t}(),DV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qs=function(t){DV(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(Ga),MV=function(){function t(e,n){this.logger=n,this.fps=Qs.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Qs.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?LI.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!po(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),jS=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new kI(this.verbose),this.qrcode=new yV(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=OV.create()}return t.prototype.start=function(e,n,r,i){var o=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var u;i?u=i:u=this.verbose?this.logger.log:function(){};var g=MV.create(n,this.logger);this.clearElement();var x=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=x,_=document.getElementById(this.elementId);_.clientWidth?_.clientWidth:Qs.DEFAULT_WIDTH,_.style.position="relative",this.shouldScan=!0,this.element=_;var A=this,C=this.stateManagerProxy.startTransition(Ur.SCANNING);return new Promise(function(R,O){var I=m?g.videoConstraints:A.createVideoConstraints(e);if(!I){C.cancel(),O("videoConstraints should be defined");return}var k={};(!m||g.aspectRatio)&&(k.aspectRatio=g.aspectRatio);var H={onRenderSurfaceReady:function(Y,W){A.setupUi(Y,W,g),A.isScanning=!0,A.foreverScan(g,r,u)}};SV.failIfNotSupported().then(function(Y){Y.create(I).then(function(W){return W.render(o.element,k,H).then(function(te){A.renderedCamera=te,C.execute(),R(null)}).catch(function(te){C.cancel(),O(te)})}).catch(function(W){C.cancel(),O(gf.errorGettingUserMedia(W))})}).catch(function(Y){C.cancel(),O(gf.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ur.PAUSED),this.showPausedState(),(po(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(Ur.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Ur.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var o=document.getElementById(Qs.SHADED_REGION_ELEMENT_ID);o&&e.element.removeChild(o)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(po(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var u=new Image;u.onload=function(){var g=u.width,x=u.height,m=document.getElementById(r.elementId),_=m.clientWidth?m.clientWidth:Qs.DEFAULT_WIDTH,A=Math.max(m.clientHeight?m.clientHeight:x,Qs.FILE_SCAN_MIN_HEIGHT),C=r.computeCanvasDrawConfig(g,x,_,A);if(n){var R=r.createCanvasElement(_,A,"qr-canvas-visible");R.style.display="inline-block",m.appendChild(R);var O=R.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=_,O.canvas.height=A,O.drawImage(u,0,0,g,x,C.x,C.y,C.width,C.height)}var I=Qs.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(u.width,C.width),H=Math.max(u.height,C.height),Y=k+2*I,W=H+2*I,te=r.createCanvasElement(Y,W);m.appendChild(te);var oe=te.getContext("2d");if(!oe)throw"Unable to get 2d context from canvas";oe.canvas.width=Y,oe.canvas.height=W,oe.drawImage(u,0,0,g,x,I,I,k,H);try{r.qrcode.decodeRobustlyAsync(te).then(function(ve){i(DS.createFromQrcodeResult(ve))}).catch(o)}catch(ve){o("QR code parse error, error = ".concat(ve))}},u.onerror=o,u.onabort=o,u.onstalled=o,u.onsuspend=o,u.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return IV.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!LI.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[_t.QR_CODE,_t.AZTEC,_t.CODABAR,_t.CODE_39,_t.CODE_93,_t.CODE_128,_t.DATA_MATRIX,_t.MAXICODE,_t.ITF,_t.EAN_13,_t.EAN_8,_t.PDF_417,_t.RSS_14,_t.RSS_EXPANDED,_t.UPC_A,_t.UPC_E,_t.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,o=e.formatsToSupport;i<o.length;i++){var u=o[i];uV(u)?r.push(u):this.logger.warn("Invalid format: ".concat(u," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(po(e))return!0;if(!po(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(po(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return po(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var i=this,o=r.qrbox;this.validateQrboxConfig(o);var u=this.toQrdimensions(e,n,o),g=function(m){if(m<Qs.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Qs.MIN_QR_BOX_SIZE,"px.")},x=function(m){return m>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=e),m};g(u.width),g(u.height),u.width=x(u.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var i=po(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(e,n,i);o.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var u=r.isShadedBoxEnabled()&&o.height<=n,g={x:0,y:0,width:e,height:n},x=u?this.getShadedRegionBounds(e,n,o):g,m=this.createCanvasElement(x.width,x.height),_={willReadFrequently:!0},A=m.getContext("2d",_);A.canvas.width=x.width,A.canvas.height=x.height,this.element.append(m),u&&this.possiblyInsertShadingElement(this.element,e,n,o),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=A,this.canvasElement=m},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=gf.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,DS.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var o=gf.codeParseError(i);return n(o,MI.createFrom(o)),!1})},t.prototype.foreverScan=function(e,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),u=o.videoWidth/o.clientWidth,g=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*u,m=this.qrRegion.height*g,_=this.qrRegion.x*u,A=this.qrRegion.y*g;this.context.drawImage(o,_,A,x,m,0,0,this.qrRegion.width,this.qrRegion.height);var C=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,n,r)},i.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(R){!R&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){C()})):C()}).catch(function(R){i.logger.logError("Error happend while scanning context",R),C()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},o="exact",u=function(O){if(O in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(O,"'")},g=Object.keys(e);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var x=Object.keys(e)[0];if(x!==n&&x!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var m=e.facingMode;if(typeof m=="string"){if(u(m))return{facingMode:m}}else if(typeof m=="object")if(o in m){if(u(m["".concat(o)]))return{facingMode:{exact:m["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var _=typeof m;throw"Invalid type of 'facingMode' = ".concat(_)}}else{var A=e.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(o in A)return{deviceId:{exact:A["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var C=typeof A;throw"Invalid type of 'deviceId' = ".concat(C)}}}var R=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(R)},t.prototype.computeCanvasDrawConfig=function(e,n,r,i){if(e<=r&&n<=i){var o=(r-e)/2,u=(i-n)/2;return{x:o,y:u,width:e,height:n}}else{var g=e,x=n;return e>r&&(n=r/e*n,e=r),n>i&&(e=i/n*e,n=i),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(x)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?Qs.BORDER_SHADER_MATCH_COLOR:Qs.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var i=e,o=n,u=document.createElement("canvas");return u.style.width="".concat(i,"px"),u.style.height="".concat(o,"px"),u.style.display="none",u.id=po(r)?"qr-canvas":r,u},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,i){if(!(n-i.width<1||r-i.height<1)){var o=document.createElement("div");o.style.position="absolute";var u=(n-i.width)/2,g=(r-i.height)/2;if(o.style.borderLeft="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(Qs.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var x=5,m=40;this.insertShaderBorders(o,m,x,-x,null,0,!0),this.insertShaderBorders(o,m,x,-x,null,0,!1),this.insertShaderBorders(o,m,x,null,-x,0,!0),this.insertShaderBorders(o,m,x,null,-x,0,!1),this.insertShaderBorders(o,x,m+x,-x,null,-x,!0),this.insertShaderBorders(o,x,m+x,null,-x,-x,!0),this.insertShaderBorders(o,x,m+x,-x,null,-x,!1),this.insertShaderBorders(o,x,m+x,null,-x,-x,!1),this.hasBorderShaders=!0}e.append(o)}},t.prototype.insertShaderBorders=function(e,n,r,i,o,u,g){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=Qs.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(r,"px"),i!==null&&(x.style.top="".concat(i,"px")),o!==null&&(x.style.bottom="".concat(o,"px")),g?x.style.left="".concat(u,"px"):x.style.right="".concat(u,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),e.appendChild(x)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),Dv="data:image/svg+xml;base64,",kV=Dv+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",LV=Dv+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",HS=Dv+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",PV="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",zS=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),FV=function(){function t(){this.data=zS.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=zS.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),BV=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=MS.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var o=document.createElement("a");o.innerText=MS.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),UV=function(){function t(e,n){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=n,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=HS,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=PV,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=HS,this.infoIcon.style.opacity="0.6")},t}(),VV=function(){function t(){var e=this;this.infoDiv=new BV,this.infoIcon=new UV(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}(),jV=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function g(_){try{m(r.next(_))}catch(A){u(A)}}function x(_){try{m(r.throw(_))}catch(A){u(A)}}function m(_){_.done?o(_.value):i(_.value).then(g,x)}m((r=r.apply(t,e||[])).next())})},HV=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(m){return function(_){return x([m,_])}}function x(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(o=m[0]&2?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){n.label=m[1];break}if(m[0]===6&&n.label<o[1]){n.label=o[1],o=m;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(m);break}o[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(_){m=[6,_],i=0}finally{r=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},GS=function(){function t(){}return t.hasPermissions=function(){return jV(this,void 0,void 0,function(){var e,n,r,i;return HV(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=o.sent(),n=0,r=e;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},t}(),Yl=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,n=this.supportedScanTypes;e<n.length;e++){var r=n[e];if(t.isCameraScanType(r))return!0}return!1},t.isCameraScanType=function(e){return e===yc.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===yc.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return Ga.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Ga.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=e;r<i.length;r++){var o=i[r];if(!Ga.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return e},t}(),ia=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),el=function(){function t(){}return t.createElement=function(e,n){var r=document.createElement(e);return r.id=n,r.classList.add(ia.ALL_ELEMENT_CLASS),e==="button"&&r.setAttribute("type","button"),r},t}(),FI=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function g(_){try{m(r.next(_))}catch(A){u(A)}}function x(_){try{m(r.throw(_))}catch(A){u(A)}}function m(_){_.done?o(_.value):i(_.value).then(g,x)}m((r=r.apply(t,e||[])).next())})},BI=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,u;return u={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(m){return function(_){return x([m,_])}}function x(m){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(n=0)),n;)try{if(r=1,i&&(o=m[0]&2?i.return:m[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,m[1])).done)return o;switch(i=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,i=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){n.label=m[1];break}if(m[0]===6&&n.label<o[1]){n.label=o[1],o=m;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(m);break}o[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(t,n)}catch(_){m=[6,_],i=0}finally{r=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},WS=function(){function t(e,n,r){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=n,this.onTorchActionFailureCallback=r}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return FI(this,void 0,void 0,function(){var e,n;return BI(this,function(r){switch(r.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return n=r.sent(),this.propagateFailure(e,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,n){e===n?(this.buttonController.setText(n?Gn.torchOffButton():Gn.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},t.prototype.propagateFailure=function(e,n){var r=e?Gn.torchOnFailedMessage():Gn.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),zV=function(){function t(e,n){this.onTorchActionFailureCallback=n,this.torchButton=el.createElement("button",ia.TORCH_BUTTON_ID),this.torchController=new WS(e,this,n)}return t.prototype.render=function(e,n){var r=this;this.torchButton.innerText=Gn.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(o){return FI(r,void 0,void 0,function(){return BI(this,function(u){switch(u.label){case 0:return[4,i.torchController.flipState()];case 1:return u.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(ia.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(ia.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(ia.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(ia.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new WS(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=Gn.torchOnButton(),this.torchController.reset()},t.create=function(e,n,r,i){var o=new t(n,i);return o.render(e,r),o},t}(),GV=function(){function t(e,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",e.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=el.createElement("button",ia.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(g){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=el.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(g){if(!(g==null||g.target==null)){var x=g.target;if(!(x.files&&x.files.length===0)){var m=x.files,_=m[0],A=_.name;o.setImageNameToButton(A),r(_)}}});var u=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(u),this.fileBasedScanRegion.addEventListener("dragenter",function(g){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(g){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(g){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(g){g.stopPropagation(),g.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var x=g.dataTransfer;if(x){var m=x.files;if(!m||m.length===0)return;for(var _=!1,A=0;A<m.length;++A){var C=m.item(A);if(C){var R=/image.*/;if(C.type.match(R)){_=!0;var O=C.name;o.setImageNameToButton(O),r(C),u.innerText=Gn.dragAndDropMessage();break}}}_||(u.innerText=Gn.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=Gn.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var n=20;if(e.length>n){var r=e.substring(0,8),i=e.length,o=e.substring(i-8,i);e="".concat(r,"....").concat(o)}var u=Gn.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=u},t.prototype.setInitialValueToButton=function(){var e=Gn.fileSelectionChooseImage()+" - "+Gn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,n,r){var i=new t(e,n,r);return i},t}(),WV=function(){function t(e){this.selectElement=el.createElement("select",ia.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=Gn.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var o=1,u=0,g=this.cameras;u<g.length;u++){var x=g[u],m=x.id,_=x.label==null?m:x.label;(!_||_==="")&&(_=[Gn.anonymousCameraPrefix(),o++].join(" "));var A=document.createElement("option");A.value=m,A.innerText=_,this.options.push(A),this.selectElement.appendChild(A)}n.appendChild(this.selectElement),e.appendChild(n)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,n){var r=new t(n);return r.render(e),r},t}(),qV=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=el.createElement("input",ia.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Gn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=Gn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,n,r,i){this.rangeInput.min=e.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,n){var r=new t;return r.render(e,n),r},t}(),$s;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})($s||($s={}));function YV(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function XV(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var UI=function(){function t(e,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Yl(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new kI(this.verbose),this.persistedDataManager=new FV,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,u){if(e)e(o,u);else{if(r.lastMatchFound===o)return;r.lastMatchFound=o,r.setHeaderMessage(Gn.lastMatch(o),$s.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,u){n&&n(o,u)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new jS(this.getScanRegionId(),XV(this.config,this.verbose))},t.prototype.pause=function(e){(po(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,n=function(){var r=document.getElementById(e.elementId);r&&(r.innerHTML="",e.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!e.html5Qrcode){r();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(o){if(!e.html5Qrcode){r();return}e.html5Qrcode.clear(),n(),r()}).catch(function(o){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",o),i(o)}):(e.html5Qrcode.clear(),n(),r())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Ga.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Ga.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Ga.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Ga.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Ga.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ga.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ga.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",e.appendChild(n),Yl.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),o=this.getDashboardId();i.id=o,i.style.width="100%",e.appendChild(i),this.setupInitialDashboard(i)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",e.appendChild(n);var r=new VV;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},t.prototype.createSection=function(e){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",e.appendChild(n)},t.prototype.createCameraListUi=function(e,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(Gn.cameraPermissionRequesting());var o=function(){r||i.createPermissionButton(e,n)};jS.getCameras().then(function(u){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),u&&u.length>0?(e.removeChild(n),i.renderCameraSelection(u)):(i.setHeaderMessage(Gn.noCameraFound(),$s.STATUS_WARNING),o())}).catch(function(u){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:o(),i.setHeaderMessage(u,$s.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,n){var r=this,i=el.createElement("button",this.getCameraPermissionButtonId());i.innerText=Gn.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(e,n,i)}),n.appendChild(i)},t.prototype.createPermissionsUi=function(e,n){var r=this;if(Yl.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){GS.hasPermissions().then(function(i){i?r.createCameraListUi(e,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(e,n)});return}this.createPermissionButton(e,n)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");e.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Yl.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},t.prototype.renderFileScanUi=function(e){var n=Yl.isFileScanType(this.currentScanType),r=this,i=function(o){if(!r.html5Qrcode)throw"html5Qrcode not defined";Yl.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Gn.loadingImage()),r.html5Qrcode.scanFileV2(o,!0).then(function(u){r.resetHeaderMessage(),r.qrCodeSuccessCallback(u.decodedText,u)}).catch(function(u){r.setHeaderMessage(u,$s.STATUS_WARNING),r.qrCodeErrorCallback(u,MI.createFrom(u))}))};this.fileSelectionUi=GV.create(e,n,i)},t.prototype.renderCameraSelection=function(e){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var o=qV.create(i,!1),u=function(I){var k=I.zoomFeature();if(k.isSupported()){o.setOnCameraZoomValueChangeCallback(function(Y){k.apply(Y)});var H=1;n.config.defaultZoomValueIfSupported&&(H=n.config.defaultZoomValueIfSupported),H=fV(H,k.min(),k.max()),o.setValues(k.min(),k.max(),H,k.step()),o.show()}},g=WV.create(i,e),x=document.createElement("span"),m=el.createElement("button",ia.CAMERA_START_BUTTON_ID);m.innerText=Gn.scanButtonStartScanningText(),x.appendChild(m);var _=el.createElement("button",ia.CAMERA_STOP_BUTTON_ID);_.innerText=Gn.scanButtonStopScanningText(),_.style.display="none",_.disabled=!0,x.appendChild(_);var A,C=function(I){if(!I.torchFeature().isSupported()){A&&A.hide();return}A?A.updateTorchCapability(I.torchFeature()):A=zV.create(x,I.torchFeature(),{display:"none",marginLeft:"5px"},function(k){r.setHeaderMessage(k,$s.STATUS_WARNING)}),A.show()};i.appendChild(x);var R=function(I){I||(m.style.display="none"),m.innerText=Gn.scanButtonStartScanningText(),m.style.opacity="1",m.disabled=!1,I&&(m.style.display="inline-block")};if(m.addEventListener("click",function(I){m.innerText=Gn.scanButtonScanningStarting(),g.disable(),m.disabled=!0,m.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var k=g.getValue();r.persistedDataManager.setLastUsedCameraId(k),r.html5Qrcode.start(k,YV(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(H){_.disabled=!1,_.style.display="inline-block",R(!1);var Y=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&C(Y),n.config.showZoomSliderIfSupported===!0&&u(Y)}).catch(function(H){r.showHideScanTypeSwapLink(!0),g.enable(),R(!0),r.setHeaderMessage(H,$s.STATUS_WARNING)})}),g.hasSingleItem()&&m.click(),_.addEventListener("click",function(I){if(!r.html5Qrcode)throw"html5Qrcode not defined";_.disabled=!0,r.html5Qrcode.stop().then(function(k){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),g.enable(),m.disabled=!1,_.style.display="none",m.style.display="inline-block",A&&(A.reset(),A.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(k){_.disabled=!1,r.setHeaderMessage(k,$s.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var O=r.persistedDataManager.getLastUsedCameraId();g.hasValue(O)?(g.setValue(O),m.click()):r.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,n=Gn.textIfCameraScanSelected(),r=Gn.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var u=el.createElement("span",this.getDashboardSectionSwapLinkId());u.style.textDecoration="underline",u.style.cursor="pointer",u.innerText=Yl.isCameraScanType(this.currentScanType)?n:r,u.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Yl.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),u.innerText=r,e.currentScanType=yc.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),u.innerText=n,e.currentScanType=yc.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),o.appendChild(u),i.appendChild(o)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){GS.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,n){n||(n=$s.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=e,r.style.display="block",n){case $s.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case $s.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case $s.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=kV,this.cameraScanImage.alt=Gn.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=LV,this.fileScanImage.alt=Gn.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return ia.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return ia.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();const VI="/ScanIn-Attendance/assets/qr-code-BQBNos88.png";class KV{constructor(){this.data={users:{user1:{uid:"user1",email:"member@example.com",displayName:"John Doe",role:"member",phone:"+1234567890",photoURL:null,emailVerified:!0},user2:{uid:"user2",email:"member2@example.com",displayName:"Jane Smith",role:"member",phone:"+1987654321",photoURL:null,emailVerified:!0},admin1:{uid:"admin1",email:"admin@example.com",displayName:"Admin User",role:"admin",phone:"+1555123456",photoURL:null,emailVerified:!0}},scanHistory:[{id:"scan1",userId:"user1",memberId:"user1",adminId:"admin1",result:"Event A Check-in",timestamp:new Date(Date.now()-864e5),status:"clock-in"},{id:"scan2",userId:"user1",memberId:"user1",adminId:"admin1",result:"Event A Check-out",timestamp:new Date(Date.now()-828e5),status:"clock-out"},{id:"scan3",userId:"user1",memberId:"user1",adminId:"admin1",result:"Event B Check-in",timestamp:new Date(Date.now()-36e5),status:"clock-in"},{id:"scan4",userId:"user2",memberId:"user2",adminId:"admin1",result:"Event C Check-in",timestamp:new Date(Date.now()-72e5),status:"clock-in"}],customQRCodes:[{id:"qr1",qrId:"event-a-2024",adminId:"admin1",name:"Event A",description:"Annual Company Meeting",location:"Main Conference Room",eventType:"Meeting",fields:["name","email","phone"],requiresForm:!0,isActive:!0,validFrom:"",validUntil:"",createdAt:new Date(Date.now()-6048e5),scanCount:15},{id:"qr2",qrId:"event-b-2024",adminId:"admin1",name:"Event B",description:"Team Building Workshop",location:"Auditorium",eventType:"Workshop",fields:["name","email"],requiresForm:!0,isActive:!0,validFrom:"",validUntil:"",createdAt:new Date(Date.now()-2592e5),scanCount:8}],attendanceRecords:[],formSubmitData:[],formSubmitCheck:[]},this.listeners={},this.currentUser=null}async signInWithEmailAndPassword(e,n){const r=Object.values(this.data.users).find(i=>i.email===e);if(!r)throw new Error("auth/user-not-found");return this.currentUser=r,{user:r}}async createUserWithEmailAndPassword(e,n){const r=`user${Date.now()}`,i={uid:r,email:e,displayName:e.split("@")[0],role:"member",photoURL:null,emailVerified:!1};return this.data.users[r]=i,this.currentUser=i,{user:i}}async signOut(){this.currentUser=null}onAuthStateChanged(e){return setTimeout(()=>e(this.currentUser),100),()=>{}}collection(e){return{addDoc:n=>this.addDoc(e,n),doc:n=>this.doc(e,n),where:(...n)=>this.where(e,...n),orderBy:(...n)=>this.orderBy(e,...n),onSnapshot:n=>this.onSnapshot(e,n)}}doc(e,n){return{setDoc:r=>this.setDoc(e,n,r),getDoc:()=>this.getDoc(e,n),updateDoc:r=>this.updateDoc(e,n,r)}}async addDoc(e,n){const r=`${e}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,i={...n,id:r};return e==="scanHistory"?(this.data.scanHistory.push(i),this.notifyListeners("scanHistory")):e==="customQRCodes"?(this.data.customQRCodes.push(i),this.notifyListeners("customQRCodes")):e==="attendanceRecords"?(this.data.attendanceRecords.push(i),this.notifyListeners("attendanceRecords")):e==="formSubmitData"?(this.data.formSubmitData.push(i),this.notifyListeners("formSubmitData")):e==="formSubmitCheck"&&(this.data.formSubmitCheck.push(i),this.notifyListeners("formSubmitCheck")),{id:r}}async setDoc(e,n,r){if(e==="users")this.data.users[n]={...this.data.users[n],...r};else if(e==="formSubmitData"){const i=this.data.formSubmitData.findIndex(o=>o.id===n);i!==-1?this.data.formSubmitData[i]={...this.data.formSubmitData[i],...r}:this.data.formSubmitData.push({...r,id:n}),this.notifyListeners("formSubmitData")}else if(e==="formSubmitCheck"){const i=this.data.formSubmitCheck.findIndex(o=>o.id===n);i!==-1?this.data.formSubmitCheck[i]={...this.data.formSubmitCheck[i],...r}:this.data.formSubmitCheck.push({...r,id:n}),this.notifyListeners("formSubmitCheck")}this.notifyListeners(e)}async getDoc(e,n){let r=null;return e==="users"?r=this.data.users[n]:e==="formSubmitCheck"&&(r=this.data.formSubmitCheck.find(i=>i.id===n)),{exists:()=>!!r,data:()=>r}}async updateDoc(e,n,r){if(e==="users")this.data.users[n]={...this.data.users[n],...r};else if(e==="customQRCodes"){const i=this.data.customQRCodes.findIndex(o=>o.id===n);i!==-1&&(this.data.customQRCodes[i]={...this.data.customQRCodes[i],...r})}this.notifyListeners(e)}where(e,n,r,i){return{orderBy:(...o)=>this.orderBy(e,...o,{field:n,operator:r,value:i}),onSnapshot:o=>this.onSnapshot(e,o,{field:n,operator:r,value:i})}}orderBy(e,n,r="asc",i=null){return{onSnapshot:o=>this.onSnapshot(e,o,i,{field:n,direction:r})}}onSnapshot(e,n,r=null,i=null){const o=`${e}_${Date.now()}_${Math.random()}`,u=()=>{let g=[];return e==="scanHistory"?g=this.data.scanHistory.filter(x=>r&&r.field==="userId"&&r.operator==="=="?x.userId===r.value:!0):e==="customQRCodes"?g=this.data.customQRCodes:e==="attendanceRecords"?g=this.data.attendanceRecords:e==="formSubmitData"?g=this.data.formSubmitData:e==="formSubmitCheck"&&(g=this.data.formSubmitCheck),i&&i.field==="timestamp"&&g.sort((x,m)=>{var C,R;const _=(C=x.timestamp)!=null&&C.toDate?x.timestamp.toDate():new Date(x.timestamp),A=(R=m.timestamp)!=null&&R.toDate?m.timestamp.toDate():new Date(m.timestamp);return i.direction==="desc"?A-_:_-A}),g};return this.listeners[o]={collectionName:e,callback:n,filter:r,orderBy:i},setTimeout(()=>{const g=u();n({docs:g.map(x=>({id:x.id,data:()=>x}))})},10),()=>{delete this.listeners[o]}}notifyListeners(e){Object.values(this.listeners).forEach(n=>{if(n.collectionName===e){const r=this.getFilteredDataForListener(n);n.callback({docs:r.map(i=>({id:i.id,data:()=>i}))})}})}getFilteredDataForListener(e){let n=[];return e.collectionName==="scanHistory"?n=this.data.scanHistory.filter(r=>e.filter&&e.filter.field==="userId"&&e.filter.operator==="=="?r.userId===e.filter.value:!0):e.collectionName==="customQRCodes"?n=this.data.customQRCodes:e.collectionName==="attendanceRecords"?n=this.data.attendanceRecords:e.collectionName==="formSubmitData"?n=this.data.formSubmitData:e.collectionName==="formSubmitCheck"&&(n=this.data.formSubmitCheck),e.orderBy&&e.orderBy.field==="timestamp"&&n.sort((r,i)=>{var g,x;const o=(g=r.timestamp)!=null&&g.toDate?r.timestamp.toDate():new Date(r.timestamp),u=(x=i.timestamp)!=null&&x.toDate?i.timestamp.toDate():new Date(i.timestamp);return e.orderBy.direction==="desc"?u-o:o-u}),n}ref(e,n){return{put:r=>({on:(i,o)=>{i==="state_changed"&&setTimeout(()=>o({bytesTransferred:r.size,totalBytes:r.size}),500)},then:i=>{setTimeout(()=>i({ref:{getDownloadURL:()=>Promise.resolve(`https://mock-storage.example.com/${n}`)}}),1e3)}})}}getDownloadURL(e){return Promise.resolve(`https://mock-storage.example.com/${e.fullPath}`)}}const Wc=new KV,qS=({currentUser:t})=>{const[e,n]=de.useState(null),[r,i]=de.useState(!1),o=de.useRef(!1),u=de.useRef(null),g=pl(),{useMock:x}=Da();de.useEffect(()=>{if(!r)return;const _=new UI("reader",{qrbox:{width:250,height:250},fps:7});u.current=_,_.render(A,C);async function A(R){if(!o.current){if(o.current=!0,n(R),_.clear(),R.includes("/scan-form/")){const O=R.split("/scan-form/")[1];if(O){g(`/scan-form/${O}`);return}}if(t)try{if(x){const O={id:Date.now().toString(),memberId:t.uid,adminId:R,result:R,timestamp:new Date,status:"clock-in"};Wc.data.attendanceRecords.push(O)}else await vg(bo(Qr,"attendanceRecords"),{memberId:t.uid,adminId:R,result:R,timestamp:jB(),status:"clock-in"})}catch(O){console.error("Failed to save attendance record:",O)}}}function C(R){console.warn(R)}return()=>{_.clear().catch(()=>{})}},[r,t,g]);const m=()=>{n(null),o.current=!1,i(!0)};return F.jsxs("div",{className:"clockin-container",children:[F.jsx("h1",{className:"member-title",children:"Attendid"}),F.jsx("p",{className:"member-desc",children:"Scan your QR code to clock in or out."}),F.jsx("img",{src:VI,alt:"QR Code Icon",className:"qr-code-icon"}),e?F.jsxs("div",{className:"scan-result success",children:[F.jsx("span",{children:"Success:"})," ",F.jsx("a",{href:"http://"+e,children:e})]}):F.jsxs(F.Fragment,{children:[!r&&F.jsx("button",{className:"scan-btn",onClick:m,children:"Start Scanning"}),r&&F.jsx("div",{id:"reader",className:"qr-reader-box"})]})]})},QV=({currentUser:t})=>{const[e,n]=de.useState([]),{useMock:r}=Da();return de.useEffect(()=>{if(t)if(r){const i=Wc.data.scanHistory.filter(o=>o.userId===t.uid).sort((o,u)=>new Date(u.timestamp)-new Date(o.timestamp));n(i)}else{const i=xg(bo(Qr,"scanHistory"),o0("userId","==",t.uid),FB("timestamp","desc"));return VB(i,u=>{const g=[];u.forEach(x=>{g.push({id:x.id,...x.data()})}),n(g)})}},[t,r]),F.jsxs("div",{className:"member-container-history",children:[F.jsx("h1",{className:"member-title",children:"Attendance History"}),F.jsx("p",{className:"member-desc",children:"Your recent clock-in and clock-out records will appear here."}),F.jsx("ul",{className:"history-list",children:e.length===0?F.jsx("li",{className:"history-item",children:"No scan history found."}):e.map(i=>F.jsxs("li",{className:"history-item",children:[F.jsx("span",{style:{fontWeight:600},children:r?new Date(i.timestamp).toLocaleString():i.timestamp&&i.timestamp.toDate?i.timestamp.toDate().toLocaleString():"Unknown time"}),F.jsx("span",{style:{marginTop:"0.3rem"},children:i.result})]},i.id))})]})},$V=({currentUser:t})=>{const[e,n]=de.useState(!1),[r,i]=de.useState(!1),[o,u]=de.useState(""),[g,x]=de.useState(!1),[m,_]=de.useState(""),A=de.useRef(),{updateUserProfile:C,updateUserData:R,getUserData:O,useMock:I}=Da();de.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{if(I){const te=Wc.data.users.find(oe=>oe.uid===t.uid);te&&u(te.phone||"")}else{const te=await O();te&&u(te.phone||"")}}catch(te){console.error("Error loading user data:",te)}})()},[t,I,O]);const k=async W=>{const te=W.target.files[0];if(te){x(!0),_("");try{if(I){const oe=Wc.data.users.findIndex(ve=>ve.uid===t.uid);oe!==-1&&(Wc.data.users[oe].profilePhotoURL=`mock-photo-${Date.now()}`)}else{const oe=JU(sV,`profile-photos/${t.uid}/${te.name}`);await $U(oe,te);const ve=await ZU(oe);await C({photoURL:ve}),await R({profilePhotoURL:ve})}x(!1)}catch(oe){console.error("Error uploading photo:",oe),_("Failed to upload photo. Please try again."),x(!1)}}},H=async W=>{x(!0),_("");try{if(I){const te=Wc.data.users.findIndex(oe=>oe.uid===t.uid);te!==-1&&(Wc.data.users[te].phone=W)}else await R({phone:W});u(W),i(!1),x(!1)}catch(te){console.error("Error updating phone:",te),_("Failed to update phone number. Please try again."),x(!1)}},Y=()=>{console.log("Password change requires additional UI")};return F.jsxs("div",{className:"member-container",children:[F.jsx("h1",{className:"member-title",children:"Profile Details"}),F.jsx("p",{className:"member-desc",children:"Your personal and account details will be shown here."}),F.jsxs("div",{className:"profile-details-card",children:[m&&F.jsx("div",{className:"error-message",children:m}),F.jsxs("div",{className:"profile-photo-section",children:[F.jsxs("div",{className:"profile-photo",children:[t!=null&&t.photoURL?F.jsx("img",{src:t.photoURL,alt:(t==null?void 0:t.displayName)||"Profile",className:"profile-photo-img"}):F.jsx("div",{className:"profile-photo-placeholder",children:((t==null?void 0:t.displayName)||"U")[0].toUpperCase()}),g&&F.jsx("div",{className:"photo-loading-overlay",children:"Uploading..."})]}),F.jsx("input",{type:"file",ref:A,onChange:k,accept:"image/*",style:{display:"none"}}),F.jsx("button",{className:"photo-upload-btn",onClick:()=>A.current.click(),disabled:g,children:g?"Uploading...":"Change Photo"})]}),F.jsxs("div",{className:"profile-info-section",children:[F.jsxs("div",{className:"profile-details-row",children:[F.jsx("span",{className:"detail-label",children:"Name"}),F.jsx("span",{className:"detail-value",children:(t==null?void 0:t.displayName)||"John Doe"})]}),F.jsxs("div",{className:"profile-details-row",children:[F.jsx("span",{className:"detail-label",children:"Email"}),F.jsx("span",{className:"detail-value",children:(t==null?void 0:t.email)||"johndoe@email.com"})]}),F.jsxs("div",{className:"profile-details-row",children:[F.jsx("span",{className:"detail-label",children:"Phone"}),r?F.jsxs("div",{className:"phone-edit-actions",children:[F.jsx("input",{type:"tel",value:o,onChange:W=>u(W.target.value),className:"phone-input",placeholder:"Enter phone number",disabled:g}),F.jsx("button",{className:"save-btn",onClick:()=>H(o),disabled:g,children:g?"Saving...":"Save"}),F.jsx("button",{className:"cancel-btn",onClick:()=>i(!1),disabled:g,children:"Cancel"})]}):F.jsxs("div",{className:"phone-display",children:[F.jsx("span",{className:"detail-value",children:o||"Not set"}),F.jsx("button",{className:"edit-btn",onClick:()=>i(!0),children:"Edit"})]})]}),F.jsxs("div",{className:"profile-details-row password-row",children:[F.jsx("span",{className:"detail-label",children:"Password"}),F.jsxs("div",{className:"password-actions",children:[F.jsx("span",{className:"detail-value password",children:e?"********":""}),F.jsx("button",{className:"password-toggle",onClick:()=>n(!e),children:e?"Hide":"Show"}),F.jsx("button",{className:"change-password-btn",onClick:Y,children:"Change"})]})]})]})]})]})},ZV=({currentUser:t,setActiveSection:e})=>{const{updateUserProfile:n}=Da(),[r,i]=de.useState({name:(t==null?void 0:t.displayName)||"",email:(t==null?void 0:t.email)||"",phone:"",notifications:{email:!0,push:!0,sms:!1},privacy:{shareData:!1,showProfile:!0},preferences:{theme:"light",language:"en"}}),[o,u]=de.useState("");de.useEffect(()=>{i(C=>({...C,name:(t==null?void 0:t.displayName)||"",email:(t==null?void 0:t.email)||""}))},[t]);const g=C=>{const{name:R,value:O,type:I,checked:k}=C.target;i(H=>({...H,[R]:I==="checkbox"?k:O}))},x=C=>{i(R=>({...R,notifications:{...R.notifications,[C]:!R.notifications[C]}}))},m=C=>{i(R=>({...R,privacy:{...R.privacy,[C]:!R.privacy[C]}}))},_=(C,R)=>{i(O=>({...O,preferences:{...O.preferences,[C]:R}}))},A=async()=>{try{r.name!==(t==null?void 0:t.displayName)&&await n({displayName:r.name}),u("Settings saved successfully!"),setTimeout(()=>u(""),3e3)}catch(C){console.error("Error updating profile:",C),u("Error saving settings. Please try again."),setTimeout(()=>u(""),3e3)}};return F.jsxs("div",{className:"member-container-settings",children:[F.jsx("h1",{className:"member-title",children:"Settings"}),F.jsx("p",{className:"member-desc",children:"Update your preferences and account settings here."}),o&&F.jsx("div",{className:`settings-notification ${o.includes("success")?"success":"error"}`,children:o}),F.jsxs("div",{className:"settings-section",children:[F.jsx("div",{className:"settings-section-title",children:"Profile Information"}),F.jsxs("div",{className:"settings-form-group",children:[F.jsx("label",{children:"Full Name"}),F.jsx("input",{type:"text",name:"name",value:r.name,onChange:g,className:"settings-form-input",placeholder:"Enter your full name"})]}),F.jsxs("div",{className:"settings-form-group",children:[F.jsx("label",{children:"Email Address"}),F.jsx("input",{type:"email",name:"email",value:r.email,onChange:g,className:"settings-form-input",placeholder:"Enter your email"})]}),F.jsxs("div",{className:"settings-form-group",children:[F.jsx("label",{children:"Phone Number"}),F.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:g,className:"settings-form-input",placeholder:"Enter your phone number"})]})]}),F.jsxs("div",{className:"settings-section",children:[F.jsx("div",{className:"settings-section-title",children:"Notifications"}),F.jsxs("div",{className:"settings-checkbox-group",children:[F.jsx("input",{type:"checkbox",checked:r.notifications.email,onChange:()=>x("email")}),F.jsx("label",{children:"Email Notifications"})]}),F.jsxs("div",{className:"settings-checkbox-group",children:[F.jsx("input",{type:"checkbox",checked:r.notifications.push,onChange:()=>x("push")}),F.jsx("label",{children:"Push Notifications"})]}),F.jsxs("div",{className:"settings-checkbox-group",children:[F.jsx("input",{type:"checkbox",checked:r.notifications.sms,onChange:()=>x("sms")}),F.jsx("label",{children:"SMS Notifications"})]})]}),F.jsxs("div",{className:"settings-section",children:[F.jsx("div",{className:"settings-section-title",children:"Privacy"}),F.jsxs("div",{className:"settings-checkbox-group",children:[F.jsx("input",{type:"checkbox",checked:r.privacy.shareData,onChange:()=>m("shareData")}),F.jsx("label",{children:"Share attendance data with admins"})]}),F.jsxs("div",{className:"settings-checkbox-group",children:[F.jsx("input",{type:"checkbox",checked:r.privacy.showProfile,onChange:()=>m("showProfile")}),F.jsx("label",{children:"Show profile to other members"})]})]}),F.jsxs("div",{className:"settings-section",children:[F.jsx("div",{className:"settings-section-title",children:"Preferences"}),F.jsxs("div",{className:"settings-form-group",children:[F.jsx("label",{children:"Theme"}),F.jsxs("select",{value:r.preferences.theme,onChange:C=>_("theme",C.target.value),className:"settings-form-select",children:[F.jsx("option",{value:"light",children:"Light"}),F.jsx("option",{value:"dark",children:"Dark"}),F.jsx("option",{value:"auto",children:"Auto"})]})]}),F.jsxs("div",{className:"settings-form-group",children:[F.jsx("label",{children:"Language"}),F.jsxs("select",{value:r.preferences.language,onChange:C=>_("language",C.target.value),className:"settings-form-select",children:[F.jsx("option",{value:"en",children:"English"}),F.jsx("option",{value:"es",children:"Spanish"}),F.jsx("option",{value:"fr",children:"French"})]})]})]}),F.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[F.jsx("button",{className:"settings-btn settings-btn-save",onClick:A,children:"Save Settings"}),F.jsx("button",{className:"settings-btn settings-btn-cancel",onClick:()=>e("clockin"),children:"Cancel"})]})]})},jI=({activeSection:t,onNavClick:e,logoText:n="Admin Panel",navItems:r=[],userDisplay:i="User",logoutLink:o})=>{const[u,g]=de.useState(!1),x=pl(),m=R=>{e(R),g(!1)},_=()=>{g(!u)},A=()=>{g(!1)},C=async()=>{await T3($h),localStorage.clear(),x("/")};return de.useEffect(()=>{const R=O=>{u&&!O.target.closest(".mobile-menu")&&!O.target.closest(".mobile-menu-button")&&g(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[u]),F.jsxs("header",{className:"responsive-header",children:[F.jsxs("nav",{className:"responsive-navbar",children:[F.jsx("img",{src:OI,alt:"App-Logo",className:"NavbarLogo"}),F.jsx("div",{className:"desktop-nav-container",children:F.jsx("ul",{className:"nav-links desktop-nav",children:r.map(R=>F.jsx("li",{children:F.jsx("a",{href:"#",onClick:O=>{O.preventDefault(),m(R.key)},className:`nav-link ${t===R.key?"active":""}`,children:R.label})},R.key))})}),F.jsxs("div",{className:"login-section desktop-login",children:[F.jsx("span",{className:"user-email",children:i}),F.jsx("button",{className:"logout-button",onClick:C,children:"Logout"})]}),F.jsxs("button",{className:"mobile-menu-button",onClick:_,"aria-label":"Toggle mobile menu","aria-expanded":u,children:[F.jsx("span",{className:"hamburger-line"}),F.jsx("span",{className:"hamburger-line"}),F.jsx("span",{className:"hamburger-line"})]})]}),F.jsxs("div",{className:`mobile-menu ${u?"open":""}`,children:[F.jsxs("button",{className:"mobile-menu-close",onClick:A,"aria-label":"Close mobile menu",children:[F.jsx("span",{className:"close-line"}),F.jsx("span",{className:"close-line"})]}),F.jsx("div",{className:"mobile-menu-logo",children:F.jsx("h2",{children:n})}),F.jsxs("ul",{className:"mobile-nav-links",children:[r.map(R=>F.jsx("li",{className:"mobile-nav-item",children:F.jsxs("a",{href:"#",onClick:O=>{O.preventDefault(),m(R.key)},className:`mobile-nav-link ${t===R.key?"active":""}`,children:[F.jsx("span",{className:"nav-icon",children:R.icon}),F.jsx("span",{className:"nav-text",children:R.label})]})},R.key)),o&&F.jsx("li",{className:"mobile-nav-item",children:F.jsxs("a",{href:o,className:"mobile-nav-link logout-link",children:[F.jsx("span",{className:"nav-icon",children:""}),F.jsx("span",{className:"nav-text",children:"Logout"})]})})]})]})]})},JV=[{key:"clockin",label:"Clock-in/Clock-out",icon:""},{key:"history",label:"History",icon:""},{key:"details",label:"Details",icon:""},{key:"settings",label:"Settings",icon:""}];function ej(){const[t,e]=de.useState("clockin"),[n,r]=de.useState(!1),{currentUser:i}=Da(),o=g=>{e(g)},u=()=>{switch(t){case"clockin":return F.jsx(qS,{currentUser:i});case"history":return F.jsx(QV,{currentUser:i});case"details":return F.jsx($V,{currentUser:i});case"settings":return F.jsx(ZV,{currentUser:i,setActiveSection:e});default:return F.jsx(qS,{currentUser:i})}};return F.jsxs("div",{className:"member-bg",children:[F.jsx(jI,{activeSection:t,onNavClick:o,logoText:"Member Panel",navItems:JV,userDisplay:(i==null?void 0:i.displayName)||"Member",logoutLink:"/"}),F.jsxs("main",{className:"Member-main",children:[F.jsxs("header",{className:"Header-container",children:[F.jsx("h1",{children:t.charAt(0).toUpperCase()+t.slice(1)}),F.jsx("div",{className:"MemberUser",children:F.jsx("span",{children:"Member"})})]}),F.jsx("section",{className:"MemberContent",children:u()})]})]})}function YS(){return F.jsxs("div",{className:"dashboard-container",children:[F.jsx("h2",{children:"Admin Dashboard"}),F.jsx("p",{children:"Welcome to the admin panel. "}),F.jsxs("div",{className:"dashboard-stats",children:[F.jsxs("div",{className:"dashboard-stat",children:[F.jsx("h3",{children:"Active QR Codes"}),F.jsx("p",{children:"0"})]}),F.jsxs("div",{className:"dashboard-stat",children:[F.jsx("h3",{children:"Today's Scans"}),F.jsx("p",{children:"0"})]}),F.jsxs("div",{className:"dashboard-stat",children:[F.jsx("h3",{children:"Total Reports"}),F.jsx("p",{children:"0"})]})]})]})}var rf={},X2,XS;function HI(){return XS||(XS=1,X2={L:1,M:0,Q:3,H:2}),X2}var K2,KS;function zI(){return KS||(KS=1,K2={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),K2}var Q2,QS;function tj(){if(QS)return Q2;QS=1;var t=zI();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var r=0;r<this.data.length;r++)n.put(this.data.charCodeAt(r),8)}},Q2=e,Q2}var $2,$S;function nj(){if($S)return $2;$S=1;var t=HI();function e(n,r){this.totalCount=n,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,r){var i=e.getRsBlockTable(n,r);if(i==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+r);for(var o=i.length/3,u=new Array,g=0;g<o;g++)for(var x=i[g*3+0],m=i[g*3+1],_=i[g*3+2],A=0;A<x;A++)u.push(new e(m,_));return u},e.getRsBlockTable=function(n,r){switch(r){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},$2=e,$2}var Z2,ZS;function rj(){if(ZS)return Z2;ZS=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var r=0;r<n;r++)this.putBit((e>>>n-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Z2=t,Z2}var J2,JS;function GI(){if(JS)return J2;JS=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return J2=t,J2}var ex,eC;function WI(){if(eC)return ex;eC=1;var t=GI();function e(n,r){if(n.length==null)throw new Error(n.length+"/"+r);for(var i=0;i<n.length&&n[i]==0;)i++;this.num=new Array(n.length-i+r);for(var o=0;o<n.length-i;o++)this.num[o]=n[o+i]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var r=new Array(this.getLength()+n.getLength()-1),i=0;i<this.getLength();i++)for(var o=0;o<n.getLength();o++)r[i+o]^=t.gexp(t.glog(this.get(i))+t.glog(n.get(o)));return new e(r,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var r=t.glog(this.get(0))-t.glog(n.get(0)),i=new Array(this.getLength()),o=0;o<this.getLength();o++)i[o]=this.get(o);for(var o=0;o<n.getLength();o++)i[o]^=t.gexp(t.glog(n.get(o))+r);return new e(i,0).mod(n)}},ex=e,ex}var tx,tC;function ij(){if(tC)return tx;tC=1;var t=zI(),e=WI(),n=GI(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(o){for(var u=o<<10;i.getBCHDigit(u)-i.getBCHDigit(i.G15)>=0;)u^=i.G15<<i.getBCHDigit(u)-i.getBCHDigit(i.G15);return(o<<10|u)^i.G15_MASK},getBCHTypeNumber:function(o){for(var u=o<<12;i.getBCHDigit(u)-i.getBCHDigit(i.G18)>=0;)u^=i.G18<<i.getBCHDigit(u)-i.getBCHDigit(i.G18);return o<<12|u},getBCHDigit:function(o){for(var u=0;o!=0;)u++,o>>>=1;return u},getPatternPosition:function(o){return i.PATTERN_POSITION_TABLE[o-1]},getMask:function(o,u,g){switch(o){case r.PATTERN000:return(u+g)%2==0;case r.PATTERN001:return u%2==0;case r.PATTERN010:return g%3==0;case r.PATTERN011:return(u+g)%3==0;case r.PATTERN100:return(Math.floor(u/2)+Math.floor(g/3))%2==0;case r.PATTERN101:return u*g%2+u*g%3==0;case r.PATTERN110:return(u*g%2+u*g%3)%2==0;case r.PATTERN111:return(u*g%3+(u+g)%2)%2==0;default:throw new Error("bad maskPattern:"+o)}},getErrorCorrectPolynomial:function(o){for(var u=new e([1],0),g=0;g<o;g++)u=u.multiply(new e([1,n.gexp(g)],0));return u},getLengthInBits:function(o,u){if(1<=u&&u<10)switch(o){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+o)}else if(u<27)switch(o){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+o)}else if(u<41)switch(o){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+o)}else throw new Error("type:"+u)},getLostPoint:function(o){for(var u=o.getModuleCount(),g=0,x=0;x<u;x++)for(var m=0;m<u;m++){for(var _=0,A=o.isDark(x,m),C=-1;C<=1;C++)if(!(x+C<0||u<=x+C))for(var R=-1;R<=1;R++)m+R<0||u<=m+R||C==0&&R==0||A==o.isDark(x+C,m+R)&&_++;_>5&&(g+=3+_-5)}for(var x=0;x<u-1;x++)for(var m=0;m<u-1;m++){var O=0;o.isDark(x,m)&&O++,o.isDark(x+1,m)&&O++,o.isDark(x,m+1)&&O++,o.isDark(x+1,m+1)&&O++,(O==0||O==4)&&(g+=3)}for(var x=0;x<u;x++)for(var m=0;m<u-6;m++)o.isDark(x,m)&&!o.isDark(x,m+1)&&o.isDark(x,m+2)&&o.isDark(x,m+3)&&o.isDark(x,m+4)&&!o.isDark(x,m+5)&&o.isDark(x,m+6)&&(g+=40);for(var m=0;m<u;m++)for(var x=0;x<u-6;x++)o.isDark(x,m)&&!o.isDark(x+1,m)&&o.isDark(x+2,m)&&o.isDark(x+3,m)&&o.isDark(x+4,m)&&!o.isDark(x+5,m)&&o.isDark(x+6,m)&&(g+=40);for(var I=0,m=0;m<u;m++)for(var x=0;x<u;x++)o.isDark(x,m)&&I++;var k=Math.abs(100*I/u/u-50)/5;return g+=k*10,g}};return tx=i,tx}var nx,nC;function sj(){if(nC)return nx;nC=1;var t=tj(),e=nj(),n=rj(),r=ij(),i=WI();function o(g,x){this.typeNumber=g,this.errorCorrectLevel=x,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var u=o.prototype;return u.addData=function(g){var x=new t(g);this.dataList.push(x),this.dataCache=null},u.isDark=function(g,x){if(g<0||this.moduleCount<=g||x<0||this.moduleCount<=x)throw new Error(g+","+x);return this.modules[g][x]},u.getModuleCount=function(){return this.moduleCount},u.make=function(){if(this.typeNumber<1){var g=1;for(g=1;g<40;g++){for(var x=e.getRSBlocks(g,this.errorCorrectLevel),m=new n,_=0,A=0;A<x.length;A++)_+=x[A].dataCount;for(var A=0;A<this.dataList.length;A++){var C=this.dataList[A];m.put(C.mode,4),m.put(C.getLength(),r.getLengthInBits(C.mode,g)),C.write(m)}if(m.getLengthInBits()<=_*8)break}this.typeNumber=g}this.makeImpl(!1,this.getBestMaskPattern())},u.makeImpl=function(g,x){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++){this.modules[m]=new Array(this.moduleCount);for(var _=0;_<this.moduleCount;_++)this.modules[m][_]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(g,x),this.typeNumber>=7&&this.setupTypeNumber(g),this.dataCache==null&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,x)},u.setupPositionProbePattern=function(g,x){for(var m=-1;m<=7;m++)if(!(g+m<=-1||this.moduleCount<=g+m))for(var _=-1;_<=7;_++)x+_<=-1||this.moduleCount<=x+_||(0<=m&&m<=6&&(_==0||_==6)||0<=_&&_<=6&&(m==0||m==6)||2<=m&&m<=4&&2<=_&&_<=4?this.modules[g+m][x+_]=!0:this.modules[g+m][x+_]=!1)},u.getBestMaskPattern=function(){for(var g=0,x=0,m=0;m<8;m++){this.makeImpl(!0,m);var _=r.getLostPoint(this);(m==0||g>_)&&(g=_,x=m)}return x},u.createMovieClip=function(g,x,m){var _=g.createEmptyMovieClip(x,m),A=1;this.make();for(var C=0;C<this.modules.length;C++)for(var R=C*A,O=0;O<this.modules[C].length;O++){var I=O*A,k=this.modules[C][O];k&&(_.beginFill(0,100),_.moveTo(I,R),_.lineTo(I+A,R),_.lineTo(I+A,R+A),_.lineTo(I,R+A),_.endFill())}return _},u.setupTimingPattern=function(){for(var g=8;g<this.moduleCount-8;g++)this.modules[g][6]==null&&(this.modules[g][6]=g%2==0);for(var x=8;x<this.moduleCount-8;x++)this.modules[6][x]==null&&(this.modules[6][x]=x%2==0)},u.setupPositionAdjustPattern=function(){for(var g=r.getPatternPosition(this.typeNumber),x=0;x<g.length;x++)for(var m=0;m<g.length;m++){var _=g[x],A=g[m];if(this.modules[_][A]==null)for(var C=-2;C<=2;C++)for(var R=-2;R<=2;R++)C==-2||C==2||R==-2||R==2||C==0&&R==0?this.modules[_+C][A+R]=!0:this.modules[_+C][A+R]=!1}},u.setupTypeNumber=function(g){for(var x=r.getBCHTypeNumber(this.typeNumber),m=0;m<18;m++){var _=!g&&(x>>m&1)==1;this.modules[Math.floor(m/3)][m%3+this.moduleCount-8-3]=_}for(var m=0;m<18;m++){var _=!g&&(x>>m&1)==1;this.modules[m%3+this.moduleCount-8-3][Math.floor(m/3)]=_}},u.setupTypeInfo=function(g,x){for(var m=this.errorCorrectLevel<<3|x,_=r.getBCHTypeInfo(m),A=0;A<15;A++){var C=!g&&(_>>A&1)==1;A<6?this.modules[A][8]=C:A<8?this.modules[A+1][8]=C:this.modules[this.moduleCount-15+A][8]=C}for(var A=0;A<15;A++){var C=!g&&(_>>A&1)==1;A<8?this.modules[8][this.moduleCount-A-1]=C:A<9?this.modules[8][15-A-1+1]=C:this.modules[8][15-A-1]=C}this.modules[this.moduleCount-8][8]=!g},u.mapData=function(g,x){for(var m=-1,_=this.moduleCount-1,A=7,C=0,R=this.moduleCount-1;R>0;R-=2)for(R==6&&R--;;){for(var O=0;O<2;O++)if(this.modules[_][R-O]==null){var I=!1;C<g.length&&(I=(g[C]>>>A&1)==1);var k=r.getMask(x,_,R-O);k&&(I=!I),this.modules[_][R-O]=I,A--,A==-1&&(C++,A=7)}if(_+=m,_<0||this.moduleCount<=_){_-=m,m=-m;break}}},o.PAD0=236,o.PAD1=17,o.createData=function(g,x,m){for(var _=e.getRSBlocks(g,x),A=new n,C=0;C<m.length;C++){var R=m[C];A.put(R.mode,4),A.put(R.getLength(),r.getLengthInBits(R.mode,g)),R.write(A)}for(var O=0,C=0;C<_.length;C++)O+=_[C].dataCount;if(A.getLengthInBits()>O*8)throw new Error("code length overflow. ("+A.getLengthInBits()+">"+O*8+")");for(A.getLengthInBits()+4<=O*8&&A.put(0,4);A.getLengthInBits()%8!=0;)A.putBit(!1);for(;!(A.getLengthInBits()>=O*8||(A.put(o.PAD0,8),A.getLengthInBits()>=O*8));)A.put(o.PAD1,8);return o.createBytes(A,_)},o.createBytes=function(g,x){for(var m=0,_=0,A=0,C=new Array(x.length),R=new Array(x.length),O=0;O<x.length;O++){var I=x[O].dataCount,k=x[O].totalCount-I;_=Math.max(_,I),A=Math.max(A,k),C[O]=new Array(I);for(var H=0;H<C[O].length;H++)C[O][H]=255&g.buffer[H+m];m+=I;var Y=r.getErrorCorrectPolynomial(k),W=new i(C[O],Y.getLength()-1),te=W.mod(Y);R[O]=new Array(Y.getLength()-1);for(var H=0;H<R[O].length;H++){var oe=H+te.getLength()-R[O].length;R[O][H]=oe>=0?te.get(oe):0}}for(var ve=0,H=0;H<x.length;H++)ve+=x[H].totalCount;for(var B=new Array(ve),V=0,H=0;H<_;H++)for(var O=0;O<x.length;O++)H<C[O].length&&(B[V++]=C[O][H]);for(var H=0;H<A;H++)for(var O=0;O<x.length;O++)H<R[O].length&&(B[V++]=R[O][H]);return B},nx=o,nx}var S1={},rC;function aj(){if(rC)return S1;rC=1,Object.defineProperty(S1,"__esModule",{value:!0});var t=Object.assign||function(m){for(var _=1;_<arguments.length;_++){var A=arguments[_];for(var C in A)Object.prototype.hasOwnProperty.call(A,C)&&(m[C]=A[C])}return m},e=_4(),n=o(e),r=B0(),i=o(r);function o(m){return m&&m.__esModule?m:{default:m}}function u(m,_){var A={};for(var C in m)_.indexOf(C)>=0||Object.prototype.hasOwnProperty.call(m,C)&&(A[C]=m[C]);return A}var g={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},x=(0,r.forwardRef)(function(m,_){var A=m.bgColor,C=m.bgD,R=m.fgD,O=m.fgColor,I=m.size,k=m.title,H=m.viewBoxSize,Y=m.xmlns,W=Y===void 0?"http://www.w3.org/2000/svg":Y,te=u(m,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",t({},te,{height:I,ref:_,viewBox:"0 0 "+H+" "+H,width:I,xmlns:W}),k?i.default.createElement("title",null,k):null,i.default.createElement("path",{d:C,fill:A}),i.default.createElement("path",{d:R,fill:O}))});return x.displayName="QRCodeSvg",x.propTypes=g,S1.default=x,S1}var iC;function oj(){if(iC)return rf;iC=1,Object.defineProperty(rf,"__esModule",{value:!0}),rf.QRCode=void 0;var t=Object.assign||function(I){for(var k=1;k<arguments.length;k++){var H=arguments[k];for(var Y in H)Object.prototype.hasOwnProperty.call(H,Y)&&(I[Y]=H[Y])}return I},e=_4(),n=A(e),r=HI(),i=A(r),o=sj(),u=A(o),g=B0(),x=A(g),m=aj(),_=A(m);function A(I){return I&&I.__esModule?I:{default:I}}function C(I,k){var H={};for(var Y in I)k.indexOf(Y)>=0||Object.prototype.hasOwnProperty.call(I,Y)&&(H[Y]=I[Y]);return H}var R={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},O=(0,g.forwardRef)(function(I,k){var H=I.bgColor,Y=H===void 0?"#FFFFFF":H,W=I.fgColor,te=W===void 0?"#000000":W,oe=I.level,ve=oe===void 0?"L":oe,B=I.size,V=B===void 0?256:B,L=I.value,M=C(I,["bgColor","fgColor","level","size","value"]),q=new u.default(-1,i.default[ve]);q.addData(L),q.make();var Q=q.modules;return x.default.createElement(_.default,t({},M,{bgColor:Y,bgD:Q.map(function(Z,pt){return Z.map(function(Ee,be){return Ee?"":"M "+be+" "+pt+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:te,fgD:Q.map(function(Z,pt){return Z.map(function(Ee,be){return Ee?"M "+be+" "+pt+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:k,size:V,viewBoxSize:Q.length}))});return rf.QRCode=O,O.displayName="QRCode",O.propTypes=R,rf.default=O,rf}var lj=oj();const cj=ey(lj),uj=()=>{const{currentUser:t}=Da(),[e,n]=de.useState(!1),[r,i]=de.useState([]),[o,u]=de.useState(!1),[g,x]=de.useState(!1),[m,_]=de.useState(null),[A,C]=de.useState({name:"",description:"",location:"",eventType:"",validFrom:"",validUntil:"",requiresForm:!1,formFields:[],isActive:!0}),[R,O]=de.useState("");de.useEffect(()=>{console.log("Current user:",t),I()},[t]);const I=async()=>{try{if(!t){console.log("No current user; skipping fetch."),i([]);return}console.log("Fetching QR codes for adminId:",t.uid);const L=bo(Qr,"customQRCodes"),M=xg(L,o0("adminId","==",t.uid)),Q=(await N0(M)).docs.map(Z=>({id:Z.id,...Z.data()}));i(Q),console.log(`Fetched ${Q.length} QR codes.`)}catch(L){console.error("Error fetching QR codes:",L)}},k=L=>{const{name:M,value:q,type:Q,checked:Z}=L.target;C(pt=>({...pt,[M]:Q==="checkbox"?Z:q}))},H=()=>{const L=R.trim();L&&!A.formFields.includes(L)&&C(M=>({...M,formFields:[...M.formFields,L]})),O("")},Y=L=>{C(M=>({...M,formFields:M.formFields.filter(q=>q!==L)}))},W=()=>`qr_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,te=async L=>{L.preventDefault(),u(!0);try{const M=W(),q={...A,qrId:M,adminId:t.uid,createdAt:new Date().toISOString(),scanCount:0},Q=await vg(bo(Qr,"customQRCodes"),q),Z={qrCodeId:M,qrCodeDocId:Q.id,name:A.name,description:A.description,location:A.location,eventType:A.eventType,validFrom:A.validFrom,validUntil:A.validUntil,requiresForm:A.requiresForm,formFields:A.formFields,isActive:A.isActive,adminId:t.uid,createdAt:new Date().toISOString(),scanCount:0,totalScans:0,lastScanAt:null};await vg(bo(Qr,"qrGateReports"),Z),C({name:"",description:"",location:"",eventType:"",validFrom:"",validUntil:"",requiresForm:!1,formFields:[],isActive:!0}),O(""),n(!1),I()}catch(M){console.error("Error creating QR code:",M),alert("Failed to create QR code. Please try again.")}finally{u(!1)}},oe=async(L,M)=>{try{await Av(Ra(Qr,"customQRCodes",L),{isActive:!M}),I()}catch(q){console.error("Error updating QR code:",q)}},ve=async L=>{if(window.confirm("Are you sure you want to delete this QR code?"))try{await fI(Ra(Qr,"customQRCodes",L)),I()}catch(M){console.error("Error deleting QR code:",M)}},B=L=>{_(L),x(!0)},V=()=>{x(!1),_(null)};return F.jsxs("div",{className:"admin-qr-main",children:[F.jsx("h1",{className:"admin-qr-title",children:"QR Code Management"}),F.jsx("p",{className:"admin-qr-desc",children:"Welcome to the QR Code Management Dashboard  create, customize, and manage QR codes to track attendance and collect participant details for your events or programs."}),F.jsxs("div",{className:"admin-qr-actions",children:[F.jsx("button",{className:"admin-qr-action-btn",onClick:()=>n(!e),children:"+ Create New QR Code"}),F.jsx("button",{className:"admin-qr-action-btn",disabled:!0,children:"View Reports"})]}),e&&F.jsxs("div",{className:"create-qr-form",children:[F.jsx("h2",{children:"Create New QR Code"}),F.jsxs("form",{onSubmit:te,children:[F.jsxs("div",{className:"form-group",children:[F.jsx("label",{children:"Name *"}),F.jsx("input",{type:"text",name:"name",value:A.name,onChange:k,required:!0,placeholder:"Event name"})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{children:"Description"}),F.jsx("textarea",{name:"description",value:A.description,onChange:k,placeholder:"Event description"})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{children:"Location"}),F.jsx("input",{type:"text",name:"location",value:A.location,onChange:k,placeholder:"Event location"})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{children:"Event Type"}),F.jsxs("select",{name:"eventType",value:A.eventType,onChange:k,children:[F.jsx("option",{value:"",children:"Select type"}),F.jsx("option",{value:"meeting",children:"Meeting"}),F.jsx("option",{value:"conference",children:"Conference"}),F.jsx("option",{value:"workshop",children:"Workshop"}),F.jsx("option",{value:"training",children:"Training"}),F.jsx("option",{value:"other",children:"Other"})]})]}),F.jsxs("div",{className:"form-row",children:[F.jsxs("div",{className:"form-group",children:[F.jsx("label",{children:"Valid From"}),F.jsx("input",{type:"datetime-local",name:"validFrom",value:A.validFrom,onChange:k})]}),F.jsxs("div",{className:"form-group",children:[F.jsx("label",{children:"Valid Until"}),F.jsx("input",{type:"datetime-local",name:"validUntil",value:A.validUntil,onChange:k})]})]}),F.jsx("div",{className:"form-group",children:F.jsxs("label",{children:[F.jsx("input",{type:"checkbox",name:"requiresForm",checked:A.requiresForm,onChange:k}),"Require form submission"]})}),F.jsx("div",{className:"form-group",children:F.jsxs("label",{children:[F.jsx("input",{type:"checkbox",name:"AllowMultipleSubmissions",checked:A.AllowMultipleSubmissions||!1,onChange:k}),"Allow Multiple Responses Per User Device?"]})}),A.requiresForm&&F.jsxs("div",{className:"form-group",children:[F.jsx("label",{children:"Add Form Fields"}),F.jsxs("div",{className:"field-input",children:[F.jsx("input",{type:"text",value:R,onChange:L=>O(L.target.value),placeholder:"Enter field name"}),F.jsx("button",{type:"button",onClick:H,children:"+ Add Field"})]}),F.jsx("ul",{className:"form-fields-list",children:A.formFields.map(L=>F.jsxs("li",{children:[L," ",F.jsx("button",{type:"button",onClick:()=>Y(L),children:"x"})]},L))})]}),F.jsx("div",{className:"form-group",children:F.jsxs("label",{children:[F.jsx("input",{type:"checkbox",name:"isActive",checked:A.isActive,onChange:k}),"Active"]})}),F.jsxs("div",{className:"form-actions",children:[F.jsx("button",{type:"submit",disabled:o,children:o?"Creating...":"Create QR Code"}),F.jsx("button",{type:"button",onClick:()=>n(!1),children:"Cancel"})]})]})]}),F.jsx("div",{className:"admin-qr-list",children:r.length===0?F.jsx("div",{className:"admin-qr-empty",children:F.jsx("p",{children:'No QR codes found. Click "Create New QR Code" to get started.'})}):r.map(L=>F.jsxs("div",{className:"qr-code-item",children:[F.jsxs("div",{className:"qr-code-info",children:[F.jsx("h3",{children:L.name}),F.jsx("p",{children:L.description}),F.jsxs("p",{children:["Location: ",L.location]}),F.jsxs("p",{children:["Scans: ",L.scanCount||0]}),F.jsxs("p",{children:["Status: ",L.isActive?"Active":"Inactive"]})]}),F.jsxs("div",{className:"qr-code-actions",children:[F.jsx("button",{onClick:()=>B(L),children:"View"}),F.jsx("button",{onClick:()=>oe(L.id,L.isActive),children:L.isActive?"Deactivate":"Activate"}),F.jsx("button",{onClick:()=>ve(L.id),children:"Delete"})]})]},L.id))}),g&&m&&F.jsx("div",{className:"qr-modal-overlay",onClick:V,children:F.jsxs("div",{className:"qr-modal-content",onClick:L=>L.stopPropagation(),children:[F.jsxs("div",{className:"qr-modal-header",children:[F.jsx("h2",{children:m.name}),F.jsx("button",{className:"qr-modal-close",onClick:V,children:""})]}),F.jsxs("div",{className:"qr-modal-body",children:[F.jsx("div",{className:"qr-code-display",children:F.jsx(cj,{value:`${window.location.origin}/ScanIn-Attendance/scan-form/${m.qrId}`,size:200})}),F.jsxs("div",{className:"qr-details",children:[F.jsxs("p",{children:[F.jsx("strong",{children:"URL:"})," ",F.jsx("a",{href:`${window.location.origin}/ScanIn-Attendance/scan-form/${m.qrId}`,target:"_blank",rel:"noopener noreferrer",children:`${window.location.origin}/ScanIn-Attendance/scan-form/${m.qrId}`})]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Description:"})," ",m.description]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Location:"})," ",m.location]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Event Type:"})," ",m.eventType]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Status:"})," ",m.isActive?"Active":"Inactive"]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Scans:"})," ",m.scanCount||0]}),m.requiresForm&&m.formFields.length>0&&F.jsxs("div",{children:[F.jsx("strong",{children:"Form Fields:"}),F.jsx("ul",{children:m.formFields.map(L=>F.jsx("li",{children:L},L))})]})]})]})]})})]})};function fj(){return F.jsxs("div",{children:[F.jsx("h2",{children:"User Control"}),F.jsx("p",{children:"User management section."}),F.jsxs("div",{className:"user-stats-row",children:[F.jsxs("div",{className:"user-stat-card",children:[F.jsx("h3",{children:"Total Users"}),F.jsx("p",{children:"0"})]}),F.jsxs("div",{className:"user-stat-card",children:[F.jsx("h3",{children:"Active Users"}),F.jsx("p",{children:"0"})]})]}),F.jsx("div",{className:"admin-db-form-container",children:F.jsxs("div",{className:"admin-db-form",children:[F.jsx("h3",{children:"Add New User"}),F.jsx("label",{htmlFor:"userName",children:"User Name:"}),F.jsx("input",{type:"text",id:"userName",placeholder:"Enter user name"}),F.jsx("label",{htmlFor:"userEmail",children:"Email:"}),F.jsx("input",{type:"email",id:"userEmail",placeholder:"Enter email address"}),F.jsx("label",{htmlFor:"userRole",children:"Role:"}),F.jsxs("select",{id:"userRole",children:[F.jsx("option",{value:"user",children:"User"}),F.jsx("option",{value:"admin",children:"Admin"})]}),F.jsxs("div",{className:"admin-db-btns",children:[F.jsx("button",{className:"admin-db-open-btn",children:"Add User"}),F.jsx("button",{className:"admin-db-delete-btn",children:"Clear Form"})]})]})})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var wg={};wg.version="0.18.5";var qI=1252,hj=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],YI=function(t){hj.indexOf(t)!=-1&&(qI=t)};function dj(){YI(1252)}var O0=function(t){YI(t)};function gj(){O0(1200),dj()}var C1=function(e){return String.fromCharCode(e)},sC=function(e){return String.fromCharCode(e)},Tg,rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function D0(t){for(var e="",n=0,r=0,i=0,o=0,u=0,g=0,x=0,m=0;m<t.length;)n=t.charCodeAt(m++),o=n>>2,r=t.charCodeAt(m++),u=(n&3)<<4|r>>4,i=t.charCodeAt(m++),g=(r&15)<<2|i>>6,x=i&63,isNaN(r)?g=x=64:isNaN(i)&&(x=64),e+=rc.charAt(o)+rc.charAt(u)+rc.charAt(g)+rc.charAt(x);return e}function gl(t){var e="",n=0,r=0,i=0,o=0,u=0,g=0,x=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var m=0;m<t.length;)o=rc.indexOf(t.charAt(m++)),u=rc.indexOf(t.charAt(m++)),n=o<<2|u>>4,e+=String.fromCharCode(n),g=rc.indexOf(t.charAt(m++)),r=(u&15)<<4|g>>2,g!==64&&(e+=String.fromCharCode(r)),x=rc.indexOf(t.charAt(m++)),i=(g&3)<<6|x,x!==64&&(e+=String.fromCharCode(i));return e}var kn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),yl=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function au(t){return kn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function aC(t){return kn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Wa=function(e){return kn?yl(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function Sm(t){if(typeof ArrayBuffer>"u")return Wa(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function id(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function mj(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Hi=kn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:yl(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function pj(t){for(var e=[],n=0,r=t.length+250,i=au(t.length+255),o=0;o<t.length;++o){var u=t.charCodeAt(o);if(u<128)i[n++]=u;else if(u<2048)i[n++]=192|u>>6&31,i[n++]=128|u&63;else if(u>=55296&&u<57344){u=(u&1023)+64;var g=t.charCodeAt(++o)&1023;i[n++]=240|u>>8&7,i[n++]=128|u>>2&63,i[n++]=128|g>>6&15|(u&3)<<4,i[n++]=128|g&63}else i[n++]=224|u>>12&15,i[n++]=128|u>>6&63,i[n++]=128|u&63;n>r&&(e.push(i.slice(0,n)),n=0,i=au(65535),r=65530)}return e.push(i.slice(0,n)),Hi(e)}var c0=/\u0000/g,b1=/[\u0001-\u0006]/g;function Tf(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Ya(t,e){var n=""+t;return n.length>=e?n:Vr("0",e-n.length)+n}function Mv(t,e){var n=""+t;return n.length>=e?n:Vr(" ",e-n.length)+n}function Ag(t,e){var n=""+t;return n.length>=e?n:n+Vr(" ",e-n.length)}function xj(t,e){var n=""+Math.round(t);return n.length>=e?n:Vr("0",e-n.length)+n}function yj(t,e){var n=""+t;return n.length>=e?n:Vr("0",e-n.length)+n}var oC=Math.pow(2,32);function sf(t,e){if(t>oC||t<-oC)return xj(t,e);var n=Math.round(t);return yj(n,e)}function Sg(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var lC=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],rx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function vj(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Hr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},cC={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},_j={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Cg(t,e,n){for(var r=t<0?-1:1,i=t*r,o=0,u=1,g=0,x=1,m=0,_=0,A=Math.floor(i);m<e&&(A=Math.floor(i),g=A*u+o,_=A*m+x,!(i-A<5e-8));)i=1/(i-A),o=u,u=g,x=m,m=_;if(_>e&&(m>e?(_=x,g=o):(_=m,g=u)),!n)return[0,r*g,_];var C=Math.floor(r*g/_);return[C,r*g-C*_,_]}function I1(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),o=0,u=[],g={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(g.u)<1e-6&&(g.u=0),e&&e.date1904&&(r+=1462),g.u>.9999&&(g.u=0,++i==86400&&(g.T=i=0,++r,++g.D)),r===60)u=n?[1317,10,29]:[1900,2,29],o=3;else if(r===0)u=n?[1317,8,29]:[1900,1,0],o=6;else{r>60&&--r;var x=new Date(1900,0,1);x.setDate(x.getDate()+r-1),u=[x.getFullYear(),x.getMonth()+1,x.getDate()],o=x.getDay(),r<60&&(o=(o+6)%7),n&&(o=bj(x,u))}return g.y=u[0],g.m=u[1],g.d=u[2],g.S=i%60,i=Math.floor(i/60),g.M=i%60,i=Math.floor(i/60),g.H=i,g.q=o,g}var XI=new Date(1899,11,31,0,0,0),Ej=XI.getTime(),wj=new Date(1900,2,1,0,0,0);function KI(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=wj&&(n+=24*60*60*1e3),(n-(Ej+(t.getTimezoneOffset()-XI.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function kv(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Tj(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Aj(t){var e=t<0?12:11,n=kv(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function Sj(t){var e=kv(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Cj(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=Aj(t):e===10?n=t.toFixed(10).substr(0,12):n=Sj(t),kv(Tj(n.toUpperCase()))}function Qx(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Cj(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return vc(14,KI(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function bj(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function Ij(t,e,n,r){var i="",o=0,u=0,g=n.y,x,m=0;switch(t){case 98:g=n.y+543;case 121:switch(e.length){case 1:case 2:x=g%100,m=2;break;default:x=g%1e4,m=4;break}break;case 109:switch(e.length){case 1:case 2:x=n.m,m=e.length;break;case 3:return rx[n.m-1][1];case 5:return rx[n.m-1][0];default:return rx[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:x=n.d,m=e.length;break;case 3:return lC[n.q][0];default:return lC[n.q][1]}break;case 104:switch(e.length){case 1:case 2:x=1+(n.H+11)%12,m=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:x=n.H,m=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:x=n.M,m=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Ya(n.S,e.length):(r>=2?u=r===3?1e3:100:u=r===1?10:1,o=Math.round(u*(n.S+n.u)),o>=60*u&&(o=0),e==="s"?o===0?"0":""+o/u:(i=Ya(o,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":x=n.D*24+n.H;break;case"[m]":case"[mm]":x=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":x=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}m=e.length===3?1:2;break;case 101:x=g,m=1;break}var _=m>0?Ya(x,m):"";return _}function ic(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var QI=/%/g;function Rj(t,e,n){var r=e.replace(QI,""),i=e.length-r.length;return il(t,r,n*Math.pow(10,2*i))+Vr("%",i)}function Nj(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return il(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function $I(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+$I(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%i;if(o<0&&(o+=i),n=(e/Math.pow(10,o)).toPrecision(r+1+(i+o)%i),n.indexOf("e")===-1){var u=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(u-n.length+o):n+="E+"+(u-o);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(g,x,m,_){return x+m+_.substr(0,(i+o)%i)+"."+_.substr(o)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var ZI=/# (\?+)( ?)\/( ?)(\d+)/;function Oj(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),o=Math.floor(i/r),u=i-o*r,g=r;return n+(o===0?"":""+o)+" "+(u===0?Vr(" ",t[1].length+1+t[4].length):Mv(u,t[1].length)+t[2]+"/"+t[3]+Ya(g,t[4].length))}function Dj(t,e,n){return n+(e===0?"":""+e)+Vr(" ",t[1].length+2+t[4].length)}var JI=/^#*0*\.([0#]+)/,eR=/\).*[0#]/,tR=/\(###\) ###\\?-####/;function ds(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function uC(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function fC(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function Mj(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function kj(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Sa(t,e,n){if(t.charCodeAt(0)===40&&!e.match(eR)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Sa("n",r,n):"("+Sa("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Nj(t,e,n);if(e.indexOf("%")!==-1)return Rj(t,e,n);if(e.indexOf("E")!==-1)return $I(e,n);if(e.charCodeAt(0)===36)return"$"+Sa(t,e.substr(e.charAt(1)==" "?2:1),n);var i,o,u,g,x=Math.abs(n),m=n<0?"-":"";if(e.match(/^00+$/))return m+sf(x,e.length);if(e.match(/^[#?]+$/))return i=sf(n,0),i==="0"&&(i=""),i.length>e.length?i:ds(e.substr(0,e.length-i.length))+i;if(o=e.match(ZI))return Oj(o,x,m);if(e.match(/^#+0+$/))return m+sf(x,e.length-e.indexOf("0"));if(o=e.match(JI))return i=uC(n,o[1].length).replace(/^([^\.]+)$/,"$1."+ds(o[1])).replace(/\.$/,"."+ds(o[1])).replace(/\.(\d*)$/,function(O,I){return"."+I+Vr("0",ds(o[1]).length-I.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return m+uC(x,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return m+ic(sf(x,0));if(o=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Sa(t,e,-n):ic(""+(Math.floor(n)+Mj(n,o[1].length)))+"."+Ya(fC(n,o[1].length),o[1].length);if(o=e.match(/^#,#*,#0/))return Sa(t,e.replace(/^#,#*,/,""),n);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Tf(Sa(t,e.replace(/[\\-]/g,""),n)),u=0,Tf(Tf(e.replace(/\\/g,"")).replace(/[0#]/g,function(O){return u<i.length?i.charAt(u++):O==="0"?"0":""}));if(e.match(tR))return i=Sa(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var _="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return u=Math.min(o[4].length,7),g=Cg(x,Math.pow(10,u)-1,!1),i=""+m,_=il("n",o[1],g[1]),_.charAt(_.length-1)==" "&&(_=_.substr(0,_.length-1)+"0"),i+=_+o[2]+"/"+o[3],_=Ag(g[2],u),_.length<o[4].length&&(_=ds(o[4].substr(o[4].length-_.length))+_),i+=_,i;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return u=Math.min(Math.max(o[1].length,o[4].length),7),g=Cg(x,Math.pow(10,u)-1,!0),m+(g[0]||(g[1]?"":"0"))+" "+(g[1]?Mv(g[1],u)+o[2]+"/"+o[3]+Ag(g[2],u):Vr(" ",2*u+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return i=sf(n,0),e.length<=i.length?i:ds(e.substr(0,e.length-i.length))+i;if(o=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),u=i.indexOf(".");var A=e.indexOf(".")-u,C=e.length-i.length-A;return ds(e.substr(0,A)+i+e.substr(e.length-C))}if(o=e.match(/^00,000\.([#0]*0)$/))return u=fC(n,o[1].length),n<0?"-"+Sa(t,e,-n):ic(kj(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(O){return"00,"+(O.length<3?Ya(0,3-O.length):"")+O})+"."+Ya(u,o[1].length);switch(e){case"###,##0.00":return Sa(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var R=ic(sf(x,0));return R!=="0"?m+R:"";case"###,###.00":return Sa(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Sa(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Lj(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return il(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function Pj(t,e,n){var r=e.replace(QI,""),i=e.length-r.length;return il(t,r,n*Math.pow(10,2*i))+Vr("%",i)}function nR(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+nR(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%i;if(o<0&&(o+=i),n=(e/Math.pow(10,o)).toPrecision(r+1+(i+o)%i),!n.match(/[Ee]/)){var u=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(u-n.length+o):n+="E+"+(u-o),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(g,x,m,_){return x+m+_.substr(0,(i+o)%i)+"."+_.substr(o)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function go(t,e,n){if(t.charCodeAt(0)===40&&!e.match(eR)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?go("n",r,n):"("+go("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Lj(t,e,n);if(e.indexOf("%")!==-1)return Pj(t,e,n);if(e.indexOf("E")!==-1)return nR(e,n);if(e.charCodeAt(0)===36)return"$"+go(t,e.substr(e.charAt(1)==" "?2:1),n);var i,o,u,g,x=Math.abs(n),m=n<0?"-":"";if(e.match(/^00+$/))return m+Ya(x,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:ds(e.substr(0,e.length-i.length))+i;if(o=e.match(ZI))return Dj(o,x,m);if(e.match(/^#+0+$/))return m+Ya(x,e.length-e.indexOf("0"));if(o=e.match(JI))return i=(""+n).replace(/^([^\.]+)$/,"$1."+ds(o[1])).replace(/\.$/,"."+ds(o[1])),i=i.replace(/\.(\d*)$/,function(O,I){return"."+I+Vr("0",ds(o[1]).length-I.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return m+(""+x).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return m+ic(""+x);if(o=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+go(t,e,-n):ic(""+n)+"."+Vr("0",o[1].length);if(o=e.match(/^#,#*,#0/))return go(t,e.replace(/^#,#*,/,""),n);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Tf(go(t,e.replace(/[\\-]/g,""),n)),u=0,Tf(Tf(e.replace(/\\/g,"")).replace(/[0#]/g,function(O){return u<i.length?i.charAt(u++):O==="0"?"0":""}));if(e.match(tR))return i=go(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var _="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return u=Math.min(o[4].length,7),g=Cg(x,Math.pow(10,u)-1,!1),i=""+m,_=il("n",o[1],g[1]),_.charAt(_.length-1)==" "&&(_=_.substr(0,_.length-1)+"0"),i+=_+o[2]+"/"+o[3],_=Ag(g[2],u),_.length<o[4].length&&(_=ds(o[4].substr(o[4].length-_.length))+_),i+=_,i;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return u=Math.min(Math.max(o[1].length,o[4].length),7),g=Cg(x,Math.pow(10,u)-1,!0),m+(g[0]||(g[1]?"":"0"))+" "+(g[1]?Mv(g[1],u)+o[2]+"/"+o[3]+Ag(g[2],u):Vr(" ",2*u+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:ds(e.substr(0,e.length-i.length))+i;if(o=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),u=i.indexOf(".");var A=e.indexOf(".")-u,C=e.length-i.length-A;return ds(e.substr(0,A)+i+e.substr(e.length-C))}if(o=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+go(t,e,-n):ic(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(O){return"00,"+(O.length<3?Ya(0,3-O.length):"")+O})+"."+Ya(0,o[1].length);switch(e){case"###,###":case"##,###":case"#,###":var R=ic(""+x);return R!=="0"?m+R:"";default:if(e.match(/\.[0#?]*$/))return go(t,e.slice(0,e.lastIndexOf(".")),n)+ds(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function il(t,e,n){return(n|0)===n?go(t,e,n):Sa(t,e,n)}function Fj(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var rR=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function iR(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":Sg(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(rR))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function Bj(t,e,n,r){for(var i=[],o="",u=0,g="",x="t",m,_,A,C="H";u<t.length;)switch(g=t.charAt(u)){case"G":if(!Sg(t,u))throw new Error("unrecognized character "+g+" in "+t);i[i.length]={t:"G",v:"General"},u+=7;break;case'"':for(o="";(A=t.charCodeAt(++u))!==34&&u<t.length;)o+=String.fromCharCode(A);i[i.length]={t:"t",v:o},++u;break;case"\\":var R=t.charAt(++u),O=R==="("||R===")"?R:"t";i[i.length]={t:O,v:R},++u;break;case"_":i[i.length]={t:"t",v:" "},u+=2;break;case"@":i[i.length]={t:"T",v:e},++u;break;case"B":case"b":if(t.charAt(u+1)==="1"||t.charAt(u+1)==="2"){if(m==null&&(m=I1(e,n,t.charAt(u+1)==="2"),m==null))return"";i[i.length]={t:"X",v:t.substr(u,2)},x=g,u+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":g=g.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||m==null&&(m=I1(e,n),m==null))return"";for(o=g;++u<t.length&&t.charAt(u).toLowerCase()===g;)o+=g;g==="m"&&x.toLowerCase()==="h"&&(g="M"),g==="h"&&(g=C),i[i.length]={t:g,v:o},x=g;break;case"A":case"a":case"":var I={t:g,v:g};if(m==null&&(m=I1(e,n)),t.substr(u,3).toUpperCase()==="A/P"?(m!=null&&(I.v=m.H>=12?"P":"A"),I.t="T",C="h",u+=3):t.substr(u,5).toUpperCase()==="AM/PM"?(m!=null&&(I.v=m.H>=12?"PM":"AM"),I.t="T",u+=5,C="h"):t.substr(u,5).toUpperCase()==="/"?(m!=null&&(I.v=m.H>=12?"":""),I.t="T",u+=5,C="h"):(I.t="t",++u),m==null&&I.t==="T")return"";i[i.length]=I,x=g;break;case"[":for(o=g;t.charAt(u++)!=="]"&&u<t.length;)o+=t.charAt(u);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(rR)){if(m==null&&(m=I1(e,n),m==null))return"";i[i.length]={t:"Z",v:o.toLowerCase()},x=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",iR(t)||(i[i.length]={t:"t",v:o}));break;case".":if(m!=null){for(o=g;++u<t.length&&(g=t.charAt(u))==="0";)o+=g;i[i.length]={t:"s",v:o};break}case"0":case"#":for(o=g;++u<t.length&&"0#?.,E+-%".indexOf(g=t.charAt(u))>-1;)o+=g;i[i.length]={t:"n",v:o};break;case"?":for(o=g;t.charAt(++u)===g;)o+=g;i[i.length]={t:g,v:o},x=g;break;case"*":++u,(t.charAt(u)==" "||t.charAt(u)=="*")&&++u;break;case"(":case")":i[i.length]={t:r===1?"t":g,v:g},++u;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=g;u<t.length&&"0123456789".indexOf(t.charAt(++u))>-1;)o+=t.charAt(u);i[i.length]={t:"D",v:o};break;case" ":i[i.length]={t:g,v:g},++u;break;case"$":i[i.length]={t:"t",v:"$"},++u;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(g)===-1)throw new Error("unrecognized character "+g+" in "+t);i[i.length]={t:"t",v:g},++u;break}var k=0,H=0,Y;for(u=i.length-1,x="t";u>=0;--u)switch(i[u].t){case"h":case"H":i[u].t=C,x="h",k<1&&(k=1);break;case"s":(Y=i[u].v.match(/\.0+$/))&&(H=Math.max(H,Y[0].length-1)),k<3&&(k=3);case"d":case"y":case"M":case"e":x=i[u].t;break;case"m":x==="s"&&(i[u].t="M",k<2&&(k=2));break;case"X":break;case"Z":k<1&&i[u].v.match(/[Hh]/)&&(k=1),k<2&&i[u].v.match(/[Mm]/)&&(k=2),k<3&&i[u].v.match(/[Ss]/)&&(k=3)}switch(k){case 0:break;case 1:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M),m.M>=60&&(m.M=0,++m.H);break;case 2:m.u>=.5&&(m.u=0,++m.S),m.S>=60&&(m.S=0,++m.M);break}var W="",te;for(u=0;u<i.length;++u)switch(i[u].t){case"t":case"T":case" ":case"D":break;case"X":i[u].v="",i[u].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[u].v=Ij(i[u].t.charCodeAt(0),i[u].v,m,H),i[u].t="t";break;case"n":case"?":for(te=u+1;i[te]!=null&&((g=i[te].t)==="?"||g==="D"||(g===" "||g==="t")&&i[te+1]!=null&&(i[te+1].t==="?"||i[te+1].t==="t"&&i[te+1].v==="/")||i[u].t==="("&&(g===" "||g==="n"||g===")")||g==="t"&&(i[te].v==="/"||i[te].v===" "&&i[te+1]!=null&&i[te+1].t=="?"));)i[u].v+=i[te].v,i[te]={v:"",t:";"},++te;W+=i[u].v,u=te-1;break;case"G":i[u].t="t",i[u].v=Qx(e,n);break}var oe="",ve,B;if(W.length>0){W.charCodeAt(0)==40?(ve=e<0&&W.charCodeAt(0)===45?-e:e,B=il("n",W,ve)):(ve=e<0&&r>1?-e:e,B=il("n",W,ve),ve<0&&i[0]&&i[0].t=="t"&&(B=B.substr(1),i[0].v="-"+i[0].v)),te=B.length-1;var V=i.length;for(u=0;u<i.length;++u)if(i[u]!=null&&i[u].t!="t"&&i[u].v.indexOf(".")>-1){V=u;break}var L=i.length;if(V===i.length&&B.indexOf("E")===-1){for(u=i.length-1;u>=0;--u)i[u]==null||"n?".indexOf(i[u].t)===-1||(te>=i[u].v.length-1?(te-=i[u].v.length,i[u].v=B.substr(te+1,i[u].v.length)):te<0?i[u].v="":(i[u].v=B.substr(0,te+1),te=-1),i[u].t="t",L=u);te>=0&&L<i.length&&(i[L].v=B.substr(0,te+1)+i[L].v)}else if(V!==i.length&&B.indexOf("E")===-1){for(te=B.indexOf(".")-1,u=V;u>=0;--u)if(!(i[u]==null||"n?".indexOf(i[u].t)===-1)){for(_=i[u].v.indexOf(".")>-1&&u===V?i[u].v.indexOf(".")-1:i[u].v.length-1,oe=i[u].v.substr(_+1);_>=0;--_)te>=0&&(i[u].v.charAt(_)==="0"||i[u].v.charAt(_)==="#")&&(oe=B.charAt(te--)+oe);i[u].v=oe,i[u].t="t",L=u}for(te>=0&&L<i.length&&(i[L].v=B.substr(0,te+1)+i[L].v),te=B.indexOf(".")+1,u=V;u<i.length;++u)if(!(i[u]==null||"n?(".indexOf(i[u].t)===-1&&u!==V)){for(_=i[u].v.indexOf(".")>-1&&u===V?i[u].v.indexOf(".")+1:0,oe=i[u].v.substr(0,_);_<i[u].v.length;++_)te<B.length&&(oe+=B.charAt(te++));i[u].v=oe,i[u].t="t",L=u}}}for(u=0;u<i.length;++u)i[u]!=null&&"n?".indexOf(i[u].t)>-1&&(ve=r>1&&e<0&&u>0&&i[u-1].v==="-"?-e:e,i[u].v=il(i[u].t,i[u].v,ve),i[u].t="t");var M="";for(u=0;u!==i.length;++u)i[u]!=null&&(M+=i[u].v);return M}var hC=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function dC(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function Uj(t,e){var n=Fj(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var o=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,o];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var u=n[0].match(hC),g=n[1].match(hC);return dC(e,u)?[r,n[0]]:dC(e,g)?[r,n[1]]:[r,n[u!=null&&g!=null?2:1]]}return[r,o]}function vc(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Hr)[t],r==null&&(r=n.table&&n.table[cC[t]]||Hr[cC[t]]),r==null&&(r=_j[t]||"General");break}if(Sg(r,0))return Qx(e,n);e instanceof Date&&(e=KI(e,n.date1904));var i=Uj(r,e);if(Sg(i[1]))return Qx(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return Bj(i[1],e,n,i[0])}function sR(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Hr[n]==null){e<0&&(e=n);continue}if(Hr[n]==t){e=n;break}}e<0&&(e=391)}return Hr[e]=t,e}function Cm(t){for(var e=0;e!=392;++e)t[e]!==void 0&&sR(t[e],e)}function bm(){Hr=vj()}var aR=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Vj(t){var e=typeof t=="number"?Hr[t]:t;return e=e.replace(aR,"(\\d+)"),new RegExp("^"+e+"$")}function jj(t,e,n){var r=-1,i=-1,o=-1,u=-1,g=-1,x=-1;(e.match(aR)||[]).forEach(function(A,C){var R=parseInt(n[C+1],10);switch(A.toLowerCase().charAt(0)){case"y":r=R;break;case"d":o=R;break;case"h":u=R;break;case"s":x=R;break;case"m":u>=0?g=R:i=R;break}}),x>=0&&g==-1&&i>=0&&(g=i,i=-1);var m=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);m.length==7&&(m="0"+m),m.length==8&&(m="20"+m);var _=("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(g>=0?g:0)).slice(-2)+":"+("00"+(x>=0?x:0)).slice(-2);return u==-1&&g==-1&&x==-1?m:r==-1&&i==-1&&o==-1?_:m+"T"+_}var Hj=function(){var t={};t.version="1.2.0";function e(){for(var B=0,V=new Array(256),L=0;L!=256;++L)B=L,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,B=B&1?-306674912^B>>>1:B>>>1,V[L]=B;return typeof Int32Array<"u"?new Int32Array(V):V}var n=e();function r(B){var V=0,L=0,M=0,q=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)q[M]=B[M];for(M=0;M!=256;++M)for(L=B[M],V=256+M;V<4096;V+=256)L=q[V]=L>>>8^B[L&255];var Q=[];for(M=1;M!=16;++M)Q[M-1]=typeof Int32Array<"u"?q.subarray(M*256,M*256+256):q.slice(M*256,M*256+256);return Q}var i=r(n),o=i[0],u=i[1],g=i[2],x=i[3],m=i[4],_=i[5],A=i[6],C=i[7],R=i[8],O=i[9],I=i[10],k=i[11],H=i[12],Y=i[13],W=i[14];function te(B,V){for(var L=V^-1,M=0,q=B.length;M<q;)L=L>>>8^n[(L^B.charCodeAt(M++))&255];return~L}function oe(B,V){for(var L=V^-1,M=B.length-15,q=0;q<M;)L=W[B[q++]^L&255]^Y[B[q++]^L>>8&255]^H[B[q++]^L>>16&255]^k[B[q++]^L>>>24]^I[B[q++]]^O[B[q++]]^R[B[q++]]^C[B[q++]]^A[B[q++]]^_[B[q++]]^m[B[q++]]^x[B[q++]]^g[B[q++]]^u[B[q++]]^o[B[q++]]^n[B[q++]];for(M+=15;q<M;)L=L>>>8^n[(L^B[q++])&255];return~L}function ve(B,V){for(var L=V^-1,M=0,q=B.length,Q=0,Z=0;M<q;)Q=B.charCodeAt(M++),Q<128?L=L>>>8^n[(L^Q)&255]:Q<2048?(L=L>>>8^n[(L^(192|Q>>6&31))&255],L=L>>>8^n[(L^(128|Q&63))&255]):Q>=55296&&Q<57344?(Q=(Q&1023)+64,Z=B.charCodeAt(M++)&1023,L=L>>>8^n[(L^(240|Q>>8&7))&255],L=L>>>8^n[(L^(128|Q>>2&63))&255],L=L>>>8^n[(L^(128|Z>>6&15|(Q&3)<<4))&255],L=L>>>8^n[(L^(128|Z&63))&255]):(L=L>>>8^n[(L^(224|Q>>12&15))&255],L=L>>>8^n[(L^(128|Q>>6&63))&255],L=L>>>8^n[(L^(128|Q&63))&255]);return~L}return t.table=n,t.bstr=te,t.buf=oe,t.str=ve,t}(),Zn=function(){var e={};e.version="1.2.1";function n(X,ee){for(var re=X.split("/"),se=ee.split("/"),le=0,ue=0,Ie=Math.min(re.length,se.length);le<Ie;++le){if(ue=re[le].length-se[le].length)return ue;if(re[le]!=se[le])return re[le]<se[le]?-1:1}return re.length-se.length}function r(X){if(X.charAt(X.length-1)=="/")return X.slice(0,-1).indexOf("/")===-1?X:r(X.slice(0,-1));var ee=X.lastIndexOf("/");return ee===-1?X:X.slice(0,ee+1)}function i(X){if(X.charAt(X.length-1)=="/")return i(X.slice(0,-1));var ee=X.lastIndexOf("/");return ee===-1?X:X.slice(ee+1)}function o(X,ee){typeof ee=="string"&&(ee=new Date(ee));var re=ee.getHours();re=re<<6|ee.getMinutes(),re=re<<5|ee.getSeconds()>>>1,X.write_shift(2,re);var se=ee.getFullYear()-1980;se=se<<4|ee.getMonth()+1,se=se<<5|ee.getDate(),X.write_shift(2,se)}function u(X){var ee=X.read_shift(2)&65535,re=X.read_shift(2)&65535,se=new Date,le=re&31;re>>>=5;var ue=re&15;re>>>=4,se.setMilliseconds(0),se.setFullYear(re+1980),se.setMonth(ue-1),se.setDate(le);var Ie=ee&31;ee>>>=5;var Ve=ee&63;return ee>>>=6,se.setHours(ee),se.setMinutes(Ve),se.setSeconds(Ie<<1),se}function g(X){Js(X,0);for(var ee={},re=0;X.l<=X.length-4;){var se=X.read_shift(2),le=X.read_shift(2),ue=X.l+le,Ie={};switch(se){case 21589:re=X.read_shift(1),re&1&&(Ie.mtime=X.read_shift(4)),le>5&&(re&2&&(Ie.atime=X.read_shift(4)),re&4&&(Ie.ctime=X.read_shift(4))),Ie.mtime&&(Ie.mt=new Date(Ie.mtime*1e3));break}X.l=ue,ee[se]=Ie}return ee}var x;function m(){return x||(x={})}function _(X,ee){if(X[0]==80&&X[1]==75)return ka(X,ee);if((X[0]|32)==109&&(X[1]|32)==105)return La(X,ee);if(X.length<512)throw new Error("CFB file size "+X.length+" < 512");var re=3,se=512,le=0,ue=0,Ie=0,Ve=0,Te=0,De=[],Me=X.slice(0,512);Js(Me,0);var Xe=A(Me);switch(re=Xe[0],re){case 3:se=512;break;case 4:se=4096;break;case 0:if(Xe[1]==0)return ka(X,ee);default:throw new Error("Major Version: Expected 3 or 4 saw "+re)}se!==512&&(Me=X.slice(0,se),Js(Me,28));var Je=X.slice(0,se);C(Me,re);var it=Me.read_shift(4,"i");if(re===3&&it!==0)throw new Error("# Directory Sectors: Expected 0 saw "+it);Me.l+=4,Ie=Me.read_shift(4,"i"),Me.l+=4,Me.chk("00100000","Mini Stream Cutoff Size: "),Ve=Me.read_shift(4,"i"),le=Me.read_shift(4,"i"),Te=Me.read_shift(4,"i"),ue=Me.read_shift(4,"i");for(var st=-1,ct=0;ct<109&&(st=Me.read_shift(4,"i"),!(st<0));++ct)De[ct]=st;var Mt=R(X,se);k(Te,ue,Mt,se,De);var je=Y(Mt,Ie,De,se);je[Ie].name="!Directory",le>0&&Ve!==Z&&(je[Ve].name="!MiniFAT"),je[De[0]].name="!FAT",je.fat_addrs=De,je.ssz=se;var dn={},Ct=[],Jr=[],fa=[];W(Ie,je,Mt,Ct,le,dn,Jr,Ve),O(Jr,fa,Ct),Ct.shift();var Ht={FileIndex:Jr,FullPaths:fa};return ee&&ee.raw&&(Ht.raw={header:Je,sectors:Mt}),Ht}function A(X){if(X[X.l]==80&&X[X.l+1]==75)return[0,0];X.chk(pt,"Header Signature: "),X.l+=16;var ee=X.read_shift(2,"u");return[X.read_shift(2,"u"),ee]}function C(X,ee){var re=9;switch(X.l+=2,re=X.read_shift(2)){case 9:if(ee!=3)throw new Error("Sector Shift: Expected 9 saw "+re);break;case 12:if(ee!=4)throw new Error("Sector Shift: Expected 12 saw "+re);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+re)}X.chk("0600","Mini Sector Shift: "),X.chk("000000000000","Reserved: ")}function R(X,ee){for(var re=Math.ceil(X.length/ee)-1,se=[],le=1;le<re;++le)se[le-1]=X.slice(le*ee,(le+1)*ee);return se[re-1]=X.slice(re*ee),se}function O(X,ee,re){for(var se=0,le=0,ue=0,Ie=0,Ve=0,Te=re.length,De=[],Me=[];se<Te;++se)De[se]=Me[se]=se,ee[se]=re[se];for(;Ve<Me.length;++Ve)se=Me[Ve],le=X[se].L,ue=X[se].R,Ie=X[se].C,De[se]===se&&(le!==-1&&De[le]!==le&&(De[se]=De[le]),ue!==-1&&De[ue]!==ue&&(De[se]=De[ue])),Ie!==-1&&(De[Ie]=se),le!==-1&&se!=De[se]&&(De[le]=De[se],Me.lastIndexOf(le)<Ve&&Me.push(le)),ue!==-1&&se!=De[se]&&(De[ue]=De[se],Me.lastIndexOf(ue)<Ve&&Me.push(ue));for(se=1;se<Te;++se)De[se]===se&&(ue!==-1&&De[ue]!==ue?De[se]=De[ue]:le!==-1&&De[le]!==le&&(De[se]=De[le]));for(se=1;se<Te;++se)if(X[se].type!==0){if(Ve=se,Ve!=De[Ve])do Ve=De[Ve],ee[se]=ee[Ve]+"/"+ee[se];while(Ve!==0&&De[Ve]!==-1&&Ve!=De[Ve]);De[se]=-1}for(ee[0]+="/",se=1;se<Te;++se)X[se].type!==2&&(ee[se]+="/")}function I(X,ee,re){for(var se=X.start,le=X.size,ue=[],Ie=se;re&&le>0&&Ie>=0;)ue.push(ee.slice(Ie*Q,Ie*Q+Q)),le-=Q,Ie=qc(re,Ie*4);return ue.length===0?He(0):Hi(ue).slice(0,X.size)}function k(X,ee,re,se,le){var ue=Z;if(X===Z){if(ee!==0)throw new Error("DIFAT chain shorter than expected")}else if(X!==-1){var Ie=re[X],Ve=(se>>>2)-1;if(!Ie)return;for(var Te=0;Te<Ve&&(ue=qc(Ie,Te*4))!==Z;++Te)le.push(ue);k(qc(Ie,se-4),ee-1,re,se,le)}}function H(X,ee,re,se,le){var ue=[],Ie=[];le||(le=[]);var Ve=se-1,Te=0,De=0;for(Te=ee;Te>=0;){le[Te]=!0,ue[ue.length]=Te,Ie.push(X[Te]);var Me=re[Math.floor(Te*4/se)];if(De=Te*4&Ve,se<4+De)throw new Error("FAT boundary crossed: "+Te+" 4 "+se);if(!X[Me])break;Te=qc(X[Me],De)}return{nodes:ue,data:EC([Ie])}}function Y(X,ee,re,se){var le=X.length,ue=[],Ie=[],Ve=[],Te=[],De=se-1,Me=0,Xe=0,Je=0,it=0;for(Me=0;Me<le;++Me)if(Ve=[],Je=Me+ee,Je>=le&&(Je-=le),!Ie[Je]){Te=[];var st=[];for(Xe=Je;Xe>=0;){st[Xe]=!0,Ie[Xe]=!0,Ve[Ve.length]=Xe,Te.push(X[Xe]);var ct=re[Math.floor(Xe*4/se)];if(it=Xe*4&De,se<4+it)throw new Error("FAT boundary crossed: "+Xe+" 4 "+se);if(!X[ct]||(Xe=qc(X[ct],it),st[Xe]))break}ue[Je]={nodes:Ve,data:EC([Te])}}return ue}function W(X,ee,re,se,le,ue,Ie,Ve){for(var Te=0,De=se.length?2:0,Me=ee[X].data,Xe=0,Je=0,it;Xe<Me.length;Xe+=128){var st=Me.slice(Xe,Xe+128);Js(st,64),Je=st.read_shift(2),it=Uv(st,0,Je-De),se.push(it);var ct={name:it,type:st.read_shift(1),color:st.read_shift(1),L:st.read_shift(4,"i"),R:st.read_shift(4,"i"),C:st.read_shift(4,"i"),clsid:st.read_shift(16),state:st.read_shift(4,"i"),start:0,size:0},Mt=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);Mt!==0&&(ct.ct=te(st,st.l-8));var je=st.read_shift(2)+st.read_shift(2)+st.read_shift(2)+st.read_shift(2);je!==0&&(ct.mt=te(st,st.l-8)),ct.start=st.read_shift(4,"i"),ct.size=st.read_shift(4,"i"),ct.size<0&&ct.start<0&&(ct.size=ct.type=0,ct.start=Z,ct.name=""),ct.type===5?(Te=ct.start,le>0&&Te!==Z&&(ee[Te].name="!StreamData")):ct.size>=4096?(ct.storage="fat",ee[ct.start]===void 0&&(ee[ct.start]=H(re,ct.start,ee.fat_addrs,ee.ssz)),ee[ct.start].name=ct.name,ct.content=ee[ct.start].data.slice(0,ct.size)):(ct.storage="minifat",ct.size<0?ct.size=0:Te!==Z&&ct.start!==Z&&ee[Te]&&(ct.content=I(ct,ee[Te].data,(ee[Ve]||{}).data))),ct.content&&Js(ct.content,0),ue[it]=ct,Ie.push(ct)}}function te(X,ee){return new Date((ta(X,ee+4)/1e7*Math.pow(2,32)+ta(X,ee)/1e7-11644473600)*1e3)}function oe(X,ee){return m(),_(x.readFileSync(X),ee)}function ve(X,ee){var re=ee&&ee.type;switch(re||kn&&Buffer.isBuffer(X)&&(re="buffer"),re||"base64"){case"file":return oe(X,ee);case"base64":return _(Wa(gl(X)),ee);case"binary":return _(Wa(X),ee)}return _(X,ee)}function B(X,ee){var re=ee||{},se=re.root||"Root Entry";if(X.FullPaths||(X.FullPaths=[]),X.FileIndex||(X.FileIndex=[]),X.FullPaths.length!==X.FileIndex.length)throw new Error("inconsistent CFB structure");X.FullPaths.length===0&&(X.FullPaths[0]=se+"/",X.FileIndex[0]={name:se,type:5}),re.CLSID&&(X.FileIndex[0].clsid=re.CLSID),V(X)}function V(X){var ee="Sh33tJ5";if(!Zn.find(X,"/"+ee)){var re=He(4);re[0]=55,re[1]=re[3]=50,re[2]=54,X.FileIndex.push({name:ee,type:2,content:re,size:4,L:69,R:69,C:69}),X.FullPaths.push(X.FullPaths[0]+ee),L(X)}}function L(X,ee){B(X);for(var re=!1,se=!1,le=X.FullPaths.length-1;le>=0;--le){var ue=X.FileIndex[le];switch(ue.type){case 0:se?re=!0:(X.FileIndex.pop(),X.FullPaths.pop());break;case 1:case 2:case 5:se=!0,isNaN(ue.R*ue.L*ue.C)&&(re=!0),ue.R>-1&&ue.L>-1&&ue.R==ue.L&&(re=!0);break;default:re=!0;break}}if(!(!re&&!ee)){var Ie=new Date(1987,1,19),Ve=0,Te=Object.create?Object.create(null):{},De=[];for(le=0;le<X.FullPaths.length;++le)Te[X.FullPaths[le]]=!0,X.FileIndex[le].type!==0&&De.push([X.FullPaths[le],X.FileIndex[le]]);for(le=0;le<De.length;++le){var Me=r(De[le][0]);se=Te[Me],se||(De.push([Me,{name:i(Me).replace("/",""),type:1,clsid:be,ct:Ie,mt:Ie,content:null}]),Te[Me]=!0)}for(De.sort(function(it,st){return n(it[0],st[0])}),X.FullPaths=[],X.FileIndex=[],le=0;le<De.length;++le)X.FullPaths[le]=De[le][0],X.FileIndex[le]=De[le][1];for(le=0;le<De.length;++le){var Xe=X.FileIndex[le],Je=X.FullPaths[le];if(Xe.name=i(Je).replace("/",""),Xe.L=Xe.R=Xe.C=-(Xe.color=1),Xe.size=Xe.content?Xe.content.length:0,Xe.start=0,Xe.clsid=Xe.clsid||be,le===0)Xe.C=De.length>1?1:-1,Xe.size=0,Xe.type=5;else if(Je.slice(-1)=="/"){for(Ve=le+1;Ve<De.length&&r(X.FullPaths[Ve])!=Je;++Ve);for(Xe.C=Ve>=De.length?-1:Ve,Ve=le+1;Ve<De.length&&r(X.FullPaths[Ve])!=r(Je);++Ve);Xe.R=Ve>=De.length?-1:Ve,Xe.type=1}else r(X.FullPaths[le+1]||"")==r(Je)&&(Xe.R=le+1),Xe.type=2}}}function M(X,ee){var re=ee||{};if(re.fileType=="mad")return ln(X,re);switch(L(X),re.fileType){case"zip":return ui(X,re)}var se=function(it){for(var st=0,ct=0,Mt=0;Mt<it.FileIndex.length;++Mt){var je=it.FileIndex[Mt];if(je.content){var dn=je.content.length;dn>0&&(dn<4096?st+=dn+63>>6:ct+=dn+511>>9)}}for(var Ct=it.FullPaths.length+3>>2,Jr=st+7>>3,fa=st+127>>7,Ht=Jr+ct+Ct+fa,zt=Ht+127>>7,Gt=zt<=109?0:Math.ceil((zt-109)/127);Ht+zt+Gt+127>>7>zt;)Gt=++zt<=109?0:Math.ceil((zt-109)/127);var hi=[1,Gt,zt,fa,Ct,ct,st,0];return it.FileIndex[0].size=st<<6,hi[7]=(it.FileIndex[0].start=hi[0]+hi[1]+hi[2]+hi[3]+hi[4]+hi[5])+(hi[6]+7>>3),hi}(X),le=He(se[7]<<9),ue=0,Ie=0;{for(ue=0;ue<8;++ue)le.write_shift(1,Ee[ue]);for(ue=0;ue<8;++ue)le.write_shift(2,0);for(le.write_shift(2,62),le.write_shift(2,3),le.write_shift(2,65534),le.write_shift(2,9),le.write_shift(2,6),ue=0;ue<3;++ue)le.write_shift(2,0);for(le.write_shift(4,0),le.write_shift(4,se[2]),le.write_shift(4,se[0]+se[1]+se[2]+se[3]-1),le.write_shift(4,0),le.write_shift(4,4096),le.write_shift(4,se[3]?se[0]+se[1]+se[2]-1:Z),le.write_shift(4,se[3]),le.write_shift(-4,se[1]?se[0]-1:Z),le.write_shift(4,se[1]),ue=0;ue<109;++ue)le.write_shift(-4,ue<se[2]?se[1]+ue:-1)}if(se[1])for(Ie=0;Ie<se[1];++Ie){for(;ue<236+Ie*127;++ue)le.write_shift(-4,ue<se[2]?se[1]+ue:-1);le.write_shift(-4,Ie===se[1]-1?Z:Ie+1)}var Ve=function(it){for(Ie+=it;ue<Ie-1;++ue)le.write_shift(-4,ue+1);it&&(++ue,le.write_shift(-4,Z))};for(Ie=ue=0,Ie+=se[1];ue<Ie;++ue)le.write_shift(-4,Ue.DIFSECT);for(Ie+=se[2];ue<Ie;++ue)le.write_shift(-4,Ue.FATSECT);Ve(se[3]),Ve(se[4]);for(var Te=0,De=0,Me=X.FileIndex[0];Te<X.FileIndex.length;++Te)Me=X.FileIndex[Te],Me.content&&(De=Me.content.length,!(De<4096)&&(Me.start=Ie,Ve(De+511>>9)));for(Ve(se[6]+7>>3);le.l&511;)le.write_shift(-4,Ue.ENDOFCHAIN);for(Ie=ue=0,Te=0;Te<X.FileIndex.length;++Te)Me=X.FileIndex[Te],Me.content&&(De=Me.content.length,!(!De||De>=4096)&&(Me.start=Ie,Ve(De+63>>6)));for(;le.l&511;)le.write_shift(-4,Ue.ENDOFCHAIN);for(ue=0;ue<se[4]<<2;++ue){var Xe=X.FullPaths[ue];if(!Xe||Xe.length===0){for(Te=0;Te<17;++Te)le.write_shift(4,0);for(Te=0;Te<3;++Te)le.write_shift(4,-1);for(Te=0;Te<12;++Te)le.write_shift(4,0);continue}Me=X.FileIndex[ue],ue===0&&(Me.start=Me.size?Me.start-1:Z);var Je=ue===0&&re.root||Me.name;if(De=2*(Je.length+1),le.write_shift(64,Je,"utf16le"),le.write_shift(2,De),le.write_shift(1,Me.type),le.write_shift(1,Me.color),le.write_shift(-4,Me.L),le.write_shift(-4,Me.R),le.write_shift(-4,Me.C),Me.clsid)le.write_shift(16,Me.clsid,"hex");else for(Te=0;Te<4;++Te)le.write_shift(4,0);le.write_shift(4,Me.state||0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,Me.start),le.write_shift(4,Me.size),le.write_shift(4,0)}for(ue=1;ue<X.FileIndex.length;++ue)if(Me=X.FileIndex[ue],Me.size>=4096)if(le.l=Me.start+1<<9,kn&&Buffer.isBuffer(Me.content))Me.content.copy(le,le.l,0,Me.size),le.l+=Me.size+511&-512;else{for(Te=0;Te<Me.size;++Te)le.write_shift(1,Me.content[Te]);for(;Te&511;++Te)le.write_shift(1,0)}for(ue=1;ue<X.FileIndex.length;++ue)if(Me=X.FileIndex[ue],Me.size>0&&Me.size<4096)if(kn&&Buffer.isBuffer(Me.content))Me.content.copy(le,le.l,0,Me.size),le.l+=Me.size+63&-64;else{for(Te=0;Te<Me.size;++Te)le.write_shift(1,Me.content[Te]);for(;Te&63;++Te)le.write_shift(1,0)}if(kn)le.l=le.length;else for(;le.l<le.length;)le.write_shift(1,0);return le}function q(X,ee){var re=X.FullPaths.map(function(Te){return Te.toUpperCase()}),se=re.map(function(Te){var De=Te.split("/");return De[De.length-(Te.slice(-1)=="/"?2:1)]}),le=!1;ee.charCodeAt(0)===47?(le=!0,ee=re[0].slice(0,-1)+ee):le=ee.indexOf("/")!==-1;var ue=ee.toUpperCase(),Ie=le===!0?re.indexOf(ue):se.indexOf(ue);if(Ie!==-1)return X.FileIndex[Ie];var Ve=!ue.match(b1);for(ue=ue.replace(c0,""),Ve&&(ue=ue.replace(b1,"!")),Ie=0;Ie<re.length;++Ie)if((Ve?re[Ie].replace(b1,"!"):re[Ie]).replace(c0,"")==ue||(Ve?se[Ie].replace(b1,"!"):se[Ie]).replace(c0,"")==ue)return X.FileIndex[Ie];return null}var Q=64,Z=-2,pt="d0cf11e0a1b11ae1",Ee=[208,207,17,224,161,177,26,225],be="00000000000000000000000000000000",Ue={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Z,FREESECT:-1,HEADER_SIGNATURE:pt,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:be,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function xt(X,ee,re){m();var se=M(X,re);x.writeFileSync(ee,se)}function wt(X){for(var ee=new Array(X.length),re=0;re<X.length;++re)ee[re]=String.fromCharCode(X[re]);return ee.join("")}function me(X,ee){var re=M(X,ee);switch(ee&&ee.type||"buffer"){case"file":return m(),x.writeFileSync(ee.filename,re),re;case"binary":return typeof re=="string"?re:wt(re);case"base64":return D0(typeof re=="string"?re:wt(re));case"buffer":if(kn)return Buffer.isBuffer(re)?re:yl(re);case"array":return typeof re=="string"?Wa(re):re}return re}var Ge;function ie(X){try{var ee=X.InflateRaw,re=new ee;if(re._processChunk(new Uint8Array([3,0]),re._finishFlushFlag),re.bytesRead)Ge=X;else throw new Error("zlib does not expose bytesRead")}catch(se){console.error("cannot use native zlib: "+(se.message||se))}}function fe(X,ee){if(!Ge)return ps(X,ee);var re=Ge.InflateRaw,se=new re,le=se._processChunk(X.slice(X.l),se._finishFlushFlag);return X.l+=se.bytesRead,le}function he(X){return Ge?Ge.deflateRawSync(X):ur(X)}var pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_e=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],lt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ze(X){var ee=(X<<1|X<<11)&139536|(X<<5|X<<15)&558144;return(ee>>16|ee>>8|ee)&255}for(var mt=typeof Uint8Array<"u",ot=mt?new Uint8Array(256):[],Ot=0;Ot<256;++Ot)ot[Ot]=Ze(Ot);function Pt(X,ee){var re=ot[X&255];return ee<=8?re>>>8-ee:(re=re<<8|ot[X>>8&255],ee<=16?re>>>16-ee:(re=re<<8|ot[X>>16&255],re>>>24-ee))}function St(X,ee){var re=ee&7,se=ee>>>3;return(X[se]|(re<=6?0:X[se+1]<<8))>>>re&3}function Ut(X,ee){var re=ee&7,se=ee>>>3;return(X[se]|(re<=5?0:X[se+1]<<8))>>>re&7}function Bn(X,ee){var re=ee&7,se=ee>>>3;return(X[se]|(re<=4?0:X[se+1]<<8))>>>re&15}function vn(X,ee){var re=ee&7,se=ee>>>3;return(X[se]|(re<=3?0:X[se+1]<<8))>>>re&31}function rt(X,ee){var re=ee&7,se=ee>>>3;return(X[se]|(re<=1?0:X[se+1]<<8))>>>re&127}function jt(X,ee,re){var se=ee&7,le=ee>>>3,ue=(1<<re)-1,Ie=X[le]>>>se;return re<8-se||(Ie|=X[le+1]<<8-se,re<16-se)||(Ie|=X[le+2]<<16-se,re<24-se)||(Ie|=X[le+3]<<24-se),Ie&ue}function Tt(X,ee,re){var se=ee&7,le=ee>>>3;return se<=5?X[le]|=(re&7)<<se:(X[le]|=re<<se&255,X[le+1]=(re&7)>>8-se),ee+3}function vr(X,ee,re){var se=ee&7,le=ee>>>3;return re=(re&1)<<se,X[le]|=re,ee+1}function gt(X,ee,re){var se=ee&7,le=ee>>>3;return re<<=se,X[le]|=re&255,re>>>=8,X[le+1]=re,ee+8}function Ri(X,ee,re){var se=ee&7,le=ee>>>3;return re<<=se,X[le]|=re&255,re>>>=8,X[le+1]=re&255,X[le+2]=re>>>8,ee+16}function ls(X,ee){var re=X.length,se=2*re>ee?2*re:ee+5,le=0;if(re>=ee)return X;if(kn){var ue=aC(se);if(X.copy)X.copy(ue);else for(;le<X.length;++le)ue[le]=X[le];return ue}else if(mt){var Ie=new Uint8Array(se);if(Ie.set)Ie.set(X);else for(;le<re;++le)Ie[le]=X[le];return Ie}return X.length=se,X}function Un(X){for(var ee=new Array(X),re=0;re<X;++re)ee[re]=0;return ee}function Yi(X,ee,re){var se=1,le=0,ue=0,Ie=0,Ve=0,Te=X.length,De=mt?new Uint16Array(32):Un(32);for(ue=0;ue<32;++ue)De[ue]=0;for(ue=Te;ue<re;++ue)X[ue]=0;Te=X.length;var Me=mt?new Uint16Array(Te):Un(Te);for(ue=0;ue<Te;++ue)De[le=X[ue]]++,se<le&&(se=le),Me[ue]=0;for(De[0]=0,ue=1;ue<=se;++ue)De[ue+16]=Ve=Ve+De[ue-1]<<1;for(ue=0;ue<Te;++ue)Ve=X[ue],Ve!=0&&(Me[ue]=De[Ve+16]++);var Xe=0;for(ue=0;ue<Te;++ue)if(Xe=X[ue],Xe!=0)for(Ve=Pt(Me[ue],se)>>se-Xe,Ie=(1<<se+4-Xe)-1;Ie>=0;--Ie)ee[Ve|Ie<<Xe]=Xe&15|ue<<4;return se}var Zt=mt?new Uint16Array(512):Un(512),nn=mt?new Uint16Array(32):Un(32);if(!mt){for(var wn=0;wn<512;++wn)Zt[wn]=0;for(wn=0;wn<32;++wn)nn[wn]=0}(function(){for(var X=[],ee=0;ee<32;ee++)X.push(5);Yi(X,nn,32);var re=[];for(ee=0;ee<=143;ee++)re.push(8);for(;ee<=255;ee++)re.push(9);for(;ee<=279;ee++)re.push(7);for(;ee<=287;ee++)re.push(8);Yi(re,Zt,288)})();var on=function(){for(var ee=mt?new Uint8Array(32768):[],re=0,se=0;re<lt.length-1;++re)for(;se<lt[re+1];++se)ee[se]=re;for(;se<32768;++se)ee[se]=29;var le=mt?new Uint8Array(259):[];for(re=0,se=0;re<_e.length-1;++re)for(;se<_e[re+1];++se)le[se]=re;function ue(Ve,Te){for(var De=0;De<Ve.length;){var Me=Math.min(65535,Ve.length-De),Xe=De+Me==Ve.length;for(Te.write_shift(1,+Xe),Te.write_shift(2,Me),Te.write_shift(2,~Me&65535);Me-- >0;)Te[Te.l++]=Ve[De++]}return Te.l}function Ie(Ve,Te){for(var De=0,Me=0,Xe=mt?new Uint16Array(32768):[];Me<Ve.length;){var Je=Math.min(65535,Ve.length-Me);if(Je<10){for(De=Tt(Te,De,+(Me+Je==Ve.length)),De&7&&(De+=8-(De&7)),Te.l=De/8|0,Te.write_shift(2,Je),Te.write_shift(2,~Je&65535);Je-- >0;)Te[Te.l++]=Ve[Me++];De=Te.l*8;continue}De=Tt(Te,De,+(Me+Je==Ve.length)+2);for(var it=0;Je-- >0;){var st=Ve[Me];it=(it<<5^st)&32767;var ct=-1,Mt=0;if((ct=Xe[it])&&(ct|=Me&-32768,ct>Me&&(ct-=32768),ct<Me))for(;Ve[ct+Mt]==Ve[Me+Mt]&&Mt<250;)++Mt;if(Mt>2){st=le[Mt],st<=22?De=gt(Te,De,ot[st+1]>>1)-1:(gt(Te,De,3),De+=5,gt(Te,De,ot[st-23]>>5),De+=3);var je=st<8?0:st-4>>2;je>0&&(Ri(Te,De,Mt-_e[st]),De+=je),st=ee[Me-ct],De=gt(Te,De,ot[st]>>3),De-=3;var dn=st<4?0:st-2>>1;dn>0&&(Ri(Te,De,Me-ct-lt[st]),De+=dn);for(var Ct=0;Ct<Mt;++Ct)Xe[it]=Me&32767,it=(it<<5^Ve[Me])&32767,++Me;Je-=Mt-1}else st<=143?st=st+48:De=vr(Te,De,1),De=gt(Te,De,ot[st]),Xe[it]=Me&32767,++Me}De=gt(Te,De,0)-1}return Te.l=(De+7)/8|0,Te.l}return function(Te,De){return Te.length<8?ue(Te,De):Ie(Te,De)}}();function ur(X){var ee=He(50+Math.floor(X.length*1.1)),re=on(X,ee);return ee.slice(0,re)}var Tn=mt?new Uint16Array(32768):Un(32768),Zr=mt?new Uint16Array(32768):Un(32768),$t=mt?new Uint16Array(128):Un(128),et=1,fn=1;function hn(X,ee){var re=vn(X,ee)+257;ee+=5;var se=vn(X,ee)+1;ee+=5;var le=Bn(X,ee)+4;ee+=4;for(var ue=0,Ie=mt?new Uint8Array(19):Un(19),Ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Te=1,De=mt?new Uint8Array(8):Un(8),Me=mt?new Uint8Array(8):Un(8),Xe=Ie.length,Je=0;Je<le;++Je)Ie[pe[Je]]=ue=Ut(X,ee),Te<ue&&(Te=ue),De[ue]++,ee+=3;var it=0;for(De[0]=0,Je=1;Je<=Te;++Je)Me[Je]=it=it+De[Je-1]<<1;for(Je=0;Je<Xe;++Je)(it=Ie[Je])!=0&&(Ve[Je]=Me[it]++);var st=0;for(Je=0;Je<Xe;++Je)if(st=Ie[Je],st!=0){it=ot[Ve[Je]]>>8-st;for(var ct=(1<<7-st)-1;ct>=0;--ct)$t[it|ct<<st]=st&7|Je<<3}var Mt=[];for(Te=1;Mt.length<re+se;)switch(it=$t[rt(X,ee)],ee+=it&7,it>>>=3){case 16:for(ue=3+St(X,ee),ee+=2,it=Mt[Mt.length-1];ue-- >0;)Mt.push(it);break;case 17:for(ue=3+Ut(X,ee),ee+=3;ue-- >0;)Mt.push(0);break;case 18:for(ue=11+rt(X,ee),ee+=7;ue-- >0;)Mt.push(0);break;default:Mt.push(it),Te<it&&(Te=it);break}var je=Mt.slice(0,re),dn=Mt.slice(re);for(Je=re;Je<286;++Je)je[Je]=0;for(Je=se;Je<30;++Je)dn[Je]=0;return et=Yi(je,Tn,286),fn=Yi(dn,Zr,30),ee}function Sn(X,ee){if(X[0]==3&&!(X[1]&3))return[au(ee),2];for(var re=0,se=0,le=aC(ee||1<<18),ue=0,Ie=le.length>>>0,Ve=0,Te=0;(se&1)==0;){if(se=Ut(X,re),re+=3,se>>>1)se>>1==1?(Ve=9,Te=5):(re=hn(X,re),Ve=et,Te=fn);else{re&7&&(re+=8-(re&7));var De=X[re>>>3]|X[(re>>>3)+1]<<8;if(re+=32,De>0)for(!ee&&Ie<ue+De&&(le=ls(le,ue+De),Ie=le.length);De-- >0;)le[ue++]=X[re>>>3],re+=8;continue}for(;;){!ee&&Ie<ue+32767&&(le=ls(le,ue+32767),Ie=le.length);var Me=jt(X,re,Ve),Xe=se>>>1==1?Zt[Me]:Tn[Me];if(re+=Xe&15,Xe>>>=4,(Xe>>>8&255)===0)le[ue++]=Xe;else{if(Xe==256)break;Xe-=257;var Je=Xe<8?0:Xe-4>>2;Je>5&&(Je=0);var it=ue+_e[Xe];Je>0&&(it+=jt(X,re,Je),re+=Je),Me=jt(X,re,Te),Xe=se>>>1==1?nn[Me]:Zr[Me],re+=Xe&15,Xe>>>=4;var st=Xe<4?0:Xe-2>>1,ct=lt[Xe];for(st>0&&(ct+=jt(X,re,st),re+=st),!ee&&Ie<it&&(le=ls(le,it+100),Ie=le.length);ue<it;)le[ue]=le[ue-ct],++ue}}}return ee?[le,re+7>>>3]:[le.slice(0,ue),re+7>>>3]}function ps(X,ee){var re=X.slice(X.l||0),se=Sn(re,ee);return X.l+=se[1],se[0]}function ua(X,ee){if(X)typeof console<"u"&&console.error(ee);else throw new Error(ee)}function ka(X,ee){var re=X;Js(re,0);var se=[],le=[],ue={FileIndex:se,FullPaths:le};B(ue,{root:ee.root});for(var Ie=re.length-4;(re[Ie]!=80||re[Ie+1]!=75||re[Ie+2]!=5||re[Ie+3]!=6)&&Ie>=0;)--Ie;re.l=Ie+4,re.l+=4;var Ve=re.read_shift(2);re.l+=6;var Te=re.read_shift(4);for(re.l=Te,Ie=0;Ie<Ve;++Ie){re.l+=20;var De=re.read_shift(4),Me=re.read_shift(4),Xe=re.read_shift(2),Je=re.read_shift(2),it=re.read_shift(2);re.l+=8;var st=re.read_shift(4),ct=g(re.slice(re.l+Xe,re.l+Xe+Je));re.l+=Xe+Je+it;var Mt=re.l;re.l=st+4,Qt(re,De,Me,ue,ct),re.l=Mt}return ue}function Qt(X,ee,re,se,le){X.l+=2;var ue=X.read_shift(2),Ie=X.read_shift(2),Ve=u(X);if(ue&8257)throw new Error("Unsupported ZIP encryption");for(var Te=X.read_shift(4),De=X.read_shift(4),Me=X.read_shift(4),Xe=X.read_shift(2),Je=X.read_shift(2),it="",st=0;st<Xe;++st)it+=String.fromCharCode(X[X.l++]);if(Je){var ct=g(X.slice(X.l,X.l+Je));(ct[21589]||{}).mt&&(Ve=ct[21589].mt),((le||{})[21589]||{}).mt&&(Ve=le[21589].mt)}X.l+=Je;var Mt=X.slice(X.l,X.l+De);switch(Ie){case 8:Mt=fe(X,Me);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ie)}var je=!1;ue&8&&(Te=X.read_shift(4),Te==134695760&&(Te=X.read_shift(4),je=!0),De=X.read_shift(4),Me=X.read_shift(4)),De!=ee&&ua(je,"Bad compressed size: "+ee+" != "+De),Me!=re&&ua(je,"Bad uncompressed size: "+re+" != "+Me),Cn(se,it,Mt,{unsafe:!0,mt:Ve})}function ui(X,ee){var re=ee||{},se=[],le=[],ue=He(1),Ie=re.compression?8:0,Ve=0,Te=0,De=0,Me=0,Xe=0,Je=X.FullPaths[0],it=Je,st=X.FileIndex[0],ct=[],Mt=0;for(Te=1;Te<X.FullPaths.length;++Te)if(it=X.FullPaths[Te].slice(Je.length),st=X.FileIndex[Te],!(!st.size||!st.content||it=="Sh33tJ5")){var je=Me,dn=He(it.length);for(De=0;De<it.length;++De)dn.write_shift(1,it.charCodeAt(De)&127);dn=dn.slice(0,dn.l),ct[Xe]=Hj.buf(st.content,0);var Ct=st.content;Ie==8&&(Ct=he(Ct)),ue=He(30),ue.write_shift(4,67324752),ue.write_shift(2,20),ue.write_shift(2,Ve),ue.write_shift(2,Ie),st.mt?o(ue,st.mt):ue.write_shift(4,0),ue.write_shift(-4,ct[Xe]),ue.write_shift(4,Ct.length),ue.write_shift(4,st.content.length),ue.write_shift(2,dn.length),ue.write_shift(2,0),Me+=ue.length,se.push(ue),Me+=dn.length,se.push(dn),Me+=Ct.length,se.push(Ct),ue=He(46),ue.write_shift(4,33639248),ue.write_shift(2,0),ue.write_shift(2,20),ue.write_shift(2,Ve),ue.write_shift(2,Ie),ue.write_shift(4,0),ue.write_shift(-4,ct[Xe]),ue.write_shift(4,Ct.length),ue.write_shift(4,st.content.length),ue.write_shift(2,dn.length),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(4,0),ue.write_shift(4,je),Mt+=ue.l,le.push(ue),Mt+=dn.length,le.push(dn),++Xe}return ue=He(22),ue.write_shift(4,101010256),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,Xe),ue.write_shift(2,Xe),ue.write_shift(4,Mt),ue.write_shift(4,Me),ue.write_shift(2,0),Hi([Hi(se),Hi(le),ue])}var ks={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function cs(X,ee){if(X.ctype)return X.ctype;var re=X.name||"",se=re.match(/\.([^\.]+)$/);return se&&ks[se[1]]||ee&&(se=(re=ee).match(/[\.\\]([^\.\\])+$/),se&&ks[se[1]])?ks[se[1]]:"application/octet-stream"}function fi(X){for(var ee=D0(X),re=[],se=0;se<ee.length;se+=76)re.push(ee.slice(se,se+76));return re.join(`\r
`)+`\r
`}function xs(X){var ee=X.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(De){var Me=De.charCodeAt(0).toString(16).toUpperCase();return"="+(Me.length==1?"0"+Me:Me)});ee=ee.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ee.charAt(0)==`
`&&(ee="=0D"+ee.slice(1)),ee=ee.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var re=[],se=ee.split(`\r
`),le=0;le<se.length;++le){var ue=se[le];if(ue.length==0){re.push("");continue}for(var Ie=0;Ie<ue.length;){var Ve=76,Te=ue.slice(Ie,Ie+Ve);Te.charAt(Ve-1)=="="?Ve--:Te.charAt(Ve-2)=="="?Ve-=2:Te.charAt(Ve-3)=="="&&(Ve-=3),Te=ue.slice(Ie,Ie+Ve),Ie+=Ve,Ie<ue.length&&(Te+="="),re.push(Te)}}return re.join(`\r
`)}function fr(X){for(var ee=[],re=0;re<X.length;++re){for(var se=X[re];re<=X.length&&se.charAt(se.length-1)=="=";)se=se.slice(0,se.length-1)+X[++re];ee.push(se)}for(var le=0;le<ee.length;++le)ee[le]=ee[le].replace(/[=][0-9A-Fa-f]{2}/g,function(ue){return String.fromCharCode(parseInt(ue.slice(1),16))});return Wa(ee.join(`\r
`))}function Ni(X,ee,re){for(var se="",le="",ue="",Ie,Ve=0;Ve<10;++Ve){var Te=ee[Ve];if(!Te||Te.match(/^\s*$/))break;var De=Te.match(/^(.*?):\s*([^\s].*)$/);if(De)switch(De[1].toLowerCase()){case"content-location":se=De[2].trim();break;case"content-type":ue=De[2].trim();break;case"content-transfer-encoding":le=De[2].trim();break}}switch(++Ve,le.toLowerCase()){case"base64":Ie=Wa(gl(ee.slice(Ve).join("")));break;case"quoted-printable":Ie=fr(ee.slice(Ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+le)}var Me=Cn(X,se.slice(re.length),Ie,{unsafe:!0});ue&&(Me.ctype=ue)}function La(X,ee){if(wt(X.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var re=ee&&ee.root||"",se=(kn&&Buffer.isBuffer(X)?X.toString("binary"):wt(X)).split(`\r
`),le=0,ue="";for(le=0;le<se.length;++le)if(ue=se[le],!!/^Content-Location:/i.test(ue)&&(ue=ue.slice(ue.indexOf("file")),re||(re=ue.slice(0,ue.lastIndexOf("/")+1)),ue.slice(0,re.length)!=re))for(;re.length>0&&(re=re.slice(0,re.length-1),re=re.slice(0,re.lastIndexOf("/")+1),ue.slice(0,re.length)!=re););var Ie=(se[1]||"").match(/boundary="(.*?)"/);if(!Ie)throw new Error("MAD cannot find boundary");var Ve="--"+(Ie[1]||""),Te=[],De=[],Me={FileIndex:Te,FullPaths:De};B(Me);var Xe,Je=0;for(le=0;le<se.length;++le){var it=se[le];it!==Ve&&it!==Ve+"--"||(Je++&&Ni(Me,se.slice(Xe,le),re),Xe=le)}return Me}function ln(X,ee){var re=ee||{},se=re.boundary||"SheetJS";se="------="+se;for(var le=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+se.slice(2)+'"',"","",""],ue=X.FullPaths[0],Ie=ue,Ve=X.FileIndex[0],Te=1;Te<X.FullPaths.length;++Te)if(Ie=X.FullPaths[Te].slice(ue.length),Ve=X.FileIndex[Te],!(!Ve.size||!Ve.content||Ie=="Sh33tJ5")){Ie=Ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Mt){return"_x"+Mt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Mt){return"_u"+Mt.charCodeAt(0).toString(16)+"_"});for(var De=Ve.content,Me=kn&&Buffer.isBuffer(De)?De.toString("binary"):wt(De),Xe=0,Je=Math.min(1024,Me.length),it=0,st=0;st<=Je;++st)(it=Me.charCodeAt(st))>=32&&it<128&&++Xe;var ct=Xe>=Je*4/5;le.push(se),le.push("Content-Location: "+(re.root||"file:///C:/SheetJS/")+Ie),le.push("Content-Transfer-Encoding: "+(ct?"quoted-printable":"base64")),le.push("Content-Type: "+cs(Ve,Ie)),le.push(""),le.push(ct?xs(Me):fi(Me))}return le.push(se+`--\r
`),le.join(`\r
`)}function Rr(X){var ee={};return B(ee,X),ee}function Cn(X,ee,re,se){var le=se&&se.unsafe;le||B(X);var ue=!le&&Zn.find(X,ee);if(!ue){var Ie=X.FullPaths[0];ee.slice(0,Ie.length)==Ie?Ie=ee:(Ie.slice(-1)!="/"&&(Ie+="/"),Ie=(Ie+ee).replace("//","/")),ue={name:i(ee),type:2},X.FileIndex.push(ue),X.FullPaths.push(Ie),le||Zn.utils.cfb_gc(X)}return ue.content=re,ue.size=re?re.length:0,se&&(se.CLSID&&(ue.clsid=se.CLSID),se.mt&&(ue.mt=se.mt),se.ct&&(ue.ct=se.ct)),ue}function _i(X,ee){B(X);var re=Zn.find(X,ee);if(re){for(var se=0;se<X.FileIndex.length;++se)if(X.FileIndex[se]==re)return X.FileIndex.splice(se,1),X.FullPaths.splice(se,1),!0}return!1}function Dr(X,ee,re){B(X);var se=Zn.find(X,ee);if(se){for(var le=0;le<X.FileIndex.length;++le)if(X.FileIndex[le]==se)return X.FileIndex[le].name=i(re),X.FullPaths[le]=re,!0}return!1}function Ls(X){L(X,!0)}return e.find=q,e.read=ve,e.parse=_,e.write=me,e.writeFile=xt,e.utils={cfb_new:Rr,cfb_add:Cn,cfb_del:_i,cfb_mov:Dr,cfb_gc:Ls,ReadShift:f0,CheckField:AR,prep_blob:Js,bconcat:Hi,use_zlib:ie,_deflateRaw:ur,_inflateRaw:ps,consts:Ue},e}();function zj(t){return typeof t=="string"?Sm(t):Array.isArray(t)?mj(t):t}function sd(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=Sm(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?k0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([zj(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:t,saveAs:!0});var u=document.createElement("a");if(u.download!=null)return u.download=t,u.href=o,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var g=File(t);return g.open("w"),g.encoding="binary",Array.isArray(e)&&(e=id(e)),g.write(e),g.close(),e}catch(x){if(!x.message||!x.message.match(/onstruct/))throw x}throw new Error("cannot save file "+t)}function qi(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function gC(t,e){for(var n=[],r=qi(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function Lv(t){for(var e=[],n=qi(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function Im(t){for(var e=[],n=qi(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function Gj(t){for(var e=[],n=qi(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var bg=new Date(1899,11,30,0,0,0);function Ds(t,e){var n=t.getTime(),r=bg.getTime()+(t.getTimezoneOffset()-bg.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var oR=new Date,Wj=bg.getTime()+(oR.getTimezoneOffset()-bg.getTimezoneOffset())*6e4,mC=oR.getTimezoneOffset();function lR(t){var e=new Date;return e.setTime(t*24*60*60*1e3+Wj),e.getTimezoneOffset()!==mC&&e.setTime(e.getTime()+(e.getTimezoneOffset()-mC)*6e4),e}var pC=new Date("2017-02-19T19:06:09.000Z"),cR=isNaN(pC.getFullYear())?new Date("2/19/17"):pC,qj=cR.getFullYear()==2017;function ms(t,e){var n=new Date(t);if(qj)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(cR.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function Rm(t,e){if(kn&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(o){return n[o]||o})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function Ms(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Ms(t[n]));return e}function Vr(t,e){for(var n="";n.length<e;)n+=t;return n}function sl(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,o){return n=-n,o}),!isNaN(e=Number(r)))?e/n:e}var Yj=["january","february","march","april","may","june","july","august","september","october","november","december"];function M0(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),o=e.getDate();if(isNaN(o))return n;var u=t.toLowerCase();if(u.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(u=u.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),u.length>3&&Yj.indexOf(u)==-1)return n}else if(u.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||o>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function tn(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return kn?r=yl(n):r=pj(n),Zn.utils.cfb_add(t,e,r)}Zn.utils.cfb_add(t,e,n)}else t.file(e,n)}function Pv(){return Zn.utils.cfb_new()}var ci=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Xj={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Fv=Lv(Xj),Bv=/[&<>'"]/g,Kj=/[\u0000-\u0008\u000b-\u001f]/g;function qn(t){var e=t+"";return e.replace(Bv,function(n){return Fv[n]}).replace(Kj,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function xC(t){return qn(t).replace(/ /g,"_x0020_")}var uR=/[\u0000-\u001f]/g;function Qj(t){var e=t+"";return e.replace(Bv,function(n){return Fv[n]}).replace(/\n/g,"<br/>").replace(uR,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function $j(t){var e=t+"";return e.replace(Bv,function(n){return Fv[n]}).replace(uR,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function Zj(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Jj(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function ix(t){for(var e="",n=0,r=0,i=0,o=0,u=0,g=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){u=(r&31)<<6,u|=i&63,e+=String.fromCharCode(u);continue}if(o=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63);continue}u=t.charCodeAt(n++),g=((r&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536,e+=String.fromCharCode(55296+(g>>>10&1023)),e+=String.fromCharCode(56320+(g&1023))}return e}function yC(t){var e=au(2*t.length),n,r,i=1,o=0,u=0,g;for(r=0;r<t.length;r+=i)i=1,(g=t.charCodeAt(r))<128?n=g:g<224?(n=(g&31)*64+(t.charCodeAt(r+1)&63),i=2):g<240?(n=(g&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(g&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,u=55296+(n>>>10&1023),n=56320+(n&1023)),u!==0&&(e[o++]=u&255,e[o++]=u>>>8,u=0),e[o++]=n%256,e[o++]=n>>>8;return e.slice(0,o).toString("ucs2")}function vC(t){return yl(t,"binary").toString("utf8")}var R1="foo bar baz",u0=kn&&(vC(R1)==ix(R1)&&vC||yC(R1)==ix(R1)&&yC)||ix,k0=kn?function(t){return yl(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},eH=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}}(),fR=/(^\s|\s$|\n)/;function zi(t,e){return"<"+t+(e.match(fR)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function L0(t){return qi(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function ht(t,e,n){return"<"+t+(n!=null?L0(n):"")+(e!=null?(e.match(fR)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function $x(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function tH(t,e){switch(typeof t){case"string":var n=ht("vt:lpwstr",qn(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return ht((t|0)==t?"vt:i4":"vt:r8",qn(String(t)));case"boolean":return ht("vt:bool",t?"true":"false")}if(t instanceof Date)return ht("vt:filetime",$x(t));throw new Error("Unable to serialize "+t)}var Ci={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Wf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ea={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function nH(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,o=5;o>=0;--o)i=i*256+t[e+o];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function rH(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,o=0,u=r?-e:e;isFinite(u)?u==0?i=o=0:(i=Math.floor(Math.log(u)/Math.LN2),o=u*Math.pow(2,52-i),i<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?i=-1022:(o-=Math.pow(2,52),i+=1023)):(i=2047,o=isNaN(e)?26985:0);for(var g=0;g<=5;++g,o/=256)t[n+g]=o&255;t[n+6]=(i&15)<<4|o&15,t[n+7]=i>>4|r}var _C=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,o=t[0][r].length;i<o;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},EC=kn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:yl(e)})):_C(t)}:_C,wC=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(Jh(t,i)));return r.join("").replace(c0,"")},Uv=kn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(c0,""):wC(t,e,n)}:wC,TC=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},hR=kn?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):TC(t,e,n)}:TC,AC=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(hf(t,i)));return r.join("")},ad=kn?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):AC(e,n,r)}:AC,dR=function(t,e){var n=ta(t,e);return n>0?ad(t,e+4,e+4+n-1):""},gR=dR,mR=function(t,e){var n=ta(t,e);return n>0?ad(t,e+4,e+4+n-1):""},pR=mR,xR=function(t,e){var n=2*ta(t,e);return n>0?ad(t,e+4,e+4+n-1):""},yR=xR,vR=function(e,n){var r=ta(e,n);return r>0?Uv(e,n+4,n+4+r):""},_R=vR,ER=function(t,e){var n=ta(t,e);return n>0?ad(t,e+4,e+4+n):""},wR=ER,TR=function(t,e){return nH(t,e)},Ig=TR,Vv=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};kn&&(gR=function(e,n){if(!Buffer.isBuffer(e))return dR(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},pR=function(e,n){if(!Buffer.isBuffer(e))return mR(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},yR=function(e,n){if(!Buffer.isBuffer(e))return xR(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},_R=function(e,n){if(!Buffer.isBuffer(e))return vR(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},wR=function(e,n){if(!Buffer.isBuffer(e))return ER(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},Ig=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):TR(e,n)},Vv=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var hf=function(t,e){return t[e]},Jh=function(t,e){return t[e+1]*256+t[e]},iH=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},ta=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},qc=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},sH=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function f0(t,e){var n="",r,i,o=[],u,g,x,m;switch(e){case"dbcs":if(m=this.l,kn&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(x=0;x<t;++x)n+=String.fromCharCode(Jh(this,m)),m+=2;t*=2;break;case"utf8":n=ad(this,this.l,this.l+t);break;case"utf16le":t*=2,n=Uv(this,this.l,this.l+t);break;case"wstr":return f0.call(this,t,"dbcs");case"lpstr-ansi":n=gR(this,this.l),t=4+ta(this,this.l);break;case"lpstr-cp":n=pR(this,this.l),t=4+ta(this,this.l);break;case"lpwstr":n=yR(this,this.l),t=4+2*ta(this,this.l);break;case"lpp4":t=4+ta(this,this.l),n=_R(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+ta(this,this.l),n=wR(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(u=hf(this,this.l+t++))!==0;)o.push(C1(u));n=o.join("");break;case"_wstr":for(t=0,n="";(u=Jh(this,this.l+t))!==0;)o.push(C1(u)),t+=2;t+=2,n=o.join("");break;case"dbcs-cont":for(n="",m=this.l,x=0;x<t;++x){if(this.lens&&this.lens.indexOf(m)!==-1)return u=hf(this,m),this.l=m+1,g=f0.call(this,t-x,u?"dbcs-cont":"sbcs-cont"),o.join("")+g;o.push(C1(Jh(this,m))),m+=2}n=o.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",m=this.l,x=0;x!=t;++x){if(this.lens&&this.lens.indexOf(m)!==-1)return u=hf(this,m),this.l=m+1,g=f0.call(this,t-x,u?"dbcs-cont":"sbcs-cont"),o.join("")+g;o.push(C1(hf(this,m))),m+=1}n=o.join("");break;default:switch(t){case 1:return r=hf(this,this.l),this.l++,r;case 2:return r=(e==="i"?iH:Jh)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?qc:sH)(this,this.l),this.l+=4,r):(i=ta(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Ig(this,this.l):i=Ig([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=hR(this,this.l,t);break}}return this.l+=t,n}var aH=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},oH=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},lH=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function cH(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)lH(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var o=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var u=e.charCodeAt(i);this[this.l++]=u&255,this[this.l++]=u>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,aH(this,e,this.l);break;case 8:if(r=8,n==="f"){rH(this,e,this.l);break}case 16:break;case-4:r=4,oH(this,e,this.l);break}return this.l+=r,this}function AR(t,e){var n=hR(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function Js(t,e){t.l=e,t.read_shift=f0,t.chk=AR,t.write_shift=cH}function Oo(t,e){t.l+=e}function He(t){var e=au(t);return Js(e,0),e}function Ns(){var t=[],e=kn?256:2048,n=function(m){var _=He(m);return Js(_,0),_},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},o=function(m){return r&&m<r.length-r.l?r:(i(),r=n(Math.max(m+1,e)))},u=function(){return i(),Hi(t)},g=function(m){i(),r=m,r.l==null&&(r.l=r.length),o(e)};return{next:o,push:g,end:u,_bufs:t}}function $e(t,e,n,r){var i=+e,o;if(!isNaN(i)){r||(r=nX[i].p||(n||[]).length||0),o=1+(i>=128?1:0)+1,r>=128&&++o,r>=16384&&++o,r>=2097152&&++o;var u=t.next(o);i<=127?u.write_shift(1,i):(u.write_shift(1,(i&127)+128),u.write_shift(1,i>>7));for(var g=0;g!=4;++g)if(r>=128)u.write_shift(1,(r&127)+128),r>>=7;else{u.write_shift(1,r);break}r>0&&Vv(n)&&t.push(n)}}function h0(t,e,n){var r=Ms(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function SC(t,e,n){var r=Ms(t);return r.s=h0(r.s,e.s,n),r.e=h0(r.e,e.s,n),r}function d0(t,e){if(t.cRel&&t.c<0)for(t=Ms(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Ms(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Yn(t);return!t.cRel&&t.cRel!=null&&(n=hH(n)),!t.rRel&&t.rRel!=null&&(n=uH(n)),n}function sx(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+ss(t.s.c)+":"+(t.e.cRel?"":"$")+ss(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Gi(t.s.r)+":"+(t.e.rRel?"":"$")+Gi(t.e.r):d0(t.s,e.biff)+":"+d0(t.e,e.biff)}function jv(t){return parseInt(fH(t),10)-1}function Gi(t){return""+(t+1)}function uH(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function fH(t){return t.replace(/\$(\d+)$/,"$1")}function Hv(t){for(var e=dH(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function ss(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function hH(t){return t.replace(/^([A-Z])/,"$$$1")}function dH(t){return t.replace(/^\$([A-Z])/,"$1")}function gH(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function bi(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function Yn(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function ca(t){var e=t.indexOf(":");return e==-1?{s:bi(t),e:bi(t)}:{s:bi(t.slice(0,e)),e:bi(t.slice(e+1))}}function li(t,e){return typeof e>"u"||typeof e=="number"?li(t.s,t.e):(typeof t!="string"&&(t=Yn(t)),typeof e!="string"&&(e=Yn(e)),t==e?t:t+":"+e)}function yr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,o=t.length;for(n=0;r<o&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<o&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===o||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=o&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=o&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function CC(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=vc(t.z,n?Ds(e):e)}catch{}try{return t.w=vc((t.XF||{}).numFmtId||(n?14:0),n?Ds(e):e)}catch{return""+e}}function ml(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?od[t.v]||t.v:e==null?CC(t,t.v):CC(t,e))}function du(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function SR(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,o=t||(i?[]:{}),u=0,g=0;if(o&&r.origin!=null){if(typeof r.origin=="number")u=r.origin;else{var x=typeof r.origin=="string"?bi(r.origin):r.origin;u=x.r,g=x.c}o["!ref"]||(o["!ref"]="A1:A1")}var m={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var _=yr(o["!ref"]);m.s.c=_.s.c,m.s.r=_.s.r,m.e.c=Math.max(m.e.c,_.e.c),m.e.r=Math.max(m.e.r,_.e.r),u==-1&&(m.e.r=u=_.e.r+1)}for(var A=0;A!=e.length;++A)if(e[A]){if(!Array.isArray(e[A]))throw new Error("aoa_to_sheet expects an array of arrays");for(var C=0;C!=e[A].length;++C)if(!(typeof e[A][C]>"u")){var R={v:e[A][C]},O=u+A,I=g+C;if(m.s.r>O&&(m.s.r=O),m.s.c>I&&(m.s.c=I),m.e.r<O&&(m.e.r=O),m.e.c<I&&(m.e.c=I),e[A][C]&&typeof e[A][C]=="object"&&!Array.isArray(e[A][C])&&!(e[A][C]instanceof Date))R=e[A][C];else if(Array.isArray(R.v)&&(R.f=e[A][C][1],R.v=R.v[0]),R.v===null)if(R.f)R.t="n";else if(r.nullError)R.t="e",R.v=0;else if(r.sheetStubs)R.t="z";else continue;else typeof R.v=="number"?R.t="n":typeof R.v=="boolean"?R.t="b":R.v instanceof Date?(R.z=r.dateNF||Hr[14],r.cellDates?(R.t="d",R.w=vc(R.z,Ds(R.v))):(R.t="n",R.v=Ds(R.v),R.w=vc(R.z,R.v))):R.t="s";if(i)o[O]||(o[O]=[]),o[O][I]&&o[O][I].z&&(R.z=o[O][I].z),o[O][I]=R;else{var k=Yn({c:I,r:O});o[k]&&o[k].z&&(R.z=o[k].z),o[k]=R}}}return m.s.c<1e7&&(o["!ref"]=li(m)),o}function qf(t,e){return SR(null,t,e)}function mH(t){return t.read_shift(4,"i")}function Xa(t,e){return e||(e=He(4)),e.write_shift(4,t),e}function as(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Ii(t,e){var n=!1;return e==null&&(n=!0,e=He(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function pH(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function xH(t,e){return e||(e=He(4)),e.write_shift(2,0),e.write_shift(2,0),e}function zv(t,e){var n=t.l,r=t.read_shift(1),i=as(t),o=[],u={t:i,h:i};if((r&1)!==0){for(var g=t.read_shift(4),x=0;x!=g;++x)o.push(pH(t));u.r=o}else u.r=[{ich:0,ifnt:0}];return t.l=n+e,u}function yH(t,e){var n=!1;return e==null&&(n=!0,e=He(15+4*t.t.length)),e.write_shift(1,0),Ii(t.t,e),n?e.slice(0,e.l):e}var vH=zv;function _H(t,e){var n=!1;return e==null&&(n=!0,e=He(23+4*t.t.length)),e.write_shift(1,1),Ii(t.t,e),e.write_shift(4,1),xH({},e),n?e.slice(0,e.l):e}function Ma(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function gu(t,e){return e==null&&(e=He(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function mu(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function pu(t,e){return e==null&&(e=He(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var EH=as,CR=Ii;function Gv(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Rg(t,e){var n=!1;return e==null&&(n=!0,e=He(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var wH=as,Zx=Gv,Wv=Rg;function bR(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?Ig([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):qc(e,0)>>2;return n?i/100:i}function IR(t,e){e==null&&(e=He(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function RR(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function TH(t,e){return e||(e=He(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var xu=RR,Yf=TH;function Xf(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function ou(t,e){return(e||He(8)).write_shift(8,t,"f")}function AH(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),o=t.read_shift(2,"i"),u=t.read_shift(1),g=t.read_shift(1),x=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var m=MH[i];m&&(e.rgb=FC(m));break;case 2:e.rgb=FC([u,g,x]);break;case 3:e.theme=i;break}return o!=0&&(e.tint=o>0?o/32767:o/32768),e}function Ng(t,e){if(e||(e=He(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function SH(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function CH(t,e){e||(e=He(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var NR=2,Zs=3,N1=11,Og=19,O1=64,bH=65,IH=71,RH=4108,NH=4126,Bi=80,bC={1:{n:"CodePage",t:NR},2:{n:"Category",t:Bi},3:{n:"PresentationFormat",t:Bi},4:{n:"ByteCount",t:Zs},5:{n:"LineCount",t:Zs},6:{n:"ParagraphCount",t:Zs},7:{n:"SlideCount",t:Zs},8:{n:"NoteCount",t:Zs},9:{n:"HiddenCount",t:Zs},10:{n:"MultimediaClipCount",t:Zs},11:{n:"ScaleCrop",t:N1},12:{n:"HeadingPairs",t:RH},13:{n:"TitlesOfParts",t:NH},14:{n:"Manager",t:Bi},15:{n:"Company",t:Bi},16:{n:"LinksUpToDate",t:N1},17:{n:"CharacterCount",t:Zs},19:{n:"SharedDoc",t:N1},22:{n:"HyperlinksChanged",t:N1},23:{n:"AppVersion",t:Zs,p:"version"},24:{n:"DigSig",t:bH},26:{n:"ContentType",t:Bi},27:{n:"ContentStatus",t:Bi},28:{n:"Language",t:Bi},29:{n:"Version",t:Bi},255:{},2147483648:{n:"Locale",t:Og},2147483651:{n:"Behavior",t:Og},1919054434:{}},IC={1:{n:"CodePage",t:NR},2:{n:"Title",t:Bi},3:{n:"Subject",t:Bi},4:{n:"Author",t:Bi},5:{n:"Keywords",t:Bi},6:{n:"Comments",t:Bi},7:{n:"Template",t:Bi},8:{n:"LastAuthor",t:Bi},9:{n:"RevNumber",t:Bi},10:{n:"EditTime",t:O1},11:{n:"LastPrinted",t:O1},12:{n:"CreatedDate",t:O1},13:{n:"ModifiedDate",t:O1},14:{n:"PageCount",t:Zs},15:{n:"WordCount",t:Zs},16:{n:"CharCount",t:Zs},17:{n:"Thumbnail",t:IH},18:{n:"Application",t:Bi},19:{n:"DocSecurity",t:Zs},255:{},2147483648:{n:"Locale",t:Og},2147483651:{n:"Behavior",t:Og},1919054434:{}};function OH(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var DH=OH([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),MH=Ms(DH),od={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},kH={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},D1={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function OR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function DR(t,e){var n=Gj(kH),r=[],i;r[r.length]=ci,r[r.length]=ht("Types",null,{xmlns:Ci.CT,"xmlns:xsd":Ci.xsd,"xmlns:xsi":Ci.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(x){return ht("Default",null,{Extension:x[0],ContentType:x[1]})}));var o=function(x){t[x]&&t[x].length>0&&(i=t[x][0],r[r.length]=ht("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:D1[x][e.bookType]||D1[x].xlsx}))},u=function(x){(t[x]||[]).forEach(function(m){r[r.length]=ht("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:D1[x][e.bookType]||D1[x].xlsx})})},g=function(x){(t[x]||[]).forEach(function(m){r[r.length]=ht("Override",null,{PartName:(m[0]=="/"?"":"/")+m,ContentType:n[x][0]})})};return o("workbooks"),u("sheets"),u("charts"),g("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(g),g("vba"),g("comments"),g("threadedcomments"),g("drawings"),u("metadata"),g("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Nn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function MR(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Af(t){var e=[ci,ht("Relationships",null,{xmlns:Ci.RELS})];return qi(t["!id"]).forEach(function(n){e[e.length]=ht("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Wn(t,e,n,r,i,o){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[Nn.HLINK,Nn.XPATH,Nn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function LH(t){var e=[ci];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function RC(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function PH(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function FH(t){var e=[ci];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(RC(t[n][0],t[n][1])),e.push(PH("",t[n][0]));return e.push(RC("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function kR(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+wg.version+"</meta:generator></office:meta></office:document-meta>"}var $c=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function ax(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=qn(e),r[r.length]=n?ht(t,e,n):zi(t,e))}function LR(t,e){var n=e||{},r=[ci,ht("cp:coreProperties",null,{"xmlns:cp":Ci.CORE_PROPS,"xmlns:dc":Ci.dc,"xmlns:dcterms":Ci.dcterms,"xmlns:dcmitype":Ci.dcmitype,"xmlns:xsi":Ci.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&ax("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:$x(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&ax("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:$x(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var o=0;o!=$c.length;++o){var u=$c[o],g=n.Props&&n.Props[u[1]]!=null?n.Props[u[1]]:t?t[u[1]]:null;g===!0?g="1":g===!1?g="0":typeof g=="number"&&(g=String(g)),g!=null&&ax(u[0],g,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Sf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],PR=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function FR(t){var e=[],n=ht;return t||(t={}),t.Application="SheetJS",e[e.length]=ci,e[e.length]=ht("Properties",null,{xmlns:Ci.EXT_PROPS,"xmlns:vt":Ci.vt}),Sf.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=qn(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+qn(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function BR(t){var e=[ci,ht("Properties",null,{xmlns:Ci.CUST_PROPS,"xmlns:vt":Ci.vt})];if(!t)return e.join("");var n=1;return qi(t).forEach(function(i){++n,e[e.length]=ht("property",tH(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:qn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var NC={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function BH(t,e){var n=[];return qi(NC).map(function(r){for(var i=0;i<$c.length;++i)if($c[i][1]==r)return $c[i];for(i=0;i<Sf.length;++i)if(Sf[i][1]==r)return Sf[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(zi(NC[r[1]]||r[1],i))}}),ht("DocumentProperties",n.join(""),{xmlns:ea.o})}function UH(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&qi(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)){for(var u=0;u<$c.length;++u)if(o==$c[u][1])return;for(u=0;u<Sf.length;++u)if(o==Sf[u][1])return;for(u=0;u<n.length;++u)if(o==n[u])return;var g=t[o],x="string";typeof g=="number"?(x="float",g=String(g)):g===!0||g===!1?(x="boolean",g=g?"1":"0"):g=String(g),i.push(ht(xC(o),g,{"dt:dt":x}))}}),e&&qi(e).forEach(function(o){if(Object.prototype.hasOwnProperty.call(e,o)&&!(t&&Object.prototype.hasOwnProperty.call(t,o))){var u=e[o],g="string";typeof u=="number"?(g="float",u=String(u)):u===!0||u===!1?(g="boolean",u=u?"1":"0"):u instanceof Date?(g="dateTime.tz",u=u.toISOString()):u=String(u),i.push(ht(xC(o),u,{"dt:dt":g}))}}),"<"+r+' xmlns="'+ea.o+'">'+i.join("")+"</"+r+">"}function VH(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var o=r/Math.pow(2,32)|0;o>0&&(r=r%Math.pow(2,32),i+=o);var u=He(8);return u.write_shift(4,r),u.write_shift(4,i),u}function OC(t,e){var n=He(4),r=He(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=He(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=VH(e);break;case 31:case 80:for(r=He(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Hi([n,r])}var UR=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function jH(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function DC(t,e,n){var r=He(8),i=[],o=[],u=8,g=0,x=He(8),m=He(8);if(x.write_shift(4,2),x.write_shift(4,1200),m.write_shift(4,1),o.push(x),i.push(m),u+=8+x.length,!e){m=He(8),m.write_shift(4,0),i.unshift(m);var _=[He(4)];for(_[0].write_shift(4,t.length),g=0;g<t.length;++g){var A=t[g][0];for(x=He(8+2*(A.length+1)+(A.length%2?0:2)),x.write_shift(4,g+2),x.write_shift(4,A.length+1),x.write_shift(0,A,"dbcs");x.l!=x.length;)x.write_shift(1,0);_.push(x)}x=Hi(_),o.unshift(x),u+=8+x.length}for(g=0;g<t.length;++g)if(!(e&&!e[t[g][0]])&&!(UR.indexOf(t[g][0])>-1||PR.indexOf(t[g][0])>-1)&&t[g][1]!=null){var C=t[g][1],R=0;if(e){R=+e[t[g][0]];var O=n[R];if(O.p=="version"&&typeof C=="string"){var I=C.split(".");C=(+I[0]<<16)+(+I[1]||0)}x=OC(O.t,C)}else{var k=jH(C);k==-1&&(k=31,C=String(C)),x=OC(k,C)}o.push(x),m=He(8),m.write_shift(4,e?R:2+g),i.push(m),u+=8+x.length}var H=8*(o.length+1);for(g=0;g<o.length;++g)i[g].write_shift(4,H),H+=o[g].length;return r.write_shift(4,u),r.write_shift(4,o.length),Hi([r].concat(i).concat(o))}function MC(t,e,n,r,i,o){var u=He(i?68:48),g=[u];u.write_shift(2,65534),u.write_shift(2,0),u.write_shift(4,842412599),u.write_shift(16,Zn.utils.consts.HEADER_CLSID,"hex"),u.write_shift(4,i?2:1),u.write_shift(16,e,"hex"),u.write_shift(4,i?68:48);var x=DC(t,n,r);if(g.push(x),i){var m=DC(i,null,null);u.write_shift(16,o,"hex"),u.write_shift(4,68+x.length),g.push(m)}return Hi(g)}function HH(t,e){e||(e=He(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function zH(t,e){return t.read_shift(e)===1}function gs(t,e){return e||(e=He(2)),e.write_shift(2,+!!t),e}function VR(t){return t.read_shift(2,"u")}function Ca(t,e){return e||(e=He(2)),e.write_shift(2,t),e}function jR(t,e,n){return n||(n=He(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function HR(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var o=t.read_shift(1);o&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var u=r?t.read_shift(r,i):"";return u}function GH(t){var e=t.t||"",n=He(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=He(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return Hi(i)}function WH(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function qH(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):WH(t,r,n)}function YH(t,e,n){if(n.biff>5)return qH(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function zR(t,e,n){return n||(n=He(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function kC(t,e){e||(e=He(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function XH(t){var e=He(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),o=i>-1?31:23;switch(r.charAt(0)){case"#":o=28;break;case".":o&=-3;break}e.write_shift(4,2),e.write_shift(4,o);var u=[8,6815827,6619237,4849780,83];for(n=0;n<u.length;++n)e.write_shift(4,u[n]);if(o==28)r=r.slice(1),kC(r,e);else if(o&2){for(u="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<u.length;++n)e.write_shift(1,parseInt(u[n],16));var g=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(g.length+1)),n=0;n<g.length;++n)e.write_shift(2,g.charCodeAt(n));e.write_shift(2,0),o&8&&kC(i>-1?r.slice(i+1):"",e)}else{for(u="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<u.length;++n)e.write_shift(1,parseInt(u[n],16));for(var x=0;r.slice(x*3,x*3+3)=="../"||r.slice(x*3,x*3+3)=="..\\";)++x;for(e.write_shift(2,x),e.write_shift(4,r.length-3*x+1),n=0;n<r.length-3*x;++n)e.write_shift(1,r.charCodeAt(n+3*x)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function lu(t,e,n,r){return r||(r=He(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function KH(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),o=t.read_shift(r,"i"),u=t.read_shift(r,"i");return[i,o,u]}function QH(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function GR(t,e){return e||(e=He(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function qv(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=He(i);return o.write_shift(2,r),o.write_shift(2,e),i>4&&o.write_shift(2,29282),i>6&&o.write_shift(2,1997),i>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function $H(t,e){var n=!e||e.biff==8,r=He(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function ZH(t,e){var n=!e||e.biff>=8?2:1,r=He(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function JH(t,e){var n=He(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=GH(t[i]);var o=Hi([n].concat(r));return o.parts=[n.length].concat(r.map(function(u){return u.length})),o}function ez(){var t=He(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function tz(t){var e=He(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function nz(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,o=He(i);return o.write_shift(2,t.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,n.length),r||o.write_shift(1,1),o.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),o}function rz(t,e,n,r){var i=He(10);return lu(t,e,r,i),i.write_shift(4,n),i}function iz(t,e,n,r,i){var o=!i||i.biff==8,u=He(8+ +o+(1+o)*n.length);return lu(t,e,r,u),u.write_shift(2,n.length),o&&u.write_shift(1,1),u.write_shift((1+o)*n.length,n,o?"utf16le":"sbcs"),u}function sz(t,e,n,r){var i=n&&n.biff==5;r||(r=He(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var o=r.length>r.l?r.slice(0,r.l):r;return o.l==null&&(o.l=o.length),o}function az(t,e){var n=e.biff==8||!e.biff?4:2,r=He(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function LC(t,e,n,r){var i=n&&n.biff==5;r||(r=He(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var o=0;return t.numFmtId>0&&i&&(o|=1024),r.write_shift(4,o),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function oz(t){var e=He(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function lz(t,e,n,r,i,o){var u=He(8);return lu(t,e,r,u),jR(n,o,u),u}function cz(t,e,n,r){var i=He(14);return lu(t,e,r,i),ou(n,i),i}function uz(t,e,n){if(n.biff<8)return fz(t,e,n);for(var r=[],i=t.l+e,o=t.read_shift(n.biff>8?4:2);o--!==0;)r.push(KH(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function fz(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=HR(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function hz(t){var e=He(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)GR(t[n],e);return e}function dz(t){var e=He(24),n=bi(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Hi([e,XH(t[1])])}function gz(t){var e=t[1].Tooltip,n=He(10+2*(e.length+1));n.write_shift(2,2048);var r=bi(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function mz(t){return t||(t=He(4)),t.write_shift(2,1),t.write_shift(2,1),t}function pz(t,e,n){if(!n.cellStyles)return Oo(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),o=t.read_shift(r),u=t.read_shift(r),g=t.read_shift(r),x=t.read_shift(2);r==2&&(t.l+=2);var m={s:i,e:o,w:u,ixfe:g,flags:x};return(n.biff>=5||!n.biff)&&(m.level=x>>8&7),m}function xz(t,e){var n=He(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function yz(t){for(var e=He(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function vz(t,e,n){var r=He(15);return cd(r,t,e),r.write_shift(8,n,"f"),r}function _z(t,e,n){var r=He(9);return cd(r,t,e),r.write_shift(2,n),r}var Ez=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Lv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(g,x){var m=[],_=au(1);switch(x.type){case"base64":_=Wa(gl(g));break;case"binary":_=Wa(g);break;case"buffer":case"array":_=g;break}Js(_,0);var A=_.read_shift(1),C=!!(A&136),R=!1,O=!1;switch(A){case 2:break;case 3:break;case 48:R=!0,C=!0;break;case 49:R=!0,C=!0;break;case 131:break;case 139:break;case 140:O=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+A.toString(16))}var I=0,k=521;A==2&&(I=_.read_shift(2)),_.l+=3,A!=2&&(I=_.read_shift(4)),I>1048576&&(I=1e6),A!=2&&(k=_.read_shift(2));var H=_.read_shift(2),Y=x.codepage||1252;A!=2&&(_.l+=16,_.read_shift(1),_[_.l]!==0&&(Y=t[_[_.l]]),_.l+=1,_.l+=2),O&&(_.l+=36);for(var W=[],te={},oe=Math.min(_.length,A==2?521:k-10-(R?264:0)),ve=O?32:11;_.l<oe&&_[_.l]!=13;)switch(te={},te.name=Tg.utils.decode(Y,_.slice(_.l,_.l+ve)).replace(/[\u0000\r\n].*$/g,""),_.l+=ve,te.type=String.fromCharCode(_.read_shift(1)),A!=2&&!O&&(te.offset=_.read_shift(4)),te.len=_.read_shift(1),A==2&&(te.offset=_.read_shift(2)),te.dec=_.read_shift(1),te.name.length&&W.push(te),A!=2&&(_.l+=O?13:14),te.type){case"B":(!R||te.len!=8)&&x.WTF&&console.log("Skipping "+te.name+":"+te.type);break;case"G":case"P":x.WTF&&console.log("Skipping "+te.name+":"+te.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+te.type)}if(_[_.l]!==13&&(_.l=k-1),_.read_shift(1)!==13)throw new Error("DBF Terminator not found "+_.l+" "+_[_.l]);_.l=k;var B=0,V=0;for(m[0]=[],V=0;V!=W.length;++V)m[0][V]=W[V].name;for(;I-- >0;){if(_[_.l]===42){_.l+=H;continue}for(++_.l,m[++B]=[],V=0,V=0;V!=W.length;++V){var L=_.slice(_.l,_.l+W[V].len);_.l+=W[V].len,Js(L,0);var M=Tg.utils.decode(Y,L);switch(W[V].type){case"C":M.trim().length&&(m[B][V]=M.replace(/\s+$/,""));break;case"D":M.length===8?m[B][V]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):m[B][V]=M;break;case"F":m[B][V]=parseFloat(M.trim());break;case"+":case"I":m[B][V]=O?L.read_shift(-4,"i")^2147483648:L.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":m[B][V]=!0;break;case"N":case"F":m[B][V]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!C)throw new Error("DBF Unexpected MEMO for type "+A.toString(16));m[B][V]="##MEMO##"+(O?parseInt(M.trim(),10):L.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(m[B][V]=+M||0);break;case"@":m[B][V]=new Date(L.read_shift(-8,"f")-621356832e5);break;case"T":m[B][V]=new Date((L.read_shift(4)-2440588)*864e5+L.read_shift(4));break;case"Y":m[B][V]=L.read_shift(4,"i")/1e4+L.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":m[B][V]=-L.read_shift(-8,"f");break;case"B":if(R&&W[V].len==8){m[B][V]=L.read_shift(8,"f");break}case"G":case"P":L.l+=W[V].len;break;case"0":if(W[V].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+W[V].type)}}}if(A!=2&&_.l<_.length&&_[_.l++]!=26)throw new Error("DBF EOF Marker missing "+(_.l-1)+" of "+_.length+" "+_[_.l-1].toString(16));return x&&x.sheetRows&&(m=m.slice(0,x.sheetRows)),x.DBF=W,m}function r(g,x){var m=x||{};m.dateNF||(m.dateNF="yyyymmdd");var _=qf(n(g,m),m);return _["!cols"]=m.DBF.map(function(A){return{wch:A.len,DBF:A}}),delete m.DBF,_}function i(g,x){try{return du(r(g,x),x)}catch(m){if(x&&x.WTF)throw m}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function u(g,x){var m=x||{};if(+m.codepage>=0&&O0(+m.codepage),m.type=="string")throw new Error("Cannot write DBF to JS string");var _=Ns(),A=Pg(g,{header:1,raw:!0,cellDates:!0}),C=A[0],R=A.slice(1),O=g["!cols"]||[],I=0,k=0,H=0,Y=1;for(I=0;I<C.length;++I){if(((O[I]||{}).DBF||{}).name){C[I]=O[I].DBF.name,++H;continue}if(C[I]!=null){if(++H,typeof C[I]=="number"&&(C[I]=C[I].toString(10)),typeof C[I]!="string")throw new Error("DBF Invalid column name "+C[I]+" |"+typeof C[I]+"|");if(C.indexOf(C[I])!==I){for(k=0;k<1024;++k)if(C.indexOf(C[I]+"_"+k)==-1){C[I]+="_"+k;break}}}}var W=yr(g["!ref"]),te=[],oe=[],ve=[];for(I=0;I<=W.e.c-W.s.c;++I){var B="",V="",L=0,M=[];for(k=0;k<R.length;++k)R[k][I]!=null&&M.push(R[k][I]);if(M.length==0||C[I]==null){te[I]="?";continue}for(k=0;k<M.length;++k){switch(typeof M[k]){case"number":V="B";break;case"string":V="C";break;case"boolean":V="L";break;case"object":V=M[k]instanceof Date?"D":"C";break;default:V="C"}L=Math.max(L,String(M[k]).length),B=B&&B!=V?"C":V}L>250&&(L=250),V=((O[I]||{}).DBF||{}).type,V=="C"&&O[I].DBF.len>L&&(L=O[I].DBF.len),B=="B"&&V=="N"&&(B="N",ve[I]=O[I].DBF.dec,L=O[I].DBF.len),oe[I]=B=="C"||V=="N"?L:o[B]||0,Y+=oe[I],te[I]=B}var q=_.next(32);for(q.write_shift(4,318902576),q.write_shift(4,R.length),q.write_shift(2,296+32*H),q.write_shift(2,Y),I=0;I<4;++I)q.write_shift(4,0);for(q.write_shift(4,0|(+e[qI]||3)<<8),I=0,k=0;I<C.length;++I)if(C[I]!=null){var Q=_.next(32),Z=(C[I].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Q.write_shift(1,Z,"sbcs"),Q.write_shift(1,te[I]=="?"?"C":te[I],"sbcs"),Q.write_shift(4,k),Q.write_shift(1,oe[I]||o[te[I]]||0),Q.write_shift(1,ve[I]||0),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(1,0),Q.write_shift(4,0),Q.write_shift(4,0),k+=oe[I]||o[te[I]]||0}var pt=_.next(264);for(pt.write_shift(4,13),I=0;I<65;++I)pt.write_shift(4,0);for(I=0;I<R.length;++I){var Ee=_.next(Y);for(Ee.write_shift(1,0),k=0;k<C.length;++k)if(C[k]!=null)switch(te[k]){case"L":Ee.write_shift(1,R[I][k]==null?63:R[I][k]?84:70);break;case"B":Ee.write_shift(8,R[I][k]||0,"f");break;case"N":var be="0";for(typeof R[I][k]=="number"&&(be=R[I][k].toFixed(ve[k]||0)),H=0;H<oe[k]-be.length;++H)Ee.write_shift(1,32);Ee.write_shift(1,be,"sbcs");break;case"D":R[I][k]?(Ee.write_shift(4,("0000"+R[I][k].getFullYear()).slice(-4),"sbcs"),Ee.write_shift(2,("00"+(R[I][k].getMonth()+1)).slice(-2),"sbcs"),Ee.write_shift(2,("00"+R[I][k].getDate()).slice(-2),"sbcs")):Ee.write_shift(8,"00000000","sbcs");break;case"C":var Ue=String(R[I][k]!=null?R[I][k]:"").slice(0,oe[k]);for(Ee.write_shift(1,Ue,"sbcs"),H=0;H<oe[k]-Ue.length;++H)Ee.write_shift(1,32);break}}return _.next(1).write_shift(1,26),_.end()}return{to_workbook:i,to_sheet:r,from_sheet:u}}(),wz=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+qi(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(C,R){var O=t[R];return typeof O=="number"?sC(O):O},r=function(C,R,O){var I=R.charCodeAt(0)-32<<4|O.charCodeAt(0)-48;return I==59?C:sC(I)};t["|"]=254;function i(C,R){switch(R.type){case"base64":return o(gl(C),R);case"binary":return o(C,R);case"buffer":return o(kn&&Buffer.isBuffer(C)?C.toString("binary"):id(C),R);case"array":return o(Rm(C),R)}throw new Error("Unrecognized type "+R.type)}function o(C,R){var O=C.split(/[\n\r]+/),I=-1,k=-1,H=0,Y=0,W=[],te=[],oe=null,ve={},B=[],V=[],L=[],M=0,q;for(+R.codepage>=0&&O0(+R.codepage);H!==O.length;++H){M=0;var Q=O[H].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),Z=Q.replace(/;;/g,"\0").split(";").map(function(pe){return pe.replace(/\u0000/g,";")}),pt=Z[0],Ee;if(Q.length>0)switch(pt){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Z[1].charAt(0)=="P"&&te.push(Q.slice(3).replace(/;;/g,";"));break;case"C":var be=!1,Ue=!1,xt=!1,wt=!1,me=-1,Ge=-1;for(Y=1;Y<Z.length;++Y)switch(Z[Y].charAt(0)){case"A":break;case"X":k=parseInt(Z[Y].slice(1))-1,Ue=!0;break;case"Y":for(I=parseInt(Z[Y].slice(1))-1,Ue||(k=0),q=W.length;q<=I;++q)W[q]=[];break;case"K":Ee=Z[Y].slice(1),Ee.charAt(0)==='"'?Ee=Ee.slice(1,Ee.length-1):Ee==="TRUE"?Ee=!0:Ee==="FALSE"?Ee=!1:isNaN(sl(Ee))?isNaN(M0(Ee).getDate())||(Ee=ms(Ee)):(Ee=sl(Ee),oe!==null&&iR(oe)&&(Ee=lR(Ee))),be=!0;break;case"E":wt=!0;var ie=_G(Z[Y].slice(1),{r:I,c:k});W[I][k]=[W[I][k],ie];break;case"S":xt=!0,W[I][k]=[W[I][k],"S5S"];break;case"G":break;case"R":me=parseInt(Z[Y].slice(1))-1;break;case"C":Ge=parseInt(Z[Y].slice(1))-1;break;default:if(R&&R.WTF)throw new Error("SYLK bad record "+Q)}if(be&&(W[I][k]&&W[I][k].length==2?W[I][k][0]=Ee:W[I][k]=Ee,oe=null),xt){if(wt)throw new Error("SYLK shared formula cannot have own formula");var fe=me>-1&&W[me][Ge];if(!fe||!fe[1])throw new Error("SYLK shared formula cannot find base");W[I][k][1]=EG(fe[1],{r:I-me,c:k-Ge})}break;case"F":var he=0;for(Y=1;Y<Z.length;++Y)switch(Z[Y].charAt(0)){case"X":k=parseInt(Z[Y].slice(1))-1,++he;break;case"Y":for(I=parseInt(Z[Y].slice(1))-1,q=W.length;q<=I;++q)W[q]=[];break;case"M":M=parseInt(Z[Y].slice(1))/20;break;case"F":break;case"G":break;case"P":oe=te[parseInt(Z[Y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(L=Z[Y].slice(1).split(" "),q=parseInt(L[0],10);q<=parseInt(L[1],10);++q)M=parseInt(L[2],10),V[q-1]=M===0?{hidden:!0}:{wch:M},Yv(V[q-1]);break;case"C":k=parseInt(Z[Y].slice(1))-1,V[k]||(V[k]={});break;case"R":I=parseInt(Z[Y].slice(1))-1,B[I]||(B[I]={}),M>0?(B[I].hpt=M,B[I].hpx=KR(M)):M===0&&(B[I].hidden=!0);break;default:if(R&&R.WTF)throw new Error("SYLK bad record "+Q)}he<1&&(oe=null);break;default:if(R&&R.WTF)throw new Error("SYLK bad record "+Q)}}return B.length>0&&(ve["!rows"]=B),V.length>0&&(ve["!cols"]=V),R&&R.sheetRows&&(W=W.slice(0,R.sheetRows)),[W,ve]}function u(C,R){var O=i(C,R),I=O[0],k=O[1],H=qf(I,R);return qi(k).forEach(function(Y){H[Y]=k[Y]}),H}function g(C,R){return du(u(C,R),R)}function x(C,R,O,I){var k="C;Y"+(O+1)+";X"+(I+1)+";K";switch(C.t){case"n":k+=C.v||0,C.f&&!C.F&&(k+=";E"+Kv(C.f,{r:O,c:I}));break;case"b":k+=C.v?"TRUE":"FALSE";break;case"e":k+=C.w||C.v;break;case"d":k+='"'+(C.w||C.v)+'"';break;case"s":k+='"'+C.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return k}function m(C,R){R.forEach(function(O,I){var k="F;W"+(I+1)+" "+(I+1)+" ";O.hidden?k+="0":(typeof O.width=="number"&&!O.wpx&&(O.wpx=Dg(O.width)),typeof O.wpx=="number"&&!O.wch&&(O.wch=Mg(O.wpx)),typeof O.wch=="number"&&(k+=Math.round(O.wch))),k.charAt(k.length-1)!=" "&&C.push(k)})}function _(C,R){R.forEach(function(O,I){var k="F;";O.hidden?k+="M0;":O.hpt?k+="M"+20*O.hpt+";":O.hpx&&(k+="M"+20*kg(O.hpx)+";"),k.length>2&&C.push(k+"R"+(I+1))})}function A(C,R){var O=["ID;PWXL;N;E"],I=[],k=yr(C["!ref"]),H,Y=Array.isArray(C),W=`\r
`;O.push("P;PGeneral"),O.push("F;P0;DG0G8;M255"),C["!cols"]&&m(O,C["!cols"]),C["!rows"]&&_(O,C["!rows"]),O.push("B;Y"+(k.e.r-k.s.r+1)+";X"+(k.e.c-k.s.c+1)+";D"+[k.s.c,k.s.r,k.e.c,k.e.r].join(" "));for(var te=k.s.r;te<=k.e.r;++te)for(var oe=k.s.c;oe<=k.e.c;++oe){var ve=Yn({r:te,c:oe});H=Y?(C[te]||[])[oe]:C[ve],!(!H||H.v==null&&(!H.f||H.F))&&I.push(x(H,C,te,oe))}return O.join(W)+W+I.join(W)+W+"E"+W}return{to_workbook:g,to_sheet:u,from_sheet:A}}(),Tz=function(){function t(o,u){switch(u.type){case"base64":return e(gl(o),u);case"binary":return e(o,u);case"buffer":return e(kn&&Buffer.isBuffer(o)?o.toString("binary"):id(o),u);case"array":return e(Rm(o),u)}throw new Error("Unrecognized type "+u.type)}function e(o,u){for(var g=o.split(`
`),x=-1,m=-1,_=0,A=[];_!==g.length;++_){if(g[_].trim()==="BOT"){A[++x]=[],m=0;continue}if(!(x<0)){var C=g[_].trim().split(","),R=C[0],O=C[1];++_;for(var I=g[_]||"";(I.match(/["]/g)||[]).length&1&&_<g.length-1;)I+=`
`+g[++_];switch(I=I.trim(),+R){case-1:if(I==="BOT"){A[++x]=[],m=0;continue}else if(I!=="EOD")throw new Error("Unrecognized DIF special command "+I);break;case 0:I==="TRUE"?A[x][m]=!0:I==="FALSE"?A[x][m]=!1:isNaN(sl(O))?isNaN(M0(O).getDate())?A[x][m]=O:A[x][m]=ms(O):A[x][m]=sl(O),++m;break;case 1:I=I.slice(1,I.length-1),I=I.replace(/""/g,'"'),I&&I.match(/^=".*"$/)&&(I=I.slice(2,-1)),A[x][m++]=I!==""?I:null;break}if(I==="EOD")break}}return u&&u.sheetRows&&(A=A.slice(0,u.sheetRows)),A}function n(o,u){return qf(t(o,u),u)}function r(o,u){return du(n(o,u),u)}var i=function(){var o=function(x,m,_,A,C){x.push(m),x.push(_+","+A),x.push('"'+C.replace(/"/g,'""')+'"')},u=function(x,m,_,A){x.push(m+","+_),x.push(m==1?'"'+A.replace(/"/g,'""')+'"':A)};return function(x){var m=[],_=yr(x["!ref"]),A,C=Array.isArray(x);o(m,"TABLE",0,1,"sheetjs"),o(m,"VECTORS",0,_.e.r-_.s.r+1,""),o(m,"TUPLES",0,_.e.c-_.s.c+1,""),o(m,"DATA",0,0,"");for(var R=_.s.r;R<=_.e.r;++R){u(m,-1,0,"BOT");for(var O=_.s.c;O<=_.e.c;++O){var I=Yn({r:R,c:O});if(A=C?(x[R]||[])[O]:x[I],!A){u(m,1,0,"");continue}switch(A.t){case"n":var k=A.w;!k&&A.v!=null&&(k=A.v),k==null?A.f&&!A.F?u(m,1,0,"="+A.f):u(m,1,0,""):u(m,0,k,"V");break;case"b":u(m,0,A.v?1:0,A.v?"TRUE":"FALSE");break;case"s":u(m,1,0,isNaN(A.v)?A.v:'="'+A.v+'"');break;case"d":A.w||(A.w=vc(A.z||Hr[14],Ds(ms(A.v)))),u(m,0,A.w,"V");break;default:u(m,1,0,"")}}}u(m,-1,0,"EOD");var H=`\r
`,Y=m.join(H);return Y}}();return{to_workbook:r,to_sheet:n,from_sheet:i}}(),WR=function(){function t(A){return A.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(A){return A.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(A,C){for(var R=A.split(`
`),O=-1,I=-1,k=0,H=[];k!==R.length;++k){var Y=R[k].trim().split(":");if(Y[0]==="cell"){var W=bi(Y[1]);if(H.length<=W.r)for(O=H.length;O<=W.r;++O)H[O]||(H[O]=[]);switch(O=W.r,I=W.c,Y[2]){case"t":H[O][I]=t(Y[3]);break;case"v":H[O][I]=+Y[3];break;case"vtf":var te=Y[Y.length-1];case"vtc":switch(Y[3]){case"nl":H[O][I]=!!+Y[4];break;default:H[O][I]=+Y[4];break}Y[2]=="vtf"&&(H[O][I]=[H[O][I],te])}}}return C&&C.sheetRows&&(H=H.slice(0,C.sheetRows)),H}function r(A,C){return qf(n(A,C),C)}function i(A,C){return du(r(A,C),C)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),u=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,g=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),x="--SocialCalcSpreadsheetControlSave--";function m(A){if(!A||!A["!ref"])return"";for(var C=[],R=[],O,I="",k=ca(A["!ref"]),H=Array.isArray(A),Y=k.s.r;Y<=k.e.r;++Y)for(var W=k.s.c;W<=k.e.c;++W)if(I=Yn({r:Y,c:W}),O=H?(A[Y]||[])[W]:A[I],!(!O||O.v==null||O.t==="z")){switch(R=["cell",I,"t"],O.t){case"s":case"str":R.push(e(O.v));break;case"n":O.f?(R[2]="vtf",R[3]="n",R[4]=O.v,R[5]=e(O.f)):(R[2]="v",R[3]=O.v);break;case"b":R[2]="vt"+(O.f?"f":"c"),R[3]="nl",R[4]=O.v?"1":"0",R[5]=e(O.f||(O.v?"TRUE":"FALSE"));break;case"d":var te=Ds(ms(O.v));R[2]="vtc",R[3]="nd",R[4]=""+te,R[5]=O.w||vc(O.z||Hr[14],te);break;case"e":continue}C.push(R.join(":"))}return C.push("sheet:c:"+(k.e.c-k.s.c+1)+":r:"+(k.e.r-k.s.r+1)+":tvf:1"),C.push("valueformat:1:text-wiki"),C.join(`
`)}function _(A){return[o,u,g,u,m(A),x].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:_}}(),Az=function(){function t(_,A,C,R,O){O.raw?A[C][R]=_:_===""||(_==="TRUE"?A[C][R]=!0:_==="FALSE"?A[C][R]=!1:isNaN(sl(_))?isNaN(M0(_).getDate())?A[C][R]=_:A[C][R]=ms(_):A[C][R]=sl(_))}function e(_,A){var C=A||{},R=[];if(!_||_.length===0)return R;for(var O=_.split(/[\r\n]/),I=O.length-1;I>=0&&O[I].length===0;)--I;for(var k=10,H=0,Y=0;Y<=I;++Y)H=O[Y].indexOf(" "),H==-1?H=O[Y].length:H++,k=Math.max(k,H);for(Y=0;Y<=I;++Y){R[Y]=[];var W=0;for(t(O[Y].slice(0,k).trim(),R,Y,W,C),W=1;W<=(O[Y].length-k)/10+1;++W)t(O[Y].slice(k+(W-1)*10,k+W*10).trim(),R,Y,W,C)}return C.sheetRows&&(R=R.slice(0,C.sheetRows)),R}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(_){for(var A={},C=!1,R=0,O=0;R<_.length;++R)(O=_.charCodeAt(R))==34?C=!C:!C&&O in n&&(A[O]=(A[O]||0)+1);O=[];for(R in A)Object.prototype.hasOwnProperty.call(A,R)&&O.push([A[R],R]);if(!O.length){A=r;for(R in A)Object.prototype.hasOwnProperty.call(A,R)&&O.push([A[R],R])}return O.sort(function(I,k){return I[0]-k[0]||r[I[1]]-r[k[1]]}),n[O.pop()[1]]||44}function o(_,A){var C=A||{},R="",O=C.dense?[]:{},I={s:{c:0,r:0},e:{c:0,r:0}};_.slice(0,4)=="sep="?_.charCodeAt(5)==13&&_.charCodeAt(6)==10?(R=_.charAt(4),_=_.slice(7)):_.charCodeAt(5)==13||_.charCodeAt(5)==10?(R=_.charAt(4),_=_.slice(6)):R=i(_.slice(0,1024)):C&&C.FS?R=C.FS:R=i(_.slice(0,1024));var k=0,H=0,Y=0,W=0,te=0,oe=R.charCodeAt(0),ve=!1,B=0,V=_.charCodeAt(0);_=_.replace(/\r\n/mg,`
`);var L=C.dateNF!=null?Vj(C.dateNF):null;function M(){var q=_.slice(W,te),Q={};if(q.charAt(0)=='"'&&q.charAt(q.length-1)=='"'&&(q=q.slice(1,-1).replace(/""/g,'"')),q.length===0)Q.t="z";else if(C.raw)Q.t="s",Q.v=q;else if(q.trim().length===0)Q.t="s",Q.v=q;else if(q.charCodeAt(0)==61)q.charCodeAt(1)==34&&q.charCodeAt(q.length-1)==34?(Q.t="s",Q.v=q.slice(2,-1).replace(/""/g,'"')):wG(q)?(Q.t="n",Q.f=q.slice(1)):(Q.t="s",Q.v=q);else if(q=="TRUE")Q.t="b",Q.v=!0;else if(q=="FALSE")Q.t="b",Q.v=!1;else if(!isNaN(Y=sl(q)))Q.t="n",C.cellText!==!1&&(Q.w=q),Q.v=Y;else if(!isNaN(M0(q).getDate())||L&&q.match(L)){Q.z=C.dateNF||Hr[14];var Z=0;L&&q.match(L)&&(q=jj(q,C.dateNF,q.match(L)||[]),Z=1),C.cellDates?(Q.t="d",Q.v=ms(q,Z)):(Q.t="n",Q.v=Ds(ms(q,Z))),C.cellText!==!1&&(Q.w=vc(Q.z,Q.v instanceof Date?Ds(Q.v):Q.v)),C.cellNF||delete Q.z}else Q.t="s",Q.v=q;if(Q.t=="z"||(C.dense?(O[k]||(O[k]=[]),O[k][H]=Q):O[Yn({c:H,r:k})]=Q),W=te+1,V=_.charCodeAt(W),I.e.c<H&&(I.e.c=H),I.e.r<k&&(I.e.r=k),B==oe)++H;else if(H=0,++k,C.sheetRows&&C.sheetRows<=k)return!0}e:for(;te<_.length;++te)switch(B=_.charCodeAt(te)){case 34:V===34&&(ve=!ve);break;case oe:case 10:case 13:if(!ve&&M())break e;break}return te-W>0&&M(),O["!ref"]=li(I),O}function u(_,A){return!(A&&A.PRN)||A.FS||_.slice(0,4)=="sep="||_.indexOf("	")>=0||_.indexOf(",")>=0||_.indexOf(";")>=0?o(_,A):qf(e(_,A),A)}function g(_,A){var C="",R=A.type=="string"?[0,0,0,0]:PX(_,A);switch(A.type){case"base64":C=gl(_);break;case"binary":C=_;break;case"buffer":A.codepage==65001?C=_.toString("utf8"):A.codepage&&typeof Tg<"u"||(C=kn&&Buffer.isBuffer(_)?_.toString("binary"):id(_));break;case"array":C=Rm(_);break;case"string":C=_;break;default:throw new Error("Unrecognized type "+A.type)}return R[0]==239&&R[1]==187&&R[2]==191?C=u0(C.slice(3)):A.type!="string"&&A.type!="buffer"&&A.codepage==65001?C=u0(C):A.type=="binary"&&typeof Tg<"u",C.slice(0,19)=="socialcalc:version:"?WR.to_sheet(A.type=="string"?C:u0(C),A):u(C,A)}function x(_,A){return du(g(_,A),A)}function m(_){for(var A=[],C=yr(_["!ref"]),R,O=Array.isArray(_),I=C.s.r;I<=C.e.r;++I){for(var k=[],H=C.s.c;H<=C.e.c;++H){var Y=Yn({r:I,c:H});if(R=O?(_[I]||[])[H]:_[Y],!R||R.v==null){k.push("          ");continue}for(var W=(R.w||(ml(R),R.w)||"").slice(0,10);W.length<10;)W+=" ";k.push(W+(H===0?" ":""))}A.push(k.join(""))}return A.join(`
`)}return{to_workbook:x,to_sheet:g,from_sheet:m}}(),PC=function(){function t(ie,fe,he){if(ie){Js(ie,ie.l||0);for(var pe=he.Enum||me;ie.l<ie.length;){var _e=ie.read_shift(2),lt=pe[_e]||pe[65535],Ze=ie.read_shift(2),mt=ie.l+Ze,ot=lt.f&&lt.f(ie,Ze,he);if(ie.l=mt,fe(ot,lt,_e))return}}}function e(ie,fe){switch(fe.type){case"base64":return n(Wa(gl(ie)),fe);case"binary":return n(Wa(ie),fe);case"buffer":case"array":return n(ie,fe)}throw"Unsupported type "+fe.type}function n(ie,fe){if(!ie)return ie;var he=fe||{},pe=he.dense?[]:{},_e="Sheet1",lt="",Ze=0,mt={},ot=[],Ot=[],Pt={s:{r:0,c:0},e:{r:0,c:0}},St=he.sheetRows||0;if(ie[2]==0&&(ie[3]==8||ie[3]==9)&&ie.length>=16&&ie[14]==5&&ie[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(ie[2]==2)he.Enum=me,t(ie,function(rt,jt,Tt){switch(Tt){case 0:he.vers=rt,rt>=4096&&(he.qpro=!0);break;case 6:Pt=rt;break;case 204:rt&&(lt=rt);break;case 222:lt=rt;break;case 15:case 51:he.qpro||(rt[1].v=rt[1].v.slice(1));case 13:case 14:case 16:Tt==14&&(rt[2]&112)==112&&(rt[2]&15)>1&&(rt[2]&15)<15&&(rt[1].z=he.dateNF||Hr[14],he.cellDates&&(rt[1].t="d",rt[1].v=lR(rt[1].v))),he.qpro&&rt[3]>Ze&&(pe["!ref"]=li(Pt),mt[_e]=pe,ot.push(_e),pe=he.dense?[]:{},Pt={s:{r:0,c:0},e:{r:0,c:0}},Ze=rt[3],_e=lt||"Sheet"+(Ze+1),lt="");var vr=he.dense?(pe[rt[0].r]||[])[rt[0].c]:pe[Yn(rt[0])];if(vr){vr.t=rt[1].t,vr.v=rt[1].v,rt[1].z!=null&&(vr.z=rt[1].z),rt[1].f!=null&&(vr.f=rt[1].f);break}he.dense?(pe[rt[0].r]||(pe[rt[0].r]=[]),pe[rt[0].r][rt[0].c]=rt[1]):pe[Yn(rt[0])]=rt[1];break}},he);else if(ie[2]==26||ie[2]==14)he.Enum=Ge,ie[2]==14&&(he.qpro=!0,ie.l=0),t(ie,function(rt,jt,Tt){switch(Tt){case 204:_e=rt;break;case 22:rt[1].v=rt[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(rt[3]>Ze&&(pe["!ref"]=li(Pt),mt[_e]=pe,ot.push(_e),pe=he.dense?[]:{},Pt={s:{r:0,c:0},e:{r:0,c:0}},Ze=rt[3],_e="Sheet"+(Ze+1)),St>0&&rt[0].r>=St)break;he.dense?(pe[rt[0].r]||(pe[rt[0].r]=[]),pe[rt[0].r][rt[0].c]=rt[1]):pe[Yn(rt[0])]=rt[1],Pt.e.c<rt[0].c&&(Pt.e.c=rt[0].c),Pt.e.r<rt[0].r&&(Pt.e.r=rt[0].r);break;case 27:rt[14e3]&&(Ot[rt[14e3][0]]=rt[14e3][1]);break;case 1537:Ot[rt[0]]=rt[1],rt[0]==Ze&&(_e=rt[1]);break}},he);else throw new Error("Unrecognized LOTUS BOF "+ie[2]);if(pe["!ref"]=li(Pt),mt[lt||_e]=pe,ot.push(lt||_e),!Ot.length)return{SheetNames:ot,Sheets:mt};for(var Ut={},Bn=[],vn=0;vn<Ot.length;++vn)mt[ot[vn]]?(Bn.push(Ot[vn]||ot[vn]),Ut[Ot[vn]]=mt[Ot[vn]]||mt[ot[vn]]):(Bn.push(Ot[vn]),Ut[Ot[vn]]={"!ref":"A1"});return{SheetNames:Bn,Sheets:Ut}}function r(ie,fe){var he=fe||{};if(+he.codepage>=0&&O0(+he.codepage),he.type=="string")throw new Error("Cannot write WK1 to JS string");var pe=Ns(),_e=yr(ie["!ref"]),lt=Array.isArray(ie),Ze=[];dt(pe,0,o(1030)),dt(pe,6,x(_e));for(var mt=Math.min(_e.e.r,8191),ot=_e.s.r;ot<=mt;++ot)for(var Ot=Gi(ot),Pt=_e.s.c;Pt<=_e.e.c;++Pt){ot===_e.s.r&&(Ze[Pt]=ss(Pt));var St=Ze[Pt]+Ot,Ut=lt?(ie[ot]||[])[Pt]:ie[St];if(!(!Ut||Ut.t=="z"))if(Ut.t=="n")(Ut.v|0)==Ut.v&&Ut.v>=-32768&&Ut.v<=32767?dt(pe,13,R(ot,Pt,Ut.v)):dt(pe,14,I(ot,Pt,Ut.v));else{var Bn=ml(Ut);dt(pe,15,A(ot,Pt,Bn.slice(0,239)))}}return dt(pe,1),pe.end()}function i(ie,fe){var he=fe||{};if(+he.codepage>=0&&O0(+he.codepage),he.type=="string")throw new Error("Cannot write WK3 to JS string");var pe=Ns();dt(pe,0,u(ie));for(var _e=0,lt=0;_e<ie.SheetNames.length;++_e)(ie.Sheets[ie.SheetNames[_e]]||{})["!ref"]&&dt(pe,27,wt(ie.SheetNames[_e],lt++));var Ze=0;for(_e=0;_e<ie.SheetNames.length;++_e){var mt=ie.Sheets[ie.SheetNames[_e]];if(!(!mt||!mt["!ref"])){for(var ot=yr(mt["!ref"]),Ot=Array.isArray(mt),Pt=[],St=Math.min(ot.e.r,8191),Ut=ot.s.r;Ut<=St;++Ut)for(var Bn=Gi(Ut),vn=ot.s.c;vn<=ot.e.c;++vn){Ut===ot.s.r&&(Pt[vn]=ss(vn));var rt=Pt[vn]+Bn,jt=Ot?(mt[Ut]||[])[vn]:mt[rt];if(!(!jt||jt.t=="z"))if(jt.t=="n")dt(pe,23,M(Ut,vn,Ze,jt.v));else{var Tt=ml(jt);dt(pe,22,B(Ut,vn,Ze,Tt.slice(0,239)))}}++Ze}}return dt(pe,1),pe.end()}function o(ie){var fe=He(2);return fe.write_shift(2,ie),fe}function u(ie){var fe=He(26);fe.write_shift(2,4096),fe.write_shift(2,4),fe.write_shift(4,0);for(var he=0,pe=0,_e=0,lt=0;lt<ie.SheetNames.length;++lt){var Ze=ie.SheetNames[lt],mt=ie.Sheets[Ze];if(!(!mt||!mt["!ref"])){++_e;var ot=ca(mt["!ref"]);he<ot.e.r&&(he=ot.e.r),pe<ot.e.c&&(pe=ot.e.c)}}return he>8191&&(he=8191),fe.write_shift(2,he),fe.write_shift(1,_e),fe.write_shift(1,pe),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(1,1),fe.write_shift(1,2),fe.write_shift(4,0),fe.write_shift(4,0),fe}function g(ie,fe,he){var pe={s:{c:0,r:0},e:{c:0,r:0}};return fe==8&&he.qpro?(pe.s.c=ie.read_shift(1),ie.l++,pe.s.r=ie.read_shift(2),pe.e.c=ie.read_shift(1),ie.l++,pe.e.r=ie.read_shift(2),pe):(pe.s.c=ie.read_shift(2),pe.s.r=ie.read_shift(2),fe==12&&he.qpro&&(ie.l+=2),pe.e.c=ie.read_shift(2),pe.e.r=ie.read_shift(2),fe==12&&he.qpro&&(ie.l+=2),pe.s.c==65535&&(pe.s.c=pe.e.c=pe.s.r=pe.e.r=0),pe)}function x(ie){var fe=He(8);return fe.write_shift(2,ie.s.c),fe.write_shift(2,ie.s.r),fe.write_shift(2,ie.e.c),fe.write_shift(2,ie.e.r),fe}function m(ie,fe,he){var pe=[{c:0,r:0},{t:"n",v:0},0,0];return he.qpro&&he.vers!=20768?(pe[0].c=ie.read_shift(1),pe[3]=ie.read_shift(1),pe[0].r=ie.read_shift(2),ie.l+=2):(pe[2]=ie.read_shift(1),pe[0].c=ie.read_shift(2),pe[0].r=ie.read_shift(2)),pe}function _(ie,fe,he){var pe=ie.l+fe,_e=m(ie,fe,he);if(_e[1].t="s",he.vers==20768){ie.l++;var lt=ie.read_shift(1);return _e[1].v=ie.read_shift(lt,"utf8"),_e}return he.qpro&&ie.l++,_e[1].v=ie.read_shift(pe-ie.l,"cstr"),_e}function A(ie,fe,he){var pe=He(7+he.length);pe.write_shift(1,255),pe.write_shift(2,fe),pe.write_shift(2,ie),pe.write_shift(1,39);for(var _e=0;_e<pe.length;++_e){var lt=he.charCodeAt(_e);pe.write_shift(1,lt>=128?95:lt)}return pe.write_shift(1,0),pe}function C(ie,fe,he){var pe=m(ie,fe,he);return pe[1].v=ie.read_shift(2,"i"),pe}function R(ie,fe,he){var pe=He(7);return pe.write_shift(1,255),pe.write_shift(2,fe),pe.write_shift(2,ie),pe.write_shift(2,he,"i"),pe}function O(ie,fe,he){var pe=m(ie,fe,he);return pe[1].v=ie.read_shift(8,"f"),pe}function I(ie,fe,he){var pe=He(13);return pe.write_shift(1,255),pe.write_shift(2,fe),pe.write_shift(2,ie),pe.write_shift(8,he,"f"),pe}function k(ie,fe,he){var pe=ie.l+fe,_e=m(ie,fe,he);if(_e[1].v=ie.read_shift(8,"f"),he.qpro)ie.l=pe;else{var lt=ie.read_shift(2);te(ie.slice(ie.l,ie.l+lt),_e),ie.l+=lt}return _e}function H(ie,fe,he){var pe=fe&32768;return fe&=-32769,fe=(pe?ie:0)+(fe>=8192?fe-16384:fe),(pe?"":"$")+(he?ss(fe):Gi(fe))}var Y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},W=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function te(ie,fe){Js(ie,0);for(var he=[],pe=0,_e="",lt="",Ze="",mt="";ie.l<ie.length;){var ot=ie[ie.l++];switch(ot){case 0:he.push(ie.read_shift(8,"f"));break;case 1:lt=H(fe[0].c,ie.read_shift(2),!0),_e=H(fe[0].r,ie.read_shift(2),!1),he.push(lt+_e);break;case 2:{var Ot=H(fe[0].c,ie.read_shift(2),!0),Pt=H(fe[0].r,ie.read_shift(2),!1);lt=H(fe[0].c,ie.read_shift(2),!0),_e=H(fe[0].r,ie.read_shift(2),!1),he.push(Ot+Pt+":"+lt+_e)}break;case 3:if(ie.l<ie.length){console.error("WK1 premature formula end");return}break;case 4:he.push("("+he.pop()+")");break;case 5:he.push(ie.read_shift(2));break;case 6:{for(var St="";ot=ie[ie.l++];)St+=String.fromCharCode(ot);he.push('"'+St.replace(/"/g,'""')+'"')}break;case 8:he.push("-"+he.pop());break;case 23:he.push("+"+he.pop());break;case 22:he.push("NOT("+he.pop()+")");break;case 20:case 21:mt=he.pop(),Ze=he.pop(),he.push(["AND","OR"][ot-20]+"("+Ze+","+mt+")");break;default:if(ot<32&&W[ot])mt=he.pop(),Ze=he.pop(),he.push(Ze+W[ot]+mt);else if(Y[ot]){if(pe=Y[ot][1],pe==69&&(pe=ie[ie.l++]),pe>he.length){console.error("WK1 bad formula parse 0x"+ot.toString(16)+":|"+he.join("|")+"|");return}var Ut=he.slice(-pe);he.length-=pe,he.push(Y[ot][0]+"("+Ut.join(",")+")")}else return ot<=7?console.error("WK1 invalid opcode "+ot.toString(16)):ot<=24?console.error("WK1 unsupported op "+ot.toString(16)):ot<=30?console.error("WK1 invalid opcode "+ot.toString(16)):ot<=115?console.error("WK1 unsupported function opcode "+ot.toString(16)):console.error("WK1 unrecognized opcode "+ot.toString(16))}}he.length==1?fe[1].f=""+he[0]:console.error("WK1 bad formula parse |"+he.join("|")+"|")}function oe(ie){var fe=[{c:0,r:0},{t:"n",v:0},0];return fe[0].r=ie.read_shift(2),fe[3]=ie[ie.l++],fe[0].c=ie[ie.l++],fe}function ve(ie,fe){var he=oe(ie);return he[1].t="s",he[1].v=ie.read_shift(fe-4,"cstr"),he}function B(ie,fe,he,pe){var _e=He(6+pe.length);_e.write_shift(2,ie),_e.write_shift(1,he),_e.write_shift(1,fe),_e.write_shift(1,39);for(var lt=0;lt<pe.length;++lt){var Ze=pe.charCodeAt(lt);_e.write_shift(1,Ze>=128?95:Ze)}return _e.write_shift(1,0),_e}function V(ie,fe){var he=oe(ie);he[1].v=ie.read_shift(2);var pe=he[1].v>>1;if(he[1].v&1)switch(pe&7){case 0:pe=(pe>>3)*5e3;break;case 1:pe=(pe>>3)*500;break;case 2:pe=(pe>>3)/20;break;case 3:pe=(pe>>3)/200;break;case 4:pe=(pe>>3)/2e3;break;case 5:pe=(pe>>3)/2e4;break;case 6:pe=(pe>>3)/16;break;case 7:pe=(pe>>3)/64;break}return he[1].v=pe,he}function L(ie,fe){var he=oe(ie),pe=ie.read_shift(4),_e=ie.read_shift(4),lt=ie.read_shift(2);if(lt==65535)return pe===0&&_e===3221225472?(he[1].t="e",he[1].v=15):pe===0&&_e===3489660928?(he[1].t="e",he[1].v=42):he[1].v=0,he;var Ze=lt&32768;return lt=(lt&32767)-16446,he[1].v=(1-Ze*2)*(_e*Math.pow(2,lt+32)+pe*Math.pow(2,lt)),he}function M(ie,fe,he,pe){var _e=He(14);if(_e.write_shift(2,ie),_e.write_shift(1,he),_e.write_shift(1,fe),pe==0)return _e.write_shift(4,0),_e.write_shift(4,0),_e.write_shift(2,65535),_e;var lt=0,Ze=0,mt=0,ot=0;return pe<0&&(lt=1,pe=-pe),Ze=Math.log2(pe)|0,pe/=Math.pow(2,Ze-31),ot=pe>>>0,(ot&2147483648)==0&&(pe/=2,++Ze,ot=pe>>>0),pe-=ot,ot|=2147483648,ot>>>=0,pe*=Math.pow(2,32),mt=pe>>>0,_e.write_shift(4,mt),_e.write_shift(4,ot),Ze+=16383+(lt?32768:0),_e.write_shift(2,Ze),_e}function q(ie,fe){var he=L(ie);return ie.l+=fe-14,he}function Q(ie,fe){var he=oe(ie),pe=ie.read_shift(4);return he[1].v=pe>>6,he}function Z(ie,fe){var he=oe(ie),pe=ie.read_shift(8,"f");return he[1].v=pe,he}function pt(ie,fe){var he=Z(ie);return ie.l+=fe-10,he}function Ee(ie,fe){return ie[ie.l+fe-1]==0?ie.read_shift(fe,"cstr"):""}function be(ie,fe){var he=ie[ie.l++];he>fe-1&&(he=fe-1);for(var pe="";pe.length<he;)pe+=String.fromCharCode(ie[ie.l++]);return pe}function Ue(ie,fe,he){if(!(!he.qpro||fe<21)){var pe=ie.read_shift(1);ie.l+=17,ie.l+=1,ie.l+=2;var _e=ie.read_shift(fe-21,"cstr");return[pe,_e]}}function xt(ie,fe){for(var he={},pe=ie.l+fe;ie.l<pe;){var _e=ie.read_shift(2);if(_e==14e3){for(he[_e]=[0,""],he[_e][0]=ie.read_shift(2);ie[ie.l];)he[_e][1]+=String.fromCharCode(ie[ie.l]),ie.l++;ie.l++}}return he}function wt(ie,fe){var he=He(5+ie.length);he.write_shift(2,14e3),he.write_shift(2,fe);for(var pe=0;pe<ie.length;++pe){var _e=ie.charCodeAt(pe);he[he.l++]=_e>127?95:_e}return he[he.l++]=0,he}var me={0:{n:"BOF",f:VR},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:g},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:C},14:{n:"NUMBER",f:O},15:{n:"LABEL",f:_},16:{n:"FORMULA",f:k},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:_},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ee},222:{n:"SHEETNAMELP",f:be},65535:{n:""}},Ge={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ve},23:{n:"NUMBER17",f:L},24:{n:"NUMBER18",f:V},25:{n:"FORMULA19",f:q},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:xt},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:Q},38:{n:"??"},39:{n:"NUMBER27",f:Z},40:{n:"FORMULA28",f:pt},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ue},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}(),Sz=/^\s|\s$|[\t\n\r]/;function qR(t,e){if(!e.bookSST)return"";var n=[ci];n[n.length]=ht("sst",null,{xmlns:Wf[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],o="<si>";i.r?o+=i.r:(o+="<t",i.t||(i.t=""),i.t.match(Sz)&&(o+=' xml:space="preserve"'),o+=">"+qn(i.t)+"</t>"),o+="</si>",n[n.length]=o}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function Cz(t){return[t.read_shift(4),t.read_shift(4)]}function bz(t,e){return e||(e=He(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var Iz=yH;function Rz(t){var e=Ns();$e(e,159,bz(t));for(var n=0;n<t.length;++n)$e(e,19,Iz(t[n]));return $e(e,160),e.end()}function Nz(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function YR(t){var e=0,n,r=Nz(t),i=r.length+1,o,u,g,x,m;for(n=au(i),n[0]=r.length,o=1;o!=i;++o)n[o]=r[o-1];for(o=i-1;o>=0;--o)u=n[o],g=(e&16384)===0?0:1,x=e<<1&32767,m=g|x,e=m^u;return e^52811}var Oz=function(){function t(i,o){switch(o.type){case"base64":return e(gl(i),o);case"binary":return e(i,o);case"buffer":return e(kn&&Buffer.isBuffer(i)?i.toString("binary"):id(i),o);case"array":return e(Rm(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){var u=o||{},g=u.dense?[]:{},x=i.match(/\\trowd.*?\\row\b/g);if(!x.length)throw new Error("RTF missing table");var m={s:{c:0,r:0},e:{c:0,r:x.length-1}};return x.forEach(function(_,A){Array.isArray(g)&&(g[A]=[]);for(var C=/\\\w+\b/g,R=0,O,I=-1;O=C.exec(_);){switch(O[0]){case"\\cell":var k=_.slice(R,C.lastIndex-O[0].length);if(k[0]==" "&&(k=k.slice(1)),++I,k.length){var H={v:k,t:"s"};Array.isArray(g)?g[A][I]=H:g[Yn({r:A,c:I})]=H}break}R=C.lastIndex}I>m.e.c&&(m.e.c=I)}),g["!ref"]=li(m),g}function n(i,o){return du(t(i,o),o)}function r(i){for(var o=["{\\rtf1\\ansi"],u=yr(i["!ref"]),g,x=Array.isArray(i),m=u.s.r;m<=u.e.r;++m){o.push("\\trowd\\trautofit1");for(var _=u.s.c;_<=u.e.c;++_)o.push("\\cellx"+(_+1));for(o.push("\\pard\\intbl"),_=u.s.c;_<=u.e.c;++_){var A=Yn({r:m,c:_});g=x?(i[m]||[])[_]:i[A],!(!g||g.v==null&&(!g.f||g.F))&&(o.push(" "+(g.w||(ml(g),g.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}}();function FC(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var Dz=6,al=Dz;function Dg(t){return Math.floor((t+Math.round(128/al)/256)*al)}function Mg(t){return Math.floor((t-5)/al*100+.5)/100}function Jx(t){return Math.round((t*al+5)/al*256)/256}function Yv(t){t.width?(t.wpx=Dg(t.width),t.wch=Mg(t.wpx),t.MDW=al):t.wpx?(t.wch=Mg(t.wpx),t.width=Jx(t.wch),t.MDW=al):typeof t.wch=="number"&&(t.width=Jx(t.wch),t.wpx=Dg(t.width),t.MDW=al),t.customWidth&&delete t.customWidth}var Mz=96,XR=Mz;function kg(t){return t*96/XR}function KR(t){return t*XR/96}function kz(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=ht("numFmt",null,{numFmtId:r,formatCode:qn(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=ht("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Lz(t){var e=[];return e[e.length]=ht("cellXfs",null),t.forEach(function(n){e[e.length]=ht("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=ht("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function QR(t,e){var n=[ci,ht("styleSheet",null,{xmlns:Wf[0],"xmlns:vt":Ci.vt})],r;return t.SSF&&(r=kz(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=Lz(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function Pz(t,e){var n=t.read_shift(2),r=as(t);return[n,r]}function Fz(t,e,n){n||(n=He(6+4*e.length)),n.write_shift(2,t),Ii(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function Bz(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=SH(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var o=t.read_shift(2);switch(o===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var u=t.read_shift(1);u!=0&&(r.underline=u);var g=t.read_shift(1);g>0&&(r.family=g);var x=t.read_shift(1);switch(x>0&&(r.charset=x),t.l++,r.color=AH(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=as(t),r}function Uz(t,e){e||(e=He(25+4*32)),e.write_shift(2,t.sz*20),CH(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Ng(t.color,e);var r=0;return r=2,e.write_shift(1,r),Ii(t.name,e),e.length>e.l?e.slice(0,e.l):e}var Vz=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ox,jz=Oo;function BC(t,e){e||(e=He(4*3+8*7+16*1)),ox||(ox=Lv(Vz));var n=ox[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(Ng({auto:1},e),Ng({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Hz(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function $R(t,e,n){n||(n=He(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Hh(t,e){return e||(e=He(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var zz=Oo;function Gz(t,e){return e||(e=He(51)),e.write_shift(1,0),Hh(null,e),Hh(null,e),Hh(null,e),Hh(null,e),Hh(null,e),e.length>e.l?e.slice(0,e.l):e}function Wz(t,e){return e||(e=He(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Rg(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function qz(t,e,n){var r=He(2052);return r.write_shift(4,t),Rg(e,r),Rg(n,r),r.length>r.l?r.slice(0,r.l):r}function Yz(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&($e(t,615,Xa(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&$e(t,44,Fz(i,e[i]))}),$e(t,616))}}function Xz(t){var e=1;$e(t,611,Xa(e)),$e(t,43,Uz({sz:12,color:{theme:1},name:"Calibri",family:2})),$e(t,612)}function Kz(t){var e=2;$e(t,603,Xa(e)),$e(t,45,BC({patternType:"none"})),$e(t,45,BC({patternType:"gray125"})),$e(t,604)}function Qz(t){var e=1;$e(t,613,Xa(e)),$e(t,46,Gz()),$e(t,614)}function $z(t){var e=1;$e(t,626,Xa(e)),$e(t,47,$R({numFmtId:0},65535)),$e(t,627)}function Zz(t,e){$e(t,617,Xa(e.length)),e.forEach(function(n){$e(t,47,$R(n,0))}),$e(t,618)}function Jz(t){var e=1;$e(t,619,Xa(e)),$e(t,48,Wz({xfId:0,name:"Normal"})),$e(t,620)}function eG(t){var e=0;$e(t,505,Xa(e)),$e(t,506)}function tG(t){var e=0;$e(t,508,qz(e,"TableStyleMedium9","PivotStyleMedium4")),$e(t,509)}function nG(t,e){var n=Ns();return $e(n,278),Yz(n,t.SSF),Xz(n),Kz(n),Qz(n),$z(n),Zz(n,e.cellXfs),Jz(n),eG(n),tG(n),$e(n,279),n.end()}function ZR(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[ci];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function rG(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:as(t)}}function iG(t){var e=He(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Ii(t.name,e),e.slice(0,e.l)}function sG(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function aG(t){var e=He(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function oG(t,e){var n=He(8+2*e.length);return n.write_shift(4,t),Ii(e,n),n.slice(0,n.l)}function lG(t){return t.l+=4,t.read_shift(4)!=0}function cG(t,e){var n=He(8);return n.write_shift(4,t),n.write_shift(4,1),n}function uG(){var t=Ns();return $e(t,332),$e(t,334,Xa(1)),$e(t,335,iG({name:"XLDAPR",version:12e4,flags:3496657072})),$e(t,336),$e(t,339,oG(1,"XLDAPR")),$e(t,52),$e(t,35,Xa(514)),$e(t,4096,Xa(0)),$e(t,4097,Ca(1)),$e(t,36),$e(t,53),$e(t,340),$e(t,337,cG(1)),$e(t,51,aG([[1,0]])),$e(t,338),$e(t,333),t.end()}function JR(){var t=[ci];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function fG(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Yn(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var mf=1024;function e6(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[ht("xml",null,{"xmlns:v":ea.v,"xmlns:o":ea.o,"xmlns:x":ea.x,"xmlns:mv":ea.mv}).replace(/\/>/,">"),ht("o:shapelayout",ht("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),ht("v:shapetype",[ht("v:stroke",null,{joinstyle:"miter"}),ht("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];mf<t*1e3;)mf+=1e3;return e.forEach(function(o){var u=bi(o[0]),g={color2:"#BEFF82",type:"gradient"};g.type=="gradient"&&(g.angle="-180");var x=g.type=="gradient"?ht("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,m=ht("v:fill",x,g),_={on:"t",obscured:"t"};++mf,i=i.concat(["<v:shape"+L0({id:"_x0000_s"+mf,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",m,ht("v:shadow",null,_),ht("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",zi("x:Anchor",[u.c+1,0,u.r+1,0,u.c+3,20,u.r+5,20].join(",")),zi("x:AutoFill","False"),zi("x:Row",String(u.r)),zi("x:Column",String(u.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function t6(t){var e=[ci,ht("comments",null,{xmlns:Wf[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var o=qn(i.a);n.indexOf(o)==-1&&(n.push(o),e.push("<author>"+o+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,o=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(x){x.a&&(i=n.indexOf(qn(x.a))),o.push(x.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),o.length<=1)e.push(zi("t",qn(o[0]||"")));else{for(var u=`Comment:
    `+o[0]+`
`,g=1;g<o.length;++g)u+=`Reply:
    `+o[g]+`
`;e.push(zi("t",qn(u)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function hG(t,e,n){var r=[ci,ht("ThreadedComments",null,{xmlns:Ci.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var o="";(i[1]||[]).forEach(function(u,g){if(!u.T){delete u.ID;return}u.a&&e.indexOf(u.a)==-1&&e.push(u.a);var x={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};g==0?o=x.id:x.parentId=o,u.ID=x.id,u.a&&(x.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(u.a)).slice(-12)+"}"),r.push(ht("threadedComment",zi("text",u.t||""),x))})}),r.push("</ThreadedComments>"),r.join("")}function dG(t){var e=[ci,ht("personList",null,{xmlns:Ci.TCMNT,"xmlns:x":Wf[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(ht("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function gG(t){var e={};e.iauthor=t.read_shift(4);var n=xu(t);return e.rfx=n.s,e.ref=Yn(n.s),t.l+=16,e}function mG(t,e){return e==null&&(e=He(36)),e.write_shift(4,t[1].iauthor),Yf(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var pG=as;function xG(t){return Ii(t.slice(0,54))}function yG(t){var e=Ns(),n=[];return $e(e,628),$e(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),$e(e,632,xG(i.a)))})}),$e(e,631),$e(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var o={s:bi(r[0]),e:bi(r[0])};$e(e,635,mG([o,i])),i.t&&i.t.length>0&&$e(e,637,_H(i)),$e(e,636),delete i.iauthor})}),$e(e,634),$e(e,629),e.end()}function vG(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Zn.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var n6=["xlsb","xlsm","xlam","biff8","xla"],_G=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,o,u){var g=!1,x=!1;o.length==0?x=!0:o.charAt(0)=="["&&(x=!0,o=o.slice(1,-1)),u.length==0?g=!0:u.charAt(0)=="["&&(g=!0,u=u.slice(1,-1));var m=o.length>0?parseInt(o,10)|0:0,_=u.length>0?parseInt(u,10)|0:0;return g?_+=e.c:--_,x?m+=e.r:--m,i+(g?"":"$")+ss(_)+(x?"":"$")+Gi(m)}return function(i,o){return e=o,i.replace(t,n)}}(),Xv=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Kv=function(){return function(e,n){return e.replace(Xv,function(r,i,o,u,g,x){var m=Hv(u)-(o?0:n.c),_=jv(x)-(g?0:n.r),A=_==0?"":g?_+1:"["+_+"]",C=m==0?"":o?m+1:"["+m+"]";return i+"R"+A+"C"+C})}}();function EG(t,e){return t.replace(Xv,function(n,r,i,o,u,g){return r+(i=="$"?i+o:ss(Hv(o)+e.c))+(u=="$"?u+g:Gi(jv(g)+e.r))})}function wG(t){return t.length!=1}function ri(t){t.l+=1}function _c(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function r6(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return i6(t);n.biff==12&&(r=4)}var i=t.read_shift(r),o=t.read_shift(r),u=_c(t),g=_c(t);return{s:{r:i,c:u[0],cRel:u[1],rRel:u[2]},e:{r:o,c:g[0],cRel:g[1],rRel:g[2]}}}function i6(t){var e=_c(t),n=_c(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function TG(t,e,n){if(n.biff<8)return i6(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),o=_c(t),u=_c(t);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:u[0],cRel:u[1],rRel:u[2]}}}function s6(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return AG(t);var r=t.read_shift(n&&n.biff==12?4:2),i=_c(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function AG(t){var e=_c(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function SG(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function CG(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return bG(t);var i=t.read_shift(r>=12?4:2),o=t.read_shift(2),u=(o&16384)>>14,g=(o&32768)>>15;if(o&=16383,g==1)for(;i>524287;)i-=1048576;if(u==1)for(;o>8191;)o=o-16384;return{r:i,c:o,cRel:u,rRel:g}}function bG(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function IG(t,e,n){var r=(t[t.l++]&96)>>5,i=r6(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function RG(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),o=8;if(n)switch(n.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}var u=r6(t,o,n);return[r,i,u]}function NG(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function OG(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),o=8;if(n)switch(n.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}return t.l+=o,[r,i]}function DG(t,e,n){var r=(t[t.l++]&96)>>5,i=TG(t,e-1,n);return[r,i]}function MG(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function UC(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function kG(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],o=0;o<=r;++o)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function LG(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function PG(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function FG(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function BG(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function a6(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function UG(t){return t.read_shift(2),a6(t)}function VG(t){return t.read_shift(2),a6(t)}function jG(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=s6(t,0,n);return[r,i]}function HG(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=CG(t,0,n);return[r,i]}function zG(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var o=s6(t,0,n);return[r,i,o]}function GG(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[GW[i],c6[i],r]}function WG(t,e,n){var r=t[t.l++],i=t.read_shift(1),o=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:qG(t);return[i,(o[0]===0?c6:zW)[o[1]]]}function qG(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function YG(t,e,n){t.l+=n&&n.biff==2?3:4}function XG(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function KG(t){return t.l++,od[t.read_shift(1)]}function QG(t){return t.l++,t.read_shift(2)}function $G(t){return t.l++,t.read_shift(1)!==0}function ZG(t){return t.l++,Xf(t)}function JG(t,e,n){return t.l++,HR(t,e-1,n)}function eW(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=zH(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=od[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Xf(t);break;case 2:n[1]=YH(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function tW(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],o=0;o!=r;++o)i.push((n.biff==12?xu:QH)(t));return i}function nW(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var o=0,u=[];o!=r&&(u[o]=[]);++o)for(var g=0;g!=i;++g)u[o][g]=eW(t,n.biff);return u}function rW(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,o=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,o]}function iW(t,e,n){if(n.biff==5)return sW(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),o=t.read_shift(4);return[r,i,o]}function sW(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function aW(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function oW(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function lW(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function cW(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),o=4;if(n)switch(n.biff){case 5:o=15;break;case 12:o=6;break}return t.l+=o,[r,i]}var uW=Oo,fW=Oo,hW=Oo;function ld(t,e,n){return t.l+=2,[SG(t)]}function Qv(t){return t.l+=6,[]}var dW=ld,gW=Qv,mW=Qv,pW=ld;function o6(t){return t.l+=2,[VR(t),t.read_shift(2)&1]}var xW=ld,yW=o6,vW=Qv,_W=ld,EW=ld,wW=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function TW(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),o=t.read_shift(2),u=wW[n>>2&31];return{ixti:e,coltype:n&3,rt:u,idx:r,c:i,C:o}}function AW(t){return t.l+=2,[t.read_shift(4)]}function SW(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function CW(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function bW(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function IW(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function RW(t){return t.l+=4,[0,0]}var VC={1:{n:"PtgExp",f:XG},2:{n:"PtgTbl",f:hW},3:{n:"PtgAdd",f:ri},4:{n:"PtgSub",f:ri},5:{n:"PtgMul",f:ri},6:{n:"PtgDiv",f:ri},7:{n:"PtgPower",f:ri},8:{n:"PtgConcat",f:ri},9:{n:"PtgLt",f:ri},10:{n:"PtgLe",f:ri},11:{n:"PtgEq",f:ri},12:{n:"PtgGe",f:ri},13:{n:"PtgGt",f:ri},14:{n:"PtgNe",f:ri},15:{n:"PtgIsect",f:ri},16:{n:"PtgUnion",f:ri},17:{n:"PtgRange",f:ri},18:{n:"PtgUplus",f:ri},19:{n:"PtgUminus",f:ri},20:{n:"PtgPercent",f:ri},21:{n:"PtgParen",f:ri},22:{n:"PtgMissArg",f:ri},23:{n:"PtgStr",f:JG},26:{n:"PtgSheet",f:SW},27:{n:"PtgEndSheet",f:CW},28:{n:"PtgErr",f:KG},29:{n:"PtgBool",f:$G},30:{n:"PtgInt",f:QG},31:{n:"PtgNum",f:ZG},32:{n:"PtgArray",f:MG},33:{n:"PtgFunc",f:GG},34:{n:"PtgFuncVar",f:WG},35:{n:"PtgName",f:rW},36:{n:"PtgRef",f:jG},37:{n:"PtgArea",f:IG},38:{n:"PtgMemArea",f:aW},39:{n:"PtgMemErr",f:uW},40:{n:"PtgMemNoMem",f:fW},41:{n:"PtgMemFunc",f:oW},42:{n:"PtgRefErr",f:lW},43:{n:"PtgAreaErr",f:NG},44:{n:"PtgRefN",f:HG},45:{n:"PtgAreaN",f:DG},46:{n:"PtgMemAreaN",f:bW},47:{n:"PtgMemNoMemN",f:IW},57:{n:"PtgNameX",f:iW},58:{n:"PtgRef3d",f:zG},59:{n:"PtgArea3d",f:RG},60:{n:"PtgRefErr3d",f:cW},61:{n:"PtgAreaErr3d",f:OG},255:{}},NW={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},OW={1:{n:"PtgElfLel",f:o6},2:{n:"PtgElfRw",f:_W},3:{n:"PtgElfCol",f:dW},6:{n:"PtgElfRwV",f:EW},7:{n:"PtgElfColV",f:pW},10:{n:"PtgElfRadical",f:xW},11:{n:"PtgElfRadicalS",f:vW},13:{n:"PtgElfColS",f:gW},15:{n:"PtgElfColSV",f:mW},16:{n:"PtgElfRadicalLel",f:yW},25:{n:"PtgList",f:TW},29:{n:"PtgSxName",f:AW},255:{}},DW={0:{n:"PtgAttrNoop",f:RW},1:{n:"PtgAttrSemi",f:BG},2:{n:"PtgAttrIf",f:PG},4:{n:"PtgAttrChoose",f:kG},8:{n:"PtgAttrGoto",f:LG},16:{n:"PtgAttrSum",f:YG},32:{n:"PtgAttrBaxcel",f:UC},33:{n:"PtgAttrBaxcel",f:UC},64:{n:"PtgAttrSpace",f:UG},65:{n:"PtgAttrSpaceSemi",f:VG},128:{n:"PtgAttrIfError",f:FG},255:{}};function MW(t,e,n,r){if(r.biff<8)return Oo(t,e);for(var i=t.l+e,o=[],u=0;u!==n.length;++u)switch(n[u][0]){case"PtgArray":n[u][1]=nW(t,0,r),o.push(n[u][1]);break;case"PtgMemArea":n[u][2]=tW(t,n[u][1],r),o.push(n[u][2]);break;case"PtgExp":r&&r.biff==12&&(n[u][1][1]=t.read_shift(4),o.push(n[u][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[u][0]}return e=i-t.l,e!==0&&o.push(Oo(t,e)),o}function kW(t,e,n){for(var r=t.l+e,i,o,u=[];r!=t.l;)e=r-t.l,o=t[t.l],i=VC[o]||VC[NW[o]],(o===24||o===25)&&(i=(o===24?OW:DW)[t[t.l+1]]),!i||!i.f?Oo(t,e):u.push([i.n,i.f(t,e,n)]);return u}function LW(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],o=0;o<r.length;++o){var u=r[o];if(u)switch(u[0]){case 2:i.push('"'+u[1].replace(/"/g,'""')+'"');break;default:i.push(u[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var PW={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function FW(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function l6(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function jC(t,e,n){var r=l6(t,e,n);return r=="#REF"?r:FW(r,n)}function kf(t,e,n,r,i){var o=i&&i.biff||8,u={s:{c:0,r:0}},g=[],x,m,_,A=0,C=0,R,O="";if(!t[0]||!t[0][0])return"";for(var I=-1,k="",H=0,Y=t[0].length;H<Y;++H){var W=t[0][H];switch(W[0]){case"PtgUminus":g.push("-"+g.pop());break;case"PtgUplus":g.push("+"+g.pop());break;case"PtgPercent":g.push(g.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(x=g.pop(),m=g.pop(),I>=0){switch(t[0][I][1][0]){case 0:k=Vr(" ",t[0][I][1][1]);break;case 1:k=Vr("\r",t[0][I][1][1]);break;default:if(k="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][I][1][0])}m=m+k,I=-1}g.push(m+PW[W[0]]+x);break;case"PtgIsect":x=g.pop(),m=g.pop(),g.push(m+" "+x);break;case"PtgUnion":x=g.pop(),m=g.pop(),g.push(m+","+x);break;case"PtgRange":x=g.pop(),m=g.pop(),g.push(m+":"+x);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":_=h0(W[1][1],u,i),g.push(d0(_,o));break;case"PtgRefN":_=n?h0(W[1][1],n,i):W[1][1],g.push(d0(_,o));break;case"PtgRef3d":A=W[1][1],_=h0(W[1][2],u,i),O=jC(r,A,i),g.push(O+"!"+d0(_,o));break;case"PtgFunc":case"PtgFuncVar":var te=W[1][0],oe=W[1][1];te||(te=0),te&=127;var ve=te==0?[]:g.slice(-te);g.length-=te,oe==="User"&&(oe=ve.shift()),g.push(oe+"("+ve.join(",")+")");break;case"PtgBool":g.push(W[1]?"TRUE":"FALSE");break;case"PtgInt":g.push(W[1]);break;case"PtgNum":g.push(String(W[1]));break;case"PtgStr":g.push('"'+W[1].replace(/"/g,'""')+'"');break;case"PtgErr":g.push(W[1]);break;case"PtgAreaN":R=SC(W[1][1],n?{s:n}:u,i),g.push(sx(R,i));break;case"PtgArea":R=SC(W[1][1],u,i),g.push(sx(R,i));break;case"PtgArea3d":A=W[1][1],R=W[1][2],O=jC(r,A,i),g.push(O+"!"+sx(R,i));break;case"PtgAttrSum":g.push("SUM("+g.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":C=W[1][2];var B=(r.names||[])[C-1]||(r[0]||[])[C],V=B?B.Name:"SH33TJSNAME"+String(C);V&&V.slice(0,6)=="_xlfn."&&!i.xlfn&&(V=V.slice(6)),g.push(V);break;case"PtgNameX":var L=W[1][1];C=W[1][2];var M;if(i.biff<=5)L<0&&(L=-L),r[L]&&(M=r[L][C]);else{var q="";if(((r[L]||[])[0]||[])[0]==14849||(((r[L]||[])[0]||[])[0]==1025?r[L][C]&&r[L][C].itab>0&&(q=r.SheetNames[r[L][C].itab-1]+"!"):q=r.SheetNames[C-1]+"!"),r[L]&&r[L][C])q+=r[L][C].Name;else if(r[0]&&r[0][C])q+=r[0][C].Name;else{var Q=(l6(r,L,i)||"").split(";;");Q[C-1]?q=Q[C-1]:q+="SH33TJSERRX"}g.push(q);break}M||(M={Name:"SH33TJSERRY"}),g.push(M.Name);break;case"PtgParen":var Z="(",pt=")";if(I>=0){switch(k="",t[0][I][1][0]){case 2:Z=Vr(" ",t[0][I][1][1])+Z;break;case 3:Z=Vr("\r",t[0][I][1][1])+Z;break;case 4:pt=Vr(" ",t[0][I][1][1])+pt;break;case 5:pt=Vr("\r",t[0][I][1][1])+pt;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][I][1][0])}I=-1}g.push(Z+g.pop()+pt);break;case"PtgRefErr":g.push("#REF!");break;case"PtgRefErr3d":g.push("#REF!");break;case"PtgExp":_={c:W[1][1],r:W[1][0]};var Ee={c:n.c,r:n.r};if(r.sharedf[Yn(_)]){var be=r.sharedf[Yn(_)];g.push(kf(be,u,Ee,r,i))}else{var Ue=!1;for(x=0;x!=r.arrayf.length;++x)if(m=r.arrayf[x],!(_.c<m[0].s.c||_.c>m[0].e.c)&&!(_.r<m[0].s.r||_.r>m[0].e.r)){g.push(kf(m[1],u,Ee,r,i)),Ue=!0;break}Ue||g.push(W[1])}break;case"PtgArray":g.push("{"+LW(W[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":I=H;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":g.push("");break;case"PtgAreaErr":g.push("#REF!");break;case"PtgAreaErr3d":g.push("#REF!");break;case"PtgList":g.push("Table"+W[1].idx+"[#"+W[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(W));default:throw new Error("Unrecognized Formula Token: "+String(W))}var xt=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&I>=0&&xt.indexOf(t[0][H][0])==-1){W=t[0][I];var wt=!0;switch(W[1][0]){case 4:wt=!1;case 0:k=Vr(" ",W[1][1]);break;case 5:wt=!1;case 1:k=Vr("\r",W[1][1]);break;default:if(k="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+W[1][0])}g.push((wt?k:"")+g.pop()+(wt?"":k)),I=-1}}if(g.length>1&&i.WTF)throw new Error("bad formula stack");return g[0]}function BW(t){if(t==null){var e=He(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return ou(t);return ou(0)}function UW(t,e,n,r,i){var o=lu(e,n,i),u=BW(t.v),g=He(6),x=33;g.write_shift(2,x),g.write_shift(4,0);for(var m=He(t.bf.length),_=0;_<t.bf.length;++_)m[_]=t.bf[_];var A=Hi([o,u,g,m]);return A}function Nm(t,e,n){var r=t.read_shift(4),i=kW(t,r,n),o=t.read_shift(4),u=o>0?MW(t,o,i,n):null;return[i,u]}var VW=Nm,Om=Nm,jW=Nm,HW=Nm,zW={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},c6={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},GW={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function WW(t){var e="of:="+t.replace(Xv,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function qW(t){return t.replace(/\./,"!")}var g0=typeof Map<"u";function $v(t,e,n){var r=0,i=t.length;if(n){if(g0?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var o=g0?n.get(e):n[e];r<o.length;++r)if(t[o[r]].t===e)return t.Count++,o[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(g0?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function Dm(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(al=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=Mg(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=Jx(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function u6(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function Ic(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,o=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){sR(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=o;++i)if(t[i].numFmtId===r)return i;return t[o]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function YW(t,e,n){if(t&&t["!ref"]){var r=yr(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function XW(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+li(t[n])+'"/>';return e+"</mergeCells>"}function KW(t,e,n,r,i){var o=!1,u={},g=null;if(r.bookType!=="xlsx"&&e.vbaraw){var x=e.SheetNames[n];try{e.Workbook&&(x=e.Workbook.Sheets[n].CodeName||x)}catch{}o=!0,u.codeName=k0(qn(x))}if(t&&t["!outline"]){var m={summaryBelow:1,summaryRight:1};t["!outline"].above&&(m.summaryBelow=0),t["!outline"].left&&(m.summaryRight=0),g=(g||"")+ht("outlinePr",null,m)}!o&&!g||(i[i.length]=ht("sheetPr",g,u))}var QW=["objects","scenarios","selectLockedCells","selectUnlockedCells"],$W=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function ZW(t){var e={sheet:1};return QW.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),$W.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=YR(t.password).toString(16).toUpperCase()),ht("sheetProtection",null,e)}function JW(t){return u6(t),ht("pageMargins",null,t)}function eq(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=ht("col",null,Dm(i,r)));return n[n.length]="</cols>",n.join("")}function tq(t,e,n,r){var i=typeof t.ref=="string"?t.ref:li(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,u=ca(i);u.s.r==u.e.r&&(u.e.r=ca(e["!ref"]).e.r,i=li(u));for(var g=0;g<o.length;++g){var x=o[g];if(x.Name=="_xlnm._FilterDatabase"&&x.Sheet==r){x.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return g==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),ht("autoFilter",null,{ref:i})}function nq(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),ht("sheetViews",ht("sheetView",null,i),{})}function rq(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",o=t.t,u=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=od[t.v];break;case"d":r&&r.cellDates?i=ms(t.v,-1).toISOString():(t=Ms(t),t.t="n",i=""+(t.v=Ds(ms(t.v)))),typeof t.z>"u"&&(t.z=Hr[14]);break;default:i=t.v;break}var g=zi("v",qn(i)),x={r:e},m=Ic(r.cellXfs,t,r);switch(m!==0&&(x.s=m),t.t){case"n":break;case"d":x.t="d";break;case"b":x.t="b";break;case"e":x.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){g=zi("v",""+$v(r.Strings,t.v,r.revStrings)),x.t="s";break}x.t="str";break}if(t.t!=o&&(t.t=o,t.v=u),typeof t.f=="string"&&t.f){var _=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;g=ht("f",qn(t.f),_)+(t.v!=null?g:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(x.cm=1),ht("c",g,x)}function iq(t,e,n,r){var i=[],o=[],u=yr(t["!ref"]),g="",x,m="",_=[],A=0,C=0,R=t["!rows"],O=Array.isArray(t),I={r:m},k,H=-1;for(C=u.s.c;C<=u.e.c;++C)_[C]=ss(C);for(A=u.s.r;A<=u.e.r;++A){for(o=[],m=Gi(A),C=u.s.c;C<=u.e.c;++C){x=_[C]+m;var Y=O?(t[A]||[])[C]:t[x];Y!==void 0&&(g=rq(Y,x,t,e))!=null&&o.push(g)}(o.length>0||R&&R[A])&&(I={r:m},R&&R[A]&&(k=R[A],k.hidden&&(I.hidden=1),H=-1,k.hpx?H=kg(k.hpx):k.hpt&&(H=k.hpt),H>-1&&(I.ht=H,I.customHeight=1),k.level&&(I.outlineLevel=k.level)),i[i.length]=ht("row",o.join(""),I))}if(R)for(;A<R.length;++A)R&&R[A]&&(I={r:A+1},k=R[A],k.hidden&&(I.hidden=1),H=-1,k.hpx?H=kg(k.hpx):k.hpt&&(H=k.hpt),H>-1&&(I.ht=H,I.customHeight=1),k.level&&(I.outlineLevel=k.level),i[i.length]=ht("row","",I));return i.join("")}function f6(t,e,n,r){var i=[ci,ht("worksheet",null,{xmlns:Wf[0],"xmlns:r":Ci.r})],o=n.SheetNames[t],u=0,g="",x=n.Sheets[o];x==null&&(x={});var m=x["!ref"]||"A1",_=yr(m);if(_.e.c>16383||_.e.r>1048575){if(e.WTF)throw new Error("Range "+m+" exceeds format limit A1:XFD1048576");_.e.c=Math.min(_.e.c,16383),_.e.r=Math.min(_.e.c,1048575),m=li(_)}r||(r={}),x["!comments"]=[];var A=[];KW(x,n,t,e,i),i[i.length]=ht("dimension",null,{ref:m}),i[i.length]=nq(x,e,t,n),e.sheetFormat&&(i[i.length]=ht("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),x["!cols"]!=null&&x["!cols"].length>0&&(i[i.length]=eq(x,x["!cols"])),i[u=i.length]="<sheetData/>",x["!links"]=[],x["!ref"]!=null&&(g=iq(x,e),g.length>0&&(i[i.length]=g)),i.length>u+1&&(i[i.length]="</sheetData>",i[u]=i[u].replace("/>",">")),x["!protect"]&&(i[i.length]=ZW(x["!protect"])),x["!autofilter"]!=null&&(i[i.length]=tq(x["!autofilter"],x,n,t)),x["!merges"]!=null&&x["!merges"].length>0&&(i[i.length]=XW(x["!merges"]));var C=-1,R,O=-1;return x["!links"].length>0&&(i[i.length]="<hyperlinks>",x["!links"].forEach(function(I){I[1].Target&&(R={ref:I[0]},I[1].Target.charAt(0)!="#"&&(O=Wn(r,-1,qn(I[1].Target).replace(/#.*$/,""),Nn.HLINK),R["r:id"]="rId"+O),(C=I[1].Target.indexOf("#"))>-1&&(R.location=qn(I[1].Target.slice(C+1))),I[1].Tooltip&&(R.tooltip=qn(I[1].Tooltip)),i[i.length]=ht("hyperlink",null,R))}),i[i.length]="</hyperlinks>"),delete x["!links"],x["!margins"]!=null&&(i[i.length]=JW(x["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=zi("ignoredErrors",ht("ignoredError",null,{numberStoredAsText:1,sqref:m}))),A.length>0&&(O=Wn(r,-1,"../drawings/drawing"+(t+1)+".xml",Nn.DRAW),i[i.length]=ht("drawing",null,{"r:id":"rId"+O}),x["!drawing"]=A),x["!comments"].length>0&&(O=Wn(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Nn.VML),i[i.length]=ht("legacyDrawing",null,{"r:id":"rId"+O}),x["!legacy"]=O),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function sq(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var o=t.read_shift(1);return t.l=r,o&7&&(n.level=o&7),o&16&&(n.hidden=!0),o&32&&(n.hpt=i/20),n}function aq(t,e,n){var r=He(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var o=320;i.hpx?o=kg(i.hpx)*20:i.hpt&&(o=i.hpt*20),r.write_shift(2,o),r.write_shift(1,0);var u=0;i.level&&(u|=i.level),i.hidden&&(u|=16),(i.hpx||i.hpt)&&(u|=32),r.write_shift(1,u),r.write_shift(1,0);var g=0,x=r.l;r.l+=4;for(var m={r:t,c:0},_=0;_<16;++_)if(!(e.s.c>_+1<<10||e.e.c<_<<10)){for(var A=-1,C=-1,R=_<<10;R<_+1<<10;++R){m.c=R;var O=Array.isArray(n)?(n[m.r]||[])[m.c]:n[Yn(m)];O&&(A<0&&(A=R),C=R)}A<0||(++g,r.write_shift(4,A),r.write_shift(4,C))}var I=r.l;return r.l=x,r.write_shift(4,g),r.l=I,r.length>r.l?r.slice(0,r.l):r}function oq(t,e,n,r){var i=aq(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&$e(t,0,i)}var lq=xu,cq=Yf;function uq(){}function fq(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=EH(t),n}function hq(t,e,n){n==null&&(n=He(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return Ng({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),CR(t,n),n.slice(0,n.l)}function dq(t){var e=Ma(t);return[e]}function gq(t,e,n){return n==null&&(n=He(8)),gu(e,n)}function mq(t){var e=mu(t);return[e]}function pq(t,e,n){return n==null&&(n=He(4)),pu(e,n)}function xq(t){var e=Ma(t),n=t.read_shift(1);return[e,n,"b"]}function yq(t,e,n){return n==null&&(n=He(9)),gu(e,n),n.write_shift(1,t.v?1:0),n}function vq(t){var e=mu(t),n=t.read_shift(1);return[e,n,"b"]}function _q(t,e,n){return n==null&&(n=He(5)),pu(e,n),n.write_shift(1,t.v?1:0),n}function Eq(t){var e=Ma(t),n=t.read_shift(1);return[e,n,"e"]}function wq(t,e,n){return n==null&&(n=He(9)),gu(e,n),n.write_shift(1,t.v),n}function Tq(t){var e=mu(t),n=t.read_shift(1);return[e,n,"e"]}function Aq(t,e,n){return n==null&&(n=He(8)),pu(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function Sq(t){var e=Ma(t),n=t.read_shift(4);return[e,n,"s"]}function Cq(t,e,n){return n==null&&(n=He(12)),gu(e,n),n.write_shift(4,e.v),n}function bq(t){var e=mu(t),n=t.read_shift(4);return[e,n,"s"]}function Iq(t,e,n){return n==null&&(n=He(8)),pu(e,n),n.write_shift(4,e.v),n}function Rq(t){var e=Ma(t),n=Xf(t);return[e,n,"n"]}function Nq(t,e,n){return n==null&&(n=He(16)),gu(e,n),ou(t.v,n),n}function Oq(t){var e=mu(t),n=Xf(t);return[e,n,"n"]}function Dq(t,e,n){return n==null&&(n=He(12)),pu(e,n),ou(t.v,n),n}function Mq(t){var e=Ma(t),n=bR(t);return[e,n,"n"]}function kq(t,e,n){return n==null&&(n=He(12)),gu(e,n),IR(t.v,n),n}function Lq(t){var e=mu(t),n=bR(t);return[e,n,"n"]}function Pq(t,e,n){return n==null&&(n=He(8)),pu(e,n),IR(t.v,n),n}function Fq(t){var e=Ma(t),n=zv(t);return[e,n,"is"]}function Bq(t){var e=Ma(t),n=as(t);return[e,n,"str"]}function Uq(t,e,n){return n==null&&(n=He(12+4*t.v.length)),gu(e,n),Ii(t.v,n),n.length>n.l?n.slice(0,n.l):n}function Vq(t){var e=mu(t),n=as(t);return[e,n,"str"]}function jq(t,e,n){return n==null&&(n=He(8+4*t.v.length)),pu(e,n),Ii(t.v,n),n.length>n.l?n.slice(0,n.l):n}function Hq(t,e,n){var r=t.l+e,i=Ma(t);i.r=n["!row"];var o=t.read_shift(1),u=[i,o,"b"];if(n.cellFormula){t.l+=2;var g=Om(t,r-t.l,n);u[3]=kf(g,null,i,n.supbooks,n)}else t.l=r;return u}function zq(t,e,n){var r=t.l+e,i=Ma(t);i.r=n["!row"];var o=t.read_shift(1),u=[i,o,"e"];if(n.cellFormula){t.l+=2;var g=Om(t,r-t.l,n);u[3]=kf(g,null,i,n.supbooks,n)}else t.l=r;return u}function Gq(t,e,n){var r=t.l+e,i=Ma(t);i.r=n["!row"];var o=Xf(t),u=[i,o,"n"];if(n.cellFormula){t.l+=2;var g=Om(t,r-t.l,n);u[3]=kf(g,null,i,n.supbooks,n)}else t.l=r;return u}function Wq(t,e,n){var r=t.l+e,i=Ma(t);i.r=n["!row"];var o=as(t),u=[i,o,"str"];if(n.cellFormula){t.l+=2;var g=Om(t,r-t.l,n);u[3]=kf(g,null,i,n.supbooks,n)}else t.l=r;return u}var qq=xu,Yq=Yf;function Xq(t,e){return e==null&&(e=He(4)),e.write_shift(4,t),e}function Kq(t,e){var n=t.l+e,r=xu(t),i=Gv(t),o=as(t),u=as(t),g=as(t);t.l=n;var x={rfx:r,relId:i,loc:o,display:g};return u&&(x.Tooltip=u),x}function Qq(t,e){var n=He(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Yf({s:bi(t[0]),e:bi(t[0])},n),Wv("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return Ii(i||"",n),Ii(t[1].Tooltip||"",n),Ii("",n),n.slice(0,n.l)}function $q(){}function Zq(t,e,n){var r=t.l+e,i=RR(t),o=t.read_shift(1),u=[i];if(u[2]=o,n.cellFormula){var g=VW(t,r-t.l,n);u[1]=g}else t.l=r;return u}function Jq(t,e,n){var r=t.l+e,i=xu(t),o=[i];if(n.cellFormula){var u=HW(t,r-t.l,n);o[1]=u,t.l=r}else t.l=r;return o}function eY(t,e,n){n==null&&(n=He(18));var r=Dm(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var h6=["left","right","top","bottom","header","footer"];function tY(t){var e={};return h6.forEach(function(n){e[n]=Xf(t)}),e}function nY(t,e){return e==null&&(e=He(6*8)),u6(t),h6.forEach(function(n){ou(t[n],e)}),e}function rY(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function iY(t,e,n){n==null&&(n=He(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function sY(t){var e=He(24);return e.write_shift(4,4),e.write_shift(4,1),Yf(t,e),e}function aY(t,e){return e==null&&(e=He(16*4+2)),e.write_shift(2,t.password?YR(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function oY(){}function lY(){}function cY(t,e,n,r,i,o,u){if(e.v===void 0)return!1;var g="";switch(e.t){case"b":g=e.v?"1":"0";break;case"d":e=Ms(e),e.z=e.z||Hr[14],e.v=Ds(ms(e.v)),e.t="n";break;case"n":case"e":g=""+e.v;break;default:g=e.v;break}var x={r:n,c:r};switch(x.s=Ic(i.cellXfs,e,i),e.l&&o["!links"].push([Yn(x),e.l]),e.c&&o["!comments"].push([Yn(x),e.c]),e.t){case"s":case"str":return i.bookSST?(g=$v(i.Strings,e.v,i.revStrings),x.t="s",x.v=g,u?$e(t,18,Iq(e,x)):$e(t,7,Cq(e,x))):(x.t="str",u?$e(t,17,jq(e,x)):$e(t,6,Uq(e,x))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?u?$e(t,13,Pq(e,x)):$e(t,2,kq(e,x)):u?$e(t,16,Dq(e,x)):$e(t,5,Nq(e,x)),!0;case"b":return x.t="b",u?$e(t,15,_q(e,x)):$e(t,4,yq(e,x)),!0;case"e":return x.t="e",u?$e(t,14,Aq(e,x)):$e(t,3,wq(e,x)),!0}return u?$e(t,12,pq(e,x)):$e(t,1,gq(e,x)),!0}function uY(t,e,n,r){var i=yr(e["!ref"]||"A1"),o,u="",g=[];$e(t,145);var x=Array.isArray(e),m=i.e.r;e["!rows"]&&(m=Math.max(i.e.r,e["!rows"].length-1));for(var _=i.s.r;_<=m;++_){u=Gi(_),oq(t,e,i,_);var A=!1;if(_<=i.e.r)for(var C=i.s.c;C<=i.e.c;++C){_===i.s.r&&(g[C]=ss(C)),o=g[C]+u;var R=x?(e[_]||[])[C]:e[o];if(!R){A=!1;continue}A=cY(t,R,_,C,r,e,A)}}$e(t,146)}function fY(t,e){!e||!e["!merges"]||($e(t,177,Xq(e["!merges"].length)),e["!merges"].forEach(function(n){$e(t,176,Yq(n))}),$e(t,178))}function hY(t,e){!e||!e["!cols"]||($e(t,390),e["!cols"].forEach(function(n,r){n&&$e(t,60,eY(r,n))}),$e(t,391))}function dY(t,e){!e||!e["!ref"]||($e(t,648),$e(t,649,sY(yr(e["!ref"]))),$e(t,650))}function gY(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=Wn(n,-1,r[1].Target.replace(/#.*$/,""),Nn.HLINK);$e(t,494,Qq(r,i))}}),delete e["!links"]}function mY(t,e,n,r){if(e["!comments"].length>0){var i=Wn(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Nn.VML);$e(t,551,Wv("rId"+i)),e["!legacy"]=i}}function pY(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],o=typeof i.ref=="string"?i.ref:li(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var u=n.Workbook.Names,g=ca(o);g.s.r==g.e.r&&(g.e.r=ca(e["!ref"]).e.r,o=li(g));for(var x=0;x<u.length;++x){var m=u[x];if(m.Name=="_xlnm._FilterDatabase"&&m.Sheet==r){m.Ref="'"+n.SheetNames[r]+"'!"+o;break}}x==u.length&&u.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+o}),$e(t,161,Yf(yr(o))),$e(t,162)}}function xY(t,e,n){$e(t,133),$e(t,137,iY(e,n)),$e(t,138),$e(t,134)}function yY(t,e){e["!protect"]&&$e(t,535,aY(e["!protect"]))}function vY(t,e,n,r){var i=Ns(),o=n.SheetNames[t],u=n.Sheets[o]||{},g=o;try{n&&n.Workbook&&(g=n.Workbook.Sheets[t].CodeName||g)}catch{}var x=yr(u["!ref"]||"A1");if(x.e.c>16383||x.e.r>1048575){if(e.WTF)throw new Error("Range "+(u["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");x.e.c=Math.min(x.e.c,16383),x.e.r=Math.min(x.e.c,1048575)}return u["!links"]=[],u["!comments"]=[],$e(i,129),(n.vbaraw||u["!outline"])&&$e(i,147,hq(g,u["!outline"])),$e(i,148,cq(x)),xY(i,u,n.Workbook),hY(i,u),uY(i,u,t,e),yY(i,u),pY(i,u,n,t),fY(i,u),gY(i,u,r),u["!margins"]&&$e(i,476,nY(u["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&dY(i,u),mY(i,u,t,r),$e(i,130),i.end()}function _Y(t,e){t.l+=10;var n=as(t);return{name:n}}var EY=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function wY(t){return!t.Workbook||!t.Workbook.WBProps?"false":Jj(t.Workbook.WBProps.date1904)?"true":"false"}var TY="][*?/\\".split("");function d6(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return TY.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function AY(t,e,n){t.forEach(function(r,i){d6(r);for(var o=0;o<i;++o)if(r==t[o])throw new Error("Duplicate Sheet Name: "+r);if(n){var u=e&&e[i]&&e[i].CodeName||r;if(u.charCodeAt(0)==95&&u.length>22)throw new Error("Bad Code Name: Worksheet"+u)}})}function SY(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];AY(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)YW(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function g6(t){var e=[ci];e[e.length]=ht("workbook",null,{xmlns:Wf[0],"xmlns:r":Ci.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(EY.forEach(function(g){t.Workbook.WBProps[g[0]]!=null&&t.Workbook.WBProps[g[0]]!=g[1]&&(r[g[0]]=t.Workbook.WBProps[g[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=ht("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],o=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",o=0;o!=t.SheetNames.length&&!(!i[o]||!i[o].Hidden);++o);o==t.SheetNames.length&&(o=0),e[e.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",o=0;o!=t.SheetNames.length;++o){var u={name:qn(t.SheetNames[o].slice(0,31))};if(u.sheetId=""+(o+1),u["r:id"]="rId"+(o+1),i[o])switch(i[o].Hidden){case 1:u.state="hidden";break;case 2:u.state="veryHidden";break}e[e.length]=ht("sheet",null,u)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(g){var x={name:g.Name};g.Comment&&(x.comment=g.Comment),g.Sheet!=null&&(x.localSheetId=""+g.Sheet),g.Hidden&&(x.hidden="1"),g.Ref&&(e[e.length]=ht("definedName",qn(g.Ref),x))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function CY(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=Zx(t),n.name=as(t),n}function bY(t,e){return e||(e=He(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),Wv(t.strRelID,e),Ii(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function IY(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?as(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function RY(t,e){e||(e=He(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),CR(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function NY(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),o=wH(t),u=jW(t,0,n),g=Gv(t);t.l=r;var x={Name:o,Ptg:u};return i<268435455&&(x.Sheet=i),g&&(x.Comment=g),x}function OY(t,e){$e(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};$e(t,156,bY(i))}$e(t,144)}function DY(t,e){e||(e=He(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Ii("SheetJS",e),Ii(wg.version,e),Ii(wg.version,e),Ii("7262",e),e.length>e.l?e.slice(0,e.l):e}function MY(t,e){e||(e=He(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function kY(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,o=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&o==-1&&(o=r);o>i||($e(t,135),$e(t,158,MY(i)),$e(t,136))}}function LY(t,e){var n=Ns();return $e(n,131),$e(n,128,DY()),$e(n,153,RY(t.Workbook&&t.Workbook.WBProps||null)),kY(n,t),OY(n,t),$e(n,132),n.end()}function PY(t,e,n){return(e.slice(-4)===".bin"?LY:g6)(t)}function FY(t,e,n,r,i){return(e.slice(-4)===".bin"?vY:f6)(t,n,r,i)}function BY(t,e,n){return(e.slice(-4)===".bin"?nG:QR)(t,n)}function UY(t,e,n){return(e.slice(-4)===".bin"?Rz:qR)(t,n)}function VY(t,e,n){return(e.slice(-4)===".bin"?yG:t6)(t)}function jY(t){return(t.slice(-4)===".bin"?uG:JR)()}function HY(t,e){var n=[];return t.Props&&n.push(BH(t.Props,e)),t.Custprops&&n.push(UH(t.Props,t.Custprops)),n.join("")}function zY(){return""}function GY(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var o=[];o.push(ht("NumberFormat",null,{"ss:Format":qn(Hr[r.numFmtId])}));var u={"ss:ID":"s"+(21+i)};n.push(ht("Style",o.join(""),u))}),ht("Styles",n.join(""))}function m6(t){return ht("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Kv(t.Ref,{r:0,c:0})})}function WY(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(m6(i)))}return ht("Names",n.join(""))}function qY(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,o=[],u=0;u<i.length;++u){var g=i[u];g.Sheet==n&&(g.Name.match(/^_xlfn\./)||o.push(m6(g)))}return o.join("")}function YY(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(ht("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(ht("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(ht("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(ht("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<n&&!(r.Workbook.Sheets[o]&&!r.Workbook.Sheets[o].Hidden);++o);o==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(zi("ProtectContents","True")),t["!protect"].objects&&i.push(zi("ProtectObjects","True")),t["!protect"].scenarios&&i.push(zi("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(zi("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(zi("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(u){t["!protect"][u[0]]&&i.push("<"+u[1]+"/>")})),i.length==0?"":ht("WorksheetOptions",i.join(""),{xmlns:ea.x})}function XY(t){return t.map(function(e){var n=Zj(e.t||""),r=ht("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return ht("Comment",r,{"ss:Author":e.a})}).join("")}function KY(t,e,n,r,i,o,u){if(!t||t.v==null&&t.f==null)return"";var g={};if(t.f&&(g["ss:Formula"]="="+qn(Kv(t.f,u))),t.F&&t.F.slice(0,e.length)==e){var x=bi(t.F.slice(e.length+1));g["ss:ArrayRange"]="RC:R"+(x.r==u.r?"":"["+(x.r-u.r)+"]")+"C"+(x.c==u.c?"":"["+(x.c-u.c)+"]")}if(t.l&&t.l.Target&&(g["ss:HRef"]=qn(t.l.Target),t.l.Tooltip&&(g["x:HRefScreenTip"]=qn(t.l.Tooltip))),n["!merges"])for(var m=n["!merges"],_=0;_!=m.length;++_)m[_].s.c!=u.c||m[_].s.r!=u.r||(m[_].e.c>m[_].s.c&&(g["ss:MergeAcross"]=m[_].e.c-m[_].s.c),m[_].e.r>m[_].s.r&&(g["ss:MergeDown"]=m[_].e.r-m[_].s.r));var A="",C="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":A="Number",C=String(t.v);break;case"b":A="Boolean",C=t.v?"1":"0";break;case"e":A="Error",C=od[t.v];break;case"d":A="DateTime",C=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Hr[14]);break;case"s":A="String",C=$j(t.v||"");break}var R=Ic(r.cellXfs,t,r);g["ss:StyleID"]="s"+(21+R),g["ss:Index"]=u.c+1;var O=t.v!=null?C:"",I=t.t=="z"?"":'<Data ss:Type="'+A+'">'+O+"</Data>";return(t.c||[]).length>0&&(I+=XY(t.c)),ht("Cell",I,g)}function QY(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=KR(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function $Y(t,e,n,r){if(!t["!ref"])return"";var i=yr(t["!ref"]),o=t["!merges"]||[],u=0,g=[];t["!cols"]&&t["!cols"].forEach(function(k,H){Yv(k);var Y=!!k.width,W=Dm(H,k),te={"ss:Index":H+1};Y&&(te["ss:Width"]=Dg(W.width)),k.hidden&&(te["ss:Hidden"]="1"),g.push(ht("Column",null,te))});for(var x=Array.isArray(t),m=i.s.r;m<=i.e.r;++m){for(var _=[QY(m,(t["!rows"]||[])[m])],A=i.s.c;A<=i.e.c;++A){var C=!1;for(u=0;u!=o.length;++u)if(!(o[u].s.c>A)&&!(o[u].s.r>m)&&!(o[u].e.c<A)&&!(o[u].e.r<m)){(o[u].s.c!=A||o[u].s.r!=m)&&(C=!0);break}if(!C){var R={r:m,c:A},O=Yn(R),I=x?(t[m]||[])[A]:t[O];_.push(KY(I,O,t,e,n,r,R))}}_.push("</Row>"),_.length>2&&g.push(_.join(""))}return g.join("")}function ZY(t,e,n){var r=[],i=n.SheetNames[t],o=n.Sheets[i],u=o?qY(o,e,t,n):"";return u.length>0&&r.push("<Names>"+u+"</Names>"),u=o?$Y(o,e,t,n):"",u.length>0&&r.push("<Table>"+u+"</Table>"),r.push(YY(o,e,t,n)),r.join("")}function JY(t,e){e||(e={}),t.SSF||(t.SSF=Ms(Hr)),t.SSF&&(bm(),Cm(t.SSF),e.revssf=Im(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Ic(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(HY(t,e)),n.push(zY()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(ht("Worksheet",ZY(r,e,t),{"ss:Name":qn(t.SheetNames[r])}));return n[2]=GY(t,e),n[3]=WY(t),ci+ht("Workbook",n.join(""),{xmlns:ea.ss,"xmlns:o":ea.o,"xmlns:x":ea.x,"xmlns:ss":ea.ss,"xmlns:dt":ea.dt,"xmlns:html":ea.html})}var lx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function eX(t,e){var n=[],r=[],i=[],o=0,u,g=gC(bC,"n"),x=gC(IC,"n");if(t.Props)for(u=qi(t.Props),o=0;o<u.length;++o)(Object.prototype.hasOwnProperty.call(g,u[o])?n:Object.prototype.hasOwnProperty.call(x,u[o])?r:i).push([u[o],t.Props[u[o]]]);if(t.Custprops)for(u=qi(t.Custprops),o=0;o<u.length;++o)Object.prototype.hasOwnProperty.call(t.Props||{},u[o])||(Object.prototype.hasOwnProperty.call(g,u[o])?n:Object.prototype.hasOwnProperty.call(x,u[o])?r:i).push([u[o],t.Custprops[u[o]]]);var m=[];for(o=0;o<i.length;++o)UR.indexOf(i[o][0])>-1||PR.indexOf(i[o][0])>-1||i[o][1]!=null&&m.push(i[o]);r.length&&Zn.utils.cfb_add(e,"/SummaryInformation",MC(r,lx.SI,x,IC)),(n.length||m.length)&&Zn.utils.cfb_add(e,"/DocumentSummaryInformation",MC(n,lx.DSI,g,bC,m.length?m:null,lx.UDI))}function tX(t,e){var n=e||{},r=Zn.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Zn.utils.cfb_add(r,i,p6(t,n)),n.biff==8&&(t.Props||t.Custprops)&&eX(t,r),n.biff==8&&t.vbaraw&&vG(r,Zn.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var nX={0:{f:sq},1:{f:dq},2:{f:Mq},3:{f:Eq},4:{f:xq},5:{f:Rq},6:{f:Bq},7:{f:Sq},8:{f:Wq},9:{f:Gq},10:{f:Hq},11:{f:zq},12:{f:mq},13:{f:Lq},14:{f:Tq},15:{f:vq},16:{f:Oq},17:{f:Vq},18:{f:bq},19:{f:zv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:NY},40:{},42:{},43:{f:Bz},44:{f:Pz},45:{f:jz},46:{f:zz},47:{f:Hz},48:{},49:{f:mH},50:{},51:{f:sG},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:pz},62:{f:Fq},63:{f:fG},64:{f:oY},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Oo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:rY},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:fq},148:{f:lq,p:16},151:{f:$q},152:{},153:{f:IY},154:{},155:{},156:{f:CY},157:{},158:{},159:{T:1,f:Cz},160:{T:-1},161:{T:1,f:xu},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:qq},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:rG},336:{T:-1},337:{f:lG,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Zx},357:{},358:{},359:{},360:{T:1},361:{},362:{f:uz},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Zq},427:{f:Jq},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:tY},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:uq},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Kq},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Zx},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:pG},633:{T:1},634:{T:-1},635:{T:1,f:gG},636:{T:-1},637:{f:vH},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:_Y},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:lY},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function dt(t,e,n,r){var i=e;if(!isNaN(i)){var o=r||(n||[]).length||0,u=t.next(4);u.write_shift(2,i),u.write_shift(2,o),o>0&&Vv(n)&&t.push(n)}}function rX(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return dt(t,e,n,i);var o=e;if(!isNaN(o)){for(var u=n.parts||[],g=0,x=0,m=0;m+(u[g]||8224)<=8224;)m+=u[g]||8224,g++;var _=t.next(4);for(_.write_shift(2,o),_.write_shift(2,m),t.push(n.slice(x,x+m)),x+=m;x<i;){for(_=t.next(4),_.write_shift(2,60),m=0;m+(u[g]||8224)<=8224;)m+=u[g]||8224,g++;_.write_shift(2,m),t.push(n.slice(x,x+m)),x+=m}}}function cd(t,e,n){return t||(t=He(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function iX(t,e,n,r){var i=He(9);return cd(i,t,e),jR(n,r||"b",i),i}function sX(t,e,n){var r=He(8+2*n.length);return cd(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function aX(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Ds(ms(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?dt(t,2,_z(n,r,i)):dt(t,3,vz(n,r,i));return;case"b":case"e":dt(t,5,iX(n,r,e.v,e.t));return;case"s":case"str":dt(t,4,sX(n,r,(e.v||"").slice(0,255)));return}dt(t,1,cd(null,n,r))}function oX(t,e,n,r){var i=Array.isArray(e),o=yr(e["!ref"]||"A1"),u,g="",x=[];if(o.e.c>255||o.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),u=li(o)}for(var m=o.s.r;m<=o.e.r;++m){g=Gi(m);for(var _=o.s.c;_<=o.e.c;++_){m===o.s.r&&(x[_]=ss(_)),u=x[_]+g;var A=i?(e[m]||[])[_]:e[u];A&&aX(t,A,m,_)}}}function lX(t,e){for(var n=e||{},r=Ns(),i=0,o=0;o<t.SheetNames.length;++o)t.SheetNames[o]==n.sheet&&(i=o);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return dt(r,n.biff==4?1033:n.biff==3?521:9,qv(t,16,n)),oX(r,t.Sheets[t.SheetNames[i]],i,n),dt(r,10),r.end()}function cX(t,e,n){dt(t,49,nz({sz:12,name:"Arial"},n))}function uX(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&dt(t,1054,sz(i,e[i],n))})}function fX(t,e){var n=He(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),dt(t,2151,n),n=He(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),GR(yr(e["!ref"]||"A1"),n),n.write_shift(4,4),dt(t,2152,n)}function hX(t,e){for(var n=0;n<16;++n)dt(t,224,LC({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){dt(t,224,LC(r,0,e))})}function dX(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];dt(t,440,dz(r)),r[1].Tooltip&&dt(t,2048,gz(r))}delete e["!links"]}function gX(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&dt(t,125,xz(Dm(i,r),i))})}}function mX(t,e,n,r,i){var o=16+Ic(i.cellXfs,e,i);if(e.v==null&&!e.bf){dt(t,513,lu(n,r,o));return}if(e.bf)dt(t,6,UW(e,n,r,i,o));else switch(e.t){case"d":case"n":var u=e.t=="d"?Ds(ms(e.v)):e.v;dt(t,515,cz(n,r,u,o));break;case"b":case"e":dt(t,517,lz(n,r,e.v,o,i,e.t));break;case"s":case"str":if(i.bookSST){var g=$v(i.Strings,e.v,i.revStrings);dt(t,253,rz(n,r,g,o))}else dt(t,516,iz(n,r,(e.v||"").slice(0,255),o,i));break;default:dt(t,513,lu(n,r,o))}}function pX(t,e,n){var r=Ns(),i=n.SheetNames[t],o=n.Sheets[i]||{},u=(n||{}).Workbook||{},g=(u.Sheets||[])[t]||{},x=Array.isArray(o),m=e.biff==8,_,A="",C=[],R=yr(o["!ref"]||"A1"),O=m?65536:16384;if(R.e.c>255||R.e.r>=O){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");R.e.c=Math.min(R.e.c,255),R.e.r=Math.min(R.e.c,O-1)}dt(r,2057,qv(n,16,e)),dt(r,13,Ca(1)),dt(r,12,Ca(100)),dt(r,15,gs(!0)),dt(r,17,gs(!1)),dt(r,16,ou(.001)),dt(r,95,gs(!0)),dt(r,42,gs(!1)),dt(r,43,gs(!1)),dt(r,130,Ca(1)),dt(r,128,oz()),dt(r,131,gs(!1)),dt(r,132,gs(!1)),m&&gX(r,o["!cols"]),dt(r,512,az(R,e)),m&&(o["!links"]=[]);for(var I=R.s.r;I<=R.e.r;++I){A=Gi(I);for(var k=R.s.c;k<=R.e.c;++k){I===R.s.r&&(C[k]=ss(k)),_=C[k]+A;var H=x?(o[I]||[])[k]:o[_];H&&(mX(r,H,I,k,e),m&&H.l&&o["!links"].push([_,H.l]))}}var Y=g.CodeName||g.name||i;return m&&dt(r,574,tz((u.Views||[])[0])),m&&(o["!merges"]||[]).length&&dt(r,229,hz(o["!merges"])),m&&dX(r,o),dt(r,442,zR(Y)),m&&fX(r,o),dt(r,10),r.end()}function xX(t,e,n){var r=Ns(),i=(t||{}).Workbook||{},o=i.Sheets||[],u=i.WBProps||{},g=n.biff==8,x=n.biff==5;if(dt(r,2057,qv(t,5,n)),n.bookType=="xla"&&dt(r,135),dt(r,225,g?Ca(1200):null),dt(r,193,HH(2)),x&&dt(r,191),x&&dt(r,192),dt(r,226),dt(r,92,$H("SheetJS",n)),dt(r,66,Ca(g?1200:1252)),g&&dt(r,353,Ca(0)),g&&dt(r,448),dt(r,317,yz(t.SheetNames.length)),g&&t.vbaraw&&dt(r,211),g&&t.vbaraw){var m=u.CodeName||"ThisWorkbook";dt(r,442,zR(m))}dt(r,156,Ca(17)),dt(r,25,gs(!1)),dt(r,18,gs(!1)),dt(r,19,Ca(0)),g&&dt(r,431,gs(!1)),g&&dt(r,444,Ca(0)),dt(r,61,ez()),dt(r,64,gs(!1)),dt(r,141,Ca(0)),dt(r,34,gs(wY(t)=="true")),dt(r,14,gs(!0)),g&&dt(r,439,gs(!1)),dt(r,218,Ca(0)),cX(r,t,n),uX(r,t.SSF,n),hX(r,n),g&&dt(r,352,gs(!1));var _=r.end(),A=Ns();g&&dt(A,140,mz()),g&&n.Strings&&rX(A,252,JH(n.Strings)),dt(A,10);var C=A.end(),R=Ns(),O=0,I=0;for(I=0;I<t.SheetNames.length;++I)O+=(g?12:11)+(g?2:1)*t.SheetNames[I].length;var k=_.length+O+C.length;for(I=0;I<t.SheetNames.length;++I){var H=o[I]||{};dt(R,133,ZH({pos:k,hs:H.Hidden||0,dt:0,name:t.SheetNames[I]},n)),k+=e[I].length}var Y=R.end();if(O!=Y.length)throw new Error("BS8 "+O+" != "+Y.length);var W=[];return _.length&&W.push(_),Y.length&&W.push(Y),C.length&&W.push(C),Hi(W)}function yX(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=Ms(Hr)),t&&t.SSF&&(bm(),Cm(t.SSF),n.revssf=Im(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,Zv(n),n.cellXfs=[],Ic(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=pX(i,n,t);return r.unshift(xX(t,r,n)),Hi(r)}function p6(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=ca(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var o=e||{};switch(o.biff||2){case 8:case 5:return yX(t,e);case 4:case 3:case 2:return lX(t,e)}throw new Error("invalid type "+o.bookType+" for BIFF")}function vX(t,e,n,r){for(var i=t["!merges"]||[],o=[],u=e.s.c;u<=e.e.c;++u){for(var g=0,x=0,m=0;m<i.length;++m)if(!(i[m].s.r>n||i[m].s.c>u)&&!(i[m].e.r<n||i[m].e.c<u)){if(i[m].s.r<n||i[m].s.c<u){g=-1;break}g=i[m].e.r-i[m].s.r+1,x=i[m].e.c-i[m].s.c+1;break}if(!(g<0)){var _=Yn({r:n,c:u}),A=r.dense?(t[n]||[])[u]:t[_],C=A&&A.v!=null&&(A.h||Qj(A.w||(ml(A),A.w)||""))||"",R={};g>1&&(R.rowspan=g),x>1&&(R.colspan=x),r.editable?C='<span contenteditable="true">'+C+"</span>":A&&(R["data-t"]=A&&A.t||"z",A.v!=null&&(R["data-v"]=A.v),A.z!=null&&(R["data-z"]=A.z),A.l&&(A.l.Target||"#").charAt(0)!="#"&&(C='<a href="'+A.l.Target+'">'+C+"</a>")),R.id=(r.id||"sjs")+"-"+_,o.push(ht("td",C,R))}}var O="<tr>";return O+o.join("")+"</tr>"}var _X='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',EX="</body></html>";function wX(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function x6(t,e){var n=e||{},r=n.header!=null?n.header:_X,i=n.footer!=null?n.footer:EX,o=[r],u=ca(t["!ref"]);n.dense=Array.isArray(t),o.push(wX(t,u,n));for(var g=u.s.r;g<=u.e.r;++g)o.push(vX(t,u,g,n));return o.push("</table>"+i),o.join("")}function y6(t,e,n){var r=n||{},i=0,o=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var u=typeof r.origin=="string"?bi(r.origin):r.origin;i=u.r,o=u.c}var g=e.getElementsByTagName("tr"),x=Math.min(r.sheetRows||1e7,g.length),m={s:{r:0,c:0},e:{r:i,c:o}};if(t["!ref"]){var _=ca(t["!ref"]);m.s.r=Math.min(m.s.r,_.s.r),m.s.c=Math.min(m.s.c,_.s.c),m.e.r=Math.max(m.e.r,_.e.r),m.e.c=Math.max(m.e.c,_.e.c),i==-1&&(m.e.r=i=_.e.r+1)}var A=[],C=0,R=t["!rows"]||(t["!rows"]=[]),O=0,I=0,k=0,H=0,Y=0,W=0;for(t["!cols"]||(t["!cols"]=[]);O<g.length&&I<x;++O){var te=g[O];if(HC(te)){if(r.display)continue;R[I]={hidden:!0}}var oe=te.children;for(k=H=0;k<oe.length;++k){var ve=oe[k];if(!(r.display&&HC(ve))){var B=ve.hasAttribute("data-v")?ve.getAttribute("data-v"):ve.hasAttribute("v")?ve.getAttribute("v"):eH(ve.innerHTML),V=ve.getAttribute("data-z")||ve.getAttribute("z");for(C=0;C<A.length;++C){var L=A[C];L.s.c==H+o&&L.s.r<I+i&&I+i<=L.e.r&&(H=L.e.c+1-o,C=-1)}W=+ve.getAttribute("colspan")||1,((Y=+ve.getAttribute("rowspan")||1)>1||W>1)&&A.push({s:{r:I+i,c:H+o},e:{r:I+i+(Y||1)-1,c:H+o+(W||1)-1}});var M={t:"s",v:B},q=ve.getAttribute("data-t")||ve.getAttribute("t")||"";B!=null&&(B.length==0?M.t=q||"z":r.raw||B.trim().length==0||q=="s"||(B==="TRUE"?M={t:"b",v:!0}:B==="FALSE"?M={t:"b",v:!1}:isNaN(sl(B))?isNaN(M0(B).getDate())||(M={t:"d",v:ms(B)},r.cellDates||(M={t:"n",v:Ds(M.v)}),M.z=r.dateNF||Hr[14]):M={t:"n",v:sl(B)})),M.z===void 0&&V!=null&&(M.z=V);var Q="",Z=ve.getElementsByTagName("A");if(Z&&Z.length)for(var pt=0;pt<Z.length&&!(Z[pt].hasAttribute("href")&&(Q=Z[pt].getAttribute("href"),Q.charAt(0)!="#"));++pt);Q&&Q.charAt(0)!="#"&&(M.l={Target:Q}),r.dense?(t[I+i]||(t[I+i]=[]),t[I+i][H+o]=M):t[Yn({c:H+o,r:I+i})]=M,m.e.c<H+o&&(m.e.c=H+o),H+=W}}++I}return A.length&&(t["!merges"]=(t["!merges"]||[]).concat(A)),m.e.r=Math.max(m.e.r,I-1+i),t["!ref"]=li(m),I>=x&&(t["!fullref"]=li((m.e.r=g.length-O+I-1+i,m))),t}function v6(t,e){var n=e||{},r=n.dense?[]:{};return y6(r,t,e)}function TX(t,e){return du(v6(t,e),e)}function HC(t){var e="",n=AX(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function AX(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var SX=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+L0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return ci+e}}(),zC=function(){var t=function(o){return qn(o).replace(/  +/g,function(u){return'<text:s text:c="'+u.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(o,u,g){var x=[];x.push('      <table:table table:name="'+qn(u.SheetNames[g])+`" table:style-name="ta1">
`);var m=0,_=0,A=ca(o["!ref"]||"A1"),C=o["!merges"]||[],R=0,O=Array.isArray(o);if(o["!cols"])for(_=0;_<=A.e.c;++_)x.push("        <table:table-column"+(o["!cols"][_]?' table:style-name="co'+o["!cols"][_].ods+'"':"")+`></table:table-column>
`);var I="",k=o["!rows"]||[];for(m=0;m<A.s.r;++m)I=k[m]?' table:style-name="ro'+k[m].ods+'"':"",x.push("        <table:table-row"+I+`></table:table-row>
`);for(;m<=A.e.r;++m){for(I=k[m]?' table:style-name="ro'+k[m].ods+'"':"",x.push("        <table:table-row"+I+`>
`),_=0;_<A.s.c;++_)x.push(e);for(;_<=A.e.c;++_){var H=!1,Y={},W="";for(R=0;R!=C.length;++R)if(!(C[R].s.c>_)&&!(C[R].s.r>m)&&!(C[R].e.c<_)&&!(C[R].e.r<m)){(C[R].s.c!=_||C[R].s.r!=m)&&(H=!0),Y["table:number-columns-spanned"]=C[R].e.c-C[R].s.c+1,Y["table:number-rows-spanned"]=C[R].e.r-C[R].s.r+1;break}if(H){x.push(n);continue}var te=Yn({r:m,c:_}),oe=O?(o[m]||[])[_]:o[te];if(oe&&oe.f&&(Y["table:formula"]=qn(WW(oe.f)),oe.F&&oe.F.slice(0,te.length)==te)){var ve=ca(oe.F);Y["table:number-matrix-columns-spanned"]=ve.e.c-ve.s.c+1,Y["table:number-matrix-rows-spanned"]=ve.e.r-ve.s.r+1}if(!oe){x.push(e);continue}switch(oe.t){case"b":W=oe.v?"TRUE":"FALSE",Y["office:value-type"]="boolean",Y["office:boolean-value"]=oe.v?"true":"false";break;case"n":W=oe.w||String(oe.v||0),Y["office:value-type"]="float",Y["office:value"]=oe.v||0;break;case"s":case"str":W=oe.v==null?"":oe.v,Y["office:value-type"]="string";break;case"d":W=oe.w||ms(oe.v).toISOString(),Y["office:value-type"]="date",Y["office:date-value"]=ms(oe.v).toISOString(),Y["table:style-name"]="ce1";break;default:x.push(e);continue}var B=t(W);if(oe.l&&oe.l.Target){var V=oe.l.Target;V=V.charAt(0)=="#"?"#"+qW(V.slice(1)):V,V.charAt(0)!="#"&&!V.match(/^\w+:/)&&(V="../"+V),B=ht("text:a",B,{"xlink:href":V.replace(/&/g,"&amp;")})}x.push("          "+ht("table:table-cell",ht("text:p",B,{}),Y)+`
`)}x.push(`        </table:table-row>
`)}return x.push(`      </table:table>
`),x.join("")},i=function(o,u){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var g=0;u.SheetNames.map(function(m){return u.Sheets[m]}).forEach(function(m){if(m&&m["!cols"]){for(var _=0;_<m["!cols"].length;++_)if(m["!cols"][_]){var A=m["!cols"][_];if(A.width==null&&A.wpx==null&&A.wch==null)continue;Yv(A),A.ods=g;var C=m["!cols"][_].wpx+"px";o.push('  <style:style style:name="co'+g+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+C+`"/>
`),o.push(`  </style:style>
`),++g}}});var x=0;u.SheetNames.map(function(m){return u.Sheets[m]}).forEach(function(m){if(m&&m["!rows"]){for(var _=0;_<m["!rows"].length;++_)if(m["!rows"][_]){m["!rows"][_].ods=x;var A=m["!rows"][_].hpx+"px";o.push('  <style:style style:name="ro'+x+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+A+`"/>
`),o.push(`  </style:style>
`),++x}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(u,g){var x=[ci],m=L0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),_=L0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});g.bookType=="fods"?(x.push("<office:document"+m+_+`>
`),x.push(kR().replace(/office:document-meta/g,"office:meta"))):x.push("<office:document-content"+m+`>
`),i(x,u),x.push(`  <office:body>
`),x.push(`    <office:spreadsheet>
`);for(var A=0;A!=u.SheetNames.length;++A)x.push(r(u.Sheets[u.SheetNames[A]],u,A));return x.push(`    </office:spreadsheet>
`),x.push(`  </office:body>
`),g.bookType=="fods"?x.push("</office:document>"):x.push("</office:document-content>"),x.join("")}}();function _6(t,e){if(e.bookType=="fods")return zC(t,e);var n=Pv(),r="",i=[],o=[];return r="mimetype",tn(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",tn(n,r,zC(t,e)),i.push([r,"text/xml"]),o.push([r,"ContentFile"]),r="styles.xml",tn(n,r,SX(t,e)),i.push([r,"text/xml"]),o.push([r,"StylesFile"]),r="meta.xml",tn(n,r,ci+kR()),i.push([r,"text/xml"]),o.push([r,"MetadataFile"]),r="manifest.rdf",tn(n,r,FH(o)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",tn(n,r,LH(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Lg(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function CX(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Wa(k0(t))}function bX(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function Ec(t){var e=t.reduce(function(i,o){return i+o.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function IX(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var o=0;i>=1;++o,i/=256)t[e+o]=i&255;t[e+15]|=n>=0?0:128}function P0(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function zn(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Cf(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function yi(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=P0(t,n),o=i&7;i=Math.floor(i/8);var u=0,g;if(i==0)break;switch(o){case 0:{for(var x=n[0];t[n[0]++]>=128;);g=t.slice(x,n[0])}break;case 5:u=4,g=t.slice(n[0],n[0]+u),n[0]+=u;break;case 1:u=8,g=t.slice(n[0],n[0]+u),n[0]+=u;break;case 2:u=P0(t,n),g=t.slice(n[0],n[0]+u),n[0]+=u;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(i," at offset ").concat(r))}var m={data:g,type:o};e[i]==null?e[i]=[m]:e[i].push(m)}return e}function Fi(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(zn(r*8+i.type)),i.type==2&&e.push(zn(i.data.length)),e.push(i.data))})}),Ec(e)}function Ha(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=P0(t,r),o=yi(t.slice(r[0],r[0]+i));r[0]+=i;var u={id:Cf(o[1][0].data),messages:[]};o[2].forEach(function(g){var x=yi(g.data),m=Cf(x[3][0].data);u.messages.push({meta:x,data:t.slice(r[0],r[0]+m)}),r[0]+=m}),(e=o[3])!=null&&e[0]&&(u.merge=Cf(o[3][0].data)>>>0>0),n.push(u)}return n}function af(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:zn(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:zn(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(u){i.push(u.data),u.meta[3]=[{type:0,data:zn(u.data.length)}],r[2].push({data:Fi(u.meta),type:2})});var o=Fi(r);e.push(zn(o.length)),e.push(o),i.forEach(function(u){return e.push(u)})}),Ec(e)}function RX(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=P0(e,n),i=[];n[0]<e.length;){var o=e[n[0]]&3;if(o==0){var u=e[n[0]++]>>2;if(u<60)++u;else{var g=u-59;u=e[n[0]],g>1&&(u|=e[n[0]+1]<<8),g>2&&(u|=e[n[0]+2]<<16),g>3&&(u|=e[n[0]+3]<<24),u>>>=0,u++,n[0]+=g}i.push(e.slice(n[0],n[0]+u)),n[0]+=u;continue}else{var x=0,m=0;if(o==1?(m=(e[n[0]]>>2&7)+4,x=(e[n[0]++]&224)<<3,x|=e[n[0]++]):(m=(e[n[0]++]>>2)+1,o==2?(x=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(x=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[Ec(i)],x==0)throw new Error("Invalid offset 0");if(x>i[0].length)throw new Error("Invalid offset beyond length");if(m>=x)for(i.push(i[0].slice(-x)),m-=x;m>=i[i.length-1].length;)i.push(i[i.length-1]),m-=i[i.length-1].length;i.push(i[0].slice(-x,-x+m))}}var _=Ec(i);if(_.length!=r)throw new Error("Unexpected length: ".concat(_.length," != ").concat(r));return _}function za(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(RX(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return Ec(e)}function of(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var o=zn(r),u=o.length;e.push(o),r<=60?(u++,e.push(new Uint8Array([r-1<<2]))):r<=256?(u+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(u+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(u+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(u+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),u+=r,i[0]=0,i[1]=u&255,i[2]=u>>8&255,i[3]=u>>16&255,n+=r}return Ec(e)}function cx(t,e){var n=new Uint8Array(32),r=Lg(n),i=12,o=0;switch(n[0]=5,t.t){case"n":n[1]=2,IX(n,i,t.v),o|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),o|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),o|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,o,!0),n.slice(0,i)}function ux(t,e){var n=new Uint8Array(32),r=Lg(n),i=12,o=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),o|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),o|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),o|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,o,!0),n.slice(0,i)}function Xl(t){var e=yi(t);return P0(e[1][0].data)}function NX(t,e,n){var r,i,o,u;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var g=((u=(o=t[8])==null?void 0:o[0])==null?void 0:u.data)&&Cf(t[8][0].data)>0||!1;if(g)throw"Math only works with normal offsets";for(var x=0,m=Lg(t[7][0].data),_=0,A=[],C=Lg(t[4][0].data),R=0,O=[],I=0;I<e.length;++I){if(e[I]==null){m.setUint16(I*2,65535,!0),C.setUint16(I*2,65535);continue}m.setUint16(I*2,_,!0),C.setUint16(I*2,R,!0);var k,H;switch(typeof e[I]){case"string":k=cx({t:"s",v:e[I]},n),H=ux({t:"s",v:e[I]},n);break;case"number":k=cx({t:"n",v:e[I]},n),H=ux({t:"n",v:e[I]},n);break;case"boolean":k=cx({t:"b",v:e[I]},n),H=ux({t:"b",v:e[I]},n);break;default:throw new Error("Unsupported value "+e[I])}A.push(k),_+=k.length,O.push(H),R+=H.length,++x}for(t[2][0].data=zn(x);I<t[7][0].data.length/2;++I)m.setUint16(I*2,65535,!0),C.setUint16(I*2,65535,!0);return t[6][0].data=Ec(A),t[3][0].data=Ec(O),x}function OX(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=ca(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(li(r)));var o=Pg(n,{range:r,header:1}),u=["~Sh33tJ5~"];o.forEach(function(fe){return fe.forEach(function(he){typeof he=="string"&&u.push(he)})});var g={},x=[],m=Zn.read(e.numbers,{type:"base64"});m.FileIndex.map(function(fe,he){return[fe,m.FullPaths[he]]}).forEach(function(fe){var he=fe[0],pe=fe[1];if(he.type==2&&he.name.match(/\.iwa/)){var _e=he.content,lt=za(_e),Ze=Ha(lt);Ze.forEach(function(mt){x.push(mt.id),g[mt.id]={deps:[],location:pe,type:Cf(mt.messages[0].meta[1][0].data)}})}}),x.sort(function(fe,he){return fe-he});var _=x.filter(function(fe){return fe>1}).map(function(fe){return[fe,zn(fe)]});m.FileIndex.map(function(fe,he){return[fe,m.FullPaths[he]]}).forEach(function(fe){var he=fe[0];if(fe[1],!!he.name.match(/\.iwa/)){var pe=Ha(za(he.content));pe.forEach(function(_e){_e.messages.forEach(function(lt){_.forEach(function(Ze){_e.messages.some(function(mt){return Cf(mt.meta[1][0].data)!=11006&&bX(mt.data,Ze[1])})&&g[Ze[0]].deps.push(_e.id)})})})}});for(var A=Zn.find(m,g[1].location),C=Ha(za(A.content)),R,O=0;O<C.length;++O){var I=C[O];I.id==1&&(R=I)}var k=Xl(yi(R.messages[0].data)[1][0].data);for(A=Zn.find(m,g[k].location),C=Ha(za(A.content)),O=0;O<C.length;++O)I=C[O],I.id==k&&(R=I);for(k=Xl(yi(R.messages[0].data)[2][0].data),A=Zn.find(m,g[k].location),C=Ha(za(A.content)),O=0;O<C.length;++O)I=C[O],I.id==k&&(R=I);for(k=Xl(yi(R.messages[0].data)[2][0].data),A=Zn.find(m,g[k].location),C=Ha(za(A.content)),O=0;O<C.length;++O)I=C[O],I.id==k&&(R=I);var H=yi(R.messages[0].data);{H[6][0].data=zn(r.e.r+1),H[7][0].data=zn(r.e.c+1);var Y=Xl(H[46][0].data),W=Zn.find(m,g[Y].location),te=Ha(za(W.content));{for(var oe=0;oe<te.length&&te[oe].id!=Y;++oe);if(te[oe].id!=Y)throw"Bad ColumnRowUIDMapArchive";var ve=yi(te[oe].messages[0].data);ve[1]=[],ve[2]=[],ve[3]=[];for(var B=0;B<=r.e.c;++B){var V=[];V[1]=V[2]=[{type:0,data:zn(B+420690)}],ve[1].push({type:2,data:Fi(V)}),ve[2].push({type:0,data:zn(B)}),ve[3].push({type:0,data:zn(B)})}ve[4]=[],ve[5]=[],ve[6]=[];for(var L=0;L<=r.e.r;++L)V=[],V[1]=V[2]=[{type:0,data:zn(L+726270)}],ve[4].push({type:2,data:Fi(V)}),ve[5].push({type:0,data:zn(L)}),ve[6].push({type:0,data:zn(L)});te[oe].messages[0].data=Fi(ve)}W.content=of(af(te)),W.size=W.content.length,delete H[46];var M=yi(H[4][0].data);{M[7][0].data=zn(r.e.r+1);var q=yi(M[1][0].data),Q=Xl(q[2][0].data);W=Zn.find(m,g[Q].location),te=Ha(za(W.content));{if(te[0].id!=Q)throw"Bad HeaderStorageBucket";var Z=yi(te[0].messages[0].data);for(L=0;L<o.length;++L){var pt=yi(Z[2][0].data);pt[1][0].data=zn(L),pt[4][0].data=zn(o[L].length),Z[2][L]={type:Z[2][0].type,data:Fi(pt)}}te[0].messages[0].data=Fi(Z)}W.content=of(af(te)),W.size=W.content.length;var Ee=Xl(M[2][0].data);W=Zn.find(m,g[Ee].location),te=Ha(za(W.content));{if(te[0].id!=Ee)throw"Bad HeaderStorageBucket";for(Z=yi(te[0].messages[0].data),B=0;B<=r.e.c;++B)pt=yi(Z[2][0].data),pt[1][0].data=zn(B),pt[4][0].data=zn(r.e.r+1),Z[2][B]={type:Z[2][0].type,data:Fi(pt)};te[0].messages[0].data=Fi(Z)}W.content=of(af(te)),W.size=W.content.length;var be=Xl(M[4][0].data);(function(){for(var fe=Zn.find(m,g[be].location),he=Ha(za(fe.content)),pe,_e=0;_e<he.length;++_e){var lt=he[_e];lt.id==be&&(pe=lt)}var Ze=yi(pe.messages[0].data);{Ze[3]=[];var mt=[];u.forEach(function(Pt,St){mt[1]=[{type:0,data:zn(St)}],mt[2]=[{type:0,data:zn(1)}],mt[3]=[{type:2,data:CX(Pt)}],Ze[3].push({type:2,data:Fi(mt)})})}pe.messages[0].data=Fi(Ze);var ot=af(he),Ot=of(ot);fe.content=Ot,fe.size=fe.content.length})();var Ue=yi(M[3][0].data);{var xt=Ue[1][0];delete Ue[2];var wt=yi(xt.data);{var me=Xl(wt[2][0].data);(function(){for(var fe=Zn.find(m,g[me].location),he=Ha(za(fe.content)),pe,_e=0;_e<he.length;++_e){var lt=he[_e];lt.id==me&&(pe=lt)}var Ze=yi(pe.messages[0].data);{delete Ze[6],delete Ue[7];var mt=new Uint8Array(Ze[5][0].data);Ze[5]=[];for(var ot=0,Ot=0;Ot<=r.e.r;++Ot){var Pt=yi(mt);ot+=NX(Pt,o[Ot],u),Pt[1][0].data=zn(Ot),Ze[5].push({data:Fi(Pt),type:2})}Ze[1]=[{type:0,data:zn(r.e.c+1)}],Ze[2]=[{type:0,data:zn(r.e.r+1)}],Ze[3]=[{type:0,data:zn(ot)}],Ze[4]=[{type:0,data:zn(r.e.r+1)}]}pe.messages[0].data=Fi(Ze);var St=af(he),Ut=of(St);fe.content=Ut,fe.size=fe.content.length})()}xt.data=Fi(wt)}M[3][0].data=Fi(Ue)}H[4][0].data=Fi(M)}R.messages[0].data=Fi(H);var Ge=af(C),ie=of(Ge);return A.content=ie,A.size=A.content.length,m}function DX(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function Zv(t){DX([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function MX(t,e){return e.bookType=="ods"?_6(t,e):e.bookType=="numbers"?OX(t,e):e.bookType=="xlsb"?kX(t,e):LX(t,e)}function kX(t,e){mf=1024,t&&!t.SSF&&(t.SSF=Ms(Hr)),t&&t.SSF&&(bm(),Cm(t.SSF),e.revssf=Im(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,g0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=n6.indexOf(e.bookType)>-1,i=OR();Zv(e=e||{});var o=Pv(),u="",g=0;if(e.cellXfs=[],Ic(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),u="docProps/core.xml",tn(o,u,LR(t.Props,e)),i.coreprops.push(u),Wn(e.rels,2,u,Nn.CORE_PROPS),u="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var x=[],m=0;m<t.SheetNames.length;++m)(t.Workbook.Sheets[m]||{}).Hidden!=2&&x.push(t.SheetNames[m]);t.Props.SheetNames=x}for(t.Props.Worksheets=t.Props.SheetNames.length,tn(o,u,FR(t.Props)),i.extprops.push(u),Wn(e.rels,3,u,Nn.EXT_PROPS),t.Custprops!==t.Props&&qi(t.Custprops||{}).length>0&&(u="docProps/custom.xml",tn(o,u,BR(t.Custprops)),i.custprops.push(u),Wn(e.rels,4,u,Nn.CUST_PROPS)),g=1;g<=t.SheetNames.length;++g){var _={"!id":{}},A=t.Sheets[t.SheetNames[g-1]],C=(A||{})["!type"]||"sheet";switch(C){case"chart":default:u="xl/worksheets/sheet"+g+"."+n,tn(o,u,FY(g-1,u,e,t,_)),i.sheets.push(u),Wn(e.wbrels,-1,"worksheets/sheet"+g+"."+n,Nn.WS[0])}if(A){var R=A["!comments"],O=!1,I="";R&&R.length>0&&(I="xl/comments"+g+"."+n,tn(o,I,VY(R,I)),i.comments.push(I),Wn(_,-1,"../comments"+g+"."+n,Nn.CMNT),O=!0),A["!legacy"]&&O&&tn(o,"xl/drawings/vmlDrawing"+g+".vml",e6(g,A["!comments"])),delete A["!comments"],delete A["!legacy"]}_["!id"].rId1&&tn(o,MR(u),Af(_))}return e.Strings!=null&&e.Strings.length>0&&(u="xl/sharedStrings."+n,tn(o,u,UY(e.Strings,u,e)),i.strs.push(u),Wn(e.wbrels,-1,"sharedStrings."+n,Nn.SST)),u="xl/workbook."+n,tn(o,u,PY(t,u)),i.workbooks.push(u),Wn(e.rels,1,u,Nn.WB),u="xl/theme/theme1.xml",tn(o,u,ZR(t.Themes,e)),i.themes.push(u),Wn(e.wbrels,-1,"theme/theme1.xml",Nn.THEME),u="xl/styles."+n,tn(o,u,BY(t,u,e)),i.styles.push(u),Wn(e.wbrels,-1,"styles."+n,Nn.STY),t.vbaraw&&r&&(u="xl/vbaProject.bin",tn(o,u,t.vbaraw),i.vba.push(u),Wn(e.wbrels,-1,"vbaProject.bin",Nn.VBA)),u="xl/metadata."+n,tn(o,u,jY(u)),i.metadata.push(u),Wn(e.wbrels,-1,"metadata."+n,Nn.XLMETA),tn(o,"[Content_Types].xml",DR(i,e)),tn(o,"_rels/.rels",Af(e.rels)),tn(o,"xl/_rels/workbook."+n+".rels",Af(e.wbrels)),delete e.revssf,delete e.ssf,o}function LX(t,e){mf=1024,t&&!t.SSF&&(t.SSF=Ms(Hr)),t&&t.SSF&&(bm(),Cm(t.SSF),e.revssf=Im(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,g0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=n6.indexOf(e.bookType)>-1,i=OR();Zv(e=e||{});var o=Pv(),u="",g=0;if(e.cellXfs=[],Ic(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),u="docProps/core.xml",tn(o,u,LR(t.Props,e)),i.coreprops.push(u),Wn(e.rels,2,u,Nn.CORE_PROPS),u="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var x=[],m=0;m<t.SheetNames.length;++m)(t.Workbook.Sheets[m]||{}).Hidden!=2&&x.push(t.SheetNames[m]);t.Props.SheetNames=x}t.Props.Worksheets=t.Props.SheetNames.length,tn(o,u,FR(t.Props)),i.extprops.push(u),Wn(e.rels,3,u,Nn.EXT_PROPS),t.Custprops!==t.Props&&qi(t.Custprops||{}).length>0&&(u="docProps/custom.xml",tn(o,u,BR(t.Custprops)),i.custprops.push(u),Wn(e.rels,4,u,Nn.CUST_PROPS));var _=["SheetJ5"];for(e.tcid=0,g=1;g<=t.SheetNames.length;++g){var A={"!id":{}},C=t.Sheets[t.SheetNames[g-1]],R=(C||{})["!type"]||"sheet";switch(R){case"chart":default:u="xl/worksheets/sheet"+g+"."+n,tn(o,u,f6(g-1,e,t,A)),i.sheets.push(u),Wn(e.wbrels,-1,"worksheets/sheet"+g+"."+n,Nn.WS[0])}if(C){var O=C["!comments"],I=!1,k="";if(O&&O.length>0){var H=!1;O.forEach(function(Y){Y[1].forEach(function(W){W.T==!0&&(H=!0)})}),H&&(k="xl/threadedComments/threadedComment"+g+"."+n,tn(o,k,hG(O,_,e)),i.threadedcomments.push(k),Wn(A,-1,"../threadedComments/threadedComment"+g+"."+n,Nn.TCMNT)),k="xl/comments"+g+"."+n,tn(o,k,t6(O)),i.comments.push(k),Wn(A,-1,"../comments"+g+"."+n,Nn.CMNT),I=!0}C["!legacy"]&&I&&tn(o,"xl/drawings/vmlDrawing"+g+".vml",e6(g,C["!comments"])),delete C["!comments"],delete C["!legacy"]}A["!id"].rId1&&tn(o,MR(u),Af(A))}return e.Strings!=null&&e.Strings.length>0&&(u="xl/sharedStrings."+n,tn(o,u,qR(e.Strings,e)),i.strs.push(u),Wn(e.wbrels,-1,"sharedStrings."+n,Nn.SST)),u="xl/workbook."+n,tn(o,u,g6(t)),i.workbooks.push(u),Wn(e.rels,1,u,Nn.WB),u="xl/theme/theme1.xml",tn(o,u,ZR(t.Themes,e)),i.themes.push(u),Wn(e.wbrels,-1,"theme/theme1.xml",Nn.THEME),u="xl/styles."+n,tn(o,u,QR(t,e)),i.styles.push(u),Wn(e.wbrels,-1,"styles."+n,Nn.STY),t.vbaraw&&r&&(u="xl/vbaProject.bin",tn(o,u,t.vbaraw),i.vba.push(u),Wn(e.wbrels,-1,"vbaProject.bin",Nn.VBA)),u="xl/metadata."+n,tn(o,u,JR()),i.metadata.push(u),Wn(e.wbrels,-1,"metadata."+n,Nn.XLMETA),_.length>1&&(u="xl/persons/person.xml",tn(o,u,dG(_)),i.people.push(u),Wn(e.wbrels,-1,"persons/person.xml",Nn.PEOPLE)),tn(o,"[Content_Types].xml",DR(i,e)),tn(o,"_rels/.rels",Af(e.rels)),tn(o,"xl/_rels/workbook."+n+".rels",Af(e.wbrels)),delete e.revssf,delete e.ssf,o}function PX(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=gl(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function E6(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return sd(e.file,Zn.write(t,{type:kn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Zn.write(t,e)}function FX(t,e){var n=Ms(e||{}),r=MX(t,n);return BX(r,n)}function BX(t,e){var n={},r=kn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Zn.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Sm(i))}return e.password&&typeof encrypt_agile<"u"?E6(encrypt_agile(i,e.password),e):e.type==="file"?sd(e.file,i):e.type=="string"?u0(i):i}function UX(t,e){var n=e||{},r=tX(t,n);return E6(r,n)}function mo(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return D0(k0(r));case"binary":return k0(r);case"string":return t;case"file":return sd(e.file,r,"utf8");case"buffer":return kn?yl(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):mo(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function VX(t,e){switch(e.type){case"base64":return D0(t);case"binary":return t;case"string":return t;case"file":return sd(e.file,t,"binary");case"buffer":return kn?yl(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function M1(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?D0(n):e.type=="string"?u0(n):n;case"file":return sd(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function w6(t,e){gj(),SY(t);var n=Ms(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=w6(t,n);return n.type="array",Sm(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return mo(JY(t,n),n);case"slk":case"sylk":return mo(wz.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return mo(x6(t.Sheets[t.SheetNames[i]],n),n);case"txt":return VX(T6(t.Sheets[t.SheetNames[i]],n),n);case"csv":return mo(Jv(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return mo(Tz.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return M1(Ez.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return mo(Az.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return mo(Oz.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return mo(WR.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return mo(_6(t,n),n);case"wk1":return M1(PC.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return M1(PC.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),M1(p6(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),UX(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return FX(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function jX(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function HX(t,e,n){var r={};return r.type="file",r.file=e,jX(r),w6(t,r)}function zX(t,e,n,r,i,o,u,g){var x=Gi(n),m=g.defval,_=g.raw||!Object.prototype.hasOwnProperty.call(g,"raw"),A=!0,C=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(C,"__rowNum__",{value:n,enumerable:!1})}catch{C.__rowNum__=n}else C.__rowNum__=n;if(!u||t[n])for(var R=e.s.c;R<=e.e.c;++R){var O=u?t[n][R]:t[r[R]+x];if(O===void 0||O.t===void 0){if(m===void 0)continue;o[R]!=null&&(C[o[R]]=m);continue}var I=O.v;switch(O.t){case"z":if(I==null)break;continue;case"e":I=I==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+O.t)}if(o[R]!=null){if(I==null)if(O.t=="e"&&I===null)C[o[R]]=null;else if(m!==void 0)C[o[R]]=m;else if(_&&I===null)C[o[R]]=null;else continue;else C[o[R]]=_&&(O.t!=="n"||O.t==="n"&&g.rawNumbers!==!1)?I:ml(O,I,g);I!=null&&(A=!1)}}return{row:C,isempty:A}}function Pg(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,o=[],u=0,g="",x={s:{r:0,c:0},e:{r:0,c:0}},m=e||{},_=m.range!=null?m.range:t["!ref"];switch(m.header===1?r=1:m.header==="A"?r=2:Array.isArray(m.header)?r=3:m.header==null&&(r=0),typeof _){case"string":x=yr(_);break;case"number":x=yr(t["!ref"]),x.s.r=_;break;default:x=_}r>0&&(i=0);var A=Gi(x.s.r),C=[],R=[],O=0,I=0,k=Array.isArray(t),H=x.s.r,Y=0,W={};k&&!t[H]&&(t[H]=[]);var te=m.skipHidden&&t["!cols"]||[],oe=m.skipHidden&&t["!rows"]||[];for(Y=x.s.c;Y<=x.e.c;++Y)if(!(te[Y]||{}).hidden)switch(C[Y]=ss(Y),n=k?t[H][Y]:t[C[Y]+A],r){case 1:o[Y]=Y-x.s.c;break;case 2:o[Y]=C[Y];break;case 3:o[Y]=m.header[Y-x.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),g=u=ml(n,null,m),I=W[u]||0,!I)W[u]=1;else{do g=u+"_"+I++;while(W[g]);W[u]=I,W[g]=1}o[Y]=g}for(H=x.s.r+i;H<=x.e.r;++H)if(!(oe[H]||{}).hidden){var ve=zX(t,x,H,C,r,o,k,m);(ve.isempty===!1||(r===1?m.blankrows!==!1:m.blankrows))&&(R[O++]=ve.row)}return R.length=O,R}var GC=/"/g;function GX(t,e,n,r,i,o,u,g){for(var x=!0,m=[],_="",A=Gi(n),C=e.s.c;C<=e.e.c;++C)if(r[C]){var R=g.dense?(t[n]||[])[C]:t[r[C]+A];if(R==null)_="";else if(R.v!=null){x=!1,_=""+(g.rawNumbers&&R.t=="n"?R.v:ml(R,null,g));for(var O=0,I=0;O!==_.length;++O)if((I=_.charCodeAt(O))===i||I===o||I===34||g.forceQuotes){_='"'+_.replace(GC,'""')+'"';break}_=="ID"&&(_='"ID"')}else R.f!=null&&!R.F?(x=!1,_="="+R.f,_.indexOf(",")>=0&&(_='"'+_.replace(GC,'""')+'"')):_="";m.push(_)}return g.blankrows===!1&&x?null:m.join(u)}function Jv(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=yr(t["!ref"]),o=r.FS!==void 0?r.FS:",",u=o.charCodeAt(0),g=r.RS!==void 0?r.RS:`
`,x=g.charCodeAt(0),m=new RegExp((o=="|"?"\\|":o)+"+$"),_="",A=[];r.dense=Array.isArray(t);for(var C=r.skipHidden&&t["!cols"]||[],R=r.skipHidden&&t["!rows"]||[],O=i.s.c;O<=i.e.c;++O)(C[O]||{}).hidden||(A[O]=ss(O));for(var I=0,k=i.s.r;k<=i.e.r;++k)(R[k]||{}).hidden||(_=GX(t,i,k,A,u,x,o,r),_!=null&&(r.strip&&(_=_.replace(m,"")),(_||r.blankrows!==!1)&&n.push((I++?g:"")+_)));return delete r.dense,n.join("")}function T6(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=Jv(t,e);return n}function WX(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=yr(t["!ref"]),o="",u=[],g,x=[],m=Array.isArray(t);for(g=i.s.c;g<=i.e.c;++g)u[g]=ss(g);for(var _=i.s.r;_<=i.e.r;++_)for(o=Gi(_),g=i.s.c;g<=i.e.c;++g)if(e=u[g]+o,n=m?(t[_]||[])[g]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}x[x.length]=e+"="+r}return x}function A6(t,e,n){var r=n||{},i=+!r.skipHeader,o=t||{},u=0,g=0;if(o&&r.origin!=null)if(typeof r.origin=="number")u=r.origin;else{var x=typeof r.origin=="string"?bi(r.origin):r.origin;u=x.r,g=x.c}var m,_={s:{c:0,r:0},e:{c:g,r:u+e.length-1+i}};if(o["!ref"]){var A=yr(o["!ref"]);_.e.c=Math.max(_.e.c,A.e.c),_.e.r=Math.max(_.e.r,A.e.r),u==-1&&(u=A.e.r+1,_.e.r=u+e.length-1+i)}else u==-1&&(u=0,_.e.r=e.length-1+i);var C=r.header||[],R=0;e.forEach(function(I,k){qi(I).forEach(function(H){(R=C.indexOf(H))==-1&&(C[R=C.length]=H);var Y=I[H],W="z",te="",oe=Yn({c:g+R,r:u+k+i});m=F0(o,oe),Y&&typeof Y=="object"&&!(Y instanceof Date)?o[oe]=Y:(typeof Y=="number"?W="n":typeof Y=="boolean"?W="b":typeof Y=="string"?W="s":Y instanceof Date?(W="d",r.cellDates||(W="n",Y=Ds(Y)),te=r.dateNF||Hr[14]):Y===null&&r.nullError&&(W="e",Y=0),m?(m.t=W,m.v=Y,delete m.w,delete m.R,te&&(m.z=te)):o[oe]=m={t:W,v:Y},te&&(m.z=te))})}),_.e.c=Math.max(_.e.c,g+C.length-1);var O=Gi(u);if(i)for(R=0;R<C.length;++R)o[ss(R+g)+O]={t:"s",v:C[R]};return o["!ref"]=li(_),o}function qX(t,e){return A6(null,t,e)}function F0(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=bi(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?F0(t,Yn(e)):F0(t,Yn({r:e,c:n||0}))}function YX(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function XX(){return{SheetNames:[],Sheets:{}}}function KX(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var o=n.match(/(^.*?)(\d+)$/);i=o&&+o[2]||0;var u=o&&o[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=u+i)!=-1;++i);}if(d6(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function QX(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=YX(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function $X(t,e){return t.z=e,t}function S6(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function ZX(t,e,n){return S6(t,"#"+e,n)}function JX(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function eK(t,e,n,r){for(var i=typeof e!="string"?e:yr(e),o=typeof e=="string"?e:li(e),u=i.s.r;u<=i.e.r;++u)for(var g=i.s.c;g<=i.e.c;++g){var x=F0(t,u,g);x.t="n",x.F=o,delete x.v,u==i.s.r&&g==i.s.c&&(x.f=n,r&&(x.D=!0))}return t}var fx={encode_col:ss,encode_row:Gi,encode_cell:Yn,encode_range:li,decode_col:Hv,decode_row:jv,split_cell:gH,decode_cell:bi,decode_range:ca,format_cell:ml,sheet_add_aoa:SR,sheet_add_json:A6,sheet_add_dom:y6,aoa_to_sheet:qf,json_to_sheet:qX,table_to_sheet:v6,table_to_book:TX,sheet_to_csv:Jv,sheet_to_txt:T6,sheet_to_json:Pg,sheet_to_html:x6,sheet_to_formulae:WX,sheet_to_row_object_array:Pg,sheet_get_cell:F0,book_new:XX,book_append_sheet:KX,book_set_sheet_visibility:QX,cell_set_number_format:$X,cell_set_hyperlink:S6,cell_set_internal_link:ZX,cell_add_comment:JX,sheet_set_array_formula:eK,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function tK(){const{currentUser:t}=Da(),[e,n]=de.useState([]),[r,i]=de.useState(!0),o=async(m,_)=>{try{if(!t){alert("You must be logged in to download reports.");return}const A=bo(Qr,"formSubmitData"),C=xg(A,o0("qrCodeId","==",m),o0("adminId","==",t.uid)),O=(await N0(C)).docs.map(Y=>({...Y.data().formData,memberId:Y.data().memberId||"N/A",timestamp:Y.data().timestamp}));if(O.length===0){console.log("No responses found for QR Code"),alert("No responses found to download for this QR Code.");return}const I=fx.json_to_sheet(O),k=fx.book_new();fx.book_append_sheet(k,I,"Responses");const H=`${_}_Responses.xlsx`;HX(k,H)}catch(A){console.error("There was an error downloading the responses: ",A),alert("Failed to generate report.")}};de.useEffect(()=>{u()},[]);const u=async()=>{try{if(!t){console.warn("No authenticated user found."),n([]);return}const m=bo(Qr,"qrGateReports"),_=xg(m,o0("adminId","==",t.uid)),C=(await N0(_)).docs.map(R=>({id:R.id,...R.data()}));n(C)}catch(m){console.error("Error fetching QR Gate reports:",m)}finally{i(!1)}},g=async(m,_)=>{if(!t||t.uid!==_){alert("You do not have permission to delete this report.");return}if(window.confirm("Are you sure you want to delete this QR-Gate report?"))try{await fI(Ra(Qr,"qrGateReports",m)),u()}catch(A){console.error("Error deleting QR-Gate report:",A),alert("Failed to delete the report. Please try again.")}},x=async(m,_)=>{try{await Av(Ra(Qr,"qrGateReports",m),{isActive:!_}),u()}catch(A){console.error("Error updating QR-Gate report status:",A),alert("Failed to update status. Please try again.")}};return F.jsxs("div",{className:"admin-reports-container",children:[F.jsx("h2",{children:"Gate Report"}),F.jsx("p",{children:"View and manage QR-Gate reports for all created QR codes."}),r?F.jsx("div",{className:"loading-state",children:F.jsx("p",{children:"Loading QR-Gate reports..."})}):e.length===0?F.jsx("div",{className:"empty-state",children:F.jsx("p",{children:"No QR-Gate reports found. Create a QR code first to see reports here."})}):F.jsx("div",{className:"qr-gate-reports-list",children:e.map(m=>F.jsxs("div",{className:"qr-gate-report-item",children:[F.jsxs("div",{className:"report-info",children:[F.jsx("h3",{children:m.name}),F.jsxs("p",{children:[F.jsx("strong",{children:"Description:"})," ",m.description||"No description"]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Location:"})," ",m.location||"Not specified"]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Event Type:"})," ",m.eventType||"Not specified"]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Status:"})," ",m.isActive?"Active":"Inactive"]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Total Scans:"})," ",m.totalScans||0]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Created:"})," ",new Date(m.createdAt).toLocaleDateString()]}),m.lastScanAt&&F.jsxs("p",{children:[F.jsx("strong",{children:"Last Scan:"})," ",new Date(m.lastScanAt).toLocaleString()]}),m.requiresForm&&F.jsxs("div",{className:"form-fields-info",children:[F.jsx("strong",{children:"Form Fields:"}),F.jsx("ul",{children:m.formFields.map(_=>F.jsx("li",{children:_},_))})]})]}),F.jsxs("div",{className:"report-actions",children:[F.jsx("button",{className:"view-btn",onClick:()=>o(m.qrCodeId,m.name),children:"Download Responses"}),F.jsx("button",{className:"toggle-status-btn",onClick:()=>x(m.id,m.isActive),children:m.isActive?"Deactivate":"Activate"}),F.jsx("button",{className:"delete-btn",onClick:()=>g(m.id,m.adminId),disabled:(t==null?void 0:t.uid)!==m.adminId,title:(t==null?void 0:t.uid)!==m.adminId?"You do not have permission to delete this report.":"",children:"Delete"})]})]},m.id))}),F.jsx("div",{className:"admin-db-form-container",children:F.jsxs("div",{className:"admin-db-form",children:[F.jsx("h3",{children:"Generate Report"}),F.jsxs("div",{className:"db-date-fields",children:[F.jsxs("div",{className:"db-date-field",children:[F.jsx("label",{htmlFor:"startDate",children:"Start Date:"}),F.jsx("input",{type:"date",id:"startDate"})]}),F.jsxs("div",{className:"db-date-field",children:[F.jsx("label",{htmlFor:"endDate",children:"End Date:"}),F.jsx("input",{type:"date",id:"endDate"})]})]}),F.jsx("label",{htmlFor:"reportType",children:"Report Type:"}),F.jsxs("select",{id:"reportType",children:[F.jsx("option",{value:"attendance",children:"Attendance Report"}),F.jsx("option",{value:"user-activity",children:"User Activity"}),F.jsx("option",{value:"qr-usage",children:"QR Code Usage"})]}),F.jsxs("div",{className:"admin-db-btns",children:[F.jsx("button",{className:"admin-db-open-btn",children:"Generate Report"}),F.jsx("button",{className:"admin-db-delete-btn",children:"Export Data"})]})]})}),F.jsxs("div",{className:"db-section-spacing",children:[F.jsx("h3",{children:"Recent Activity"}),F.jsxs("table",{className:"attendance-table",children:[F.jsx("thead",{children:F.jsxs("tr",{children:[F.jsx("th",{children:"Date"}),F.jsx("th",{children:"User"}),F.jsx("th",{children:"Action"}),F.jsx("th",{children:"Status"})]})}),F.jsx("tbody",{children:F.jsx("tr",{children:F.jsx("td",{colSpan:"4",style:{textAlign:"center",color:"#666"},children:"No data available"})})})]})]})]})}const nK=[{key:"dashboard",label:"Dashboard",icon:""},{key:"qrcodes",label:"QR Codes",icon:""},{key:"users",label:"User Control",icon:""},{key:"reports",label:"Gate Report",icon:""}];function rK(){const[t,e]=de.useState("dashboard"),[n,r]=de.useState(!1),{currentUser:i}=Da(),o=g=>{e(g),r(!1)};de.useEffect(()=>{const g=x=>{n&&!x.target.closest(".mobile-menu")&&!x.target.closest(".mobile-menu-button")&&r(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[n]);const u=()=>{switch(t){case"dashboard":return F.jsx(YS,{});case"qrcodes":return F.jsx(uj,{});case"users":return F.jsx(fj,{});case"reports":return F.jsx(tK,{});default:return F.jsx(YS,{})}};return F.jsxs("div",{className:"AdminContainer",children:[F.jsx(jI,{activeSection:t,onNavClick:o,logoText:"Admin Panel",navItems:nK,userDisplay:(i==null?void 0:i.displayName)||"Admin",logoutLink:"/"}),F.jsxs("main",{className:"AdminMain",children:[F.jsxs("header",{className:"Header-container",children:[F.jsx("h1",{children:t.charAt(0).toUpperCase()+t.slice(1)}),F.jsx("div",{className:"AdminUser",children:F.jsx("span",{children:"Admin"})})]}),F.jsx("section",{className:"AdminContent",children:u()})]})]})}function iK(){const[t,e]=de.useState("member"),[n,r]=de.useState(""),[i,o]=de.useState(""),[u,g]=de.useState(""),[x,m]=de.useState(""),[_,A]=de.useState(!1),{signup:C}=Da(),R=pl(),O=k=>{e(k),m("")},I=async k=>{k.preventDefault();try{m(""),A(!0),await C(n,i,u,t),R(t==="admin"?"/admin":"/member")}catch(H){console.error("Signup error:",H),H.code==="auth/email-already-in-use"?m("An account with this email already exists"):H.code==="auth/weak-password"?m("Password should be at least 6 characters"):H.code==="auth/invalid-email"?m("Invalid email address"):m("Failed to create account. Please try again in a few moments.")}finally{A(!1)}};return F.jsx("div",{className:"signup-bg",children:F.jsxs("div",{className:"signup-container",children:[F.jsx("h1",{className:"signup-title",children:"Create Account"}),F.jsx("p",{className:"signup-subtitle",children:"Sign up as a Member or Admin"}),F.jsxs("div",{className:"role-toggle-group",children:[F.jsx("button",{type:"button",className:`role-toggle${t==="member"?" active":""}`,onClick:()=>O("member"),disabled:_,children:"Member"}),F.jsx("button",{type:"button",className:`role-toggle${t==="admin"?" active":""}`,onClick:()=>O("admin"),disabled:_,children:"Admin"})]}),F.jsx("div",{className:"role-description",children:t==="member"?F.jsxs("span",{children:[F.jsx("b",{children:"Member:"})," Regular users who can clock in/out, view their attendance, and access personal reports."]}):F.jsxs("span",{children:[F.jsx("b",{children:"Admin:"})," Manage users, view reports, and configure system settings. Admins have full access to the dashboard."]})}),x&&F.jsx("div",{style:{width:"100%",marginBottom:"1rem",color:"#d32f2f",backgroundColor:"rgba(244, 67, 54, 0.1)",padding:"0.75rem",borderRadius:"4px",border:"1px solid rgba(244, 67, 54, 0.3)",fontSize:"0.9rem"},children:x}),F.jsxs("form",{className:"signup-form",onSubmit:I,children:[F.jsx("input",{type:"text",className:"signup-input",placeholder:"Full Name",value:u,onChange:k=>g(k.target.value),required:!0,disabled:_}),F.jsx("input",{type:"email",className:"signup-input",placeholder:"Email Address",value:n,onChange:k=>r(k.target.value),required:!0,disabled:_}),F.jsx("input",{type:"password",className:"signup-input",placeholder:"Password",value:i,onChange:k=>o(k.target.value),required:!0,disabled:_}),F.jsx("button",{type:"submit",className:"signup-btn",disabled:_,style:{opacity:_?.7:1,cursor:_?"not-allowed":"pointer"},children:_?"Creating Account...":"Sign Up"})]})]})})}function sK(){const[t,e]=de.useState(null),[n,r]=de.useState(!1),i=de.useRef(!1),o=de.useRef(null),u=pl(),g=()=>{e(null),i.current=!1,r(!0)};return de.useEffect(()=>{if(!n)return;const x=new UI("reader",{qrbox:{width:250,height:250},fps:7});o.current=x,x.render(m,_);function m(A){i.current||(i.current=!0,e(A),x.clear(),r(!1))}function _(){}return()=>{x.clear().catch(()=>{})}},[n]),F.jsx("div",{className:"member-bg",children:F.jsx("div",{className:"memberMain",children:F.jsxs("div",{className:"member-container",children:[F.jsx("h1",{className:"member-title",children:"Scan QR iiCode"}),F.jsxs("p",{className:"member-desc",children:["You can scan your QR code here!. To save your scan history and access more features, please ",F.jsx("span",{style:{color:"#2196f3",fontWeight:600,cursor:"pointer"},onClick:()=>u("/login"),children:"log in"})," or ",F.jsx("span",{style:{color:"#2196f3",fontWeight:600,cursor:"pointer"},onClick:()=>u("/signup"),children:"sign up"}),"."]}),F.jsx("img",{src:VI,alt:"QR Code Icon",className:"qr-code-icon"}),t?F.jsxs("div",{className:"scan-result success",children:[F.jsx("span",{children:"Result:"})," ",F.jsx("a",{href:t.startsWith("http")?t:"http://"+t,children:t})]}):F.jsxs(F.Fragment,{children:[!n&&F.jsx("button",{className:"scan-btn",onClick:g,children:"Start Scanning"}),n&&F.jsx("div",{id:"reader",className:"qr-reader-box"})]})]})})})}async function aK(){try{const t=[navigator.userAgent,navigator.platform,navigator.language,screen.width,screen.height,screen.colorDepth,Intl.DateTimeFormat().resolvedOptions().timeZone,navigator.hardwareConcurrency,navigator.deviceMemory].join("|"),e=new TextEncoder,n=await crypto.subtle.digest("SHA-256",e.encode(t));return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}catch(t){console.error("Error generating device fingerprint:",t);let e=0;const n=navigator.userAgent+navigator.platform+Date.now().toString();for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);e=(e<<5)-e+i,e=e&e}return Math.abs(e).toString(16)}}function oK(){const{qrId:t}=IN();pl();const{currentUser:e}=Da(),[n,r]=de.useState(null),[i,o]=de.useState(!0),[u,g]=de.useState(null),[x,m]=de.useState({}),[_,A]=de.useState(!1),[C,R]=de.useState(!1);de.useEffect(()=>{async function H(){if(!t){g("Invalid QR code"),o(!1);return}try{const Y=bo(Qr,"customQRCodes"),te=(await N0(Y)).docs.find(V=>V.data().qrId===t);if(!te){g("QR code not found"),o(!1);return}const oe=te.data();if(!oe.isActive){g("This QR code is no longer active"),o(!1);return}const ve=new Date;if(oe.validFrom&&oe.validFrom.trim()!==""){const V=new Date(oe.validFrom);if(ve<V){g("This QR code is not yet valid"),o(!1);return}}if(oe.validUntil&&oe.validUntil.trim()!==""){const V=new Date(oe.validUntil);if(ve>V){g("This QR code has expired"),o(!1);return}}r(oe);const B={};oe.requiresForm&&oe.formFields&&oe.formFields.forEach(V=>{B[V]=""}),m(B)}catch(Y){console.error("Error fetching QR code data:",Y),g("Failed to load QR code data")}finally{o(!1)}}H()},[t]);const O=H=>{const{name:Y,value:W}=H.target;m(te=>({...te,[Y]:W}))},I=H=>{const Y=H.toLowerCase();return Y.includes("email")?"email":Y.includes("phone")||Y.includes("mobile")?"tel":Y.includes("date")?"date":"text"},k=async H=>{H.preventDefault(),A(!0),g(null);try{console.log("Starting attendance submission...");const Y=await aK();console.log("Device ID created:",Y);const W=Ra(Qr,"formSubmitCheck",`${t}_${Y}`);if((await uI(W)).exists()){console.log("Multiple Submission Detected"),g("You cannot submit more than 1 response!"),A(!1);return}const oe={qrCodeId:t,qrCodeName:n.name,adminId:n.adminId,timestamp:new Date().toISOString(),status:"clock-in",formData:n.requiresForm?x:null,location:n.location,eventType:n.eventType,...e&&{memberId:e.uid}};console.log("Submitting attendance record...");const ve=await vg(bo(Qr,"attendanceRecords"),oe);if(console.log("Attendance record submitted successfully:",ve.id),n.requiresForm&&(console.log("Submitting form data..."),await yg(Ra(Qr,"formSubmitData",`${t}_${Y}`),{attendanceRecordId:ve.id,qrCodeId:t,adminId:n.adminId,timestamp:new Date().toISOString(),formData:x,deviceId:Y,...e&&{memberId:e.uid}}),console.log("Form data submitted successfully"),await yg(Ra(Qr,"formSubmitCheck",`${t}_${Y}`),{qrCodeId:t,deviceId:Y}),console.log("Duplicate check record added successfully")),e){console.log("Updating scan count...");const B=bo(Qr,"customQRCodes"),L=(await N0(B)).docs.find(M=>M.data().qrId===t);if(L){const M=L.data().scanCount||0;console.log("Current scan count:",M),await Av(Ra(Qr,"customQRCodes",L.id),{scanCount:M+1}),console.log("Scan count updated successfully")}else console.warn("QR code document not found for scan count update")}console.log("Attendance submission completed successfully"),R(!0)}catch(Y){console.error("Error submitting attendance:",Y),console.error("Error details:",{message:Y.message,code:Y.code,stack:Y.stack}),g(`Failed to submit attendance: ${Y.message||"Please try again."}`)}finally{A(!1)}};return i?F.jsx("div",{className:"member-bg",children:F.jsx("h1",{children:"Loading..."})}):u?F.jsxs("div",{className:"member-bg",children:[F.jsx("h1",{children:"Error"}),F.jsx("p",{children:u})]}):C?F.jsx("div",{className:"member-bg",children:F.jsx("h1",{children:"Attendance Recorded!"})}):F.jsx("div",{className:"member-bg",children:F.jsx("div",{className:"memberMain",children:F.jsx("div",{className:"member-container",children:F.jsxs("div",{className:"scan-form-container",children:[F.jsx("h1",{children:n.name}),F.jsx("p",{children:n.description}),n.requiresForm?F.jsxs("form",{onSubmit:k,className:"scan-form-form",children:[n.formFields.map(H=>F.jsxs("div",{className:"scan-form-group",children:[F.jsxs("label",{children:[H,H.toLowerCase().includes("name")||H.toLowerCase().includes("email")?" *":""]}),I(H)==="text"&&!H.toLowerCase().includes("reason")&&F.jsx("input",{type:"text",name:H,value:x[H]||"",onChange:O,required:H.toLowerCase().includes("name")||H.toLowerCase().includes("email"),placeholder:`Enter ${H}`,className:"scan-form-input"}),I(H)==="email"&&F.jsx("input",{type:"email",name:H,value:x[H]||"",onChange:O,required:!0,placeholder:`Enter ${H}`,className:"scan-form-input"}),I(H)==="tel"&&F.jsx("input",{type:"tel",name:H,value:x[H]||"",onChange:O,placeholder:`Enter ${H}`,className:"scan-form-input"}),H.toLowerCase().includes("reason")&&F.jsx("textarea",{name:H,value:x[H]||"",onChange:O,placeholder:`Enter ${H}`,className:"scan-form-textarea"})]},H)),F.jsx("div",{className:"submit-button-container",children:F.jsx("button",{type:"submit",disabled:_,children:_?"Submitting...":"Submit Attendance"})})]}):F.jsxs("div",{children:[F.jsx("p",{children:"This QR code does not require additional information."}),F.jsx("button",{onClick:k,children:"Record Attendance"})]})]})})})})}const lK=U4({palette:{primary:{main:"#2196F3"}}});function cK(){return F.jsx(LM,{theme:lK,children:F.jsx(aV,{children:F.jsx(dO,{basename:"/ScanIn-Attendance",children:F.jsxs(zN,{children:[F.jsx(Kl,{path:"/",element:F.jsx(cV,{})}),F.jsx(Kl,{path:"/login",element:F.jsx(oV,{})}),F.jsx(Kl,{path:"/signup",element:F.jsx(iK,{})}),F.jsx(Kl,{path:"/scan",element:F.jsx(sK,{})}),F.jsx(Kl,{path:"/scan-form/:qrId",element:F.jsx(oK,{})}),F.jsx(Kl,{path:"/member",element:F.jsx(RS,{requiredRole:"member",children:F.jsx(ej,{})})}),F.jsx(Kl,{path:"/admin",element:F.jsx(RS,{requiredRole:"admin",children:F.jsx(rK,{})})})]})})})})}$8.createRoot(document.getElementById("root")).render(F.jsx(de.StrictMode,{children:F.jsx(cK,{})}));
