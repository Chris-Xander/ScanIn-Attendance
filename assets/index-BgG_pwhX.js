function yb(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var _g=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var D2={exports:{}},kh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA;function KD(){if(ZA)return kh;ZA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var f in i)f!=="key"&&(a[f]=i[f])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:l,ref:i!==void 0?i:null,props:a}}return kh.Fragment=e,kh.jsx=r,kh.jsxs=r,kh}var JA;function QD(){return JA||(JA=1,D2.exports=KD()),D2.exports}var k=QD(),O2={exports:{}},ar={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS;function $D(){if(eS)return ar;eS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function C(ve){return ve===null||typeof ve!="object"?null:(ve=A&&ve[A]||ve["@@iterator"],typeof ve=="function"?ve:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,D={};function P(ve,Z,he){this.props=ve,this.context=Z,this.refs=D,this.updater=he||N}P.prototype.isReactComponent={},P.prototype.setState=function(ve,Z){if(typeof ve!="object"&&typeof ve!="function"&&ve!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ve,Z,"setState")},P.prototype.forceUpdate=function(ve){this.updater.enqueueForceUpdate(this,ve,"forceUpdate")};function G(){}G.prototype=P.prototype;function B(ve,Z,he){this.props=ve,this.context=Z,this.refs=D,this.updater=he||N}var Y=B.prototype=new G;Y.constructor=B,b(Y,P.prototype),Y.isPureReactComponent=!0;var te=Array.isArray;function ee(){}var L={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function U(ve,Z,he){var ie=he.ref;return{$$typeof:t,type:ve,key:Z,ref:ie!==void 0?ie:null,props:he}}function q(ve,Z){return U(ve.type,Z,ve.props)}function K(ve){return typeof ve=="object"&&ve!==null&&ve.$$typeof===t}function M(ve){var Z={"=":"=0",":":"=2"};return"$"+ve.replace(/[=:]/g,function(he){return Z[he]})}var Q=/\/+/g;function be(ve,Z){return typeof ve=="object"&&ve!==null&&ve.key!=null?M(""+ve.key):Z.toString(36)}function xe(ve){switch(ve.status){case"fulfilled":return ve.value;case"rejected":throw ve.reason;default:switch(typeof ve.status=="string"?ve.then(ee,ee):(ve.status="pending",ve.then(function(Z){ve.status==="pending"&&(ve.status="fulfilled",ve.value=Z)},function(Z){ve.status==="pending"&&(ve.status="rejected",ve.reason=Z)})),ve.status){case"fulfilled":return ve.value;case"rejected":throw ve.reason}}throw ve}function _e(ve,Z,he,ie,fe){var ye=typeof ve;(ye==="undefined"||ye==="boolean")&&(ve=null);var Ie=!1;if(ve===null)Ie=!0;else switch(ye){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(ve.$$typeof){case t:case e:Ie=!0;break;case y:return Ie=ve._init,_e(Ie(ve._payload),Z,he,ie,fe)}}if(Ie)return fe=fe(ve),Ie=ie===""?"."+be(ve,0):ie,te(fe)?(he="",Ie!=null&&(he=Ie.replace(Q,"$&/")+"/"),_e(fe,Z,he,"",function($e){return $e})):fe!=null&&(K(fe)&&(fe=q(fe,he+(fe.key==null||ve&&ve.key===fe.key?"":(""+fe.key).replace(Q,"$&/")+"/")+Ie)),Z.push(fe)),1;Ie=0;var je=ie===""?".":ie+":";if(te(ve))for(var Ve=0;Ve<ve.length;Ve++)ie=ve[Ve],ye=je+be(ie,Ve),Ie+=_e(ie,Z,he,ye,fe);else if(Ve=C(ve),typeof Ve=="function")for(ve=Ve.call(ve),Ve=0;!(ie=ve.next()).done;)ie=ie.value,ye=je+be(ie,Ve++),Ie+=_e(ie,Z,he,ye,fe);else if(ye==="object"){if(typeof ve.then=="function")return _e(xe(ve),Z,he,ie,fe);throw Z=String(ve),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(ve).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function Ae(ve,Z,he){if(ve==null)return ve;var ie=[],fe=0;return _e(ve,ie,"","",function(ye){return Z.call(he,ye,fe++)}),ie}function ot(ve){if(ve._status===-1){var Z=ve._result;Z=Z(),Z.then(function(he){(ve._status===0||ve._status===-1)&&(ve._status=1,ve._result=he)},function(he){(ve._status===0||ve._status===-1)&&(ve._status=2,ve._result=he)}),ve._status===-1&&(ve._status=0,ve._result=Z)}if(ve._status===1)return ve._result.default;throw ve._result}var Ce=typeof reportError=="function"?reportError:function(ve){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ve=="object"&&ve!==null&&typeof ve.message=="string"?String(ve.message):String(ve),error:ve});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ve);return}console.error(ve)},ht={map:Ae,forEach:function(ve,Z,he){Ae(ve,function(){Z.apply(this,arguments)},he)},count:function(ve){var Z=0;return Ae(ve,function(){Z++}),Z},toArray:function(ve){return Ae(ve,function(Z){return Z})||[]},only:function(ve){if(!K(ve))throw Error("React.Children.only expected to receive a single React element child.");return ve}};return ar.Activity=E,ar.Children=ht,ar.Component=P,ar.Fragment=r,ar.Profiler=i,ar.PureComponent=B,ar.StrictMode=n,ar.Suspense=m,ar.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ar.__COMPILER_RUNTIME={__proto__:null,c:function(ve){return L.H.useMemoCache(ve)}},ar.cache=function(ve){return function(){return ve.apply(null,arguments)}},ar.cacheSignal=function(){return null},ar.cloneElement=function(ve,Z,he){if(ve==null)throw Error("The argument must be a React element, but you passed "+ve+".");var ie=b({},ve.props),fe=ve.key;if(Z!=null)for(ye in Z.key!==void 0&&(fe=""+Z.key),Z)!j.call(Z,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&Z.ref===void 0||(ie[ye]=Z[ye]);var ye=arguments.length-2;if(ye===1)ie.children=he;else if(1<ye){for(var Ie=Array(ye),je=0;je<ye;je++)Ie[je]=arguments[je+2];ie.children=Ie}return U(ve.type,fe,ie)},ar.createContext=function(ve){return ve={$$typeof:l,_currentValue:ve,_currentValue2:ve,_threadCount:0,Provider:null,Consumer:null},ve.Provider=ve,ve.Consumer={$$typeof:a,_context:ve},ve},ar.createElement=function(ve,Z,he){var ie,fe={},ye=null;if(Z!=null)for(ie in Z.key!==void 0&&(ye=""+Z.key),Z)j.call(Z,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(fe[ie]=Z[ie]);var Ie=arguments.length-2;if(Ie===1)fe.children=he;else if(1<Ie){for(var je=Array(Ie),Ve=0;Ve<Ie;Ve++)je[Ve]=arguments[Ve+2];fe.children=je}if(ve&&ve.defaultProps)for(ie in Ie=ve.defaultProps,Ie)fe[ie]===void 0&&(fe[ie]=Ie[ie]);return U(ve,ye,fe)},ar.createRef=function(){return{current:null}},ar.forwardRef=function(ve){return{$$typeof:f,render:ve}},ar.isValidElement=K,ar.lazy=function(ve){return{$$typeof:y,_payload:{_status:-1,_result:ve},_init:ot}},ar.memo=function(ve,Z){return{$$typeof:g,type:ve,compare:Z===void 0?null:Z}},ar.startTransition=function(ve){var Z=L.T,he={};L.T=he;try{var ie=ve(),fe=L.S;fe!==null&&fe(he,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ee,Ce)}catch(ye){Ce(ye)}finally{Z!==null&&he.types!==null&&(Z.types=he.types),L.T=Z}},ar.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ar.use=function(ve){return L.H.use(ve)},ar.useActionState=function(ve,Z,he){return L.H.useActionState(ve,Z,he)},ar.useCallback=function(ve,Z){return L.H.useCallback(ve,Z)},ar.useContext=function(ve){return L.H.useContext(ve)},ar.useDebugValue=function(){},ar.useDeferredValue=function(ve,Z){return L.H.useDeferredValue(ve,Z)},ar.useEffect=function(ve,Z){return L.H.useEffect(ve,Z)},ar.useEffectEvent=function(ve){return L.H.useEffectEvent(ve)},ar.useId=function(){return L.H.useId()},ar.useImperativeHandle=function(ve,Z,he){return L.H.useImperativeHandle(ve,Z,he)},ar.useInsertionEffect=function(ve,Z){return L.H.useInsertionEffect(ve,Z)},ar.useLayoutEffect=function(ve,Z){return L.H.useLayoutEffect(ve,Z)},ar.useMemo=function(ve,Z){return L.H.useMemo(ve,Z)},ar.useOptimistic=function(ve,Z){return L.H.useOptimistic(ve,Z)},ar.useReducer=function(ve,Z,he){return L.H.useReducer(ve,Z,he)},ar.useRef=function(ve){return L.H.useRef(ve)},ar.useState=function(ve){return L.H.useState(ve)},ar.useSyncExternalStore=function(ve,Z,he){return L.H.useSyncExternalStore(ve,Z,he)},ar.useTransition=function(){return L.H.useTransition()},ar.version="19.2.0",ar}var tS;function zd(){return tS||(tS=1,O2.exports=$D()),O2.exports}var pe=zd();const ZD=Dy(pe),Ov=yb({__proto__:null,default:ZD},[pe]);var M2={exports:{}},Dh={},L2={exports:{}},F2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rS;function JD(){return rS||(rS=1,(function(t){function e(_e,Ae){var ot=_e.length;_e.push(Ae);e:for(;0<ot;){var Ce=ot-1>>>1,ht=_e[Ce];if(0<i(ht,Ae))_e[Ce]=Ae,_e[ot]=ht,ot=Ce;else break e}}function r(_e){return _e.length===0?null:_e[0]}function n(_e){if(_e.length===0)return null;var Ae=_e[0],ot=_e.pop();if(ot!==Ae){_e[0]=ot;e:for(var Ce=0,ht=_e.length,ve=ht>>>1;Ce<ve;){var Z=2*(Ce+1)-1,he=_e[Z],ie=Z+1,fe=_e[ie];if(0>i(he,ot))ie<ht&&0>i(fe,he)?(_e[Ce]=fe,_e[ie]=ot,Ce=ie):(_e[Ce]=he,_e[Z]=ot,Ce=Z);else if(ie<ht&&0>i(fe,ot))_e[Ce]=fe,_e[ie]=ot,Ce=ie;else break e}}return Ae}function i(_e,Ae){var ot=_e.sortIndex-Ae.sortIndex;return ot!==0?ot:_e.id-Ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,f=l.now();t.unstable_now=function(){return l.now()-f}}var m=[],g=[],y=1,E=null,A=3,C=!1,N=!1,b=!1,D=!1,P=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function Y(_e){for(var Ae=r(g);Ae!==null;){if(Ae.callback===null)n(g);else if(Ae.startTime<=_e)n(g),Ae.sortIndex=Ae.expirationTime,e(m,Ae);else break;Ae=r(g)}}function te(_e){if(b=!1,Y(_e),!N)if(r(m)!==null)N=!0,ee||(ee=!0,M());else{var Ae=r(g);Ae!==null&&xe(te,Ae.startTime-_e)}}var ee=!1,L=-1,j=5,U=-1;function q(){return D?!0:!(t.unstable_now()-U<j)}function K(){if(D=!1,ee){var _e=t.unstable_now();U=_e;var Ae=!0;try{e:{N=!1,b&&(b=!1,G(L),L=-1),C=!0;var ot=A;try{t:{for(Y(_e),E=r(m);E!==null&&!(E.expirationTime>_e&&q());){var Ce=E.callback;if(typeof Ce=="function"){E.callback=null,A=E.priorityLevel;var ht=Ce(E.expirationTime<=_e);if(_e=t.unstable_now(),typeof ht=="function"){E.callback=ht,Y(_e),Ae=!0;break t}E===r(m)&&n(m),Y(_e)}else n(m);E=r(m)}if(E!==null)Ae=!0;else{var ve=r(g);ve!==null&&xe(te,ve.startTime-_e),Ae=!1}}break e}finally{E=null,A=ot,C=!1}Ae=void 0}}finally{Ae?M():ee=!1}}}var M;if(typeof B=="function")M=function(){B(K)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,be=Q.port2;Q.port1.onmessage=K,M=function(){be.postMessage(null)}}else M=function(){P(K,0)};function xe(_e,Ae){L=P(function(){_e(t.unstable_now())},Ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_e){_e.callback=null},t.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<_e?Math.floor(1e3/_e):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_next=function(_e){switch(A){case 1:case 2:case 3:var Ae=3;break;default:Ae=A}var ot=A;A=Ae;try{return _e()}finally{A=ot}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(_e,Ae){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var ot=A;A=_e;try{return Ae()}finally{A=ot}},t.unstable_scheduleCallback=function(_e,Ae,ot){var Ce=t.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Ce+ot:Ce):ot=Ce,_e){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=ot+ht,_e={id:y++,callback:Ae,priorityLevel:_e,startTime:ot,expirationTime:ht,sortIndex:-1},ot>Ce?(_e.sortIndex=ot,e(g,_e),r(m)===null&&_e===r(g)&&(b?(G(L),L=-1):b=!0,xe(te,ot-Ce))):(_e.sortIndex=ht,e(m,_e),N||C||(N=!0,ee||(ee=!0,M()))),_e},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(_e){var Ae=A;return function(){var ot=A;A=Ae;try{return _e.apply(this,arguments)}finally{A=ot}}}})(F2)),F2}var nS;function e5(){return nS||(nS=1,L2.exports=JD()),L2.exports}var P2={exports:{}},pa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS;function t5(){if(iS)return pa;iS=1;var t=zd();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(m,g,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:E==null?null:""+E,children:m,containerInfo:g,implementation:y}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,pa.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return a(m,g,null,y)},pa.flushSync=function(m){var g=l.T,y=n.p;try{if(l.T=null,n.p=2,m)return m()}finally{l.T=g,n.p=y,n.d.f()}},pa.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,n.d.C(m,g))},pa.prefetchDNS=function(m){typeof m=="string"&&n.d.D(m)},pa.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,E=f(y,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?n.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:C}):y==="script"&&n.d.X(m,{crossOrigin:E,integrity:A,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pa.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);n.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&n.d.M(m)},pa.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,E=f(y,g.crossOrigin);n.d.L(m,y,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pa.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=f(g.as,g.crossOrigin);n.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else n.d.m(m)},pa.requestFormReset=function(m){n.d.r(m)},pa.unstable_batchedUpdates=function(m,g){return m(g)},pa.useFormState=function(m,g,y){return l.H.useFormState(m,g,y)},pa.useFormStatus=function(){return l.H.useHostTransitionStatus()},pa.version="19.2.0",pa}var aS;function r5(){if(aS)return P2.exports;aS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),P2.exports=t5(),P2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS;function n5(){if(sS)return Dh;sS=1;var t=e5(),e=zd(),r=r5();function n(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var c=s,d=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(d=c.return),s=c.return;while(s)}return c.tag===3?d:null}function l(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function f(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function m(s){if(a(s)!==s)throw Error(n(188))}function g(s){var c=s.alternate;if(!c){if(c=a(s),c===null)throw Error(n(188));return c!==s?null:s}for(var d=s,v=c;;){var S=d.return;if(S===null)break;var R=S.alternate;if(R===null){if(v=S.return,v!==null){d=v;continue}break}if(S.child===R.child){for(R=S.child;R;){if(R===d)return m(S),s;if(R===v)return m(S),c;R=R.sibling}throw Error(n(188))}if(d.return!==v.return)d=S,v=R;else{for(var z=!1,ne=S.child;ne;){if(ne===d){z=!0,d=S,v=R;break}if(ne===v){z=!0,v=S,d=R;break}ne=ne.sibling}if(!z){for(ne=R.child;ne;){if(ne===d){z=!0,d=R,v=S;break}if(ne===v){z=!0,v=R,d=S;break}ne=ne.sibling}if(!z)throw Error(n(189))}}if(d.alternate!==v)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?s:c}function y(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=y(s),c!==null)return c;s=s.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),B=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function M(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var Q=Symbol.for("react.client.reference");function be(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Q?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case P:return"Profiler";case D:return"StrictMode";case te:return"Suspense";case ee:return"SuspenseList";case U:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case N:return"Portal";case B:return s.displayName||"Context";case G:return(s._context.displayName||"Context")+".Consumer";case Y:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case L:return c=s.displayName||null,c!==null?c:be(s.type)||"Memo";case j:c=s._payload,s=s._init;try{return be(s(c))}catch{}}return null}var xe=Array.isArray,_e=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Ce=[],ht=-1;function ve(s){return{current:s}}function Z(s){0>ht||(s.current=Ce[ht],Ce[ht]=null,ht--)}function he(s,c){ht++,Ce[ht]=s.current,s.current=c}var ie=ve(null),fe=ve(null),ye=ve(null),Ie=ve(null);function je(s,c){switch(he(ye,c),he(fe,s),he(ie,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?EA(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=EA(c),s=wA(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Z(ie),he(ie,s)}function Ve(){Z(ie),Z(fe),Z(ye)}function $e(s){s.memoizedState!==null&&he(Ie,s);var c=ie.current,d=wA(c,s.type);c!==d&&(he(fe,s),he(ie,d))}function _t(s){fe.current===s&&(Z(ie),Z(fe)),Ie.current===s&&(Z(Ie),bh._currentValue=ot)}var me,wt;function kt(s){if(me===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);me=c&&c[1]||"",wt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+s+wt}var Wt=!1;function jt(s,c){if(!s||Wt)return"";Wt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(We){var Ue=We}Reflect.construct(s,[],tt)}else{try{tt.call()}catch(We){Ue=We}s.call(tt.prototype)}}else{try{throw Error()}catch(We){Ue=We}(tt=s())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(We){if(We&&Ue&&typeof We.stack=="string")return[We.stack,Ue.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=v.DetermineComponentFrameRoot(),z=R[0],ne=R[1];if(z&&ne){var Ee=z.split(`
`),Fe=ne.split(`
`);for(S=v=0;v<Ee.length&&!Ee[v].includes("DetermineComponentFrameRoot");)v++;for(;S<Fe.length&&!Fe[S].includes("DetermineComponentFrameRoot");)S++;if(v===Ee.length||S===Fe.length)for(v=Ee.length-1,S=Fe.length-1;1<=v&&0<=S&&Ee[v]!==Fe[S];)S--;for(;1<=v&&0<=S;v--,S--)if(Ee[v]!==Fe[S]){if(v!==1||S!==1)do if(v--,S--,0>S||Ee[v]!==Fe[S]){var Ke=`
`+Ee[v].replace(" at new "," at ");return s.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",s.displayName)),Ke}while(1<=v&&0<=S);break}}}finally{Wt=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?kt(d):""}function ct(s,c){switch(s.tag){case 26:case 27:case 5:return kt(s.type);case 16:return kt("Lazy");case 13:return s.child!==c&&c!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return jt(s.type,!1);case 11:return jt(s.type.render,!1);case 1:return jt(s.type,!0);case 31:return kt("Activity");default:return""}}function Ot(s){try{var c="",d=null;do c+=ct(s,d),d=s,s=s.return;while(s);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Ct=Object.prototype.hasOwnProperty,ln=t.unstable_scheduleCallback,vt=t.unstable_cancelCallback,_i=t.unstable_shouldYield,Oi=t.unstable_requestPaint,rr=t.unstable_now,ci=t.unstable_getCurrentPriorityLevel,or=t.unstable_ImmediatePriority,Gr=t.unstable_UserBlockingPriority,yr=t.unstable_NormalPriority,Nr=t.unstable_LowPriority,It=t.unstable_IdlePriority,zt=t.log,Wr=t.unstable_setDisableYieldValue,Nt=null,Je=null;function _r(s){if(typeof zt=="function"&&Wr(s),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(Nt,s)}catch{}}var Zt=Math.clz32?Math.clz32:ho,cn=Math.log,Ha=Math.LN2;function ho(s){return s>>>=0,s===0?32:31-(cn(s)/Ha|0)|0}var gs=256,nr=262144,zi=4194304;function Mi(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function $i(s,c,d){var v=s.pendingLanes;if(v===0)return 0;var S=0,R=s.suspendedLanes,z=s.pingedLanes;s=s.warmLanes;var ne=v&134217727;return ne!==0?(v=ne&~R,v!==0?S=Mi(v):(z&=ne,z!==0?S=Mi(z):d||(d=ne&~s,d!==0&&(S=Mi(d))))):(ne=v&~R,ne!==0?S=Mi(ne):z!==0?S=Mi(z):d||(d=v&~s,d!==0&&(S=Mi(d)))),S===0?0:c!==0&&c!==S&&(c&R)===0&&(R=S&-S,d=c&-c,R>=d||R===32&&(d&4194048)!==0)?c:S}function Wn(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function Us(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function On(){var s=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),s}function Hi(s){for(var c=[],d=0;31>d;d++)c.push(s);return c}function Na(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function qr(s,c,d,v,S,R){var z=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var ne=s.entanglements,Ee=s.expirationTimes,Fe=s.hiddenUpdates;for(d=z&~d;0<d;){var Ke=31-Zt(d),tt=1<<Ke;ne[Ke]=0,Ee[Ke]=-1;var Ue=Fe[Ke];if(Ue!==null)for(Fe[Ke]=null,Ke=0;Ke<Ue.length;Ke++){var We=Ue[Ke];We!==null&&(We.lane&=-536870913)}d&=~tt}v!==0&&fl(s,v,0),R!==0&&S===0&&s.tag!==0&&(s.suspendedLanes|=R&~(z&~c))}function fl(s,c,d){s.pendingLanes|=c,s.suspendedLanes&=~c;var v=31-Zt(c);s.entangledLanes|=c,s.entanglements[v]=s.entanglements[v]|1073741824|d&261930}function Ei(s,c){var d=s.entangledLanes|=c;for(s=s.entanglements;d;){var v=31-Zt(d),S=1<<v;S&c|s[v]&c&&(s[v]|=c),d&=~S}}function Ga(s,c){var d=c&-c;return d=(d&42)!==0?1:qn(d),(d&(s.suspendedLanes|c))!==0?0:d}function qn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ka(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function J(){var s=Ae.p;return s!==0?s:(s=window.event,s===void 0?32:WA(s.type))}function ae(s,c){var d=Ae.p;try{return Ae.p=s,c()}finally{Ae.p=d}}var oe=Math.random().toString(36).slice(2),le="__reactFiber$"+oe,ce="__reactProps$"+oe,ge="__reactContainer$"+oe,Me="__reactEvents$"+oe,qe="__reactListeners$"+oe,ke="__reactHandles$"+oe,Pe="__reactResources$"+oe,Be="__reactMarker$"+oe;function rt(s){delete s[le],delete s[ce],delete s[Me],delete s[qe],delete s[ke]}function st(s){var c=s[le];if(c)return c;for(var d=s.parentNode;d;){if(c=d[ge]||d[le]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(s=RA(s);s!==null;){if(d=s[le])return d;s=RA(s)}return c}s=d,d=s.parentNode}return null}function lt(s){if(s=s[le]||s[ge]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function ut(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(n(33))}function gt(s){var c=s[Pe];return c||(c=s[Pe]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Tt(s){s[Be]=!0}var Xe=new Set,kr={};function Lt(s,c){Un(s,c),Un(s+"Capture",c)}function Un(s,c){for(kr[s]=c,s=0;s<c.length;s++)Xe.add(c[s])}var go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lr={},Jt={};function ir(s){return Ct.call(Jt,s)?!0:Ct.call(lr,s)?!1:go.test(s)?Jt[s]=!0:(lr[s]=!0,!1)}function Xn(s,c,d){if(ir(c))if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+d)}}function Vs(s,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+d)}}function da(s,c,d,v){if(v===null)s.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(c,d,""+v)}}function Ir(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ms(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Q0(s,c,d){var v=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var S=v.get,R=v.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return S.call(this)},set:function(z){d=""+z,R.call(this,z)}}),Object.defineProperty(s,c,{enumerable:v.enumerable}),{getValue:function(){return d},setValue:function(z){d=""+z},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function un(s){if(!s._valueTracker){var c=ms(s)?"checked":"value";s._valueTracker=Q0(s,c,""+s[c])}}function Wa(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var d=c.getValue(),v="";return s&&(v=ms(s)?s.checked?"true":"false":s.value),s=v,s!==d?(c.setValue(s),!0):!1}function ic(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ga=/[\n"\\]/g;function qt(s){return s.replace(ga,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function An(s,c,d,v,S,R,z,ne){s.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?s.type=z:s.removeAttribute("type"),c!=null?z==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+Ir(c)):s.value!==""+Ir(c)&&(s.value=""+Ir(c)):z!=="submit"&&z!=="reset"||s.removeAttribute("value"),c!=null?ue(s,z,Ir(c)):d!=null?ue(s,z,Ir(d)):v!=null&&s.removeAttribute("value"),S==null&&R!=null&&(s.defaultChecked=!!R),S!=null&&(s.checked=S&&typeof S!="function"&&typeof S!="symbol"),ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?s.name=""+Ir(ne):s.removeAttribute("name")}function Oe(s,c,d,v,S,R,z,ne){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(s.type=R),c!=null||d!=null){if(!(R!=="submit"&&R!=="reset"||c!=null)){un(s);return}d=d!=null?""+Ir(d):"",c=c!=null?""+Ir(c):d,ne||c===s.value||(s.value=c),s.defaultValue=c}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,s.checked=ne?s.checked:!!v,s.defaultChecked=!!v,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(s.name=z),un(s)}function ue(s,c,d){c==="number"&&ic(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function mt(s,c,d,v){if(s=s.options,c){c={};for(var S=0;S<d.length;S++)c["$"+d[S]]=!0;for(d=0;d<s.length;d++)S=c.hasOwnProperty("$"+s[d].value),s[d].selected!==S&&(s[d].selected=S),S&&v&&(s[d].defaultSelected=!0)}else{for(d=""+Ir(d),c=null,S=0;S<s.length;S++){if(s[S].value===d){s[S].selected=!0,v&&(s[S].defaultSelected=!0);return}c!==null||s[S].disabled||(c=s[S])}c!==null&&(c.selected=!0)}}function En(s,c,d){if(c!=null&&(c=""+Ir(c),c!==s.value&&(s.value=c),d==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=d!=null?""+Ir(d):""}function ui(s,c,d,v){if(c==null){if(v!=null){if(d!=null)throw Error(n(92));if(xe(v)){if(1<v.length)throw Error(n(93));v=v[0]}d=v}d==null&&(d=""),c=d}d=Ir(c),s.defaultValue=d,v=s.textContent,v===d&&v!==""&&v!==null&&(s.value=v),un(s)}function qa(s,c){if(c){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=c;return}}s.textContent=c}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gi(s,c,d){var v=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?v?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":v?s.setProperty(c,d):typeof d!="number"||d===0||pu.has(c)?c==="float"?s.cssFloat=d:s[c]=(""+d).trim():s[c]=d+"px"}function Dt(s,c,d){if(c!=null&&typeof c!="object")throw Error(n(62));if(s=s.style,d!=null){for(var v in d)!d.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?s.setProperty(v,""):v==="float"?s.cssFloat="":s[v]="");for(var S in c)v=c[S],c.hasOwnProperty(S)&&d[S]!==v&&Gi(s,S,v)}else for(var R in c)c.hasOwnProperty(R)&&Gi(s,R,c[R])}function $r(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xa(s){return $0.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Vn(){}var Do=null;function ac(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fn=null,Li=null;function ps(s){var c=lt(s);if(c&&(s=c.stateNode)){var d=s[ce]||null;e:switch(s=c.stateNode,c.type){case"input":if(An(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+qt(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var v=d[c];if(v!==s&&v.form===s.form){var S=v[ce]||null;if(!S)throw Error(n(90));An(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(c=0;c<d.length;c++)v=d[c],v.form===s.form&&Wa(v)}break e;case"textarea":En(s,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&mt(s,!!d.multiple,c,!1)}}}var Ft=!1;function wf(s,c,d){if(Ft)return s(c,d);Ft=!0;try{var v=s(c);return v}finally{if(Ft=!1,(fn!==null||Li!==null)&&(Z1(),fn&&(c=fn,s=Li,Li=fn=null,ps(c),s)))for(c=0;c<s.length;c++)ps(s[c])}}function Pt(s,c){var d=s.stateNode;if(d===null)return null;var v=d[ce]||null;if(v===null)return null;d=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(n(231,c,typeof d));return d}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xu=!1;if(Zr)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){xu=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{xu=!1}var ma=null,Ka=null,js=null;function Qa(){if(js)return js;var s,c=Ka,d=c.length,v,S="value"in ma?ma.value:ma.textContent,R=S.length;for(s=0;s<d&&c[s]===S[s];s++);var z=d-s;for(v=1;v<=z&&c[d-v]===S[R-v];v++);return js=S.slice(s,1<v?1-v:void 0)}function xs(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function $a(){return!0}function hn(){return!1}function Yn(s){function c(d,v,S,R,z){this._reactName=d,this._targetInst=S,this.type=v,this.nativeEvent=R,this.target=z,this.currentTarget=null;for(var ne in s)s.hasOwnProperty(ne)&&(d=s[ne],this[ne]=d?d(R):R[ne]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?$a:hn,this.isPropagationStopped=hn,this}return E(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),c}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kn=Yn(Da),mo=E({},Da,{view:0,detail:0}),vu=Yn(mo),po,sc,Zi,hl=E({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Zi&&(Zi&&s.type==="mousemove"?(po=s.screenX-Zi.screenX,sc=s.screenY-Zi.screenY):sc=po=0,Zi=s),po)},movementY:function(s){return"movementY"in s?s.movementY:sc}}),Or=Yn(hl),Oo=E({},hl,{dataTransfer:0}),dl=Yn(Oo),Za=E({},mo,{relatedTarget:0}),Mo=Yn(Za),ze=E({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),$t=Yn(ze),fi=E({},Da,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),gl=Yn(fi),Lo=E({},Da,{data:0}),yu=Yn(Lo),Tf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ml={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=ml[s])?!!c[s]:!1}function zs(){return Mn}var vn=E({},mo,{key:function(s){if(s.key){var c=Tf[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=xs(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?_u[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(s){return s.type==="keypress"?xs(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?xs(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),pl=Yn(vn),Ji=E({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mr=Yn(Ji),Mt=E({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),Af=Yn(Mt),Xr=E({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ja=Yn(Xr),Qn=E({},hl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Sf=Yn(Qn),Oa=E({},Da,{newState:0,oldState:0}),Hs=Yn(Oa),T=[9,13,27,32],F=Zr&&"CompositionEvent"in window,H=null;Zr&&"documentMode"in document&&(H=document.documentMode);var se=Zr&&"TextEvent"in window&&!H,De=Zr&&(!F||H&&8<H&&11>=H),Ge=" ",pt=!1;function Pr(s,c){switch(s){case"keyup":return T.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wn(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var fr=!1;function yn(s,c){switch(s){case"compositionend":return wn(c);case"keypress":return c.which!==32?null:(pt=!0,Ge);case"textInput":return s=c.data,s===Ge&&pt?null:s;default:return null}}function jn(s,c){if(fr)return s==="compositionend"||!F&&Pr(s,c)?(s=Qa(),js=Ka=ma=null,fr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return De&&c.locale!=="ko"?null:c.data;default:return null}}var hi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ea(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!hi[s.type]:c==="textarea"}function Wi(s,c,d,v){fn?Li?Li.push(v):Li=[v]:fn=v,c=ag(c,"onChange"),0<c.length&&(d=new Kn("onChange","change",null,d,v),s.push({event:d,listeners:c}))}var xo=null,xl=null;function Wp(s){mA(s,0)}function Eu(s){var c=ut(s);if(Wa(c))return s}function vs(s,c){if(s==="change")return c}var p1=!1;if(Zr){var wu;if(Zr){var vl="oninput"in document;if(!vl){var Tr=document.createElement("div");Tr.setAttribute("oninput","return;"),vl=typeof Tr.oninput=="function"}wu=vl}else wu=!1;p1=wu&&(!document.documentMode||9<document.documentMode)}function Tu(){xo&&(xo.detachEvent("onpropertychange",W),xl=xo=null)}function W(s){if(s.propertyName==="value"&&Eu(xl)){var c=[];Wi(c,xl,s,ac(s)),wf(Wp,c)}}function o(s,c,d){s==="focusin"?(Tu(),xo=c,xl=d,xo.attachEvent("onpropertychange",W)):s==="focusout"&&Tu()}function u(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Eu(xl)}function h(s,c){if(s==="click")return Eu(c)}function p(s,c){if(s==="input"||s==="change")return Eu(c)}function x(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var _=typeof Object.is=="function"?Object.is:x;function w(s,c){if(_(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var d=Object.keys(s),v=Object.keys(c);if(d.length!==v.length)return!1;for(v=0;v<d.length;v++){var S=d[v];if(!Ct.call(c,S)||!_(s[S],c[S]))return!1}return!0}function I(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function O(s,c){var d=I(s);s=0;for(var v;d;){if(d.nodeType===3){if(v=s+d.textContent.length,s<=c&&v>=c)return{node:d,offset:c-s};s=v}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=I(d)}}function V(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?V(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function X(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=ic(s.document);c instanceof s.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)s=c.contentWindow;else break;c=ic(s.document)}return c}function re(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var de=Zr&&"documentMode"in document&&11>=document.documentMode,we=null,Te=null,Ne=null,He=!1;function dt(s,c,d){var v=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;He||we==null||we!==ic(v)||(v=we,"selectionStart"in v&&re(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Ne&&w(Ne,v)||(Ne=v,v=ag(Te,"onSelect"),0<v.length&&(c=new Kn("onSelect","select",null,c,d),s.push({event:c,listeners:v}),c.target=we)))}function ft(s,c){var d={};return d[s.toLowerCase()]=c.toLowerCase(),d["Webkit"+s]="webkit"+c,d["Moz"+s]="moz"+c,d}var at={animationend:ft("Animation","AnimationEnd"),animationiteration:ft("Animation","AnimationIteration"),animationstart:ft("Animation","AnimationStart"),transitionrun:ft("Transition","TransitionRun"),transitionstart:ft("Transition","TransitionStart"),transitioncancel:ft("Transition","TransitionCancel"),transitionend:ft("Transition","TransitionEnd")},gr={},er={};Zr&&(er=document.createElement("div").style,"AnimationEvent"in window||(delete at.animationend.animation,delete at.animationiteration.animation,delete at.animationstart.animation),"TransitionEvent"in window||delete at.transitionend.transition);function $n(s){if(gr[s])return gr[s];if(!at[s])return s;var c=at[s],d;for(d in c)if(c.hasOwnProperty(d)&&d in er)return gr[s]=c[d];return s}var es=$n("animationend"),ta=$n("animationiteration"),Yr=$n("animationstart"),Fi=$n("transitionrun"),Ma=$n("transitionstart"),oc=$n("transitioncancel"),yl=$n("transitionend"),x1=new Map,Z0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Z0.push("scrollEnd");function vo(s,c){x1.set(s,c),Lt(c,[s])}var v1=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Gs=[],Cf=0,qp=0;function y1(){for(var s=Cf,c=qp=Cf=0;c<s;){var d=Gs[c];Gs[c++]=null;var v=Gs[c];Gs[c++]=null;var S=Gs[c];Gs[c++]=null;var R=Gs[c];if(Gs[c++]=null,v!==null&&S!==null){var z=v.pending;z===null?S.next=S:(S.next=z.next,z.next=S),v.pending=S}R!==0&&QE(d,S,R)}}function _1(s,c,d,v){Gs[Cf++]=s,Gs[Cf++]=c,Gs[Cf++]=d,Gs[Cf++]=v,qp|=v,s.lanes|=v,s=s.alternate,s!==null&&(s.lanes|=v)}function Xp(s,c,d,v){return _1(s,c,d,v),E1(s)}function Au(s,c){return _1(s,null,null,c),E1(s)}function QE(s,c,d){s.lanes|=d;var v=s.alternate;v!==null&&(v.lanes|=d);for(var S=!1,R=s.return;R!==null;)R.childLanes|=d,v=R.alternate,v!==null&&(v.childLanes|=d),R.tag===22&&(s=R.stateNode,s===null||s._visibility&1||(S=!0)),s=R,R=R.return;return s.tag===3?(R=s.stateNode,S&&c!==null&&(S=31-Zt(d),s=R.hiddenUpdates,v=s[S],v===null?s[S]=[c]:v.push(c),c.lane=d|536870912),R):null}function E1(s){if(50<_h)throw _h=0,r2=null,Error(n(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var bf={};function Dk(s,c,d,v){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ys(s,c,d,v){return new Dk(s,c,d,v)}function Yp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function _l(s,c){var d=s.alternate;return d===null?(d=ys(s.tag,c,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=c,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,c=s.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function $E(s,c){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,c=d.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function w1(s,c,d,v,S,R){var z=0;if(v=s,typeof s=="function")Yp(s)&&(z=1);else if(typeof s=="string")z=PD(s,d,ie.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case U:return s=ys(31,d,c,S),s.elementType=U,s.lanes=R,s;case b:return Su(d.children,S,R,c);case D:z=8,S|=24;break;case P:return s=ys(12,d,c,S|2),s.elementType=P,s.lanes=R,s;case te:return s=ys(13,d,c,S),s.elementType=te,s.lanes=R,s;case ee:return s=ys(19,d,c,S),s.elementType=ee,s.lanes=R,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:z=10;break e;case G:z=9;break e;case Y:z=11;break e;case L:z=14;break e;case j:z=16,v=null;break e}z=29,d=Error(n(130,s===null?"null":typeof s,"")),v=null}return c=ys(z,d,c,S),c.elementType=s,c.type=v,c.lanes=R,c}function Su(s,c,d,v){return s=ys(7,s,v,c),s.lanes=d,s}function Kp(s,c,d){return s=ys(6,s,null,c),s.lanes=d,s}function ZE(s){var c=ys(18,null,null,0);return c.stateNode=s,c}function Qp(s,c,d){return c=ys(4,s.children!==null?s.children:[],s.key,c),c.lanes=d,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var JE=new WeakMap;function Ws(s,c){if(typeof s=="object"&&s!==null){var d=JE.get(s);return d!==void 0?d:(c={value:s,source:c,stack:Ot(c)},JE.set(s,c),c)}return{value:s,source:c,stack:Ot(c)}}var If=[],Rf=0,T1=null,J0=0,qs=[],Xs=0,lc=null,Fo=1,Po="";function El(s,c){If[Rf++]=J0,If[Rf++]=T1,T1=s,J0=c}function ew(s,c,d){qs[Xs++]=Fo,qs[Xs++]=Po,qs[Xs++]=lc,lc=s;var v=Fo;s=Po;var S=32-Zt(v)-1;v&=~(1<<S),d+=1;var R=32-Zt(c)+S;if(30<R){var z=S-S%5;R=(v&(1<<z)-1).toString(32),v>>=z,S-=z,Fo=1<<32-Zt(c)+S|d<<S|v,Po=R+s}else Fo=1<<R|d<<S|v,Po=s}function $p(s){s.return!==null&&(El(s,1),ew(s,1,0))}function Zp(s){for(;s===T1;)T1=If[--Rf],If[Rf]=null,J0=If[--Rf],If[Rf]=null;for(;s===lc;)lc=qs[--Xs],qs[Xs]=null,Po=qs[--Xs],qs[Xs]=null,Fo=qs[--Xs],qs[Xs]=null}function tw(s,c){qs[Xs++]=Fo,qs[Xs++]=Po,qs[Xs++]=lc,Fo=c.id,Po=c.overflow,lc=s}var ra=null,Sn=null,Rr=!1,cc=null,Ys=!1,Jp=Error(n(519));function uc(s){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eh(Ws(c,s)),Jp}function rw(s){var c=s.stateNode,d=s.type,v=s.memoizedProps;switch(c[le]=s,c[ce]=v,d){case"dialog":wr("cancel",c),wr("close",c);break;case"iframe":case"object":case"embed":wr("load",c);break;case"video":case"audio":for(d=0;d<wh.length;d++)wr(wh[d],c);break;case"source":wr("error",c);break;case"img":case"image":case"link":wr("error",c),wr("load",c);break;case"details":wr("toggle",c);break;case"input":wr("invalid",c),Oe(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":wr("invalid",c);break;case"textarea":wr("invalid",c),ui(c,v.value,v.defaultValue,v.children)}d=v.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||v.suppressHydrationWarning===!0||yA(c.textContent,d)?(v.popover!=null&&(wr("beforetoggle",c),wr("toggle",c)),v.onScroll!=null&&wr("scroll",c),v.onScrollEnd!=null&&wr("scrollend",c),v.onClick!=null&&(c.onclick=Vn),c=!0):c=!1,c||uc(s,!0)}function nw(s){for(ra=s.return;ra;)switch(ra.tag){case 5:case 31:case 13:Ys=!1;return;case 27:case 3:Ys=!0;return;default:ra=ra.return}}function Nf(s){if(s!==ra)return!1;if(!Rr)return nw(s),Rr=!0,!1;var c=s.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||x2(s.type,s.memoizedProps)),d=!d),d&&Sn&&uc(s),nw(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Sn=IA(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Sn=IA(s)}else c===27?(c=Sn,Ac(s.type)?(s=w2,w2=null,Sn=s):Sn=c):Sn=ra?Qs(s.stateNode.nextSibling):null;return!0}function Cu(){Sn=ra=null,Rr=!1}function ex(){var s=cc;return s!==null&&(is===null?is=s:is.push.apply(is,s),cc=null),s}function eh(s){cc===null?cc=[s]:cc.push(s)}var tx=ve(null),bu=null,wl=null;function fc(s,c,d){he(tx,c._currentValue),c._currentValue=d}function Tl(s){s._currentValue=tx.current,Z(tx)}function rx(s,c,d){for(;s!==null;){var v=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),s===d)break;s=s.return}}function nx(s,c,d,v){var S=s.child;for(S!==null&&(S.return=s);S!==null;){var R=S.dependencies;if(R!==null){var z=S.child;R=R.firstContext;e:for(;R!==null;){var ne=R;R=S;for(var Ee=0;Ee<c.length;Ee++)if(ne.context===c[Ee]){R.lanes|=d,ne=R.alternate,ne!==null&&(ne.lanes|=d),rx(R.return,d,s),v||(z=null);break e}R=ne.next}}else if(S.tag===18){if(z=S.return,z===null)throw Error(n(341));z.lanes|=d,R=z.alternate,R!==null&&(R.lanes|=d),rx(z,d,s),z=null}else z=S.child;if(z!==null)z.return=S;else for(z=S;z!==null;){if(z===s){z=null;break}if(S=z.sibling,S!==null){S.return=z.return,z=S;break}z=z.return}S=z}}function kf(s,c,d,v){s=null;for(var S=c,R=!1;S!==null;){if(!R){if((S.flags&524288)!==0)R=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var z=S.alternate;if(z===null)throw Error(n(387));if(z=z.memoizedProps,z!==null){var ne=S.type;_(S.pendingProps.value,z.value)||(s!==null?s.push(ne):s=[ne])}}else if(S===Ie.current){if(z=S.alternate,z===null)throw Error(n(387));z.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(s!==null?s.push(bh):s=[bh])}S=S.return}s!==null&&nx(c,s,d,v),c.flags|=262144}function A1(s){for(s=s.firstContext;s!==null;){if(!_(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Iu(s){bu=s,wl=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function na(s){return iw(bu,s)}function S1(s,c){return bu===null&&Iu(s),iw(s,c)}function iw(s,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},wl===null){if(s===null)throw Error(n(308));wl=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else wl=wl.next=c;return d}var Ok=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(d,v){s.push(v)}};this.abort=function(){c.aborted=!0,s.forEach(function(d){return d()})}},Mk=t.unstable_scheduleCallback,Lk=t.unstable_NormalPriority,wi={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ix(){return{controller:new Ok,data:new Map,refCount:0}}function th(s){s.refCount--,s.refCount===0&&Mk(Lk,function(){s.controller.abort()})}var rh=null,ax=0,Df=0,Of=null;function Fk(s,c){if(rh===null){var d=rh=[];ax=0,Df=l2(),Of={status:"pending",value:void 0,then:function(v){d.push(v)}}}return ax++,c.then(aw,aw),c}function aw(){if(--ax===0&&rh!==null){Of!==null&&(Of.status="fulfilled");var s=rh;rh=null,Df=0,Of=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function Pk(s,c){var d=[],v={status:"pending",value:null,reason:null,then:function(S){d.push(S)}};return s.then(function(){v.status="fulfilled",v.value=c;for(var S=0;S<d.length;S++)(0,d[S])(c)},function(S){for(v.status="rejected",v.reason=S,S=0;S<d.length;S++)(0,d[S])(void 0)}),v}var sw=_e.S;_e.S=function(s,c){HT=rr(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&Fk(s,c),sw!==null&&sw(s,c)};var Ru=ve(null);function sx(){var s=Ru.current;return s!==null?s:_n.pooledCache}function C1(s,c){c===null?he(Ru,Ru.current):he(Ru,c.pool)}function ow(){var s=sx();return s===null?null:{parent:wi._currentValue,pool:s}}var Mf=Error(n(460)),ox=Error(n(474)),b1=Error(n(542)),I1={then:function(){}};function lw(s){return s=s.status,s==="fulfilled"||s==="rejected"}function cw(s,c,d){switch(d=s[d],d===void 0?s.push(c):d!==c&&(c.then(Vn,Vn),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,fw(s),s;default:if(typeof c.status=="string")c.then(Vn,Vn);else{if(s=_n,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=c,s.status="pending",s.then(function(v){if(c.status==="pending"){var S=c;S.status="fulfilled",S.value=v}},function(v){if(c.status==="pending"){var S=c;S.status="rejected",S.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,fw(s),s}throw ku=c,Mf}}function Nu(s){try{var c=s._init;return c(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(ku=d,Mf):d}}var ku=null;function uw(){if(ku===null)throw Error(n(459));var s=ku;return ku=null,s}function fw(s){if(s===Mf||s===b1)throw Error(n(483))}var Lf=null,nh=0;function R1(s){var c=nh;return nh+=1,Lf===null&&(Lf=[]),cw(Lf,s,c)}function ih(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function N1(s,c){throw c.$$typeof===A?Error(n(525)):(s=Object.prototype.toString.call(c),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function hw(s){function c(Re,Se){if(s){var Le=Re.deletions;Le===null?(Re.deletions=[Se],Re.flags|=16):Le.push(Se)}}function d(Re,Se){if(!s)return null;for(;Se!==null;)c(Re,Se),Se=Se.sibling;return null}function v(Re){for(var Se=new Map;Re!==null;)Re.key!==null?Se.set(Re.key,Re):Se.set(Re.index,Re),Re=Re.sibling;return Se}function S(Re,Se){return Re=_l(Re,Se),Re.index=0,Re.sibling=null,Re}function R(Re,Se,Le){return Re.index=Le,s?(Le=Re.alternate,Le!==null?(Le=Le.index,Le<Se?(Re.flags|=67108866,Se):Le):(Re.flags|=67108866,Se)):(Re.flags|=1048576,Se)}function z(Re){return s&&Re.alternate===null&&(Re.flags|=67108866),Re}function ne(Re,Se,Le,Ze){return Se===null||Se.tag!==6?(Se=Kp(Le,Re.mode,Ze),Se.return=Re,Se):(Se=S(Se,Le),Se.return=Re,Se)}function Ee(Re,Se,Le,Ze){var Bt=Le.type;return Bt===b?Ke(Re,Se,Le.props.children,Ze,Le.key):Se!==null&&(Se.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===j&&Nu(Bt)===Se.type)?(Se=S(Se,Le.props),ih(Se,Le),Se.return=Re,Se):(Se=w1(Le.type,Le.key,Le.props,null,Re.mode,Ze),ih(Se,Le),Se.return=Re,Se)}function Fe(Re,Se,Le,Ze){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Le.containerInfo||Se.stateNode.implementation!==Le.implementation?(Se=Qp(Le,Re.mode,Ze),Se.return=Re,Se):(Se=S(Se,Le.children||[]),Se.return=Re,Se)}function Ke(Re,Se,Le,Ze,Bt){return Se===null||Se.tag!==7?(Se=Su(Le,Re.mode,Ze,Bt),Se.return=Re,Se):(Se=S(Se,Le),Se.return=Re,Se)}function tt(Re,Se,Le){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Se=Kp(""+Se,Re.mode,Le),Se.return=Re,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case C:return Le=w1(Se.type,Se.key,Se.props,null,Re.mode,Le),ih(Le,Se),Le.return=Re,Le;case N:return Se=Qp(Se,Re.mode,Le),Se.return=Re,Se;case j:return Se=Nu(Se),tt(Re,Se,Le)}if(xe(Se)||M(Se))return Se=Su(Se,Re.mode,Le,null),Se.return=Re,Se;if(typeof Se.then=="function")return tt(Re,R1(Se),Le);if(Se.$$typeof===B)return tt(Re,S1(Re,Se),Le);N1(Re,Se)}return null}function Ue(Re,Se,Le,Ze){var Bt=Se!==null?Se.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Bt!==null?null:ne(Re,Se,""+Le,Ze);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case C:return Le.key===Bt?Ee(Re,Se,Le,Ze):null;case N:return Le.key===Bt?Fe(Re,Se,Le,Ze):null;case j:return Le=Nu(Le),Ue(Re,Se,Le,Ze)}if(xe(Le)||M(Le))return Bt!==null?null:Ke(Re,Se,Le,Ze,null);if(typeof Le.then=="function")return Ue(Re,Se,R1(Le),Ze);if(Le.$$typeof===B)return Ue(Re,Se,S1(Re,Le),Ze);N1(Re,Le)}return null}function We(Re,Se,Le,Ze,Bt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return Re=Re.get(Le)||null,ne(Se,Re,""+Ze,Bt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case C:return Re=Re.get(Ze.key===null?Le:Ze.key)||null,Ee(Se,Re,Ze,Bt);case N:return Re=Re.get(Ze.key===null?Le:Ze.key)||null,Fe(Se,Re,Ze,Bt);case j:return Ze=Nu(Ze),We(Re,Se,Le,Ze,Bt)}if(xe(Ze)||M(Ze))return Re=Re.get(Le)||null,Ke(Se,Re,Ze,Bt,null);if(typeof Ze.then=="function")return We(Re,Se,Le,R1(Ze),Bt);if(Ze.$$typeof===B)return We(Re,Se,Le,S1(Se,Ze),Bt);N1(Se,Ze)}return null}function bt(Re,Se,Le,Ze){for(var Bt=null,Br=null,Rt=Se,hr=Se=0,Sr=null;Rt!==null&&hr<Le.length;hr++){Rt.index>hr?(Sr=Rt,Rt=null):Sr=Rt.sibling;var Ur=Ue(Re,Rt,Le[hr],Ze);if(Ur===null){Rt===null&&(Rt=Sr);break}s&&Rt&&Ur.alternate===null&&c(Re,Rt),Se=R(Ur,Se,hr),Br===null?Bt=Ur:Br.sibling=Ur,Br=Ur,Rt=Sr}if(hr===Le.length)return d(Re,Rt),Rr&&El(Re,hr),Bt;if(Rt===null){for(;hr<Le.length;hr++)Rt=tt(Re,Le[hr],Ze),Rt!==null&&(Se=R(Rt,Se,hr),Br===null?Bt=Rt:Br.sibling=Rt,Br=Rt);return Rr&&El(Re,hr),Bt}for(Rt=v(Rt);hr<Le.length;hr++)Sr=We(Rt,Re,hr,Le[hr],Ze),Sr!==null&&(s&&Sr.alternate!==null&&Rt.delete(Sr.key===null?hr:Sr.key),Se=R(Sr,Se,hr),Br===null?Bt=Sr:Br.sibling=Sr,Br=Sr);return s&&Rt.forEach(function(Rc){return c(Re,Rc)}),Rr&&El(Re,hr),Bt}function Ht(Re,Se,Le,Ze){if(Le==null)throw Error(n(151));for(var Bt=null,Br=null,Rt=Se,hr=Se=0,Sr=null,Ur=Le.next();Rt!==null&&!Ur.done;hr++,Ur=Le.next()){Rt.index>hr?(Sr=Rt,Rt=null):Sr=Rt.sibling;var Rc=Ue(Re,Rt,Ur.value,Ze);if(Rc===null){Rt===null&&(Rt=Sr);break}s&&Rt&&Rc.alternate===null&&c(Re,Rt),Se=R(Rc,Se,hr),Br===null?Bt=Rc:Br.sibling=Rc,Br=Rc,Rt=Sr}if(Ur.done)return d(Re,Rt),Rr&&El(Re,hr),Bt;if(Rt===null){for(;!Ur.done;hr++,Ur=Le.next())Ur=tt(Re,Ur.value,Ze),Ur!==null&&(Se=R(Ur,Se,hr),Br===null?Bt=Ur:Br.sibling=Ur,Br=Ur);return Rr&&El(Re,hr),Bt}for(Rt=v(Rt);!Ur.done;hr++,Ur=Le.next())Ur=We(Rt,Re,hr,Ur.value,Ze),Ur!==null&&(s&&Ur.alternate!==null&&Rt.delete(Ur.key===null?hr:Ur.key),Se=R(Ur,Se,hr),Br===null?Bt=Ur:Br.sibling=Ur,Br=Ur);return s&&Rt.forEach(function(YD){return c(Re,YD)}),Rr&&El(Re,hr),Bt}function mn(Re,Se,Le,Ze){if(typeof Le=="object"&&Le!==null&&Le.type===b&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case C:e:{for(var Bt=Le.key;Se!==null;){if(Se.key===Bt){if(Bt=Le.type,Bt===b){if(Se.tag===7){d(Re,Se.sibling),Ze=S(Se,Le.props.children),Ze.return=Re,Re=Ze;break e}}else if(Se.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===j&&Nu(Bt)===Se.type){d(Re,Se.sibling),Ze=S(Se,Le.props),ih(Ze,Le),Ze.return=Re,Re=Ze;break e}d(Re,Se);break}else c(Re,Se);Se=Se.sibling}Le.type===b?(Ze=Su(Le.props.children,Re.mode,Ze,Le.key),Ze.return=Re,Re=Ze):(Ze=w1(Le.type,Le.key,Le.props,null,Re.mode,Ze),ih(Ze,Le),Ze.return=Re,Re=Ze)}return z(Re);case N:e:{for(Bt=Le.key;Se!==null;){if(Se.key===Bt)if(Se.tag===4&&Se.stateNode.containerInfo===Le.containerInfo&&Se.stateNode.implementation===Le.implementation){d(Re,Se.sibling),Ze=S(Se,Le.children||[]),Ze.return=Re,Re=Ze;break e}else{d(Re,Se);break}else c(Re,Se);Se=Se.sibling}Ze=Qp(Le,Re.mode,Ze),Ze.return=Re,Re=Ze}return z(Re);case j:return Le=Nu(Le),mn(Re,Se,Le,Ze)}if(xe(Le))return bt(Re,Se,Le,Ze);if(M(Le)){if(Bt=M(Le),typeof Bt!="function")throw Error(n(150));return Le=Bt.call(Le),Ht(Re,Se,Le,Ze)}if(typeof Le.then=="function")return mn(Re,Se,R1(Le),Ze);if(Le.$$typeof===B)return mn(Re,Se,S1(Re,Le),Ze);N1(Re,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,Se!==null&&Se.tag===6?(d(Re,Se.sibling),Ze=S(Se,Le),Ze.return=Re,Re=Ze):(d(Re,Se),Ze=Kp(Le,Re.mode,Ze),Ze.return=Re,Re=Ze),z(Re)):d(Re,Se)}return function(Re,Se,Le,Ze){try{nh=0;var Bt=mn(Re,Se,Le,Ze);return Lf=null,Bt}catch(Rt){if(Rt===Mf||Rt===b1)throw Rt;var Br=ys(29,Rt,null,Re.mode);return Br.lanes=Ze,Br.return=Re,Br}finally{}}}var Du=hw(!0),dw=hw(!1),hc=!1;function lx(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cx(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function dc(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function gc(s,c,d){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(jr&2)!==0){var S=v.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),v.pending=c,c=E1(s),QE(s,null,d),c}return _1(s,v,c,d),E1(s)}function ah(s,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var v=c.lanes;v&=s.pendingLanes,d|=v,c.lanes=d,Ei(s,d)}}function ux(s,c){var d=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,d===v)){var S=null,R=null;if(d=d.firstBaseUpdate,d!==null){do{var z={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};R===null?S=R=z:R=R.next=z,d=d.next}while(d!==null);R===null?S=R=c:R=R.next=c}else S=R=c;d={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:R,shared:v.shared,callbacks:v.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=c}var fx=!1;function sh(){if(fx){var s=Of;if(s!==null)throw s}}function oh(s,c,d,v){fx=!1;var S=s.updateQueue;hc=!1;var R=S.firstBaseUpdate,z=S.lastBaseUpdate,ne=S.shared.pending;if(ne!==null){S.shared.pending=null;var Ee=ne,Fe=Ee.next;Ee.next=null,z===null?R=Fe:z.next=Fe,z=Ee;var Ke=s.alternate;Ke!==null&&(Ke=Ke.updateQueue,ne=Ke.lastBaseUpdate,ne!==z&&(ne===null?Ke.firstBaseUpdate=Fe:ne.next=Fe,Ke.lastBaseUpdate=Ee))}if(R!==null){var tt=S.baseState;z=0,Ke=Fe=Ee=null,ne=R;do{var Ue=ne.lane&-536870913,We=Ue!==ne.lane;if(We?(Ar&Ue)===Ue:(v&Ue)===Ue){Ue!==0&&Ue===Df&&(fx=!0),Ke!==null&&(Ke=Ke.next={lane:0,tag:ne.tag,payload:ne.payload,callback:null,next:null});e:{var bt=s,Ht=ne;Ue=c;var mn=d;switch(Ht.tag){case 1:if(bt=Ht.payload,typeof bt=="function"){tt=bt.call(mn,tt,Ue);break e}tt=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Ht.payload,Ue=typeof bt=="function"?bt.call(mn,tt,Ue):bt,Ue==null)break e;tt=E({},tt,Ue);break e;case 2:hc=!0}}Ue=ne.callback,Ue!==null&&(s.flags|=64,We&&(s.flags|=8192),We=S.callbacks,We===null?S.callbacks=[Ue]:We.push(Ue))}else We={lane:Ue,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Ke===null?(Fe=Ke=We,Ee=tt):Ke=Ke.next=We,z|=Ue;if(ne=ne.next,ne===null){if(ne=S.shared.pending,ne===null)break;We=ne,ne=We.next,We.next=null,S.lastBaseUpdate=We,S.shared.pending=null}}while(!0);Ke===null&&(Ee=tt),S.baseState=Ee,S.firstBaseUpdate=Fe,S.lastBaseUpdate=Ke,R===null&&(S.shared.lanes=0),yc|=z,s.lanes=z,s.memoizedState=tt}}function gw(s,c){if(typeof s!="function")throw Error(n(191,s));s.call(c)}function mw(s,c){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)gw(d[s],c)}var Ff=ve(null),k1=ve(0);function pw(s,c){s=Dl,he(k1,s),he(Ff,c),Dl=s|c.baseLanes}function hx(){he(k1,Dl),he(Ff,Ff.current)}function dx(){Dl=k1.current,Z(Ff),Z(k1)}var _s=ve(null),Ks=null;function mc(s){var c=s.alternate;he(di,di.current&1),he(_s,s),Ks===null&&(c===null||Ff.current!==null||c.memoizedState!==null)&&(Ks=s)}function gx(s){he(di,di.current),he(_s,s),Ks===null&&(Ks=s)}function xw(s){s.tag===22?(he(di,di.current),he(_s,s),Ks===null&&(Ks=s)):pc()}function pc(){he(di,di.current),he(_s,_s.current)}function Es(s){Z(_s),Ks===s&&(Ks=null),Z(di)}var di=ve(0);function D1(s){for(var c=s;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||_2(d)||E2(d)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Al=0,cr=null,dn=null,Ti=null,O1=!1,Pf=!1,Ou=!1,M1=0,lh=0,Bf=null,Bk=0;function Zn(){throw Error(n(321))}function mx(s,c){if(c===null)return!1;for(var d=0;d<c.length&&d<s.length;d++)if(!_(s[d],c[d]))return!1;return!0}function px(s,c,d,v,S,R){return Al=R,cr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,_e.H=s===null||s.memoizedState===null?eT:kx,Ou=!1,R=d(v,S),Ou=!1,Pf&&(R=yw(c,d,v,S)),vw(s),R}function vw(s){_e.H=fh;var c=dn!==null&&dn.next!==null;if(Al=0,Ti=dn=cr=null,O1=!1,lh=0,Bf=null,c)throw Error(n(300));s===null||Ai||(s=s.dependencies,s!==null&&A1(s)&&(Ai=!0))}function yw(s,c,d,v){cr=s;var S=0;do{if(Pf&&(Bf=null),lh=0,Pf=!1,25<=S)throw Error(n(301));if(S+=1,Ti=dn=null,s.updateQueue!=null){var R=s.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}_e.H=tT,R=c(d,v)}while(Pf);return R}function Uk(){var s=_e.H,c=s.useState()[0];return c=typeof c.then=="function"?ch(c):c,s=s.useState()[0],(dn!==null?dn.memoizedState:null)!==s&&(cr.flags|=1024),c}function xx(){var s=M1!==0;return M1=0,s}function vx(s,c,d){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~d}function yx(s){if(O1){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}O1=!1}Al=0,Ti=dn=cr=null,Pf=!1,lh=M1=0,Bf=null}function La(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ti===null?cr.memoizedState=Ti=s:Ti=Ti.next=s,Ti}function gi(){if(dn===null){var s=cr.alternate;s=s!==null?s.memoizedState:null}else s=dn.next;var c=Ti===null?cr.memoizedState:Ti.next;if(c!==null)Ti=c,dn=s;else{if(s===null)throw cr.alternate===null?Error(n(467)):Error(n(310));dn=s,s={memoizedState:dn.memoizedState,baseState:dn.baseState,baseQueue:dn.baseQueue,queue:dn.queue,next:null},Ti===null?cr.memoizedState=Ti=s:Ti=Ti.next=s}return Ti}function L1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ch(s){var c=lh;return lh+=1,Bf===null&&(Bf=[]),s=cw(Bf,s,c),c=cr,(Ti===null?c.memoizedState:Ti.next)===null&&(c=c.alternate,_e.H=c===null||c.memoizedState===null?eT:kx),s}function F1(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ch(s);if(s.$$typeof===B)return na(s)}throw Error(n(438,String(s)))}function _x(s){var c=null,d=cr.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var v=cr.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(S){return S.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=L1(),cr.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(s),v=0;v<s;v++)d[v]=q;return c.index++,d}function Sl(s,c){return typeof c=="function"?c(s):c}function P1(s){var c=gi();return Ex(c,dn,s)}function Ex(s,c,d){var v=s.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=d;var S=s.baseQueue,R=v.pending;if(R!==null){if(S!==null){var z=S.next;S.next=R.next,R.next=z}c.baseQueue=S=R,v.pending=null}if(R=s.baseState,S===null)s.memoizedState=R;else{c=S.next;var ne=z=null,Ee=null,Fe=c,Ke=!1;do{var tt=Fe.lane&-536870913;if(tt!==Fe.lane?(Ar&tt)===tt:(Al&tt)===tt){var Ue=Fe.revertLane;if(Ue===0)Ee!==null&&(Ee=Ee.next={lane:0,revertLane:0,gesture:null,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),tt===Df&&(Ke=!0);else if((Al&Ue)===Ue){Fe=Fe.next,Ue===Df&&(Ke=!0);continue}else tt={lane:0,revertLane:Fe.revertLane,gesture:null,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},Ee===null?(ne=Ee=tt,z=R):Ee=Ee.next=tt,cr.lanes|=Ue,yc|=Ue;tt=Fe.action,Ou&&d(R,tt),R=Fe.hasEagerState?Fe.eagerState:d(R,tt)}else Ue={lane:tt,revertLane:Fe.revertLane,gesture:Fe.gesture,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null},Ee===null?(ne=Ee=Ue,z=R):Ee=Ee.next=Ue,cr.lanes|=tt,yc|=tt;Fe=Fe.next}while(Fe!==null&&Fe!==c);if(Ee===null?z=R:Ee.next=ne,!_(R,s.memoizedState)&&(Ai=!0,Ke&&(d=Of,d!==null)))throw d;s.memoizedState=R,s.baseState=z,s.baseQueue=Ee,v.lastRenderedState=R}return S===null&&(v.lanes=0),[s.memoizedState,v.dispatch]}function wx(s){var c=gi(),d=c.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=s;var v=d.dispatch,S=d.pending,R=c.memoizedState;if(S!==null){d.pending=null;var z=S=S.next;do R=s(R,z.action),z=z.next;while(z!==S);_(R,c.memoizedState)||(Ai=!0),c.memoizedState=R,c.baseQueue===null&&(c.baseState=R),d.lastRenderedState=R}return[R,v]}function _w(s,c,d){var v=cr,S=gi(),R=Rr;if(R){if(d===void 0)throw Error(n(407));d=d()}else d=c();var z=!_((dn||S).memoizedState,d);if(z&&(S.memoizedState=d,Ai=!0),S=S.queue,Sx(Tw.bind(null,v,S,s),[s]),S.getSnapshot!==c||z||Ti!==null&&Ti.memoizedState.tag&1){if(v.flags|=2048,Uf(9,{destroy:void 0},ww.bind(null,v,S,d,c),null),_n===null)throw Error(n(349));R||(Al&127)!==0||Ew(v,c,d)}return d}function Ew(s,c,d){s.flags|=16384,s={getSnapshot:c,value:d},c=cr.updateQueue,c===null?(c=L1(),cr.updateQueue=c,c.stores=[s]):(d=c.stores,d===null?c.stores=[s]:d.push(s))}function ww(s,c,d,v){c.value=d,c.getSnapshot=v,Aw(c)&&Sw(s)}function Tw(s,c,d){return d(function(){Aw(c)&&Sw(s)})}function Aw(s){var c=s.getSnapshot;s=s.value;try{var d=c();return!_(s,d)}catch{return!0}}function Sw(s){var c=Au(s,2);c!==null&&as(c,s,2)}function Tx(s){var c=La();if(typeof s=="function"){var d=s;if(s=d(),Ou){_r(!0);try{d()}finally{_r(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:s},c}function Cw(s,c,d,v){return s.baseState=d,Ex(s,dn,typeof v=="function"?v:Sl)}function Vk(s,c,d,v,S){if(V1(s))throw Error(n(485));if(s=c.action,s!==null){var R={payload:S,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){R.listeners.push(z)}};_e.T!==null?d(!0):R.isTransition=!1,v(R),d=c.pending,d===null?(R.next=c.pending=R,bw(c,R)):(R.next=d.next,c.pending=d.next=R)}}function bw(s,c){var d=c.action,v=c.payload,S=s.state;if(c.isTransition){var R=_e.T,z={};_e.T=z;try{var ne=d(S,v),Ee=_e.S;Ee!==null&&Ee(z,ne),Iw(s,c,ne)}catch(Fe){Ax(s,c,Fe)}finally{R!==null&&z.types!==null&&(R.types=z.types),_e.T=R}}else try{R=d(S,v),Iw(s,c,R)}catch(Fe){Ax(s,c,Fe)}}function Iw(s,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(v){Rw(s,c,v)},function(v){return Ax(s,c,v)}):Rw(s,c,d)}function Rw(s,c,d){c.status="fulfilled",c.value=d,Nw(c),s.state=d,c=s.pending,c!==null&&(d=c.next,d===c?s.pending=null:(d=d.next,c.next=d,bw(s,d)))}function Ax(s,c,d){var v=s.pending;if(s.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=d,Nw(c),c=c.next;while(c!==v)}s.action=null}function Nw(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function kw(s,c){return c}function Dw(s,c){if(Rr){var d=_n.formState;if(d!==null){e:{var v=cr;if(Rr){if(Sn){t:{for(var S=Sn,R=Ys;S.nodeType!==8;){if(!R){S=null;break t}if(S=Qs(S.nextSibling),S===null){S=null;break t}}R=S.data,S=R==="F!"||R==="F"?S:null}if(S){Sn=Qs(S.nextSibling),v=S.data==="F!";break e}}uc(v)}v=!1}v&&(c=d[0])}}return d=La(),d.memoizedState=d.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kw,lastRenderedState:c},d.queue=v,d=$w.bind(null,cr,v),v.dispatch=d,v=Tx(!1),R=Nx.bind(null,cr,!1,v.queue),v=La(),S={state:c,dispatch:null,action:s,pending:null},v.queue=S,d=Vk.bind(null,cr,S,R,d),S.dispatch=d,v.memoizedState=s,[c,d,!1]}function Ow(s){var c=gi();return Mw(c,dn,s)}function Mw(s,c,d){if(c=Ex(s,c,kw)[0],s=P1(Sl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=ch(c)}catch(z){throw z===Mf?b1:z}else v=c;c=gi();var S=c.queue,R=S.dispatch;return d!==c.memoizedState&&(cr.flags|=2048,Uf(9,{destroy:void 0},jk.bind(null,S,d),null)),[v,R,s]}function jk(s,c){s.action=c}function Lw(s){var c=gi(),d=dn;if(d!==null)return Mw(c,d,s);gi(),c=c.memoizedState,d=gi();var v=d.queue.dispatch;return d.memoizedState=s,[c,v,!1]}function Uf(s,c,d,v){return s={tag:s,create:d,deps:v,inst:c,next:null},c=cr.updateQueue,c===null&&(c=L1(),cr.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=s.next=s:(v=d.next,d.next=s,s.next=v,c.lastEffect=s),s}function Fw(){return gi().memoizedState}function B1(s,c,d,v){var S=La();cr.flags|=s,S.memoizedState=Uf(1|c,{destroy:void 0},d,v===void 0?null:v)}function U1(s,c,d,v){var S=gi();v=v===void 0?null:v;var R=S.memoizedState.inst;dn!==null&&v!==null&&mx(v,dn.memoizedState.deps)?S.memoizedState=Uf(c,R,d,v):(cr.flags|=s,S.memoizedState=Uf(1|c,R,d,v))}function Pw(s,c){B1(8390656,8,s,c)}function Sx(s,c){U1(2048,8,s,c)}function zk(s){cr.flags|=4;var c=cr.updateQueue;if(c===null)c=L1(),cr.updateQueue=c,c.events=[s];else{var d=c.events;d===null?c.events=[s]:d.push(s)}}function Bw(s){var c=gi().memoizedState;return zk({ref:c,nextImpl:s}),function(){if((jr&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function Uw(s,c){return U1(4,2,s,c)}function Vw(s,c){return U1(4,4,s,c)}function jw(s,c){if(typeof c=="function"){s=s();var d=c(s);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function zw(s,c,d){d=d!=null?d.concat([s]):null,U1(4,4,jw.bind(null,c,s),d)}function Cx(){}function Hw(s,c){var d=gi();c=c===void 0?null:c;var v=d.memoizedState;return c!==null&&mx(c,v[1])?v[0]:(d.memoizedState=[s,c],s)}function Gw(s,c){var d=gi();c=c===void 0?null:c;var v=d.memoizedState;if(c!==null&&mx(c,v[1]))return v[0];if(v=s(),Ou){_r(!0);try{s()}finally{_r(!1)}}return d.memoizedState=[v,c],v}function bx(s,c,d){return d===void 0||(Al&1073741824)!==0&&(Ar&261930)===0?s.memoizedState=c:(s.memoizedState=d,s=WT(),cr.lanes|=s,yc|=s,d)}function Ww(s,c,d,v){return _(d,c)?d:Ff.current!==null?(s=bx(s,d,v),_(s,c)||(Ai=!0),s):(Al&42)===0||(Al&1073741824)!==0&&(Ar&261930)===0?(Ai=!0,s.memoizedState=d):(s=WT(),cr.lanes|=s,yc|=s,c)}function qw(s,c,d,v,S){var R=Ae.p;Ae.p=R!==0&&8>R?R:8;var z=_e.T,ne={};_e.T=ne,Nx(s,!1,c,d);try{var Ee=S(),Fe=_e.S;if(Fe!==null&&Fe(ne,Ee),Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var Ke=Pk(Ee,v);uh(s,c,Ke,As(s))}else uh(s,c,v,As(s))}catch(tt){uh(s,c,{then:function(){},status:"rejected",reason:tt},As())}finally{Ae.p=R,z!==null&&ne.types!==null&&(z.types=ne.types),_e.T=z}}function Hk(){}function Ix(s,c,d,v){if(s.tag!==5)throw Error(n(476));var S=Xw(s).queue;qw(s,S,c,ot,d===null?Hk:function(){return Yw(s),d(v)})}function Xw(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:ot},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:d},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function Yw(s){var c=Xw(s);c.next===null&&(c=s.alternate.memoizedState),uh(s,c.next.queue,{},As())}function Rx(){return na(bh)}function Kw(){return gi().memoizedState}function Qw(){return gi().memoizedState}function Gk(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var d=As();s=dc(d);var v=gc(c,s,d);v!==null&&(as(v,c,d),ah(v,c,d)),c={cache:ix()},s.payload=c;return}c=c.return}}function Wk(s,c,d){var v=As();d={lane:v,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},V1(s)?Zw(c,d):(d=Xp(s,c,d,v),d!==null&&(as(d,s,v),Jw(d,c,v)))}function $w(s,c,d){var v=As();uh(s,c,d,v)}function uh(s,c,d,v){var S={lane:v,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(V1(s))Zw(c,S);else{var R=s.alternate;if(s.lanes===0&&(R===null||R.lanes===0)&&(R=c.lastRenderedReducer,R!==null))try{var z=c.lastRenderedState,ne=R(z,d);if(S.hasEagerState=!0,S.eagerState=ne,_(ne,z))return _1(s,c,S,0),_n===null&&y1(),!1}catch{}finally{}if(d=Xp(s,c,S,v),d!==null)return as(d,s,v),Jw(d,c,v),!0}return!1}function Nx(s,c,d,v){if(v={lane:2,revertLane:l2(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},V1(s)){if(c)throw Error(n(479))}else c=Xp(s,d,v,2),c!==null&&as(c,s,2)}function V1(s){var c=s.alternate;return s===cr||c!==null&&c===cr}function Zw(s,c){Pf=O1=!0;var d=s.pending;d===null?c.next=c:(c.next=d.next,d.next=c),s.pending=c}function Jw(s,c,d){if((d&4194048)!==0){var v=c.lanes;v&=s.pendingLanes,d|=v,c.lanes=d,Ei(s,d)}}var fh={readContext:na,use:F1,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useLayoutEffect:Zn,useInsertionEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useSyncExternalStore:Zn,useId:Zn,useHostTransitionStatus:Zn,useFormState:Zn,useActionState:Zn,useOptimistic:Zn,useMemoCache:Zn,useCacheRefresh:Zn};fh.useEffectEvent=Zn;var eT={readContext:na,use:F1,useCallback:function(s,c){return La().memoizedState=[s,c===void 0?null:c],s},useContext:na,useEffect:Pw,useImperativeHandle:function(s,c,d){d=d!=null?d.concat([s]):null,B1(4194308,4,jw.bind(null,c,s),d)},useLayoutEffect:function(s,c){return B1(4194308,4,s,c)},useInsertionEffect:function(s,c){B1(4,2,s,c)},useMemo:function(s,c){var d=La();c=c===void 0?null:c;var v=s();if(Ou){_r(!0);try{s()}finally{_r(!1)}}return d.memoizedState=[v,c],v},useReducer:function(s,c,d){var v=La();if(d!==void 0){var S=d(c);if(Ou){_r(!0);try{d(c)}finally{_r(!1)}}}else S=c;return v.memoizedState=v.baseState=S,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:S},v.queue=s,s=s.dispatch=Wk.bind(null,cr,s),[v.memoizedState,s]},useRef:function(s){var c=La();return s={current:s},c.memoizedState=s},useState:function(s){s=Tx(s);var c=s.queue,d=$w.bind(null,cr,c);return c.dispatch=d,[s.memoizedState,d]},useDebugValue:Cx,useDeferredValue:function(s,c){var d=La();return bx(d,s,c)},useTransition:function(){var s=Tx(!1);return s=qw.bind(null,cr,s.queue,!0,!1),La().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,d){var v=cr,S=La();if(Rr){if(d===void 0)throw Error(n(407));d=d()}else{if(d=c(),_n===null)throw Error(n(349));(Ar&127)!==0||Ew(v,c,d)}S.memoizedState=d;var R={value:d,getSnapshot:c};return S.queue=R,Pw(Tw.bind(null,v,R,s),[s]),v.flags|=2048,Uf(9,{destroy:void 0},ww.bind(null,v,R,d,c),null),d},useId:function(){var s=La(),c=_n.identifierPrefix;if(Rr){var d=Po,v=Fo;d=(v&~(1<<32-Zt(v)-1)).toString(32)+d,c="_"+c+"R_"+d,d=M1++,0<d&&(c+="H"+d.toString(32)),c+="_"}else d=Bk++,c="_"+c+"r_"+d.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:Rx,useFormState:Dw,useActionState:Dw,useOptimistic:function(s){var c=La();c.memoizedState=c.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=Nx.bind(null,cr,!0,d),d.dispatch=c,[s,c]},useMemoCache:_x,useCacheRefresh:function(){return La().memoizedState=Gk.bind(null,cr)},useEffectEvent:function(s){var c=La(),d={impl:s};return c.memoizedState=d,function(){if((jr&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},kx={readContext:na,use:F1,useCallback:Hw,useContext:na,useEffect:Sx,useImperativeHandle:zw,useInsertionEffect:Uw,useLayoutEffect:Vw,useMemo:Gw,useReducer:P1,useRef:Fw,useState:function(){return P1(Sl)},useDebugValue:Cx,useDeferredValue:function(s,c){var d=gi();return Ww(d,dn.memoizedState,s,c)},useTransition:function(){var s=P1(Sl)[0],c=gi().memoizedState;return[typeof s=="boolean"?s:ch(s),c]},useSyncExternalStore:_w,useId:Kw,useHostTransitionStatus:Rx,useFormState:Ow,useActionState:Ow,useOptimistic:function(s,c){var d=gi();return Cw(d,dn,s,c)},useMemoCache:_x,useCacheRefresh:Qw};kx.useEffectEvent=Bw;var tT={readContext:na,use:F1,useCallback:Hw,useContext:na,useEffect:Sx,useImperativeHandle:zw,useInsertionEffect:Uw,useLayoutEffect:Vw,useMemo:Gw,useReducer:wx,useRef:Fw,useState:function(){return wx(Sl)},useDebugValue:Cx,useDeferredValue:function(s,c){var d=gi();return dn===null?bx(d,s,c):Ww(d,dn.memoizedState,s,c)},useTransition:function(){var s=wx(Sl)[0],c=gi().memoizedState;return[typeof s=="boolean"?s:ch(s),c]},useSyncExternalStore:_w,useId:Kw,useHostTransitionStatus:Rx,useFormState:Lw,useActionState:Lw,useOptimistic:function(s,c){var d=gi();return dn!==null?Cw(d,dn,s,c):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:_x,useCacheRefresh:Qw};tT.useEffectEvent=Bw;function Dx(s,c,d,v){c=s.memoizedState,d=d(v,c),d=d==null?c:E({},c,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Ox={enqueueSetState:function(s,c,d){s=s._reactInternals;var v=As(),S=dc(v);S.payload=c,d!=null&&(S.callback=d),c=gc(s,S,v),c!==null&&(as(c,s,v),ah(c,s,v))},enqueueReplaceState:function(s,c,d){s=s._reactInternals;var v=As(),S=dc(v);S.tag=1,S.payload=c,d!=null&&(S.callback=d),c=gc(s,S,v),c!==null&&(as(c,s,v),ah(c,s,v))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var d=As(),v=dc(d);v.tag=2,c!=null&&(v.callback=c),c=gc(s,v,d),c!==null&&(as(c,s,d),ah(c,s,d))}};function rT(s,c,d,v,S,R,z){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,R,z):c.prototype&&c.prototype.isPureReactComponent?!w(d,v)||!w(S,R):!0}function nT(s,c,d,v){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,v),c.state!==s&&Ox.enqueueReplaceState(c,c.state,null)}function Mu(s,c){var d=c;if("ref"in c){d={};for(var v in c)v!=="ref"&&(d[v]=c[v])}if(s=s.defaultProps){d===c&&(d=E({},d));for(var S in s)d[S]===void 0&&(d[S]=s[S])}return d}function iT(s){v1(s)}function aT(s){console.error(s)}function sT(s){v1(s)}function j1(s,c){try{var d=s.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function oT(s,c,d){try{var v=s.onCaughtError;v(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Mx(s,c,d){return d=dc(d),d.tag=3,d.payload={element:null},d.callback=function(){j1(s,c)},d}function lT(s){return s=dc(s),s.tag=3,s}function cT(s,c,d,v){var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var R=v.value;s.payload=function(){return S(R)},s.callback=function(){oT(c,d,v)}}var z=d.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(s.callback=function(){oT(c,d,v),typeof S!="function"&&(_c===null?_c=new Set([this]):_c.add(this));var ne=v.stack;this.componentDidCatch(v.value,{componentStack:ne!==null?ne:""})})}function qk(s,c,d,v,S){if(d.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=d.alternate,c!==null&&kf(c,d,S,!0),d=_s.current,d!==null){switch(d.tag){case 31:case 13:return Ks===null?J1():d.alternate===null&&Jn===0&&(Jn=3),d.flags&=-257,d.flags|=65536,d.lanes=S,v===I1?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([v]):c.add(v),a2(s,v,S)),!1;case 22:return d.flags|=65536,v===I1?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([v]):d.add(v)),a2(s,v,S)),!1}throw Error(n(435,d.tag))}return a2(s,v,S),J1(),!1}if(Rr)return c=_s.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=S,v!==Jp&&(s=Error(n(422),{cause:v}),eh(Ws(s,d)))):(v!==Jp&&(c=Error(n(423),{cause:v}),eh(Ws(c,d))),s=s.current.alternate,s.flags|=65536,S&=-S,s.lanes|=S,v=Ws(v,d),S=Mx(s.stateNode,v,S),ux(s,S),Jn!==4&&(Jn=2)),!1;var R=Error(n(520),{cause:v});if(R=Ws(R,d),yh===null?yh=[R]:yh.push(R),Jn!==4&&(Jn=2),c===null)return!0;v=Ws(v,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,s=S&-S,d.lanes|=s,s=Mx(d.stateNode,v,s),ux(d,s),!1;case 1:if(c=d.type,R=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(_c===null||!_c.has(R))))return d.flags|=65536,S&=-S,d.lanes|=S,S=lT(S),cT(S,s,d,v),ux(d,S),!1}d=d.return}while(d!==null);return!1}var Lx=Error(n(461)),Ai=!1;function ia(s,c,d,v){c.child=s===null?dw(c,null,d,v):Du(c,s.child,d,v)}function uT(s,c,d,v,S){d=d.render;var R=c.ref;if("ref"in v){var z={};for(var ne in v)ne!=="ref"&&(z[ne]=v[ne])}else z=v;return Iu(c),v=px(s,c,d,z,R,S),ne=xx(),s!==null&&!Ai?(vx(s,c,S),Cl(s,c,S)):(Rr&&ne&&$p(c),c.flags|=1,ia(s,c,v,S),c.child)}function fT(s,c,d,v,S){if(s===null){var R=d.type;return typeof R=="function"&&!Yp(R)&&R.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=R,hT(s,c,R,v,S)):(s=w1(d.type,null,v,c,c.mode,S),s.ref=c.ref,s.return=c,c.child=s)}if(R=s.child,!Hx(s,S)){var z=R.memoizedProps;if(d=d.compare,d=d!==null?d:w,d(z,v)&&s.ref===c.ref)return Cl(s,c,S)}return c.flags|=1,s=_l(R,v),s.ref=c.ref,s.return=c,c.child=s}function hT(s,c,d,v,S){if(s!==null){var R=s.memoizedProps;if(w(R,v)&&s.ref===c.ref)if(Ai=!1,c.pendingProps=v=R,Hx(s,S))(s.flags&131072)!==0&&(Ai=!0);else return c.lanes=s.lanes,Cl(s,c,S)}return Fx(s,c,d,v,S)}function dT(s,c,d,v){var S=v.children,R=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(R=R!==null?R.baseLanes|d:d,s!==null){for(v=c.child=s.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;v=S&~R}else v=0,c.child=null;return gT(s,c,R,d,v)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&C1(c,R!==null?R.cachePool:null),R!==null?pw(c,R):hx(),xw(c);else return v=c.lanes=536870912,gT(s,c,R!==null?R.baseLanes|d:d,d,v)}else R!==null?(C1(c,R.cachePool),pw(c,R),pc(),c.memoizedState=null):(s!==null&&C1(c,null),hx(),pc());return ia(s,c,S,d),c.child}function hh(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function gT(s,c,d,v,S){var R=sx();return R=R===null?null:{parent:wi._currentValue,pool:R},c.memoizedState={baseLanes:d,cachePool:R},s!==null&&C1(c,null),hx(),xw(c),s!==null&&kf(s,c,v,!0),c.childLanes=S,null}function z1(s,c){return c=G1({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function mT(s,c,d){return Du(c,s.child,null,d),s=z1(c,c.pendingProps),s.flags|=2,Es(c),c.memoizedState=null,s}function Xk(s,c,d){var v=c.pendingProps,S=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(Rr){if(v.mode==="hidden")return s=z1(c,v),c.lanes=536870912,hh(null,s);if(gx(c),(s=Sn)?(s=bA(s,Ys),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:lc!==null?{id:Fo,overflow:Po}:null,retryLane:536870912,hydrationErrors:null},d=ZE(s),d.return=c,c.child=d,ra=c,Sn=null)):s=null,s===null)throw uc(c);return c.lanes=536870912,null}return z1(c,v)}var R=s.memoizedState;if(R!==null){var z=R.dehydrated;if(gx(c),S)if(c.flags&256)c.flags&=-257,c=mT(s,c,d);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(n(558));else if(Ai||kf(s,c,d,!1),S=(d&s.childLanes)!==0,Ai||S){if(v=_n,v!==null&&(z=Ga(v,d),z!==0&&z!==R.retryLane))throw R.retryLane=z,Au(s,z),as(v,s,z),Lx;J1(),c=mT(s,c,d)}else s=R.treeContext,Sn=Qs(z.nextSibling),ra=c,Rr=!0,cc=null,Ys=!1,s!==null&&tw(c,s),c=z1(c,v),c.flags|=4096;return c}return s=_l(s.child,{mode:v.mode,children:v.children}),s.ref=c.ref,c.child=s,s.return=c,s}function H1(s,c){var d=c.ref;if(d===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(s===null||s.ref!==d)&&(c.flags|=4194816)}}function Fx(s,c,d,v,S){return Iu(c),d=px(s,c,d,v,void 0,S),v=xx(),s!==null&&!Ai?(vx(s,c,S),Cl(s,c,S)):(Rr&&v&&$p(c),c.flags|=1,ia(s,c,d,S),c.child)}function pT(s,c,d,v,S,R){return Iu(c),c.updateQueue=null,d=yw(c,v,d,S),vw(s),v=xx(),s!==null&&!Ai?(vx(s,c,R),Cl(s,c,R)):(Rr&&v&&$p(c),c.flags|=1,ia(s,c,d,R),c.child)}function xT(s,c,d,v,S){if(Iu(c),c.stateNode===null){var R=bf,z=d.contextType;typeof z=="object"&&z!==null&&(R=na(z)),R=new d(v,R),c.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=Ox,c.stateNode=R,R._reactInternals=c,R=c.stateNode,R.props=v,R.state=c.memoizedState,R.refs={},lx(c),z=d.contextType,R.context=typeof z=="object"&&z!==null?na(z):bf,R.state=c.memoizedState,z=d.getDerivedStateFromProps,typeof z=="function"&&(Dx(c,d,z,v),R.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(z=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),z!==R.state&&Ox.enqueueReplaceState(R,R.state,null),oh(c,v,R,S),sh(),R.state=c.memoizedState),typeof R.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(s===null){R=c.stateNode;var ne=c.memoizedProps,Ee=Mu(d,ne);R.props=Ee;var Fe=R.context,Ke=d.contextType;z=bf,typeof Ke=="object"&&Ke!==null&&(z=na(Ke));var tt=d.getDerivedStateFromProps;Ke=typeof tt=="function"||typeof R.getSnapshotBeforeUpdate=="function",ne=c.pendingProps!==ne,Ke||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(ne||Fe!==z)&&nT(c,R,v,z),hc=!1;var Ue=c.memoizedState;R.state=Ue,oh(c,v,R,S),sh(),Fe=c.memoizedState,ne||Ue!==Fe||hc?(typeof tt=="function"&&(Dx(c,d,tt,v),Fe=c.memoizedState),(Ee=hc||rT(c,d,Ee,v,Ue,Fe,z))?(Ke||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(c.flags|=4194308)):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=Fe),R.props=v,R.state=Fe,R.context=z,v=Ee):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{R=c.stateNode,cx(s,c),z=c.memoizedProps,Ke=Mu(d,z),R.props=Ke,tt=c.pendingProps,Ue=R.context,Fe=d.contextType,Ee=bf,typeof Fe=="object"&&Fe!==null&&(Ee=na(Fe)),ne=d.getDerivedStateFromProps,(Fe=typeof ne=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(z!==tt||Ue!==Ee)&&nT(c,R,v,Ee),hc=!1,Ue=c.memoizedState,R.state=Ue,oh(c,v,R,S),sh();var We=c.memoizedState;z!==tt||Ue!==We||hc||s!==null&&s.dependencies!==null&&A1(s.dependencies)?(typeof ne=="function"&&(Dx(c,d,ne,v),We=c.memoizedState),(Ke=hc||rT(c,d,Ke,v,Ue,We,Ee)||s!==null&&s.dependencies!==null&&A1(s.dependencies))?(Fe||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(v,We,Ee),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(v,We,Ee)),typeof R.componentDidUpdate=="function"&&(c.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof R.componentDidUpdate!="function"||z===s.memoizedProps&&Ue===s.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&Ue===s.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=We),R.props=v,R.state=We,R.context=Ee,v=Ke):(typeof R.componentDidUpdate!="function"||z===s.memoizedProps&&Ue===s.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&Ue===s.memoizedState||(c.flags|=1024),v=!1)}return R=v,H1(s,c),v=(c.flags&128)!==0,R||v?(R=c.stateNode,d=v&&typeof d.getDerivedStateFromError!="function"?null:R.render(),c.flags|=1,s!==null&&v?(c.child=Du(c,s.child,null,S),c.child=Du(c,null,d,S)):ia(s,c,d,S),c.memoizedState=R.state,s=c.child):s=Cl(s,c,S),s}function vT(s,c,d,v){return Cu(),c.flags|=256,ia(s,c,d,v),c.child}var Px={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bx(s){return{baseLanes:s,cachePool:ow()}}function Ux(s,c,d){return s=s!==null?s.childLanes&~d:0,c&&(s|=Ts),s}function yT(s,c,d){var v=c.pendingProps,S=!1,R=(c.flags&128)!==0,z;if((z=R)||(z=s!==null&&s.memoizedState===null?!1:(di.current&2)!==0),z&&(S=!0,c.flags&=-129),z=(c.flags&32)!==0,c.flags&=-33,s===null){if(Rr){if(S?mc(c):pc(),(s=Sn)?(s=bA(s,Ys),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:lc!==null?{id:Fo,overflow:Po}:null,retryLane:536870912,hydrationErrors:null},d=ZE(s),d.return=c,c.child=d,ra=c,Sn=null)):s=null,s===null)throw uc(c);return E2(s)?c.lanes=32:c.lanes=536870912,null}var ne=v.children;return v=v.fallback,S?(pc(),S=c.mode,ne=G1({mode:"hidden",children:ne},S),v=Su(v,S,d,null),ne.return=c,v.return=c,ne.sibling=v,c.child=ne,v=c.child,v.memoizedState=Bx(d),v.childLanes=Ux(s,z,d),c.memoizedState=Px,hh(null,v)):(mc(c),Vx(c,ne))}var Ee=s.memoizedState;if(Ee!==null&&(ne=Ee.dehydrated,ne!==null)){if(R)c.flags&256?(mc(c),c.flags&=-257,c=jx(s,c,d)):c.memoizedState!==null?(pc(),c.child=s.child,c.flags|=128,c=null):(pc(),ne=v.fallback,S=c.mode,v=G1({mode:"visible",children:v.children},S),ne=Su(ne,S,d,null),ne.flags|=2,v.return=c,ne.return=c,v.sibling=ne,c.child=v,Du(c,s.child,null,d),v=c.child,v.memoizedState=Bx(d),v.childLanes=Ux(s,z,d),c.memoizedState=Px,c=hh(null,v));else if(mc(c),E2(ne)){if(z=ne.nextSibling&&ne.nextSibling.dataset,z)var Fe=z.dgst;z=Fe,v=Error(n(419)),v.stack="",v.digest=z,eh({value:v,source:null,stack:null}),c=jx(s,c,d)}else if(Ai||kf(s,c,d,!1),z=(d&s.childLanes)!==0,Ai||z){if(z=_n,z!==null&&(v=Ga(z,d),v!==0&&v!==Ee.retryLane))throw Ee.retryLane=v,Au(s,v),as(z,s,v),Lx;_2(ne)||J1(),c=jx(s,c,d)}else _2(ne)?(c.flags|=192,c.child=s.child,c=null):(s=Ee.treeContext,Sn=Qs(ne.nextSibling),ra=c,Rr=!0,cc=null,Ys=!1,s!==null&&tw(c,s),c=Vx(c,v.children),c.flags|=4096);return c}return S?(pc(),ne=v.fallback,S=c.mode,Ee=s.child,Fe=Ee.sibling,v=_l(Ee,{mode:"hidden",children:v.children}),v.subtreeFlags=Ee.subtreeFlags&65011712,Fe!==null?ne=_l(Fe,ne):(ne=Su(ne,S,d,null),ne.flags|=2),ne.return=c,v.return=c,v.sibling=ne,c.child=v,hh(null,v),v=c.child,ne=s.child.memoizedState,ne===null?ne=Bx(d):(S=ne.cachePool,S!==null?(Ee=wi._currentValue,S=S.parent!==Ee?{parent:Ee,pool:Ee}:S):S=ow(),ne={baseLanes:ne.baseLanes|d,cachePool:S}),v.memoizedState=ne,v.childLanes=Ux(s,z,d),c.memoizedState=Px,hh(s.child,v)):(mc(c),d=s.child,s=d.sibling,d=_l(d,{mode:"visible",children:v.children}),d.return=c,d.sibling=null,s!==null&&(z=c.deletions,z===null?(c.deletions=[s],c.flags|=16):z.push(s)),c.child=d,c.memoizedState=null,d)}function Vx(s,c){return c=G1({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function G1(s,c){return s=ys(22,s,null,c),s.lanes=0,s}function jx(s,c,d){return Du(c,s.child,null,d),s=Vx(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function _T(s,c,d){s.lanes|=c;var v=s.alternate;v!==null&&(v.lanes|=c),rx(s.return,c,d)}function zx(s,c,d,v,S,R){var z=s.memoizedState;z===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:d,tailMode:S,treeForkCount:R}:(z.isBackwards=c,z.rendering=null,z.renderingStartTime=0,z.last=v,z.tail=d,z.tailMode=S,z.treeForkCount=R)}function ET(s,c,d){var v=c.pendingProps,S=v.revealOrder,R=v.tail;v=v.children;var z=di.current,ne=(z&2)!==0;if(ne?(z=z&1|2,c.flags|=128):z&=1,he(di,z),ia(s,c,v,d),v=Rr?J0:0,!ne&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&_T(s,d,c);else if(s.tag===19)_T(s,d,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(S){case"forwards":for(d=c.child,S=null;d!==null;)s=d.alternate,s!==null&&D1(s)===null&&(S=d),d=d.sibling;d=S,d===null?(S=c.child,c.child=null):(S=d.sibling,d.sibling=null),zx(c,!1,S,d,R,v);break;case"backwards":case"unstable_legacy-backwards":for(d=null,S=c.child,c.child=null;S!==null;){if(s=S.alternate,s!==null&&D1(s)===null){c.child=S;break}s=S.sibling,S.sibling=d,d=S,S=s}zx(c,!0,d,null,R,v);break;case"together":zx(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function Cl(s,c,d){if(s!==null&&(c.dependencies=s.dependencies),yc|=c.lanes,(d&c.childLanes)===0)if(s!==null){if(kf(s,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(n(153));if(c.child!==null){for(s=c.child,d=_l(s,s.pendingProps),c.child=d,d.return=c;s.sibling!==null;)s=s.sibling,d=d.sibling=_l(s,s.pendingProps),d.return=c;d.sibling=null}return c.child}function Hx(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&A1(s)))}function Yk(s,c,d){switch(c.tag){case 3:je(c,c.stateNode.containerInfo),fc(c,wi,s.memoizedState.cache),Cu();break;case 27:case 5:$e(c);break;case 4:je(c,c.stateNode.containerInfo);break;case 10:fc(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,gx(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(mc(c),c.flags|=128,null):(d&c.child.childLanes)!==0?yT(s,c,d):(mc(c),s=Cl(s,c,d),s!==null?s.sibling:null);mc(c);break;case 19:var S=(s.flags&128)!==0;if(v=(d&c.childLanes)!==0,v||(kf(s,c,d,!1),v=(d&c.childLanes)!==0),S){if(v)return ET(s,c,d);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),he(di,di.current),v)break;return null;case 22:return c.lanes=0,dT(s,c,d,c.pendingProps);case 24:fc(c,wi,s.memoizedState.cache)}return Cl(s,c,d)}function wT(s,c,d){if(s!==null)if(s.memoizedProps!==c.pendingProps)Ai=!0;else{if(!Hx(s,d)&&(c.flags&128)===0)return Ai=!1,Yk(s,c,d);Ai=(s.flags&131072)!==0}else Ai=!1,Rr&&(c.flags&1048576)!==0&&ew(c,J0,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(s=Nu(c.elementType),c.type=s,typeof s=="function")Yp(s)?(v=Mu(s,v),c.tag=1,c=xT(null,c,s,v,d)):(c.tag=0,c=Fx(null,c,s,v,d));else{if(s!=null){var S=s.$$typeof;if(S===Y){c.tag=11,c=uT(null,c,s,v,d);break e}else if(S===L){c.tag=14,c=fT(null,c,s,v,d);break e}}throw c=be(s)||s,Error(n(306,c,""))}}return c;case 0:return Fx(s,c,c.type,c.pendingProps,d);case 1:return v=c.type,S=Mu(v,c.pendingProps),xT(s,c,v,S,d);case 3:e:{if(je(c,c.stateNode.containerInfo),s===null)throw Error(n(387));v=c.pendingProps;var R=c.memoizedState;S=R.element,cx(s,c),oh(c,v,null,d);var z=c.memoizedState;if(v=z.cache,fc(c,wi,v),v!==R.cache&&nx(c,[wi],d,!0),sh(),v=z.element,R.isDehydrated)if(R={element:v,isDehydrated:!1,cache:z.cache},c.updateQueue.baseState=R,c.memoizedState=R,c.flags&256){c=vT(s,c,v,d);break e}else if(v!==S){S=Ws(Error(n(424)),c),eh(S),c=vT(s,c,v,d);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Sn=Qs(s.firstChild),ra=c,Rr=!0,cc=null,Ys=!0,d=dw(c,null,v,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Cu(),v===S){c=Cl(s,c,d);break e}ia(s,c,v,d)}c=c.child}return c;case 26:return H1(s,c),s===null?(d=OA(c.type,null,c.pendingProps,null))?c.memoizedState=d:Rr||(d=c.type,s=c.pendingProps,v=sg(ye.current).createElement(d),v[le]=c,v[ce]=s,aa(v,d,s),Tt(v),c.stateNode=v):c.memoizedState=OA(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return $e(c),s===null&&Rr&&(v=c.stateNode=NA(c.type,c.pendingProps,ye.current),ra=c,Ys=!0,S=Sn,Ac(c.type)?(w2=S,Sn=Qs(v.firstChild)):Sn=S),ia(s,c,c.pendingProps.children,d),H1(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&Rr&&((S=v=Sn)&&(v=AD(v,c.type,c.pendingProps,Ys),v!==null?(c.stateNode=v,ra=c,Sn=Qs(v.firstChild),Ys=!1,S=!0):S=!1),S||uc(c)),$e(c),S=c.type,R=c.pendingProps,z=s!==null?s.memoizedProps:null,v=R.children,x2(S,R)?v=null:z!==null&&x2(S,z)&&(c.flags|=32),c.memoizedState!==null&&(S=px(s,c,Uk,null,null,d),bh._currentValue=S),H1(s,c),ia(s,c,v,d),c.child;case 6:return s===null&&Rr&&((s=d=Sn)&&(d=SD(d,c.pendingProps,Ys),d!==null?(c.stateNode=d,ra=c,Sn=null,s=!0):s=!1),s||uc(c)),null;case 13:return yT(s,c,d);case 4:return je(c,c.stateNode.containerInfo),v=c.pendingProps,s===null?c.child=Du(c,null,v,d):ia(s,c,v,d),c.child;case 11:return uT(s,c,c.type,c.pendingProps,d);case 7:return ia(s,c,c.pendingProps,d),c.child;case 8:return ia(s,c,c.pendingProps.children,d),c.child;case 12:return ia(s,c,c.pendingProps.children,d),c.child;case 10:return v=c.pendingProps,fc(c,c.type,v.value),ia(s,c,v.children,d),c.child;case 9:return S=c.type._context,v=c.pendingProps.children,Iu(c),S=na(S),v=v(S),c.flags|=1,ia(s,c,v,d),c.child;case 14:return fT(s,c,c.type,c.pendingProps,d);case 15:return hT(s,c,c.type,c.pendingProps,d);case 19:return ET(s,c,d);case 31:return Xk(s,c,d);case 22:return dT(s,c,d,c.pendingProps);case 24:return Iu(c),v=na(wi),s===null?(S=sx(),S===null&&(S=_n,R=ix(),S.pooledCache=R,R.refCount++,R!==null&&(S.pooledCacheLanes|=d),S=R),c.memoizedState={parent:v,cache:S},lx(c),fc(c,wi,S)):((s.lanes&d)!==0&&(cx(s,c),oh(c,null,null,d),sh()),S=s.memoizedState,R=c.memoizedState,S.parent!==v?(S={parent:v,cache:v},c.memoizedState=S,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=S),fc(c,wi,v)):(v=R.cache,fc(c,wi,v),v!==S.cache&&nx(c,[wi],d,!0))),ia(s,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function bl(s){s.flags|=4}function Gx(s,c,d,v,S){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(S&335544128)===S)if(s.stateNode.complete)s.flags|=8192;else if(KT())s.flags|=8192;else throw ku=I1,ox}else s.flags&=-16777217}function TT(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!BA(c))if(KT())s.flags|=8192;else throw ku=I1,ox}function W1(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?On():536870912,s.lanes|=c,Hf|=c)}function dh(s,c){if(!Rr)switch(s.tailMode){case"hidden":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Cn(s){var c=s.alternate!==null&&s.alternate.child===s.child,d=0,v=0;if(c)for(var S=s.child;S!==null;)d|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=s,S=S.sibling;else for(S=s.child;S!==null;)d|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=s,S=S.sibling;return s.subtreeFlags|=v,s.childLanes=d,c}function Kk(s,c,d){var v=c.pendingProps;switch(Zp(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(c),null;case 1:return Cn(c),null;case 3:return d=c.stateNode,v=null,s!==null&&(v=s.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),Tl(wi),Ve(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Nf(c)?bl(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ex())),Cn(c),null;case 26:var S=c.type,R=c.memoizedState;return s===null?(bl(c),R!==null?(Cn(c),TT(c,R)):(Cn(c),Gx(c,S,null,v,d))):R?R!==s.memoizedState?(bl(c),Cn(c),TT(c,R)):(Cn(c),c.flags&=-16777217):(s=s.memoizedProps,s!==v&&bl(c),Cn(c),Gx(c,S,s,v,d)),null;case 27:if(_t(c),d=ye.current,S=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==v&&bl(c);else{if(!v){if(c.stateNode===null)throw Error(n(166));return Cn(c),null}s=ie.current,Nf(c)?rw(c):(s=NA(S,v,d),c.stateNode=s,bl(c))}return Cn(c),null;case 5:if(_t(c),S=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==v&&bl(c);else{if(!v){if(c.stateNode===null)throw Error(n(166));return Cn(c),null}if(R=ie.current,Nf(c))rw(c);else{var z=sg(ye.current);switch(R){case 1:R=z.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:R=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":R=z.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":R=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":R=z.createElement("div"),R.innerHTML="<script><\/script>",R=R.removeChild(R.firstChild);break;case"select":R=typeof v.is=="string"?z.createElement("select",{is:v.is}):z.createElement("select"),v.multiple?R.multiple=!0:v.size&&(R.size=v.size);break;default:R=typeof v.is=="string"?z.createElement(S,{is:v.is}):z.createElement(S)}}R[le]=c,R[ce]=v;e:for(z=c.child;z!==null;){if(z.tag===5||z.tag===6)R.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===c)break e;for(;z.sibling===null;){if(z.return===null||z.return===c)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}c.stateNode=R;e:switch(aa(R,S,v),S){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&bl(c)}}return Cn(c),Gx(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,d),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==v&&bl(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(n(166));if(s=ye.current,Nf(c)){if(s=c.stateNode,d=c.memoizedProps,v=null,S=ra,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}s[le]=c,s=!!(s.nodeValue===d||v!==null&&v.suppressHydrationWarning===!0||yA(s.nodeValue,d)),s||uc(c,!0)}else s=sg(s).createTextNode(v),s[le]=c,c.stateNode=s}return Cn(c),null;case 31:if(d=c.memoizedState,s===null||s.memoizedState!==null){if(v=Nf(c),d!==null){if(s===null){if(!v)throw Error(n(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[le]=c}else Cu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Cn(c),s=!1}else d=ex(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return c.flags&256?(Es(c),c):(Es(c),null);if((c.flags&128)!==0)throw Error(n(558))}return Cn(c),null;case 13:if(v=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(S=Nf(c),v!==null&&v.dehydrated!==null){if(s===null){if(!S)throw Error(n(318));if(S=c.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[le]=c}else Cu(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Cn(c),S=!1}else S=ex(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=S),S=!0;if(!S)return c.flags&256?(Es(c),c):(Es(c),null)}return Es(c),(c.flags&128)!==0?(c.lanes=d,c):(d=v!==null,s=s!==null&&s.memoizedState!==null,d&&(v=c.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool),R=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(R=v.memoizedState.cachePool.pool),R!==S&&(v.flags|=2048)),d!==s&&d&&(c.child.flags|=8192),W1(c,c.updateQueue),Cn(c),null);case 4:return Ve(),s===null&&h2(c.stateNode.containerInfo),Cn(c),null;case 10:return Tl(c.type),Cn(c),null;case 19:if(Z(di),v=c.memoizedState,v===null)return Cn(c),null;if(S=(c.flags&128)!==0,R=v.rendering,R===null)if(S)dh(v,!1);else{if(Jn!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(R=D1(s),R!==null){for(c.flags|=128,dh(v,!1),s=R.updateQueue,c.updateQueue=s,W1(c,s),c.subtreeFlags=0,s=d,d=c.child;d!==null;)$E(d,s),d=d.sibling;return he(di,di.current&1|2),Rr&&El(c,v.treeForkCount),c.child}s=s.sibling}v.tail!==null&&rr()>Q1&&(c.flags|=128,S=!0,dh(v,!1),c.lanes=4194304)}else{if(!S)if(s=D1(R),s!==null){if(c.flags|=128,S=!0,s=s.updateQueue,c.updateQueue=s,W1(c,s),dh(v,!0),v.tail===null&&v.tailMode==="hidden"&&!R.alternate&&!Rr)return Cn(c),null}else 2*rr()-v.renderingStartTime>Q1&&d!==536870912&&(c.flags|=128,S=!0,dh(v,!1),c.lanes=4194304);v.isBackwards?(R.sibling=c.child,c.child=R):(s=v.last,s!==null?s.sibling=R:c.child=R,v.last=R)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=rr(),s.sibling=null,d=di.current,he(di,S?d&1|2:d&1),Rr&&El(c,v.treeForkCount),s):(Cn(c),null);case 22:case 23:return Es(c),dx(),v=c.memoizedState!==null,s!==null?s.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(d&536870912)!==0&&(c.flags&128)===0&&(Cn(c),c.subtreeFlags&6&&(c.flags|=8192)):Cn(c),d=c.updateQueue,d!==null&&W1(c,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==d&&(c.flags|=2048),s!==null&&Z(Ru),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),Tl(wi),Cn(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function Qk(s,c){switch(Zp(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return Tl(wi),Ve(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return _t(c),null;case 31:if(c.memoizedState!==null){if(Es(c),c.alternate===null)throw Error(n(340));Cu()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Es(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Cu()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return Z(di),null;case 4:return Ve(),null;case 10:return Tl(c.type),null;case 22:case 23:return Es(c),dx(),s!==null&&Z(Ru),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return Tl(wi),null;case 25:return null;default:return null}}function AT(s,c){switch(Zp(c),c.tag){case 3:Tl(wi),Ve();break;case 26:case 27:case 5:_t(c);break;case 4:Ve();break;case 31:c.memoizedState!==null&&Es(c);break;case 13:Es(c);break;case 19:Z(di);break;case 10:Tl(c.type);break;case 22:case 23:Es(c),dx(),s!==null&&Z(Ru);break;case 24:Tl(wi)}}function gh(s,c){try{var d=c.updateQueue,v=d!==null?d.lastEffect:null;if(v!==null){var S=v.next;d=S;do{if((d.tag&s)===s){v=void 0;var R=d.create,z=d.inst;v=R(),z.destroy=v}d=d.next}while(d!==S)}}catch(ne){en(c,c.return,ne)}}function xc(s,c,d){try{var v=c.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var R=S.next;v=R;do{if((v.tag&s)===s){var z=v.inst,ne=z.destroy;if(ne!==void 0){z.destroy=void 0,S=c;var Ee=d,Fe=ne;try{Fe()}catch(Ke){en(S,Ee,Ke)}}}v=v.next}while(v!==R)}}catch(Ke){en(c,c.return,Ke)}}function ST(s){var c=s.updateQueue;if(c!==null){var d=s.stateNode;try{mw(c,d)}catch(v){en(s,s.return,v)}}}function CT(s,c,d){d.props=Mu(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(v){en(s,c,v)}}function mh(s,c){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var v=s.stateNode;break;case 30:v=s.stateNode;break;default:v=s.stateNode}typeof d=="function"?s.refCleanup=d(v):d.current=v}}catch(S){en(s,c,S)}}function Bo(s,c){var d=s.ref,v=s.refCleanup;if(d!==null)if(typeof v=="function")try{v()}catch(S){en(s,c,S)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(S){en(s,c,S)}else d.current=null}function bT(s){var c=s.type,d=s.memoizedProps,v=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&v.focus();break e;case"img":d.src?v.src=d.src:d.srcSet&&(v.srcset=d.srcSet)}}catch(S){en(s,s.return,S)}}function Wx(s,c,d){try{var v=s.stateNode;vD(v,s.type,d,c),v[ce]=c}catch(S){en(s,s.return,S)}}function IT(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ac(s.type)||s.tag===4}function qx(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||IT(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ac(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xx(s,c,d){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(s),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=Vn));else if(v!==4&&(v===27&&Ac(s.type)&&(d=s.stateNode,c=null),s=s.child,s!==null))for(Xx(s,c,d),s=s.sibling;s!==null;)Xx(s,c,d),s=s.sibling}function q1(s,c,d){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?d.insertBefore(s,c):d.appendChild(s);else if(v!==4&&(v===27&&Ac(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(q1(s,c,d),s=s.sibling;s!==null;)q1(s,c,d),s=s.sibling}function RT(s){var c=s.stateNode,d=s.memoizedProps;try{for(var v=s.type,S=c.attributes;S.length;)c.removeAttributeNode(S[0]);aa(c,v,d),c[le]=s,c[ce]=d}catch(R){en(s,s.return,R)}}var Il=!1,Si=!1,Yx=!1,NT=typeof WeakSet=="function"?WeakSet:Set,qi=null;function $k(s,c){if(s=s.containerInfo,m2=dg,s=X(s),re(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var v=d.getSelection&&d.getSelection();if(v&&v.rangeCount!==0){d=v.anchorNode;var S=v.anchorOffset,R=v.focusNode;v=v.focusOffset;try{d.nodeType,R.nodeType}catch{d=null;break e}var z=0,ne=-1,Ee=-1,Fe=0,Ke=0,tt=s,Ue=null;t:for(;;){for(var We;tt!==d||S!==0&&tt.nodeType!==3||(ne=z+S),tt!==R||v!==0&&tt.nodeType!==3||(Ee=z+v),tt.nodeType===3&&(z+=tt.nodeValue.length),(We=tt.firstChild)!==null;)Ue=tt,tt=We;for(;;){if(tt===s)break t;if(Ue===d&&++Fe===S&&(ne=z),Ue===R&&++Ke===v&&(Ee=z),(We=tt.nextSibling)!==null)break;tt=Ue,Ue=tt.parentNode}tt=We}d=ne===-1||Ee===-1?null:{start:ne,end:Ee}}else d=null}d=d||{start:0,end:0}}else d=null;for(p2={focusedElem:s,selectionRange:d},dg=!1,qi=c;qi!==null;)if(c=qi,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,qi=s;else for(;qi!==null;){switch(c=qi,R=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)S=s[d],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&R!==null){s=void 0,d=c,S=R.memoizedProps,R=R.memoizedState,v=d.stateNode;try{var bt=Mu(d.type,S);s=v.getSnapshotBeforeUpdate(bt,R),v.__reactInternalSnapshotBeforeUpdate=s}catch(Ht){en(d,d.return,Ht)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,d=s.nodeType,d===9)y2(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":y2(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=c.sibling,s!==null){s.return=c.return,qi=s;break}qi=c.return}}function kT(s,c,d){var v=d.flags;switch(d.tag){case 0:case 11:case 15:Nl(s,d),v&4&&gh(5,d);break;case 1:if(Nl(s,d),v&4)if(s=d.stateNode,c===null)try{s.componentDidMount()}catch(z){en(d,d.return,z)}else{var S=Mu(d.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(S,c,s.__reactInternalSnapshotBeforeUpdate)}catch(z){en(d,d.return,z)}}v&64&&ST(d),v&512&&mh(d,d.return);break;case 3:if(Nl(s,d),v&64&&(s=d.updateQueue,s!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{mw(s,c)}catch(z){en(d,d.return,z)}}break;case 27:c===null&&v&4&&RT(d);case 26:case 5:Nl(s,d),c===null&&v&4&&bT(d),v&512&&mh(d,d.return);break;case 12:Nl(s,d);break;case 31:Nl(s,d),v&4&&MT(s,d);break;case 13:Nl(s,d),v&4&&LT(s,d),v&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=sD.bind(null,d),CD(s,d))));break;case 22:if(v=d.memoizedState!==null||Il,!v){c=c!==null&&c.memoizedState!==null||Si,S=Il;var R=Si;Il=v,(Si=c)&&!R?kl(s,d,(d.subtreeFlags&8772)!==0):Nl(s,d),Il=S,Si=R}break;case 30:break;default:Nl(s,d)}}function DT(s){var c=s.alternate;c!==null&&(s.alternate=null,DT(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&rt(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ln=null,ts=!1;function Rl(s,c,d){for(d=d.child;d!==null;)OT(s,c,d),d=d.sibling}function OT(s,c,d){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(Nt,d)}catch{}switch(d.tag){case 26:Si||Bo(d,c),Rl(s,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Si||Bo(d,c);var v=Ln,S=ts;Ac(d.type)&&(Ln=d.stateNode,ts=!1),Rl(s,c,d),Ah(d.stateNode),Ln=v,ts=S;break;case 5:Si||Bo(d,c);case 6:if(v=Ln,S=ts,Ln=null,Rl(s,c,d),Ln=v,ts=S,Ln!==null)if(ts)try{(Ln.nodeType===9?Ln.body:Ln.nodeName==="HTML"?Ln.ownerDocument.body:Ln).removeChild(d.stateNode)}catch(R){en(d,c,R)}else try{Ln.removeChild(d.stateNode)}catch(R){en(d,c,R)}break;case 18:Ln!==null&&(ts?(s=Ln,SA(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),$f(s)):SA(Ln,d.stateNode));break;case 4:v=Ln,S=ts,Ln=d.stateNode.containerInfo,ts=!0,Rl(s,c,d),Ln=v,ts=S;break;case 0:case 11:case 14:case 15:xc(2,d,c),Si||xc(4,d,c),Rl(s,c,d);break;case 1:Si||(Bo(d,c),v=d.stateNode,typeof v.componentWillUnmount=="function"&&CT(d,c,v)),Rl(s,c,d);break;case 21:Rl(s,c,d);break;case 22:Si=(v=Si)||d.memoizedState!==null,Rl(s,c,d),Si=v;break;default:Rl(s,c,d)}}function MT(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{$f(s)}catch(d){en(c,c.return,d)}}}function LT(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{$f(s)}catch(d){en(c,c.return,d)}}function Zk(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new NT),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new NT),c;default:throw Error(n(435,s.tag))}}function X1(s,c){var d=Zk(s);c.forEach(function(v){if(!d.has(v)){d.add(v);var S=oD.bind(null,s,v);v.then(S,S)}})}function rs(s,c){var d=c.deletions;if(d!==null)for(var v=0;v<d.length;v++){var S=d[v],R=s,z=c,ne=z;e:for(;ne!==null;){switch(ne.tag){case 27:if(Ac(ne.type)){Ln=ne.stateNode,ts=!1;break e}break;case 5:Ln=ne.stateNode,ts=!1;break e;case 3:case 4:Ln=ne.stateNode.containerInfo,ts=!0;break e}ne=ne.return}if(Ln===null)throw Error(n(160));OT(R,z,S),Ln=null,ts=!1,R=S.alternate,R!==null&&(R.return=null),S.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)FT(c,s),c=c.sibling}var yo=null;function FT(s,c){var d=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:rs(c,s),ns(s),v&4&&(xc(3,s,s.return),gh(3,s),xc(5,s,s.return));break;case 1:rs(c,s),ns(s),v&512&&(Si||d===null||Bo(d,d.return)),v&64&&Il&&(s=s.updateQueue,s!==null&&(v=s.callbacks,v!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?v:d.concat(v))));break;case 26:var S=yo;if(rs(c,s),ns(s),v&512&&(Si||d===null||Bo(d,d.return)),v&4){var R=d!==null?d.memoizedState:null;if(v=s.memoizedState,d===null)if(v===null)if(s.stateNode===null){e:{v=s.type,d=s.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":R=S.getElementsByTagName("title")[0],(!R||R[Be]||R[le]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=S.createElement(v),S.head.insertBefore(R,S.querySelector("head > title"))),aa(R,v,d),R[le]=s,Tt(R),v=R;break e;case"link":var z=FA("link","href",S).get(v+(d.href||""));if(z){for(var ne=0;ne<z.length;ne++)if(R=z[ne],R.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&R.getAttribute("rel")===(d.rel==null?null:d.rel)&&R.getAttribute("title")===(d.title==null?null:d.title)&&R.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){z.splice(ne,1);break t}}R=S.createElement(v),aa(R,v,d),S.head.appendChild(R);break;case"meta":if(z=FA("meta","content",S).get(v+(d.content||""))){for(ne=0;ne<z.length;ne++)if(R=z[ne],R.getAttribute("content")===(d.content==null?null:""+d.content)&&R.getAttribute("name")===(d.name==null?null:d.name)&&R.getAttribute("property")===(d.property==null?null:d.property)&&R.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&R.getAttribute("charset")===(d.charSet==null?null:d.charSet)){z.splice(ne,1);break t}}R=S.createElement(v),aa(R,v,d),S.head.appendChild(R);break;default:throw Error(n(468,v))}R[le]=s,Tt(R),v=R}s.stateNode=v}else PA(S,s.type,s.stateNode);else s.stateNode=LA(S,v,s.memoizedProps);else R!==v?(R===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):R.count--,v===null?PA(S,s.type,s.stateNode):LA(S,v,s.memoizedProps)):v===null&&s.stateNode!==null&&Wx(s,s.memoizedProps,d.memoizedProps)}break;case 27:rs(c,s),ns(s),v&512&&(Si||d===null||Bo(d,d.return)),d!==null&&v&4&&Wx(s,s.memoizedProps,d.memoizedProps);break;case 5:if(rs(c,s),ns(s),v&512&&(Si||d===null||Bo(d,d.return)),s.flags&32){S=s.stateNode;try{qa(S,"")}catch(bt){en(s,s.return,bt)}}v&4&&s.stateNode!=null&&(S=s.memoizedProps,Wx(s,S,d!==null?d.memoizedProps:S)),v&1024&&(Yx=!0);break;case 6:if(rs(c,s),ns(s),v&4){if(s.stateNode===null)throw Error(n(162));v=s.memoizedProps,d=s.stateNode;try{d.nodeValue=v}catch(bt){en(s,s.return,bt)}}break;case 3:if(cg=null,S=yo,yo=og(c.containerInfo),rs(c,s),yo=S,ns(s),v&4&&d!==null&&d.memoizedState.isDehydrated)try{$f(c.containerInfo)}catch(bt){en(s,s.return,bt)}Yx&&(Yx=!1,PT(s));break;case 4:v=yo,yo=og(s.stateNode.containerInfo),rs(c,s),ns(s),yo=v;break;case 12:rs(c,s),ns(s);break;case 31:rs(c,s),ns(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,X1(s,v)));break;case 13:rs(c,s),ns(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(K1=rr()),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,X1(s,v)));break;case 22:S=s.memoizedState!==null;var Ee=d!==null&&d.memoizedState!==null,Fe=Il,Ke=Si;if(Il=Fe||S,Si=Ke||Ee,rs(c,s),Si=Ke,Il=Fe,ns(s),v&8192)e:for(c=s.stateNode,c._visibility=S?c._visibility&-2:c._visibility|1,S&&(d===null||Ee||Il||Si||Lu(s)),d=null,c=s;;){if(c.tag===5||c.tag===26){if(d===null){Ee=d=c;try{if(R=Ee.stateNode,S)z=R.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{ne=Ee.stateNode;var tt=Ee.memoizedProps.style,Ue=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;ne.style.display=Ue==null||typeof Ue=="boolean"?"":(""+Ue).trim()}}catch(bt){en(Ee,Ee.return,bt)}}}else if(c.tag===6){if(d===null){Ee=c;try{Ee.stateNode.nodeValue=S?"":Ee.memoizedProps}catch(bt){en(Ee,Ee.return,bt)}}}else if(c.tag===18){if(d===null){Ee=c;try{var We=Ee.stateNode;S?CA(We,!0):CA(Ee.stateNode,!1)}catch(bt){en(Ee,Ee.return,bt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=s.updateQueue,v!==null&&(d=v.retryQueue,d!==null&&(v.retryQueue=null,X1(s,d))));break;case 19:rs(c,s),ns(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,X1(s,v)));break;case 30:break;case 21:break;default:rs(c,s),ns(s)}}function ns(s){var c=s.flags;if(c&2){try{for(var d,v=s.return;v!==null;){if(IT(v)){d=v;break}v=v.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var S=d.stateNode,R=qx(s);q1(s,R,S);break;case 5:var z=d.stateNode;d.flags&32&&(qa(z,""),d.flags&=-33);var ne=qx(s);q1(s,ne,z);break;case 3:case 4:var Ee=d.stateNode.containerInfo,Fe=qx(s);Xx(s,Fe,Ee);break;default:throw Error(n(161))}}catch(Ke){en(s,s.return,Ke)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function PT(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;PT(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function Nl(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)kT(s,c.alternate,c),c=c.sibling}function Lu(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:xc(4,c,c.return),Lu(c);break;case 1:Bo(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&CT(c,c.return,d),Lu(c);break;case 27:Ah(c.stateNode);case 26:case 5:Bo(c,c.return),Lu(c);break;case 22:c.memoizedState===null&&Lu(c);break;case 30:Lu(c);break;default:Lu(c)}s=s.sibling}}function kl(s,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,S=s,R=c,z=R.flags;switch(R.tag){case 0:case 11:case 15:kl(S,R,d),gh(4,R);break;case 1:if(kl(S,R,d),v=R,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Fe){en(v,v.return,Fe)}if(v=R,S=v.updateQueue,S!==null){var ne=v.stateNode;try{var Ee=S.shared.hiddenCallbacks;if(Ee!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Ee.length;S++)gw(Ee[S],ne)}catch(Fe){en(v,v.return,Fe)}}d&&z&64&&ST(R),mh(R,R.return);break;case 27:RT(R);case 26:case 5:kl(S,R,d),d&&v===null&&z&4&&bT(R),mh(R,R.return);break;case 12:kl(S,R,d);break;case 31:kl(S,R,d),d&&z&4&&MT(S,R);break;case 13:kl(S,R,d),d&&z&4&&LT(S,R);break;case 22:R.memoizedState===null&&kl(S,R,d),mh(R,R.return);break;case 30:break;default:kl(S,R,d)}c=c.sibling}}function Kx(s,c){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&th(d))}function Qx(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&th(s))}function _o(s,c,d,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)BT(s,c,d,v),c=c.sibling}function BT(s,c,d,v){var S=c.flags;switch(c.tag){case 0:case 11:case 15:_o(s,c,d,v),S&2048&&gh(9,c);break;case 1:_o(s,c,d,v);break;case 3:_o(s,c,d,v),S&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&th(s)));break;case 12:if(S&2048){_o(s,c,d,v),s=c.stateNode;try{var R=c.memoizedProps,z=R.id,ne=R.onPostCommit;typeof ne=="function"&&ne(z,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Ee){en(c,c.return,Ee)}}else _o(s,c,d,v);break;case 31:_o(s,c,d,v);break;case 13:_o(s,c,d,v);break;case 23:break;case 22:R=c.stateNode,z=c.alternate,c.memoizedState!==null?R._visibility&2?_o(s,c,d,v):ph(s,c):R._visibility&2?_o(s,c,d,v):(R._visibility|=2,Vf(s,c,d,v,(c.subtreeFlags&10256)!==0||!1)),S&2048&&Kx(z,c);break;case 24:_o(s,c,d,v),S&2048&&Qx(c.alternate,c);break;default:_o(s,c,d,v)}}function Vf(s,c,d,v,S){for(S=S&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var R=s,z=c,ne=d,Ee=v,Fe=z.flags;switch(z.tag){case 0:case 11:case 15:Vf(R,z,ne,Ee,S),gh(8,z);break;case 23:break;case 22:var Ke=z.stateNode;z.memoizedState!==null?Ke._visibility&2?Vf(R,z,ne,Ee,S):ph(R,z):(Ke._visibility|=2,Vf(R,z,ne,Ee,S)),S&&Fe&2048&&Kx(z.alternate,z);break;case 24:Vf(R,z,ne,Ee,S),S&&Fe&2048&&Qx(z.alternate,z);break;default:Vf(R,z,ne,Ee,S)}c=c.sibling}}function ph(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=s,v=c,S=v.flags;switch(v.tag){case 22:ph(d,v),S&2048&&Kx(v.alternate,v);break;case 24:ph(d,v),S&2048&&Qx(v.alternate,v);break;default:ph(d,v)}c=c.sibling}}var xh=8192;function jf(s,c,d){if(s.subtreeFlags&xh)for(s=s.child;s!==null;)UT(s,c,d),s=s.sibling}function UT(s,c,d){switch(s.tag){case 26:jf(s,c,d),s.flags&xh&&s.memoizedState!==null&&BD(d,yo,s.memoizedState,s.memoizedProps);break;case 5:jf(s,c,d);break;case 3:case 4:var v=yo;yo=og(s.stateNode.containerInfo),jf(s,c,d),yo=v;break;case 22:s.memoizedState===null&&(v=s.alternate,v!==null&&v.memoizedState!==null?(v=xh,xh=16777216,jf(s,c,d),xh=v):jf(s,c,d));break;default:jf(s,c,d)}}function VT(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function vh(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var v=c[d];qi=v,zT(v,s)}VT(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)jT(s),s=s.sibling}function jT(s){switch(s.tag){case 0:case 11:case 15:vh(s),s.flags&2048&&xc(9,s,s.return);break;case 3:vh(s);break;case 12:vh(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,Y1(s)):vh(s);break;default:vh(s)}}function Y1(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var v=c[d];qi=v,zT(v,s)}VT(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:xc(8,c,c.return),Y1(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,Y1(c));break;default:Y1(c)}s=s.sibling}}function zT(s,c){for(;qi!==null;){var d=qi;switch(d.tag){case 0:case 11:case 15:xc(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var v=d.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:th(d.memoizedState.cache)}if(v=d.child,v!==null)v.return=d,qi=v;else e:for(d=s;qi!==null;){v=qi;var S=v.sibling,R=v.return;if(DT(v),v===d){qi=null;break e}if(S!==null){S.return=R,qi=S;break e}qi=R}}}var Jk={getCacheForType:function(s){var c=na(wi),d=c.data.get(s);return d===void 0&&(d=s(),c.data.set(s,d)),d},cacheSignal:function(){return na(wi).controller.signal}},eD=typeof WeakMap=="function"?WeakMap:Map,jr=0,_n=null,Er=null,Ar=0,Jr=0,ws=null,vc=!1,zf=!1,$x=!1,Dl=0,Jn=0,yc=0,Fu=0,Zx=0,Ts=0,Hf=0,yh=null,is=null,Jx=!1,K1=0,HT=0,Q1=1/0,$1=null,_c=null,Pi=0,Ec=null,Gf=null,Ol=0,e2=0,t2=null,GT=null,_h=0,r2=null;function As(){return(jr&2)!==0&&Ar!==0?Ar&-Ar:_e.T!==null?l2():J()}function WT(){if(Ts===0)if((Ar&536870912)===0||Rr){var s=nr;nr<<=1,(nr&3932160)===0&&(nr=262144),Ts=s}else Ts=536870912;return s=_s.current,s!==null&&(s.flags|=32),Ts}function as(s,c,d){(s===_n&&(Jr===2||Jr===9)||s.cancelPendingCommit!==null)&&(Wf(s,0),wc(s,Ar,Ts,!1)),Na(s,d),((jr&2)===0||s!==_n)&&(s===_n&&((jr&2)===0&&(Fu|=d),Jn===4&&wc(s,Ar,Ts,!1)),Uo(s))}function qT(s,c,d){if((jr&6)!==0)throw Error(n(327));var v=!d&&(c&127)===0&&(c&s.expiredLanes)===0||Wn(s,c),S=v?nD(s,c):i2(s,c,!0),R=v;do{if(S===0){zf&&!v&&wc(s,c,0,!1);break}else{if(d=s.current.alternate,R&&!tD(d)){S=i2(s,c,!1),R=!1;continue}if(S===2){if(R=c,s.errorRecoveryDisabledLanes&R)var z=0;else z=s.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){c=z;e:{var ne=s;S=yh;var Ee=ne.current.memoizedState.isDehydrated;if(Ee&&(Wf(ne,z).flags|=256),z=i2(ne,z,!1),z!==2){if($x&&!Ee){ne.errorRecoveryDisabledLanes|=R,Fu|=R,S=4;break e}R=is,is=S,R!==null&&(is===null?is=R:is.push.apply(is,R))}S=z}if(R=!1,S!==2)continue}}if(S===1){Wf(s,0),wc(s,c,0,!0);break}e:{switch(v=s,R=S,R){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:wc(v,c,Ts,!vc);break e;case 2:is=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(S=K1+300-rr(),10<S)){if(wc(v,c,Ts,!vc),$i(v,0,!0)!==0)break e;Ol=c,v.timeoutHandle=TA(XT.bind(null,v,d,is,$1,Jx,c,Ts,Fu,Hf,vc,R,"Throttled",-0,0),S);break e}XT(v,d,is,$1,Jx,c,Ts,Fu,Hf,vc,R,null,-0,0)}}break}while(!0);Uo(s)}function XT(s,c,d,v,S,R,z,ne,Ee,Fe,Ke,tt,Ue,We){if(s.timeoutHandle=-1,tt=c.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vn},UT(c,R,tt);var bt=(R&62914560)===R?K1-rr():(R&4194048)===R?HT-rr():0;if(bt=UD(tt,bt),bt!==null){Ol=R,s.cancelPendingCommit=bt(tA.bind(null,s,c,R,d,v,S,z,ne,Ee,Ke,tt,null,Ue,We)),wc(s,R,z,!Fe);return}}tA(s,c,R,d,v,S,z,ne,Ee)}function tD(s){for(var c=s;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var v=0;v<d.length;v++){var S=d[v],R=S.getSnapshot;S=S.value;try{if(!_(R(),S))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function wc(s,c,d,v){c&=~Zx,c&=~Fu,s.suspendedLanes|=c,s.pingedLanes&=~c,v&&(s.warmLanes|=c),v=s.expirationTimes;for(var S=c;0<S;){var R=31-Zt(S),z=1<<R;v[R]=-1,S&=~z}d!==0&&fl(s,d,c)}function Z1(){return(jr&6)===0?(Eh(0),!1):!0}function n2(){if(Er!==null){if(Jr===0)var s=Er.return;else s=Er,wl=bu=null,yx(s),Lf=null,nh=0,s=Er;for(;s!==null;)AT(s.alternate,s),s=s.return;Er=null}}function Wf(s,c){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,ED(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),Ol=0,n2(),_n=s,Er=d=_l(s.current,null),Ar=c,Jr=0,ws=null,vc=!1,zf=Wn(s,c),$x=!1,Hf=Ts=Zx=Fu=yc=Jn=0,is=yh=null,Jx=!1,(c&8)!==0&&(c|=c&32);var v=s.entangledLanes;if(v!==0)for(s=s.entanglements,v&=c;0<v;){var S=31-Zt(v),R=1<<S;c|=s[S],v&=~R}return Dl=c,y1(),d}function YT(s,c){cr=null,_e.H=fh,c===Mf||c===b1?(c=uw(),Jr=3):c===ox?(c=uw(),Jr=4):Jr=c===Lx?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,ws=c,Er===null&&(Jn=1,j1(s,Ws(c,s.current)))}function KT(){var s=_s.current;return s===null?!0:(Ar&4194048)===Ar?Ks===null:(Ar&62914560)===Ar||(Ar&536870912)!==0?s===Ks:!1}function QT(){var s=_e.H;return _e.H=fh,s===null?fh:s}function $T(){var s=_e.A;return _e.A=Jk,s}function J1(){Jn=4,vc||(Ar&4194048)!==Ar&&_s.current!==null||(zf=!0),(yc&134217727)===0&&(Fu&134217727)===0||_n===null||wc(_n,Ar,Ts,!1)}function i2(s,c,d){var v=jr;jr|=2;var S=QT(),R=$T();(_n!==s||Ar!==c)&&($1=null,Wf(s,c)),c=!1;var z=Jn;e:do try{if(Jr!==0&&Er!==null){var ne=Er,Ee=ws;switch(Jr){case 8:n2(),z=6;break e;case 3:case 2:case 9:case 6:_s.current===null&&(c=!0);var Fe=Jr;if(Jr=0,ws=null,qf(s,ne,Ee,Fe),d&&zf){z=0;break e}break;default:Fe=Jr,Jr=0,ws=null,qf(s,ne,Ee,Fe)}}rD(),z=Jn;break}catch(Ke){YT(s,Ke)}while(!0);return c&&s.shellSuspendCounter++,wl=bu=null,jr=v,_e.H=S,_e.A=R,Er===null&&(_n=null,Ar=0,y1()),z}function rD(){for(;Er!==null;)ZT(Er)}function nD(s,c){var d=jr;jr|=2;var v=QT(),S=$T();_n!==s||Ar!==c?($1=null,Q1=rr()+500,Wf(s,c)):zf=Wn(s,c);e:do try{if(Jr!==0&&Er!==null){c=Er;var R=ws;t:switch(Jr){case 1:Jr=0,ws=null,qf(s,c,R,1);break;case 2:case 9:if(lw(R)){Jr=0,ws=null,JT(c);break}c=function(){Jr!==2&&Jr!==9||_n!==s||(Jr=7),Uo(s)},R.then(c,c);break e;case 3:Jr=7;break e;case 4:Jr=5;break e;case 7:lw(R)?(Jr=0,ws=null,JT(c)):(Jr=0,ws=null,qf(s,c,R,7));break;case 5:var z=null;switch(Er.tag){case 26:z=Er.memoizedState;case 5:case 27:var ne=Er;if(z?BA(z):ne.stateNode.complete){Jr=0,ws=null;var Ee=ne.sibling;if(Ee!==null)Er=Ee;else{var Fe=ne.return;Fe!==null?(Er=Fe,eg(Fe)):Er=null}break t}}Jr=0,ws=null,qf(s,c,R,5);break;case 6:Jr=0,ws=null,qf(s,c,R,6);break;case 8:n2(),Jn=6;break e;default:throw Error(n(462))}}iD();break}catch(Ke){YT(s,Ke)}while(!0);return wl=bu=null,_e.H=v,_e.A=S,jr=d,Er!==null?0:(_n=null,Ar=0,y1(),Jn)}function iD(){for(;Er!==null&&!_i();)ZT(Er)}function ZT(s){var c=wT(s.alternate,s,Dl);s.memoizedProps=s.pendingProps,c===null?eg(s):Er=c}function JT(s){var c=s,d=c.alternate;switch(c.tag){case 15:case 0:c=pT(d,c,c.pendingProps,c.type,void 0,Ar);break;case 11:c=pT(d,c,c.pendingProps,c.type.render,c.ref,Ar);break;case 5:yx(c);default:AT(d,c),c=Er=$E(c,Dl),c=wT(d,c,Dl)}s.memoizedProps=s.pendingProps,c===null?eg(s):Er=c}function qf(s,c,d,v){wl=bu=null,yx(c),Lf=null,nh=0;var S=c.return;try{if(qk(s,S,c,d,Ar)){Jn=1,j1(s,Ws(d,s.current)),Er=null;return}}catch(R){if(S!==null)throw Er=S,R;Jn=1,j1(s,Ws(d,s.current)),Er=null;return}c.flags&32768?(Rr||v===1?s=!0:zf||(Ar&536870912)!==0?s=!1:(vc=s=!0,(v===2||v===9||v===3||v===6)&&(v=_s.current,v!==null&&v.tag===13&&(v.flags|=16384))),eA(c,s)):eg(c)}function eg(s){var c=s;do{if((c.flags&32768)!==0){eA(c,vc);return}s=c.return;var d=Kk(c.alternate,c,Dl);if(d!==null){Er=d;return}if(c=c.sibling,c!==null){Er=c;return}Er=c=s}while(c!==null);Jn===0&&(Jn=5)}function eA(s,c){do{var d=Qk(s.alternate,s);if(d!==null){d.flags&=32767,Er=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(s=s.sibling,s!==null)){Er=s;return}Er=s=d}while(s!==null);Jn=6,Er=null}function tA(s,c,d,v,S,R,z,ne,Ee){s.cancelPendingCommit=null;do tg();while(Pi!==0);if((jr&6)!==0)throw Error(n(327));if(c!==null){if(c===s.current)throw Error(n(177));if(R=c.lanes|c.childLanes,R|=qp,qr(s,d,R,z,ne,Ee),s===_n&&(Er=_n=null,Ar=0),Gf=c,Ec=s,Ol=d,e2=R,t2=S,GT=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,lD(yr,function(){return sA(),null})):(s.callbackNode=null,s.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=_e.T,_e.T=null,S=Ae.p,Ae.p=2,z=jr,jr|=4;try{$k(s,c,d)}finally{jr=z,Ae.p=S,_e.T=v}}Pi=1,rA(),nA(),iA()}}function rA(){if(Pi===1){Pi=0;var s=Ec,c=Gf,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=_e.T,_e.T=null;var v=Ae.p;Ae.p=2;var S=jr;jr|=4;try{FT(c,s);var R=p2,z=X(s.containerInfo),ne=R.focusedElem,Ee=R.selectionRange;if(z!==ne&&ne&&ne.ownerDocument&&V(ne.ownerDocument.documentElement,ne)){if(Ee!==null&&re(ne)){var Fe=Ee.start,Ke=Ee.end;if(Ke===void 0&&(Ke=Fe),"selectionStart"in ne)ne.selectionStart=Fe,ne.selectionEnd=Math.min(Ke,ne.value.length);else{var tt=ne.ownerDocument||document,Ue=tt&&tt.defaultView||window;if(Ue.getSelection){var We=Ue.getSelection(),bt=ne.textContent.length,Ht=Math.min(Ee.start,bt),mn=Ee.end===void 0?Ht:Math.min(Ee.end,bt);!We.extend&&Ht>mn&&(z=mn,mn=Ht,Ht=z);var Re=O(ne,Ht),Se=O(ne,mn);if(Re&&Se&&(We.rangeCount!==1||We.anchorNode!==Re.node||We.anchorOffset!==Re.offset||We.focusNode!==Se.node||We.focusOffset!==Se.offset)){var Le=tt.createRange();Le.setStart(Re.node,Re.offset),We.removeAllRanges(),Ht>mn?(We.addRange(Le),We.extend(Se.node,Se.offset)):(Le.setEnd(Se.node,Se.offset),We.addRange(Le))}}}}for(tt=[],We=ne;We=We.parentNode;)We.nodeType===1&&tt.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof ne.focus=="function"&&ne.focus(),ne=0;ne<tt.length;ne++){var Ze=tt[ne];Ze.element.scrollLeft=Ze.left,Ze.element.scrollTop=Ze.top}}dg=!!m2,p2=m2=null}finally{jr=S,Ae.p=v,_e.T=d}}s.current=c,Pi=2}}function nA(){if(Pi===2){Pi=0;var s=Ec,c=Gf,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=_e.T,_e.T=null;var v=Ae.p;Ae.p=2;var S=jr;jr|=4;try{kT(s,c.alternate,c)}finally{jr=S,Ae.p=v,_e.T=d}}Pi=3}}function iA(){if(Pi===4||Pi===3){Pi=0,Oi();var s=Ec,c=Gf,d=Ol,v=GT;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Pi=5:(Pi=0,Gf=Ec=null,aA(s,s.pendingLanes));var S=s.pendingLanes;if(S===0&&(_c=null),ka(d),c=c.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(Nt,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=_e.T,S=Ae.p,Ae.p=2,_e.T=null;try{for(var R=s.onRecoverableError,z=0;z<v.length;z++){var ne=v[z];R(ne.value,{componentStack:ne.stack})}}finally{_e.T=c,Ae.p=S}}(Ol&3)!==0&&tg(),Uo(s),S=s.pendingLanes,(d&261930)!==0&&(S&42)!==0?s===r2?_h++:(_h=0,r2=s):_h=0,Eh(0)}}function aA(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,th(c)))}function tg(){return rA(),nA(),iA(),sA()}function sA(){if(Pi!==5)return!1;var s=Ec,c=e2;e2=0;var d=ka(Ol),v=_e.T,S=Ae.p;try{Ae.p=32>d?32:d,_e.T=null,d=t2,t2=null;var R=Ec,z=Ol;if(Pi=0,Gf=Ec=null,Ol=0,(jr&6)!==0)throw Error(n(331));var ne=jr;if(jr|=4,jT(R.current),BT(R,R.current,z,d),jr=ne,Eh(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(Nt,R)}catch{}return!0}finally{Ae.p=S,_e.T=v,aA(s,c)}}function oA(s,c,d){c=Ws(d,c),c=Mx(s.stateNode,c,2),s=gc(s,c,2),s!==null&&(Na(s,2),Uo(s))}function en(s,c,d){if(s.tag===3)oA(s,s,d);else for(;c!==null;){if(c.tag===3){oA(c,s,d);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(_c===null||!_c.has(v))){s=Ws(d,s),d=lT(2),v=gc(c,d,2),v!==null&&(cT(d,v,c,s),Na(v,2),Uo(v));break}}c=c.return}}function a2(s,c,d){var v=s.pingCache;if(v===null){v=s.pingCache=new eD;var S=new Set;v.set(c,S)}else S=v.get(c),S===void 0&&(S=new Set,v.set(c,S));S.has(d)||($x=!0,S.add(d),s=aD.bind(null,s,c,d),c.then(s,s))}function aD(s,c,d){var v=s.pingCache;v!==null&&v.delete(c),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,_n===s&&(Ar&d)===d&&(Jn===4||Jn===3&&(Ar&62914560)===Ar&&300>rr()-K1?(jr&2)===0&&Wf(s,0):Zx|=d,Hf===Ar&&(Hf=0)),Uo(s)}function lA(s,c){c===0&&(c=On()),s=Au(s,c),s!==null&&(Na(s,c),Uo(s))}function sD(s){var c=s.memoizedState,d=0;c!==null&&(d=c.retryLane),lA(s,d)}function oD(s,c){var d=0;switch(s.tag){case 31:case 13:var v=s.stateNode,S=s.memoizedState;S!==null&&(d=S.retryLane);break;case 19:v=s.stateNode;break;case 22:v=s.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(c),lA(s,d)}function lD(s,c){return ln(s,c)}var rg=null,Xf=null,s2=!1,ng=!1,o2=!1,Tc=0;function Uo(s){s!==Xf&&s.next===null&&(Xf===null?rg=Xf=s:Xf=Xf.next=s),ng=!0,s2||(s2=!0,uD())}function Eh(s,c){if(!o2&&ng){o2=!0;do for(var d=!1,v=rg;v!==null;){if(s!==0){var S=v.pendingLanes;if(S===0)var R=0;else{var z=v.suspendedLanes,ne=v.pingedLanes;R=(1<<31-Zt(42|s)+1)-1,R&=S&~(z&~ne),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(d=!0,hA(v,R))}else R=Ar,R=$i(v,v===_n?R:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(R&3)===0||Wn(v,R)||(d=!0,hA(v,R));v=v.next}while(d);o2=!1}}function cD(){cA()}function cA(){ng=s2=!1;var s=0;Tc!==0&&_D()&&(s=Tc);for(var c=rr(),d=null,v=rg;v!==null;){var S=v.next,R=uA(v,c);R===0?(v.next=null,d===null?rg=S:d.next=S,S===null&&(Xf=d)):(d=v,(s!==0||(R&3)!==0)&&(ng=!0)),v=S}Pi!==0&&Pi!==5||Eh(s),Tc!==0&&(Tc=0)}function uA(s,c){for(var d=s.suspendedLanes,v=s.pingedLanes,S=s.expirationTimes,R=s.pendingLanes&-62914561;0<R;){var z=31-Zt(R),ne=1<<z,Ee=S[z];Ee===-1?((ne&d)===0||(ne&v)!==0)&&(S[z]=Us(ne,c)):Ee<=c&&(s.expiredLanes|=ne),R&=~ne}if(c=_n,d=Ar,d=$i(s,s===c?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v=s.callbackNode,d===0||s===c&&(Jr===2||Jr===9)||s.cancelPendingCommit!==null)return v!==null&&v!==null&&vt(v),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Wn(s,d)){if(c=d&-d,c===s.callbackPriority)return c;switch(v!==null&&vt(v),ka(d)){case 2:case 8:d=Gr;break;case 32:d=yr;break;case 268435456:d=It;break;default:d=yr}return v=fA.bind(null,s),d=ln(d,v),s.callbackPriority=c,s.callbackNode=d,c}return v!==null&&v!==null&&vt(v),s.callbackPriority=2,s.callbackNode=null,2}function fA(s,c){if(Pi!==0&&Pi!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(tg()&&s.callbackNode!==d)return null;var v=Ar;return v=$i(s,s===_n?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v===0?null:(qT(s,v,c),uA(s,rr()),s.callbackNode!=null&&s.callbackNode===d?fA.bind(null,s):null)}function hA(s,c){if(tg())return null;qT(s,c,!0)}function uD(){wD(function(){(jr&6)!==0?ln(or,cD):cA()})}function l2(){if(Tc===0){var s=Df;s===0&&(s=gs,gs<<=1,(gs&261888)===0&&(gs=256)),Tc=s}return Tc}function dA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Xa(""+s)}function gA(s,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,s.id&&d.setAttribute("form",s.id),c.parentNode.insertBefore(d,c),s=new FormData(s),d.parentNode.removeChild(d),s}function fD(s,c,d,v,S){if(c==="submit"&&d&&d.stateNode===S){var R=dA((S[ce]||null).action),z=v.submitter;z&&(c=(c=z[ce]||null)?dA(c.formAction):z.getAttribute("formAction"),c!==null&&(R=c,z=null));var ne=new Kn("action","action",null,v,S);s.push({event:ne,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Tc!==0){var Ee=z?gA(S,z):new FormData(S);Ix(d,{pending:!0,data:Ee,method:S.method,action:R},null,Ee)}}else typeof R=="function"&&(ne.preventDefault(),Ee=z?gA(S,z):new FormData(S),Ix(d,{pending:!0,data:Ee,method:S.method,action:R},R,Ee))},currentTarget:S}]})}}for(var c2=0;c2<Z0.length;c2++){var u2=Z0[c2],hD=u2.toLowerCase(),dD=u2[0].toUpperCase()+u2.slice(1);vo(hD,"on"+dD)}vo(es,"onAnimationEnd"),vo(ta,"onAnimationIteration"),vo(Yr,"onAnimationStart"),vo("dblclick","onDoubleClick"),vo("focusin","onFocus"),vo("focusout","onBlur"),vo(Fi,"onTransitionRun"),vo(Ma,"onTransitionStart"),vo(oc,"onTransitionCancel"),vo(yl,"onTransitionEnd"),Un("onMouseEnter",["mouseout","mouseover"]),Un("onMouseLeave",["mouseout","mouseover"]),Un("onPointerEnter",["pointerout","pointerover"]),Un("onPointerLeave",["pointerout","pointerover"]),Lt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Lt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Lt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Lt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Lt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Lt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wh));function mA(s,c){c=(c&4)!==0;for(var d=0;d<s.length;d++){var v=s[d],S=v.event;v=v.listeners;e:{var R=void 0;if(c)for(var z=v.length-1;0<=z;z--){var ne=v[z],Ee=ne.instance,Fe=ne.currentTarget;if(ne=ne.listener,Ee!==R&&S.isPropagationStopped())break e;R=ne,S.currentTarget=Fe;try{R(S)}catch(Ke){v1(Ke)}S.currentTarget=null,R=Ee}else for(z=0;z<v.length;z++){if(ne=v[z],Ee=ne.instance,Fe=ne.currentTarget,ne=ne.listener,Ee!==R&&S.isPropagationStopped())break e;R=ne,S.currentTarget=Fe;try{R(S)}catch(Ke){v1(Ke)}S.currentTarget=null,R=Ee}}}}function wr(s,c){var d=c[Me];d===void 0&&(d=c[Me]=new Set);var v=s+"__bubble";d.has(v)||(pA(c,s,2,!1),d.add(v))}function f2(s,c,d){var v=0;c&&(v|=4),pA(d,s,v,c)}var ig="_reactListening"+Math.random().toString(36).slice(2);function h2(s){if(!s[ig]){s[ig]=!0,Xe.forEach(function(d){d!=="selectionchange"&&(gD.has(d)||f2(d,!1,s),f2(d,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[ig]||(c[ig]=!0,f2("selectionchange",!1,c))}}function pA(s,c,d,v){switch(WA(c)){case 2:var S=zD;break;case 8:S=HD;break;default:S=b2}d=S.bind(null,c,d,s),S=void 0,!xu||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),v?S!==void 0?s.addEventListener(c,d,{capture:!0,passive:S}):s.addEventListener(c,d,!0):S!==void 0?s.addEventListener(c,d,{passive:S}):s.addEventListener(c,d,!1)}function d2(s,c,d,v,S){var R=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var z=v.tag;if(z===3||z===4){var ne=v.stateNode.containerInfo;if(ne===S)break;if(z===4)for(z=v.return;z!==null;){var Ee=z.tag;if((Ee===3||Ee===4)&&z.stateNode.containerInfo===S)return;z=z.return}for(;ne!==null;){if(z=st(ne),z===null)return;if(Ee=z.tag,Ee===5||Ee===6||Ee===26||Ee===27){v=R=z;continue e}ne=ne.parentNode}}v=v.return}wf(function(){var Fe=R,Ke=ac(d),tt=[];e:{var Ue=x1.get(s);if(Ue!==void 0){var We=Kn,bt=s;switch(s){case"keypress":if(xs(d)===0)break e;case"keydown":case"keyup":We=pl;break;case"focusin":bt="focus",We=Mo;break;case"focusout":bt="blur",We=Mo;break;case"beforeblur":case"afterblur":We=Mo;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=Or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=dl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=Af;break;case es:case ta:case Yr:We=$t;break;case yl:We=Ja;break;case"scroll":case"scrollend":We=vu;break;case"wheel":We=Sf;break;case"copy":case"cut":case"paste":We=gl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=Mr;break;case"toggle":case"beforetoggle":We=Hs}var Ht=(c&4)!==0,mn=!Ht&&(s==="scroll"||s==="scrollend"),Re=Ht?Ue!==null?Ue+"Capture":null:Ue;Ht=[];for(var Se=Fe,Le;Se!==null;){var Ze=Se;if(Le=Ze.stateNode,Ze=Ze.tag,Ze!==5&&Ze!==26&&Ze!==27||Le===null||Re===null||(Ze=Pt(Se,Re),Ze!=null&&Ht.push(Th(Se,Ze,Le))),mn)break;Se=Se.return}0<Ht.length&&(Ue=new We(Ue,bt,null,d,Ke),tt.push({event:Ue,listeners:Ht}))}}if((c&7)===0){e:{if(Ue=s==="mouseover"||s==="pointerover",We=s==="mouseout"||s==="pointerout",Ue&&d!==Do&&(bt=d.relatedTarget||d.fromElement)&&(st(bt)||bt[ge]))break e;if((We||Ue)&&(Ue=Ke.window===Ke?Ke:(Ue=Ke.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,We?(bt=d.relatedTarget||d.toElement,We=Fe,bt=bt?st(bt):null,bt!==null&&(mn=a(bt),Ht=bt.tag,bt!==mn||Ht!==5&&Ht!==27&&Ht!==6)&&(bt=null)):(We=null,bt=Fe),We!==bt)){if(Ht=Or,Ze="onMouseLeave",Re="onMouseEnter",Se="mouse",(s==="pointerout"||s==="pointerover")&&(Ht=Mr,Ze="onPointerLeave",Re="onPointerEnter",Se="pointer"),mn=We==null?Ue:ut(We),Le=bt==null?Ue:ut(bt),Ue=new Ht(Ze,Se+"leave",We,d,Ke),Ue.target=mn,Ue.relatedTarget=Le,Ze=null,st(Ke)===Fe&&(Ht=new Ht(Re,Se+"enter",bt,d,Ke),Ht.target=Le,Ht.relatedTarget=mn,Ze=Ht),mn=Ze,We&&bt)t:{for(Ht=mD,Re=We,Se=bt,Le=0,Ze=Re;Ze;Ze=Ht(Ze))Le++;Ze=0;for(var Bt=Se;Bt;Bt=Ht(Bt))Ze++;for(;0<Le-Ze;)Re=Ht(Re),Le--;for(;0<Ze-Le;)Se=Ht(Se),Ze--;for(;Le--;){if(Re===Se||Se!==null&&Re===Se.alternate){Ht=Re;break t}Re=Ht(Re),Se=Ht(Se)}Ht=null}else Ht=null;We!==null&&xA(tt,Ue,We,Ht,!1),bt!==null&&mn!==null&&xA(tt,mn,bt,Ht,!0)}}e:{if(Ue=Fe?ut(Fe):window,We=Ue.nodeName&&Ue.nodeName.toLowerCase(),We==="select"||We==="input"&&Ue.type==="file")var Br=vs;else if(ea(Ue))if(p1)Br=p;else{Br=u;var Rt=o}else We=Ue.nodeName,!We||We.toLowerCase()!=="input"||Ue.type!=="checkbox"&&Ue.type!=="radio"?Fe&&$r(Fe.elementType)&&(Br=vs):Br=h;if(Br&&(Br=Br(s,Fe))){Wi(tt,Br,d,Ke);break e}Rt&&Rt(s,Ue,Fe),s==="focusout"&&Fe&&Ue.type==="number"&&Fe.memoizedProps.value!=null&&ue(Ue,"number",Ue.value)}switch(Rt=Fe?ut(Fe):window,s){case"focusin":(ea(Rt)||Rt.contentEditable==="true")&&(we=Rt,Te=Fe,Ne=null);break;case"focusout":Ne=Te=we=null;break;case"mousedown":He=!0;break;case"contextmenu":case"mouseup":case"dragend":He=!1,dt(tt,d,Ke);break;case"selectionchange":if(de)break;case"keydown":case"keyup":dt(tt,d,Ke)}var hr;if(F)e:{switch(s){case"compositionstart":var Sr="onCompositionStart";break e;case"compositionend":Sr="onCompositionEnd";break e;case"compositionupdate":Sr="onCompositionUpdate";break e}Sr=void 0}else fr?Pr(s,d)&&(Sr="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(Sr="onCompositionStart");Sr&&(De&&d.locale!=="ko"&&(fr||Sr!=="onCompositionStart"?Sr==="onCompositionEnd"&&fr&&(hr=Qa()):(ma=Ke,Ka="value"in ma?ma.value:ma.textContent,fr=!0)),Rt=ag(Fe,Sr),0<Rt.length&&(Sr=new yu(Sr,s,null,d,Ke),tt.push({event:Sr,listeners:Rt}),hr?Sr.data=hr:(hr=wn(d),hr!==null&&(Sr.data=hr)))),(hr=se?yn(s,d):jn(s,d))&&(Sr=ag(Fe,"onBeforeInput"),0<Sr.length&&(Rt=new yu("onBeforeInput","beforeinput",null,d,Ke),tt.push({event:Rt,listeners:Sr}),Rt.data=hr)),fD(tt,s,Fe,d,Ke)}mA(tt,c)})}function Th(s,c,d){return{instance:s,listener:c,currentTarget:d}}function ag(s,c){for(var d=c+"Capture",v=[];s!==null;){var S=s,R=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||R===null||(S=Pt(s,d),S!=null&&v.unshift(Th(s,S,R)),S=Pt(s,c),S!=null&&v.push(Th(s,S,R))),s.tag===3)return v;s=s.return}return[]}function mD(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function xA(s,c,d,v,S){for(var R=c._reactName,z=[];d!==null&&d!==v;){var ne=d,Ee=ne.alternate,Fe=ne.stateNode;if(ne=ne.tag,Ee!==null&&Ee===v)break;ne!==5&&ne!==26&&ne!==27||Fe===null||(Ee=Fe,S?(Fe=Pt(d,R),Fe!=null&&z.unshift(Th(d,Fe,Ee))):S||(Fe=Pt(d,R),Fe!=null&&z.push(Th(d,Fe,Ee)))),d=d.return}z.length!==0&&s.push({event:c,listeners:z})}var pD=/\r\n?/g,xD=/\u0000|\uFFFD/g;function vA(s){return(typeof s=="string"?s:""+s).replace(pD,`
`).replace(xD,"")}function yA(s,c){return c=vA(c),vA(s)===c}function gn(s,c,d,v,S,R){switch(d){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||qa(s,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&qa(s,""+v);break;case"className":Vs(s,"class",v);break;case"tabIndex":Vs(s,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Vs(s,d,v);break;case"style":Dt(s,v,R);break;case"data":if(c!=="object"){Vs(s,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||d!=="href")){s.removeAttribute(d);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(d);break}v=Xa(""+v),s.setAttribute(d,v);break;case"action":case"formAction":if(typeof v=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(d==="formAction"?(c!=="input"&&gn(s,c,"name",S.name,S,null),gn(s,c,"formEncType",S.formEncType,S,null),gn(s,c,"formMethod",S.formMethod,S,null),gn(s,c,"formTarget",S.formTarget,S,null)):(gn(s,c,"encType",S.encType,S,null),gn(s,c,"method",S.method,S,null),gn(s,c,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(d);break}v=Xa(""+v),s.setAttribute(d,v);break;case"onClick":v!=null&&(s.onclick=Vn);break;case"onScroll":v!=null&&wr("scroll",s);break;case"onScrollEnd":v!=null&&wr("scrollend",s);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(d=v.__html,d!=null){if(S.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"multiple":s.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":s.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){s.removeAttribute("xlink:href");break}d=Xa(""+v),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(d,""+v):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":v===!0?s.setAttribute(d,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(d,v):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?s.setAttribute(d,v):s.removeAttribute(d);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?s.removeAttribute(d):s.setAttribute(d,v);break;case"popover":wr("beforetoggle",s),wr("toggle",s),Xn(s,"popover",v);break;case"xlinkActuate":da(s,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":da(s,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":da(s,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":da(s,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":da(s,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":da(s,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":da(s,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":da(s,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":da(s,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Xn(s,"is",v);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Ef.get(d)||d,Xn(s,d,v))}}function g2(s,c,d,v,S,R){switch(d){case"style":Dt(s,v,R);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(d=v.__html,d!=null){if(S.children!=null)throw Error(n(60));s.innerHTML=d}}break;case"children":typeof v=="string"?qa(s,v):(typeof v=="number"||typeof v=="bigint")&&qa(s,""+v);break;case"onScroll":v!=null&&wr("scroll",s);break;case"onScrollEnd":v!=null&&wr("scrollend",s);break;case"onClick":v!=null&&(s.onclick=Vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kr.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(S=d.endsWith("Capture"),c=d.slice(2,S?d.length-7:void 0),R=s[ce]||null,R=R!=null?R[d]:null,typeof R=="function"&&s.removeEventListener(c,R,S),typeof v=="function")){typeof R!="function"&&R!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(c,v,S);break e}d in s?s[d]=v:v===!0?s.setAttribute(d,""):Xn(s,d,v)}}}function aa(s,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wr("error",s),wr("load",s);var v=!1,S=!1,R;for(R in d)if(d.hasOwnProperty(R)){var z=d[R];if(z!=null)switch(R){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:gn(s,c,R,z,d,null)}}S&&gn(s,c,"srcSet",d.srcSet,d,null),v&&gn(s,c,"src",d.src,d,null);return;case"input":wr("invalid",s);var ne=R=z=S=null,Ee=null,Fe=null;for(v in d)if(d.hasOwnProperty(v)){var Ke=d[v];if(Ke!=null)switch(v){case"name":S=Ke;break;case"type":z=Ke;break;case"checked":Ee=Ke;break;case"defaultChecked":Fe=Ke;break;case"value":R=Ke;break;case"defaultValue":ne=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(n(137,c));break;default:gn(s,c,v,Ke,d,null)}}Oe(s,R,ne,Ee,Fe,z,S,!1);return;case"select":wr("invalid",s),v=z=R=null;for(S in d)if(d.hasOwnProperty(S)&&(ne=d[S],ne!=null))switch(S){case"value":R=ne;break;case"defaultValue":z=ne;break;case"multiple":v=ne;default:gn(s,c,S,ne,d,null)}c=R,d=z,s.multiple=!!v,c!=null?mt(s,!!v,c,!1):d!=null&&mt(s,!!v,d,!0);return;case"textarea":wr("invalid",s),R=S=v=null;for(z in d)if(d.hasOwnProperty(z)&&(ne=d[z],ne!=null))switch(z){case"value":v=ne;break;case"defaultValue":S=ne;break;case"children":R=ne;break;case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(91));break;default:gn(s,c,z,ne,d,null)}ui(s,v,S,R);return;case"option":for(Ee in d)if(d.hasOwnProperty(Ee)&&(v=d[Ee],v!=null))switch(Ee){case"selected":s.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:gn(s,c,Ee,v,d,null)}return;case"dialog":wr("beforetoggle",s),wr("toggle",s),wr("cancel",s),wr("close",s);break;case"iframe":case"object":wr("load",s);break;case"video":case"audio":for(v=0;v<wh.length;v++)wr(wh[v],s);break;case"image":wr("error",s),wr("load",s);break;case"details":wr("toggle",s);break;case"embed":case"source":case"link":wr("error",s),wr("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Fe in d)if(d.hasOwnProperty(Fe)&&(v=d[Fe],v!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:gn(s,c,Fe,v,d,null)}return;default:if($r(c)){for(Ke in d)d.hasOwnProperty(Ke)&&(v=d[Ke],v!==void 0&&g2(s,c,Ke,v,d,void 0));return}}for(ne in d)d.hasOwnProperty(ne)&&(v=d[ne],v!=null&&gn(s,c,ne,v,d,null))}function vD(s,c,d,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,R=null,z=null,ne=null,Ee=null,Fe=null,Ke=null;for(We in d){var tt=d[We];if(d.hasOwnProperty(We)&&tt!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":Ee=tt;default:v.hasOwnProperty(We)||gn(s,c,We,null,v,tt)}}for(var Ue in v){var We=v[Ue];if(tt=d[Ue],v.hasOwnProperty(Ue)&&(We!=null||tt!=null))switch(Ue){case"type":R=We;break;case"name":S=We;break;case"checked":Fe=We;break;case"defaultChecked":Ke=We;break;case"value":z=We;break;case"defaultValue":ne=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(n(137,c));break;default:We!==tt&&gn(s,c,Ue,We,v,tt)}}An(s,z,ne,Ee,Fe,Ke,R,S);return;case"select":We=z=ne=Ue=null;for(R in d)if(Ee=d[R],d.hasOwnProperty(R)&&Ee!=null)switch(R){case"value":break;case"multiple":We=Ee;default:v.hasOwnProperty(R)||gn(s,c,R,null,v,Ee)}for(S in v)if(R=v[S],Ee=d[S],v.hasOwnProperty(S)&&(R!=null||Ee!=null))switch(S){case"value":Ue=R;break;case"defaultValue":ne=R;break;case"multiple":z=R;default:R!==Ee&&gn(s,c,S,R,v,Ee)}c=ne,d=z,v=We,Ue!=null?mt(s,!!d,Ue,!1):!!v!=!!d&&(c!=null?mt(s,!!d,c,!0):mt(s,!!d,d?[]:"",!1));return;case"textarea":We=Ue=null;for(ne in d)if(S=d[ne],d.hasOwnProperty(ne)&&S!=null&&!v.hasOwnProperty(ne))switch(ne){case"value":break;case"children":break;default:gn(s,c,ne,null,v,S)}for(z in v)if(S=v[z],R=d[z],v.hasOwnProperty(z)&&(S!=null||R!=null))switch(z){case"value":Ue=S;break;case"defaultValue":We=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==R&&gn(s,c,z,S,v,R)}En(s,Ue,We);return;case"option":for(var bt in d)if(Ue=d[bt],d.hasOwnProperty(bt)&&Ue!=null&&!v.hasOwnProperty(bt))switch(bt){case"selected":s.selected=!1;break;default:gn(s,c,bt,null,v,Ue)}for(Ee in v)if(Ue=v[Ee],We=d[Ee],v.hasOwnProperty(Ee)&&Ue!==We&&(Ue!=null||We!=null))switch(Ee){case"selected":s.selected=Ue&&typeof Ue!="function"&&typeof Ue!="symbol";break;default:gn(s,c,Ee,Ue,v,We)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ht in d)Ue=d[Ht],d.hasOwnProperty(Ht)&&Ue!=null&&!v.hasOwnProperty(Ht)&&gn(s,c,Ht,null,v,Ue);for(Fe in v)if(Ue=v[Fe],We=d[Fe],v.hasOwnProperty(Fe)&&Ue!==We&&(Ue!=null||We!=null))switch(Fe){case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(n(137,c));break;default:gn(s,c,Fe,Ue,v,We)}return;default:if($r(c)){for(var mn in d)Ue=d[mn],d.hasOwnProperty(mn)&&Ue!==void 0&&!v.hasOwnProperty(mn)&&g2(s,c,mn,void 0,v,Ue);for(Ke in v)Ue=v[Ke],We=d[Ke],!v.hasOwnProperty(Ke)||Ue===We||Ue===void 0&&We===void 0||g2(s,c,Ke,Ue,v,We);return}}for(var Re in d)Ue=d[Re],d.hasOwnProperty(Re)&&Ue!=null&&!v.hasOwnProperty(Re)&&gn(s,c,Re,null,v,Ue);for(tt in v)Ue=v[tt],We=d[tt],!v.hasOwnProperty(tt)||Ue===We||Ue==null&&We==null||gn(s,c,tt,Ue,v,We)}function _A(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yD(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,d=performance.getEntriesByType("resource"),v=0;v<d.length;v++){var S=d[v],R=S.transferSize,z=S.initiatorType,ne=S.duration;if(R&&ne&&_A(z)){for(z=0,ne=S.responseEnd,v+=1;v<d.length;v++){var Ee=d[v],Fe=Ee.startTime;if(Fe>ne)break;var Ke=Ee.transferSize,tt=Ee.initiatorType;Ke&&_A(tt)&&(Ee=Ee.responseEnd,z+=Ke*(Ee<ne?1:(ne-Fe)/(Ee-Fe)))}if(--v,c+=8*(R+z)/(S.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var m2=null,p2=null;function sg(s){return s.nodeType===9?s:s.ownerDocument}function EA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wA(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function x2(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var v2=null;function _D(){var s=window.event;return s&&s.type==="popstate"?s===v2?!1:(v2=s,!0):(v2=null,!1)}var TA=typeof setTimeout=="function"?setTimeout:void 0,ED=typeof clearTimeout=="function"?clearTimeout:void 0,AA=typeof Promise=="function"?Promise:void 0,wD=typeof queueMicrotask=="function"?queueMicrotask:typeof AA<"u"?function(s){return AA.resolve(null).then(s).catch(TD)}:TA;function TD(s){setTimeout(function(){throw s})}function Ac(s){return s==="head"}function SA(s,c){var d=c,v=0;do{var S=d.nextSibling;if(s.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"||d==="/&"){if(v===0){s.removeChild(S),$f(c);return}v--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")v++;else if(d==="html")Ah(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,Ah(d);for(var R=d.firstChild;R;){var z=R.nextSibling,ne=R.nodeName;R[Be]||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&R.rel.toLowerCase()==="stylesheet"||d.removeChild(R),R=z}}else d==="body"&&Ah(s.ownerDocument.body);d=S}while(d);$f(c)}function CA(s,c){var d=s;s=0;do{var v=d.nextSibling;if(d.nodeType===1?c?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(c?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=v}while(d)}function y2(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":y2(d),rt(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function AD(s,c,d,v){for(;s.nodeType===1;){var S=d;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(v){if(!s[Be])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(R=s.getAttribute("rel"),R==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(R!==S.rel||s.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||s.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||s.getAttribute("title")!==(S.title==null?null:S.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(R=s.getAttribute("src"),(R!==(S.src==null?null:S.src)||s.getAttribute("type")!==(S.type==null?null:S.type)||s.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&R&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var R=S.name==null?null:""+S.name;if(S.type==="hidden"&&s.getAttribute("name")===R)return s}else return s;if(s=Qs(s.nextSibling),s===null)break}return null}function SD(s,c,d){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Qs(s.nextSibling),s===null))return null;return s}function bA(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Qs(s.nextSibling),s===null))return null;return s}function _2(s){return s.data==="$?"||s.data==="$~"}function E2(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function CD(s,c){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||d.readyState!=="loading")c();else{var v=function(){c(),d.removeEventListener("DOMContentLoaded",v)};d.addEventListener("DOMContentLoaded",v),s._reactRetry=v}}function Qs(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var w2=null;function IA(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(c===0)return Qs(s.nextSibling);c--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||c++}s=s.nextSibling}return null}function RA(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(c===0)return s;c--}else d!=="/$"&&d!=="/&"||c++}s=s.previousSibling}return null}function NA(s,c,d){switch(c=sg(d),s){case"html":if(s=c.documentElement,!s)throw Error(n(452));return s;case"head":if(s=c.head,!s)throw Error(n(453));return s;case"body":if(s=c.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Ah(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);rt(s)}var $s=new Map,kA=new Set;function og(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ml=Ae.d;Ae.d={f:bD,r:ID,D:RD,C:ND,L:kD,m:DD,X:MD,S:OD,M:LD};function bD(){var s=Ml.f(),c=Z1();return s||c}function ID(s){var c=lt(s);c!==null&&c.tag===5&&c.type==="form"?Yw(c):Ml.r(s)}var Yf=typeof document>"u"?null:document;function DA(s,c,d){var v=Yf;if(v&&typeof c=="string"&&c){var S=qt(c);S='link[rel="'+s+'"][href="'+S+'"]',typeof d=="string"&&(S+='[crossorigin="'+d+'"]'),kA.has(S)||(kA.add(S),s={rel:s,crossOrigin:d,href:c},v.querySelector(S)===null&&(c=v.createElement("link"),aa(c,"link",s),Tt(c),v.head.appendChild(c)))}}function RD(s){Ml.D(s),DA("dns-prefetch",s,null)}function ND(s,c){Ml.C(s,c),DA("preconnect",s,c)}function kD(s,c,d){Ml.L(s,c,d);var v=Yf;if(v&&s&&c){var S='link[rel="preload"][as="'+qt(c)+'"]';c==="image"&&d&&d.imageSrcSet?(S+='[imagesrcset="'+qt(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(S+='[imagesizes="'+qt(d.imageSizes)+'"]')):S+='[href="'+qt(s)+'"]';var R=S;switch(c){case"style":R=Kf(s);break;case"script":R=Qf(s)}$s.has(R)||(s=E({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:s,as:c},d),$s.set(R,s),v.querySelector(S)!==null||c==="style"&&v.querySelector(Sh(R))||c==="script"&&v.querySelector(Ch(R))||(c=v.createElement("link"),aa(c,"link",s),Tt(c),v.head.appendChild(c)))}}function DD(s,c){Ml.m(s,c);var d=Yf;if(d&&s){var v=c&&typeof c.as=="string"?c.as:"script",S='link[rel="modulepreload"][as="'+qt(v)+'"][href="'+qt(s)+'"]',R=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=Qf(s)}if(!$s.has(R)&&(s=E({rel:"modulepreload",href:s},c),$s.set(R,s),d.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Ch(R)))return}v=d.createElement("link"),aa(v,"link",s),Tt(v),d.head.appendChild(v)}}}function OD(s,c,d){Ml.S(s,c,d);var v=Yf;if(v&&s){var S=gt(v).hoistableStyles,R=Kf(s);c=c||"default";var z=S.get(R);if(!z){var ne={loading:0,preload:null};if(z=v.querySelector(Sh(R)))ne.loading=5;else{s=E({rel:"stylesheet",href:s,"data-precedence":c},d),(d=$s.get(R))&&T2(s,d);var Ee=z=v.createElement("link");Tt(Ee),aa(Ee,"link",s),Ee._p=new Promise(function(Fe,Ke){Ee.onload=Fe,Ee.onerror=Ke}),Ee.addEventListener("load",function(){ne.loading|=1}),Ee.addEventListener("error",function(){ne.loading|=2}),ne.loading|=4,lg(z,c,v)}z={type:"stylesheet",instance:z,count:1,state:ne},S.set(R,z)}}}function MD(s,c){Ml.X(s,c);var d=Yf;if(d&&s){var v=gt(d).hoistableScripts,S=Qf(s),R=v.get(S);R||(R=d.querySelector(Ch(S)),R||(s=E({src:s,async:!0},c),(c=$s.get(S))&&A2(s,c),R=d.createElement("script"),Tt(R),aa(R,"link",s),d.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},v.set(S,R))}}function LD(s,c){Ml.M(s,c);var d=Yf;if(d&&s){var v=gt(d).hoistableScripts,S=Qf(s),R=v.get(S);R||(R=d.querySelector(Ch(S)),R||(s=E({src:s,async:!0,type:"module"},c),(c=$s.get(S))&&A2(s,c),R=d.createElement("script"),Tt(R),aa(R,"link",s),d.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},v.set(S,R))}}function OA(s,c,d,v){var S=(S=ye.current)?og(S):null;if(!S)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=Kf(d.href),d=gt(S).hoistableStyles,v=d.get(c),v||(v={type:"style",instance:null,count:0,state:null},d.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=Kf(d.href);var R=gt(S).hoistableStyles,z=R.get(s);if(z||(S=S.ownerDocument||S,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(s,z),(R=S.querySelector(Sh(s)))&&!R._p&&(z.instance=R,z.state.loading=5),$s.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},$s.set(s,d),R||FD(S,s,d,z.state))),c&&v===null)throw Error(n(528,""));return z}if(c&&v!==null)throw Error(n(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Qf(d),d=gt(S).hoistableScripts,v=d.get(c),v||(v={type:"script",instance:null,count:0,state:null},d.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Kf(s){return'href="'+qt(s)+'"'}function Sh(s){return'link[rel="stylesheet"]['+s+"]"}function MA(s){return E({},s,{"data-precedence":s.precedence,precedence:null})}function FD(s,c,d,v){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=s.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),aa(c,"link",d),Tt(c),s.head.appendChild(c))}function Qf(s){return'[src="'+qt(s)+'"]'}function Ch(s){return"script[async]"+s}function LA(s,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var v=s.querySelector('style[data-href~="'+qt(d.href)+'"]');if(v)return c.instance=v,Tt(v),v;var S=E({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return v=(s.ownerDocument||s).createElement("style"),Tt(v),aa(v,"style",S),lg(v,d.precedence,s),c.instance=v;case"stylesheet":S=Kf(d.href);var R=s.querySelector(Sh(S));if(R)return c.state.loading|=4,c.instance=R,Tt(R),R;v=MA(d),(S=$s.get(S))&&T2(v,S),R=(s.ownerDocument||s).createElement("link"),Tt(R);var z=R;return z._p=new Promise(function(ne,Ee){z.onload=ne,z.onerror=Ee}),aa(R,"link",v),c.state.loading|=4,lg(R,d.precedence,s),c.instance=R;case"script":return R=Qf(d.src),(S=s.querySelector(Ch(R)))?(c.instance=S,Tt(S),S):(v=d,(S=$s.get(R))&&(v=E({},d),A2(v,S)),s=s.ownerDocument||s,S=s.createElement("script"),Tt(S),aa(S,"link",v),s.head.appendChild(S),c.instance=S);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,lg(v,d.precedence,s));return c.instance}function lg(s,c,d){for(var v=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,R=S,z=0;z<v.length;z++){var ne=v[z];if(ne.dataset.precedence===c)R=ne;else if(R!==S)break}R?R.parentNode.insertBefore(s,R.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(s,c.firstChild))}function T2(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function A2(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var cg=null;function FA(s,c,d){if(cg===null){var v=new Map,S=cg=new Map;S.set(d,v)}else S=cg,v=S.get(d),v||(v=new Map,S.set(d,v));if(v.has(s))return v;for(v.set(s,null),d=d.getElementsByTagName(s),S=0;S<d.length;S++){var R=d[S];if(!(R[Be]||R[le]||s==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var z=R.getAttribute(c)||"";z=s+z;var ne=v.get(z);ne?ne.push(R):v.set(z,[R])}}return v}function PA(s,c,d){s=s.ownerDocument||s,s.head.insertBefore(d,c==="title"?s.querySelector("head > title"):null)}function PD(s,c,d){if(d===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function BA(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function BD(s,c,d,v){if(d.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var S=Kf(v.href),R=c.querySelector(Sh(S));if(R){c=R._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=ug.bind(s),c.then(s,s)),d.state.loading|=4,d.instance=R,Tt(R);return}R=c.ownerDocument||c,v=MA(v),(S=$s.get(S))&&T2(v,S),R=R.createElement("link"),Tt(R);var z=R;z._p=new Promise(function(ne,Ee){z.onload=ne,z.onerror=Ee}),aa(R,"link",v),d.instance=R}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=ug.bind(s),c.addEventListener("load",d),c.addEventListener("error",d))}}var S2=0;function UD(s,c){return s.stylesheets&&s.count===0&&hg(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var v=setTimeout(function(){if(s.stylesheets&&hg(s,s.stylesheets),s.unsuspend){var R=s.unsuspend;s.unsuspend=null,R()}},6e4+c);0<s.imgBytes&&S2===0&&(S2=62500*yD());var S=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&hg(s,s.stylesheets),s.unsuspend)){var R=s.unsuspend;s.unsuspend=null,R()}},(s.imgBytes>S2?50:800)+c);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(v),clearTimeout(S)}}:null}function ug(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var fg=null;function hg(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,fg=new Map,c.forEach(VD,s),fg=null,ug.call(s))}function VD(s,c){if(!(c.state.loading&4)){var d=fg.get(s);if(d)var v=d.get(null);else{d=new Map,fg.set(s,d);for(var S=s.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<S.length;R++){var z=S[R];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(d.set(z.dataset.precedence,z),v=z)}v&&d.set(null,v)}S=c.instance,z=S.getAttribute("data-precedence"),R=d.get(z)||v,R===v&&d.set(null,S),d.set(z,S),this.count++,v=ug.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),R?R.parentNode.insertBefore(S,R.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(S,s.firstChild)),c.state.loading|=4}}var bh={$$typeof:B,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function jD(s,c,d,v,S,R,z,ne,Ee){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.hiddenUpdates=Hi(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=R,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ee,this.incompleteTransitions=new Map}function UA(s,c,d,v,S,R,z,ne,Ee,Fe,Ke,tt){return s=new jD(s,c,d,z,Ee,Fe,Ke,tt,ne),c=1,R===!0&&(c|=24),R=ys(3,null,null,c),s.current=R,R.stateNode=s,c=ix(),c.refCount++,s.pooledCache=c,c.refCount++,R.memoizedState={element:v,isDehydrated:d,cache:c},lx(R),s}function VA(s){return s?(s=bf,s):bf}function jA(s,c,d,v,S,R){S=VA(S),v.context===null?v.context=S:v.pendingContext=S,v=dc(c),v.payload={element:d},R=R===void 0?null:R,R!==null&&(v.callback=R),d=gc(s,v,c),d!==null&&(as(d,s,c),ah(d,s,c))}function zA(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<c?d:c}}function C2(s,c){zA(s,c),(s=s.alternate)&&zA(s,c)}function HA(s){if(s.tag===13||s.tag===31){var c=Au(s,67108864);c!==null&&as(c,s,67108864),C2(s,67108864)}}function GA(s){if(s.tag===13||s.tag===31){var c=As();c=qn(c);var d=Au(s,c);d!==null&&as(d,s,c),C2(s,c)}}var dg=!0;function zD(s,c,d,v){var S=_e.T;_e.T=null;var R=Ae.p;try{Ae.p=2,b2(s,c,d,v)}finally{Ae.p=R,_e.T=S}}function HD(s,c,d,v){var S=_e.T;_e.T=null;var R=Ae.p;try{Ae.p=8,b2(s,c,d,v)}finally{Ae.p=R,_e.T=S}}function b2(s,c,d,v){if(dg){var S=I2(v);if(S===null)d2(s,c,v,gg,d),qA(s,v);else if(WD(S,s,c,d,v))v.stopPropagation();else if(qA(s,v),c&4&&-1<GD.indexOf(s)){for(;S!==null;){var R=lt(S);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var z=Mi(R.pendingLanes);if(z!==0){var ne=R;for(ne.pendingLanes|=2,ne.entangledLanes|=2;z;){var Ee=1<<31-Zt(z);ne.entanglements[1]|=Ee,z&=~Ee}Uo(R),(jr&6)===0&&(Q1=rr()+500,Eh(0))}}break;case 31:case 13:ne=Au(R,2),ne!==null&&as(ne,R,2),Z1(),C2(R,2)}if(R=I2(v),R===null&&d2(s,c,v,gg,d),R===S)break;S=R}S!==null&&v.stopPropagation()}else d2(s,c,v,null,d)}}function I2(s){return s=ac(s),R2(s)}var gg=null;function R2(s){if(gg=null,s=st(s),s!==null){var c=a(s);if(c===null)s=null;else{var d=c.tag;if(d===13){if(s=l(c),s!==null)return s;s=null}else if(d===31){if(s=f(c),s!==null)return s;s=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return gg=s,null}function WA(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ci()){case or:return 2;case Gr:return 8;case yr:case Nr:return 32;case It:return 268435456;default:return 32}default:return 32}}var N2=!1,Sc=null,Cc=null,bc=null,Ih=new Map,Rh=new Map,Ic=[],GD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qA(s,c){switch(s){case"focusin":case"focusout":Sc=null;break;case"dragenter":case"dragleave":Cc=null;break;case"mouseover":case"mouseout":bc=null;break;case"pointerover":case"pointerout":Ih.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rh.delete(c.pointerId)}}function Nh(s,c,d,v,S,R){return s===null||s.nativeEvent!==R?(s={blockedOn:c,domEventName:d,eventSystemFlags:v,nativeEvent:R,targetContainers:[S]},c!==null&&(c=lt(c),c!==null&&HA(c)),s):(s.eventSystemFlags|=v,c=s.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),s)}function WD(s,c,d,v,S){switch(c){case"focusin":return Sc=Nh(Sc,s,c,d,v,S),!0;case"dragenter":return Cc=Nh(Cc,s,c,d,v,S),!0;case"mouseover":return bc=Nh(bc,s,c,d,v,S),!0;case"pointerover":var R=S.pointerId;return Ih.set(R,Nh(Ih.get(R)||null,s,c,d,v,S)),!0;case"gotpointercapture":return R=S.pointerId,Rh.set(R,Nh(Rh.get(R)||null,s,c,d,v,S)),!0}return!1}function XA(s){var c=st(s.target);if(c!==null){var d=a(c);if(d!==null){if(c=d.tag,c===13){if(c=l(d),c!==null){s.blockedOn=c,ae(s.priority,function(){GA(d)});return}}else if(c===31){if(c=f(d),c!==null){s.blockedOn=c,ae(s.priority,function(){GA(d)});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function mg(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var d=I2(s.nativeEvent);if(d===null){d=s.nativeEvent;var v=new d.constructor(d.type,d);Do=v,d.target.dispatchEvent(v),Do=null}else return c=lt(d),c!==null&&HA(c),s.blockedOn=d,!1;c.shift()}return!0}function YA(s,c,d){mg(s)&&d.delete(c)}function qD(){N2=!1,Sc!==null&&mg(Sc)&&(Sc=null),Cc!==null&&mg(Cc)&&(Cc=null),bc!==null&&mg(bc)&&(bc=null),Ih.forEach(YA),Rh.forEach(YA)}function pg(s,c){s.blockedOn===c&&(s.blockedOn=null,N2||(N2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qD)))}var xg=null;function KA(s){xg!==s&&(xg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){xg===s&&(xg=null);for(var c=0;c<s.length;c+=3){var d=s[c],v=s[c+1],S=s[c+2];if(typeof v!="function"){if(R2(v||d)===null)continue;break}var R=lt(d);R!==null&&(s.splice(c,3),c-=3,Ix(R,{pending:!0,data:S,method:d.method,action:v},v,S))}}))}function $f(s){function c(Ee){return pg(Ee,s)}Sc!==null&&pg(Sc,s),Cc!==null&&pg(Cc,s),bc!==null&&pg(bc,s),Ih.forEach(c),Rh.forEach(c);for(var d=0;d<Ic.length;d++){var v=Ic[d];v.blockedOn===s&&(v.blockedOn=null)}for(;0<Ic.length&&(d=Ic[0],d.blockedOn===null);)XA(d),d.blockedOn===null&&Ic.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(v=0;v<d.length;v+=3){var S=d[v],R=d[v+1],z=S[ce]||null;if(typeof R=="function")z||KA(d);else if(z){var ne=null;if(R&&R.hasAttribute("formAction")){if(S=R,z=R[ce]||null)ne=z.formAction;else if(R2(S)!==null)continue}else ne=z.action;typeof ne=="function"?d[v+1]=ne:(d.splice(v,3),v-=3),KA(d)}}}function QA(){function s(R){R.canIntercept&&R.info==="react-transition"&&R.intercept({handler:function(){return new Promise(function(z){return S=z})},focusReset:"manual",scroll:"manual"})}function c(){S!==null&&(S(),S=null),v||setTimeout(d,20)}function d(){if(!v&&!navigation.transition){var R=navigation.currentEntry;R&&R.url!=null&&navigation.navigate(R.url,{state:R.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,S=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(d,100),function(){v=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),S!==null&&(S(),S=null)}}}function k2(s){this._internalRoot=s}vg.prototype.render=k2.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(n(409));var d=c.current,v=As();jA(d,v,s,c,null,null)},vg.prototype.unmount=k2.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;jA(s.current,2,null,s,null,null),Z1(),c[ge]=null}};function vg(s){this._internalRoot=s}vg.prototype.unstable_scheduleHydration=function(s){if(s){var c=J();s={blockedOn:null,target:s,priority:c};for(var d=0;d<Ic.length&&c!==0&&c<Ic[d].priority;d++);Ic.splice(d,0,s),d===0&&XA(s)}};var $A=e.version;if($A!=="19.2.0")throw Error(n(527,$A,"19.2.0"));Ae.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=g(c),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var XD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:_e,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yg.isDisabled&&yg.supportsFiber)try{Nt=yg.inject(XD),Je=yg}catch{}}return Dh.createRoot=function(s,c){if(!i(s))throw Error(n(299));var d=!1,v="",S=iT,R=aT,z=sT;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(R=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError)),c=UA(s,1,!1,null,null,d,v,null,S,R,z,QA),s[ge]=c.current,h2(s),new k2(c)},Dh.hydrateRoot=function(s,c,d){if(!i(s))throw Error(n(299));var v=!1,S="",R=iT,z=aT,ne=sT,Ee=null;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onUncaughtError!==void 0&&(R=d.onUncaughtError),d.onCaughtError!==void 0&&(z=d.onCaughtError),d.onRecoverableError!==void 0&&(ne=d.onRecoverableError),d.formState!==void 0&&(Ee=d.formState)),c=UA(s,1,!0,c,d??null,v,S,Ee,R,z,ne,QA),c.context=VA(null),d=c.current,v=As(),v=qn(v),S=dc(v),S.callback=null,gc(d,S,v),d=v,c.current.lanes=d,Na(c,d),Uo(c),s[ge]=c.current,h2(s),new vg(c)},Dh.version="19.2.0",Dh}var oS;function i5(){if(oS)return M2.exports;oS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),M2.exports=n5(),M2.exports}var a5=i5();/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lS="popstate";function s5(t={}){function e(n,i){let{pathname:a,search:l,hash:f}=n.location;return Mv("",{pathname:a,search:l,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:dd(i)}return l5(e,r,null,t)}function Pn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o5(){return Math.random().toString(36).substring(2,10)}function cS(t,e){return{usr:t.state,key:t.key,idx:e}}function Mv(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?F0(e):e,state:r,key:e&&e.key||n||o5()}}function dd({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function F0(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function l5(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,f="POP",m=null,g=y();g==null&&(g=0,l.replaceState({...l.state,idx:g},""));function y(){return(l.state||{idx:null}).idx}function E(){f="POP";let D=y(),P=D==null?null:D-g;g=D,m&&m({action:f,location:b.location,delta:P})}function A(D,P){f="PUSH";let G=Mv(b.location,D,P);g=y()+1;let B=cS(G,g),Y=b.createHref(G);try{l.pushState(B,"",Y)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;i.location.assign(Y)}a&&m&&m({action:f,location:b.location,delta:1})}function C(D,P){f="REPLACE";let G=Mv(b.location,D,P);g=y();let B=cS(G,g),Y=b.createHref(G);l.replaceState(B,"",Y),a&&m&&m({action:f,location:b.location,delta:0})}function N(D){return c5(D)}let b={get action(){return f},get location(){return t(i,l)},listen(D){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(lS,E),m=D,()=>{i.removeEventListener(lS,E),m=null}},createHref(D){return e(i,D)},createURL:N,encodeLocation(D){let P=N(D);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:A,replace:C,go(D){return l.go(D)}};return b}function c5(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Pn(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:dd(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function _b(t,e,r="/"){return u5(t,e,r,!1)}function u5(t,e,r,n){let i=typeof e=="string"?F0(e):e,a=ql(i.pathname||"/",r);if(a==null)return null;let l=Eb(t);f5(l);let f=null;for(let m=0;f==null&&m<l.length;++m){let g=w5(a);f=_5(l[m],g,n)}return f}function Eb(t,e=[],r=[],n="",i=!1){let a=(l,f,m=i,g)=>{let y={relativePath:g===void 0?l.path||"":g,caseSensitive:l.caseSensitive===!0,childrenIndex:f,route:l};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(n)&&m)return;Pn(y.relativePath.startsWith(n),`Absolute route path "${y.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(n.length)}let E=Vl([n,y.relativePath]),A=r.concat(y);l.children&&l.children.length>0&&(Pn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Eb(l.children,e,A,E,m)),!(l.path==null&&!l.index)&&e.push({path:E,score:v5(E,l.index),routesMeta:A})};return t.forEach((l,f)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))a(l,f);else for(let g of wb(l.path))a(l,f,!0,g)}),e}function wb(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=wb(n.join("/")),f=[];return f.push(...l.map(m=>m===""?a:[a,m].join("/"))),i&&f.push(...l),f.map(m=>t.startsWith("/")&&m===""?"/":m)}function f5(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:y5(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var h5=/^:[\w-]+$/,d5=3,g5=2,m5=1,p5=10,x5=-2,uS=t=>t==="*";function v5(t,e){let r=t.split("/"),n=r.length;return r.some(uS)&&(n+=x5),e&&(n+=g5),r.filter(i=>!uS(i)).reduce((i,a)=>i+(h5.test(a)?d5:a===""?m5:p5),n)}function y5(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function _5(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",l=[];for(let f=0;f<n.length;++f){let m=n[f],g=f===n.length-1,y=a==="/"?e:e.slice(a.length)||"/",E=sm({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),A=m.route;if(!E&&g&&r&&!n[n.length-1].route.index&&(E=sm({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!E)return null;Object.assign(i,E.params),l.push({params:i,pathname:Vl([a,E.pathname]),pathnameBase:b5(Vl([a,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(a=Vl([a,E.pathnameBase]))}return l}function sm(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=E5(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:n.reduce((g,{paramName:y,isOptional:E},A)=>{if(y==="*"){let N=f[A]||"";l=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const C=f[A];return E&&!C?g[y]=void 0:g[y]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:l,pattern:t}}function E5(t,e=!1,r=!0){lo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,f,m)=>(n.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function w5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ql(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var T5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A5=t=>T5.test(t);function S5(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?F0(t):t,a;if(r)if(A5(r))a=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),lo(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${r}`)}r.startsWith("/")?a=fS(r.substring(1),"/"):a=fS(r,e)}else a=e;return{pathname:a,search:I5(n),hash:R5(i)}}function fS(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function B2(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C5(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Oy(t){let e=C5(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function My(t,e,r,n=!1){let i;typeof t=="string"?i=F0(t):(i={...t},Pn(!i.pathname||!i.pathname.includes("?"),B2("?","pathname","search",i)),Pn(!i.pathname||!i.pathname.includes("#"),B2("#","pathname","hash",i)),Pn(!i.search||!i.search.includes("#"),B2("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,f;if(l==null)f=r;else{let E=e.length-1;if(!n&&l.startsWith("..")){let A=l.split("/");for(;A[0]==="..";)A.shift(),E-=1;i.pathname=A.join("/")}f=E>=0?e[E]:"/"}let m=S5(i,f),g=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var Vl=t=>t.join("/").replace(/\/\/+/g,"/"),b5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),I5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function N5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Tb=["POST","PUT","PATCH","DELETE"];new Set(Tb);var k5=["GET",...Tb];new Set(k5);var P0=pe.createContext(null);P0.displayName="DataRouter";var Wm=pe.createContext(null);Wm.displayName="DataRouterState";pe.createContext(!1);var Ab=pe.createContext({isTransitioning:!1});Ab.displayName="ViewTransition";var D5=pe.createContext(new Map);D5.displayName="Fetchers";var O5=pe.createContext(null);O5.displayName="Await";var No=pe.createContext(null);No.displayName="Navigation";var Hd=pe.createContext(null);Hd.displayName="Location";var ko=pe.createContext({outlet:null,matches:[],isDataRoute:!1});ko.displayName="Route";var Ly=pe.createContext(null);Ly.displayName="RouteError";function M5(t,{relative:e}={}){Pn(B0(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=pe.useContext(No),{hash:i,pathname:a,search:l}=Gd(t,{relative:e}),f=a;return r!=="/"&&(f=a==="/"?r:Vl([r,a])),n.createHref({pathname:f,search:l,hash:i})}function B0(){return pe.useContext(Hd)!=null}function ou(){return Pn(B0(),"useLocation() may be used only in the context of a <Router> component."),pe.useContext(Hd).location}var Sb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cb(t){pe.useContext(No).static||pe.useLayoutEffect(t)}function ol(){let{isDataRoute:t}=pe.useContext(ko);return t?X5():L5()}function L5(){Pn(B0(),"useNavigate() may be used only in the context of a <Router> component.");let t=pe.useContext(P0),{basename:e,navigator:r}=pe.useContext(No),{matches:n}=pe.useContext(ko),{pathname:i}=ou(),a=JSON.stringify(Oy(n)),l=pe.useRef(!1);return Cb(()=>{l.current=!0}),pe.useCallback((m,g={})=>{if(lo(l.current,Sb),!l.current)return;if(typeof m=="number"){r.go(m);return}let y=My(m,JSON.parse(a),i,g.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Vl([e,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[e,r,a,i,t])}pe.createContext(null);function bb(){let{matches:t}=pe.useContext(ko),e=t[t.length-1];return e?e.params:{}}function Gd(t,{relative:e}={}){let{matches:r}=pe.useContext(ko),{pathname:n}=ou(),i=JSON.stringify(Oy(r));return pe.useMemo(()=>My(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function F5(t,e){return Ib(t,e)}function Ib(t,e,r,n,i){var G;Pn(B0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=pe.useContext(No),{matches:l}=pe.useContext(ko),f=l[l.length-1],m=f?f.params:{},g=f?f.pathname:"/",y=f?f.pathnameBase:"/",E=f&&f.route;{let B=E&&E.path||"";Rb(g,!E||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let A=ou(),C;if(e){let B=typeof e=="string"?F0(e):e;Pn(y==="/"||((G=B.pathname)==null?void 0:G.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),C=B}else C=A;let N=C.pathname||"/",b=N;if(y!=="/"){let B=y.replace(/^\//,"").split("/");b="/"+N.replace(/^\//,"").split("/").slice(B.length).join("/")}let D=_b(t,{pathname:b});lo(E||D!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),lo(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=j5(D&&D.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:Vl([y,a.encodeLocation?a.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:Vl([y,a.encodeLocation?a.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),l,r,n,i);return e&&P?pe.createElement(Hd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},P):P}function P5(){let t=q5(),e=N5(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=pe.createElement(pe.Fragment,null,pe.createElement("p",null," Hey developer "),pe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",pe.createElement("code",{style:a},"ErrorBoundary")," or"," ",pe.createElement("code",{style:a},"errorElement")," prop on your route.")),pe.createElement(pe.Fragment,null,pe.createElement("h2",null,"Unexpected Application Error!"),pe.createElement("h3",{style:{fontStyle:"italic"}},e),r?pe.createElement("pre",{style:i},r):null,l)}var B5=pe.createElement(P5,null),U5=class extends pe.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?pe.createElement(ko.Provider,{value:this.props.routeContext},pe.createElement(Ly.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function V5({routeContext:t,match:e,children:r}){let n=pe.useContext(P0);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),pe.createElement(ko.Provider,{value:t},r)}function j5(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=r==null?void 0:r.errors;if(l!=null){let y=a.findIndex(E=>E.route.id&&(l==null?void 0:l[E.route.id])!==void 0);Pn(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,y+1))}let f=!1,m=-1;if(r)for(let y=0;y<a.length;y++){let E=a[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=y),E.route.id){let{loaderData:A,errors:C}=r,N=E.route.loader&&!A.hasOwnProperty(E.route.id)&&(!C||C[E.route.id]===void 0);if(E.route.lazy||N){f=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}let g=r&&n?(y,E)=>{var A,C;n(y,{location:r.location,params:((C=(A=r.matches)==null?void 0:A[0])==null?void 0:C.params)??{},errorInfo:E})}:void 0;return a.reduceRight((y,E,A)=>{let C,N=!1,b=null,D=null;r&&(C=l&&E.route.id?l[E.route.id]:void 0,b=E.route.errorElement||B5,f&&(m<0&&A===0?(Rb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,D=null):m===A&&(N=!0,D=E.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,A+1)),G=()=>{let B;return C?B=b:N?B=D:E.route.Component?B=pe.createElement(E.route.Component,null):E.route.element?B=E.route.element:B=y,pe.createElement(V5,{match:E,routeContext:{outlet:y,matches:P,isDataRoute:r!=null},children:B})};return r&&(E.route.ErrorBoundary||E.route.errorElement||A===0)?pe.createElement(U5,{location:r.location,revalidation:r.revalidation,component:b,error:C,children:G(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:g}):G()},null)}function Fy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z5(t){let e=pe.useContext(P0);return Pn(e,Fy(t)),e}function H5(t){let e=pe.useContext(Wm);return Pn(e,Fy(t)),e}function G5(t){let e=pe.useContext(ko);return Pn(e,Fy(t)),e}function Py(t){let e=G5(t),r=e.matches[e.matches.length-1];return Pn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function W5(){return Py("useRouteId")}function q5(){var n;let t=pe.useContext(Ly),e=H5("useRouteError"),r=Py("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function X5(){let{router:t}=z5("useNavigate"),e=Py("useNavigate"),r=pe.useRef(!1);return Cb(()=>{r.current=!0}),pe.useCallback(async(i,a={})=>{lo(r.current,Sb),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var hS={};function Rb(t,e,r){!e&&!hS[t]&&(hS[t]=!0,lo(!1,r))}pe.memo(Y5);function Y5({routes:t,future:e,state:r,unstable_onError:n}){return Ib(t,void 0,r,n,e)}function dS({to:t,replace:e,state:r,relative:n}){Pn(B0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=pe.useContext(No);lo(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=pe.useContext(ko),{pathname:l}=ou(),f=ol(),m=My(t,Oy(a),l,n==="path"),g=JSON.stringify(m);return pe.useEffect(()=>{f(JSON.parse(g),{replace:e,state:r,relative:n})},[f,g,n,e,r]),null}function zo(t){Pn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K5({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){Pn(!B0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),f=pe.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof r=="string"&&(r=F0(r));let{pathname:m="/",search:g="",hash:y="",state:E=null,key:A="default"}=r,C=pe.useMemo(()=>{let N=ql(m,l);return N==null?null:{location:{pathname:N,search:g,hash:y,state:E,key:A},navigationType:n}},[l,m,g,y,E,A,n]);return lo(C!=null,`<Router basename="${l}"> is not able to match the URL "${m}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:pe.createElement(No.Provider,{value:f},pe.createElement(Hd.Provider,{children:e,value:C}))}function Q5({children:t,location:e}){return F5(Lv(t),e)}function Lv(t,e=[]){let r=[];return pe.Children.forEach(t,(n,i)=>{if(!pe.isValidElement(n))return;let a=[...e,i];if(n.type===pe.Fragment){r.push.apply(r,Lv(n.props.children,a));return}Pn(n.type===zo,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Lv(n.props.children,a)),r.push(l)}),r}var Wg="get",qg="application/x-www-form-urlencoded";function qm(t){return t!=null&&typeof t.tagName=="string"}function $5(t){return qm(t)&&t.tagName.toLowerCase()==="button"}function Z5(t){return qm(t)&&t.tagName.toLowerCase()==="form"}function J5(t){return qm(t)&&t.tagName.toLowerCase()==="input"}function eO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tO(t,e){return t.button===0&&(!e||e==="_self")&&!eO(t)}var Eg=null;function rO(){if(Eg===null)try{new FormData(document.createElement("form"),0),Eg=!1}catch{Eg=!0}return Eg}var nO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function U2(t){return t!=null&&!nO.has(t)?(lo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qg}"`),null):t}function iO(t,e){let r,n,i,a,l;if(Z5(t)){let f=t.getAttribute("action");n=f?ql(f,e):null,r=t.getAttribute("method")||Wg,i=U2(t.getAttribute("enctype"))||qg,a=new FormData(t)}else if($5(t)||J5(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||f.getAttribute("action");if(n=m?ql(m,e):null,r=t.getAttribute("formmethod")||f.getAttribute("method")||Wg,i=U2(t.getAttribute("formenctype"))||U2(f.getAttribute("enctype"))||qg,a=new FormData(f,t),!rO()){let{name:g,type:y,value:E}=t;if(y==="image"){let A=g?`${g}.`:"";a.append(`${A}x`,"0"),a.append(`${A}y`,"0")}else g&&a.append(g,E)}}else{if(qm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Wg,n=null,i=qg,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function By(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aO(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&ql(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function sO(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lO(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await sO(a,r);return l.links?l.links():[]}return[]}));return hO(n.flat(1).filter(oO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function gS(t,e,r,n,i,a){let l=(m,g)=>r[g]?m.route.id!==r[g].route.id:!0,f=(m,g)=>{var y;return r[g].pathname!==m.pathname||((y=r[g].route.path)==null?void 0:y.endsWith("*"))&&r[g].params["*"]!==m.params["*"]};return a==="assets"?e.filter((m,g)=>l(m,g)||f(m,g)):a==="data"?e.filter((m,g)=>{var E;let y=n.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(l(m,g)||f(m,g))return!0;if(m.route.shouldRevalidate){let A=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((E=r[0])==null?void 0:E.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function cO(t,e,{includeHydrateFallback:r}={}){return uO(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function uO(t){return[...new Set(t)]}function fO(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function hO(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(fO(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function Nb(){let t=pe.useContext(P0);return By(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function dO(){let t=pe.useContext(Wm);return By(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Uy=pe.createContext(void 0);Uy.displayName="FrameworkContext";function kb(){let t=pe.useContext(Uy);return By(t,"You must render this element inside a <HydratedRouter> element"),t}function gO(t,e){let r=pe.useContext(Uy),[n,i]=pe.useState(!1),[a,l]=pe.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:E}=e,A=pe.useRef(null);pe.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let b=P=>{P.forEach(G=>{l(G.isIntersecting)})},D=new IntersectionObserver(b,{threshold:.5});return A.current&&D.observe(A.current),()=>{D.disconnect()}}},[t]),pe.useEffect(()=>{if(n){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[n]);let C=()=>{i(!0)},N=()=>{i(!1),l(!1)};return r?t!=="intent"?[a,A,{}]:[a,A,{onFocus:Oh(f,C),onBlur:Oh(m,N),onMouseEnter:Oh(g,C),onMouseLeave:Oh(y,N),onTouchStart:Oh(E,C)}]:[!1,A,{}]}function Oh(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function mO({page:t,...e}){let{router:r}=Nb(),n=pe.useMemo(()=>_b(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?pe.createElement(xO,{page:t,matches:n,...e}):null}function pO(t){let{manifest:e,routeModules:r}=kb(),[n,i]=pe.useState([]);return pe.useEffect(()=>{let a=!1;return lO(t,e,r).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,r]),n}function xO({page:t,matches:e,...r}){let n=ou(),{manifest:i,routeModules:a}=kb(),{basename:l}=Nb(),{loaderData:f,matches:m}=dO(),g=pe.useMemo(()=>gS(t,e,m,i,n,"data"),[t,e,m,i,n]),y=pe.useMemo(()=>gS(t,e,m,i,n,"assets"),[t,e,m,i,n]),E=pe.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let N=new Set,b=!1;if(e.forEach(P=>{var B;let G=i.routes[P.route.id];!G||!G.hasLoader||(!g.some(Y=>Y.route.id===P.route.id)&&P.route.id in f&&((B=a[P.route.id])!=null&&B.shouldRevalidate)||G.hasClientLoader?b=!0:N.add(P.route.id))}),N.size===0)return[];let D=aO(t,l,"data");return b&&N.size>0&&D.searchParams.set("_routes",e.filter(P=>N.has(P.route.id)).map(P=>P.route.id).join(",")),[D.pathname+D.search]},[l,f,n,i,g,e,t,a]),A=pe.useMemo(()=>cO(y,i),[y,i]),C=pO(y);return pe.createElement(pe.Fragment,null,E.map(N=>pe.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...r})),A.map(N=>pe.createElement("link",{key:N,rel:"modulepreload",href:N,...r})),C.map(({key:N,link:b})=>pe.createElement("link",{key:N,nonce:r.nonce,...b})))}function vO(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Db=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Db&&(window.__reactRouterVersion="7.9.6")}catch{}function yO({basename:t,children:e,window:r}){let n=pe.useRef();n.current==null&&(n.current=s5({window:r,v5Compat:!0}));let i=n.current,[a,l]=pe.useState({action:i.action,location:i.location}),f=pe.useCallback(m=>{pe.startTransition(()=>l(m))},[l]);return pe.useLayoutEffect(()=>i.listen(f),[i,f]),pe.createElement(K5,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var Ob=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mb=pe.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:l,state:f,target:m,to:g,preventScrollReset:y,viewTransition:E,...A},C){let{basename:N}=pe.useContext(No),b=typeof g=="string"&&Ob.test(g),D,P=!1;if(typeof g=="string"&&b&&(D=g,Db))try{let U=new URL(window.location.href),q=g.startsWith("//")?new URL(U.protocol+g):new URL(g),K=ql(q.pathname,N);q.origin===U.origin&&K!=null?g=K+q.search+q.hash:P=!0}catch{lo(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=M5(g,{relative:i}),[B,Y,te]=gO(n,A),ee=TO(g,{replace:l,state:f,target:m,preventScrollReset:y,relative:i,viewTransition:E});function L(U){e&&e(U),U.defaultPrevented||ee(U)}let j=pe.createElement("a",{...A,...te,href:D||G,onClick:P||a?e:L,ref:vO(C,Y),target:m,"data-discover":!b&&r==="render"?"true":void 0});return B&&!b?pe.createElement(pe.Fragment,null,j,pe.createElement(mO,{page:G})):j});Mb.displayName="Link";var _O=pe.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:l,viewTransition:f,children:m,...g},y){let E=Gd(l,{relative:g.relative}),A=ou(),C=pe.useContext(Wm),{navigator:N,basename:b}=pe.useContext(No),D=C!=null&&IO(E)&&f===!0,P=N.encodeLocation?N.encodeLocation(E).pathname:E.pathname,G=A.pathname,B=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(G=G.toLowerCase(),B=B?B.toLowerCase():null,P=P.toLowerCase()),B&&b&&(B=ql(B,b)||B);const Y=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let te=G===P||!i&&G.startsWith(P)&&G.charAt(Y)==="/",ee=B!=null&&(B===P||!i&&B.startsWith(P)&&B.charAt(P.length)==="/"),L={isActive:te,isPending:ee,isTransitioning:D},j=te?e:void 0,U;typeof n=="function"?U=n(L):U=[n,te?"active":null,ee?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let q=typeof a=="function"?a(L):a;return pe.createElement(Mb,{...g,"aria-current":j,className:U,ref:y,style:q,to:l,viewTransition:f},typeof m=="function"?m(L):m)});_O.displayName="NavLink";var EO=pe.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:l=Wg,action:f,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:E,...A},C)=>{let N=CO(),b=bO(f,{relative:g}),D=l.toLowerCase()==="get"?"get":"post",P=typeof f=="string"&&Ob.test(f),G=B=>{if(m&&m(B),B.defaultPrevented)return;B.preventDefault();let Y=B.nativeEvent.submitter,te=(Y==null?void 0:Y.getAttribute("formmethod"))||l;N(Y||B.currentTarget,{fetcherKey:e,method:te,navigate:r,replace:i,state:a,relative:g,preventScrollReset:y,viewTransition:E})};return pe.createElement("form",{ref:C,method:D,action:b,onSubmit:n?m:G,...A,"data-discover":!P&&t==="render"?"true":void 0})});EO.displayName="Form";function wO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lb(t){let e=pe.useContext(P0);return Pn(e,wO(t)),e}function TO(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:l}={}){let f=ol(),m=ou(),g=Gd(t,{relative:a});return pe.useCallback(y=>{if(tO(y,e)){y.preventDefault();let E=r!==void 0?r:dd(m)===dd(g);f(t,{replace:E,state:n,preventScrollReset:i,relative:a,viewTransition:l})}},[m,f,g,r,n,e,t,i,a,l])}var AO=0,SO=()=>`__${String(++AO)}__`;function CO(){let{router:t}=Lb("useSubmit"),{basename:e}=pe.useContext(No),r=W5();return pe.useCallback(async(n,i={})=>{let{action:a,method:l,encType:f,formData:m,body:g}=iO(n,e);if(i.navigate===!1){let y=i.fetcherKey||SO();await t.fetch(y,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:m,body:g,formMethod:i.method||l,formEncType:i.encType||f,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:m,body:g,formMethod:i.method||l,formEncType:i.encType||f,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function bO(t,{relative:e}={}){let{basename:r}=pe.useContext(No),n=pe.useContext(ko);Pn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Gd(t||".",{relative:e})},l=ou();if(t==null){a.search=l.search;let f=new URLSearchParams(a.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(E=>E).forEach(E=>f.append("index",E));let y=f.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Vl([r,a.pathname])),dd(a)}function IO(t,{relative:e}={}){let r=pe.useContext(Ab);Pn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Lb("useViewTransitionState"),i=Gd(t,{relative:e});if(!r.isTransitioning)return!1;let a=ql(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=ql(r.nextLocation.pathname,n)||r.nextLocation.pathname;return sm(i.pathname,l)!=null||sm(i.pathname,a)!=null}const gd={black:"#000",white:"#fff"},Zf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Jf={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},e0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},t0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},r0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Mh={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},RO={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Qu(t,...e){const r=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${t}; visit ${r} for the full message.`}const m0="$$material";function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fv.apply(null,arguments)}function NO(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function kO(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var DO=(function(){function t(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kO(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=NO(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},t})(),ya="-ms-",om="-moz-",zr="-webkit-",Fb="comm",Vy="rule",jy="decl",OO="@import",Pb="@keyframes",MO="@layer",LO=Math.abs,Xm=String.fromCharCode,FO=Object.assign;function PO(t,e){return la(t,0)^45?(((e<<2^la(t,0))<<2^la(t,1))<<2^la(t,2))<<2^la(t,3):0}function Bb(t){return t.trim()}function BO(t,e){return(t=e.exec(t))?t[0]:t}function Hr(t,e,r){return t.replace(e,r)}function Pv(t,e){return t.indexOf(e)}function la(t,e){return t.charCodeAt(e)|0}function md(t,e,r){return t.slice(e,r)}function Xo(t){return t.length}function zy(t){return t.length}function wg(t,e){return e.push(t),t}function UO(t,e){return t.map(e).join("")}var Ym=1,C0=1,Ub=0,fs=0,Ni=0,U0="";function Km(t,e,r,n,i,a,l){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:Ym,column:C0,length:l,return:""}}function Lh(t,e){return FO(Km("",null,null,"",null,null,0),t,{length:-t.length},e)}function VO(){return Ni}function jO(){return Ni=fs>0?la(U0,--fs):0,C0--,Ni===10&&(C0=1,Ym--),Ni}function Fs(){return Ni=fs<Ub?la(U0,fs++):0,C0++,Ni===10&&(C0=1,Ym++),Ni}function Zo(){return la(U0,fs)}function Xg(){return fs}function Wd(t,e){return md(U0,t,e)}function pd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Vb(t){return Ym=C0=1,Ub=Xo(U0=t),fs=0,[]}function jb(t){return U0="",t}function Yg(t){return Bb(Wd(fs-1,Bv(t===91?t+2:t===40?t+1:t)))}function zO(t){for(;(Ni=Zo())&&Ni<33;)Fs();return pd(t)>2||pd(Ni)>3?"":" "}function HO(t,e){for(;--e&&Fs()&&!(Ni<48||Ni>102||Ni>57&&Ni<65||Ni>70&&Ni<97););return Wd(t,Xg()+(e<6&&Zo()==32&&Fs()==32))}function Bv(t){for(;Fs();)switch(Ni){case t:return fs;case 34:case 39:t!==34&&t!==39&&Bv(Ni);break;case 40:t===41&&Bv(t);break;case 92:Fs();break}return fs}function GO(t,e){for(;Fs()&&t+Ni!==57;)if(t+Ni===84&&Zo()===47)break;return"/*"+Wd(e,fs-1)+"*"+Xm(t===47?t:Fs())}function WO(t){for(;!pd(Zo());)Fs();return Wd(t,fs)}function qO(t){return jb(Kg("",null,null,null,[""],t=Vb(t),0,[0],t))}function Kg(t,e,r,n,i,a,l,f,m){for(var g=0,y=0,E=l,A=0,C=0,N=0,b=1,D=1,P=1,G=0,B="",Y=i,te=a,ee=n,L=B;D;)switch(N=G,G=Fs()){case 40:if(N!=108&&la(L,E-1)==58){Pv(L+=Hr(Yg(G),"&","&\f"),"&\f")!=-1&&(P=-1);break}case 34:case 39:case 91:L+=Yg(G);break;case 9:case 10:case 13:case 32:L+=zO(N);break;case 92:L+=HO(Xg()-1,7);continue;case 47:switch(Zo()){case 42:case 47:wg(XO(GO(Fs(),Xg()),e,r),m);break;default:L+="/"}break;case 123*b:f[g++]=Xo(L)*P;case 125*b:case 59:case 0:switch(G){case 0:case 125:D=0;case 59+y:P==-1&&(L=Hr(L,/\f/g,"")),C>0&&Xo(L)-E&&wg(C>32?pS(L+";",n,r,E-1):pS(Hr(L," ","")+";",n,r,E-2),m);break;case 59:L+=";";default:if(wg(ee=mS(L,e,r,g,y,i,f,B,Y=[],te=[],E),a),G===123)if(y===0)Kg(L,e,ee,ee,Y,a,E,f,te);else switch(A===99&&la(L,3)===110?100:A){case 100:case 108:case 109:case 115:Kg(t,ee,ee,n&&wg(mS(t,ee,ee,0,0,i,f,B,i,Y=[],E),te),i,te,E,f,n?Y:te);break;default:Kg(L,ee,ee,ee,[""],te,0,f,te)}}g=y=C=0,b=P=1,B=L="",E=l;break;case 58:E=1+Xo(L),C=N;default:if(b<1){if(G==123)--b;else if(G==125&&b++==0&&jO()==125)continue}switch(L+=Xm(G),G*b){case 38:P=y>0?1:(L+="\f",-1);break;case 44:f[g++]=(Xo(L)-1)*P,P=1;break;case 64:Zo()===45&&(L+=Yg(Fs())),A=Zo(),y=E=Xo(B=L+=WO(Xg())),G++;break;case 45:N===45&&Xo(L)==2&&(b=0)}}return a}function mS(t,e,r,n,i,a,l,f,m,g,y){for(var E=i-1,A=i===0?a:[""],C=zy(A),N=0,b=0,D=0;N<n;++N)for(var P=0,G=md(t,E+1,E=LO(b=l[N])),B=t;P<C;++P)(B=Bb(b>0?A[P]+" "+G:Hr(G,/&\f/g,A[P])))&&(m[D++]=B);return Km(t,e,r,i===0?Vy:f,m,g,y)}function XO(t,e,r){return Km(t,e,r,Fb,Xm(VO()),md(t,2,-2),0)}function pS(t,e,r,n){return Km(t,e,r,jy,md(t,0,n),md(t,n+1,-1),n)}function p0(t,e){for(var r="",n=zy(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function YO(t,e,r,n){switch(t.type){case MO:if(t.children.length)break;case OO:case jy:return t.return=t.return||t.value;case Fb:return"";case Pb:return t.return=t.value+"{"+p0(t.children,n)+"}";case Vy:t.value=t.props.join(",")}return Xo(r=p0(t.children,n))?t.return=t.value+"{"+r+"}":""}function KO(t){var e=zy(t);return function(r,n,i,a){for(var l="",f=0;f<e;f++)l+=t[f](r,n,i,a)||"";return l}}function QO(t){return function(e){e.root||(e=e.return)&&t(e)}}function zb(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var $O=function(e,r,n){for(var i=0,a=0;i=a,a=Zo(),i===38&&a===12&&(r[n]=1),!pd(a);)Fs();return Wd(e,fs)},ZO=function(e,r){var n=-1,i=44;do switch(pd(i)){case 0:i===38&&Zo()===12&&(r[n]=1),e[n]+=$O(fs-1,r,n);break;case 2:e[n]+=Yg(i);break;case 4:if(i===44){e[++n]=Zo()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Xm(i)}while(i=Fs());return e},JO=function(e,r){return jb(ZO(Vb(e),r))},xS=new WeakMap,eM=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!xS.get(n))&&!i){xS.set(e,!0);for(var a=[],l=JO(r,a),f=n.props,m=0,g=0;m<l.length;m++)for(var y=0;y<f.length;y++,g++)e.props[g]=a[m]?l[m].replace(/&\f/g,f[y]):f[y]+" "+l[m]}}},tM=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function Hb(t,e){switch(PO(t,e)){case 5103:return zr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return zr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return zr+t+om+t+ya+t+t;case 6828:case 4268:return zr+t+ya+t+t;case 6165:return zr+t+ya+"flex-"+t+t;case 5187:return zr+t+Hr(t,/(\w+).+(:[^]+)/,zr+"box-$1$2"+ya+"flex-$1$2")+t;case 5443:return zr+t+ya+"flex-item-"+Hr(t,/flex-|-self/,"")+t;case 4675:return zr+t+ya+"flex-line-pack"+Hr(t,/align-content|flex-|-self/,"")+t;case 5548:return zr+t+ya+Hr(t,"shrink","negative")+t;case 5292:return zr+t+ya+Hr(t,"basis","preferred-size")+t;case 6060:return zr+"box-"+Hr(t,"-grow","")+zr+t+ya+Hr(t,"grow","positive")+t;case 4554:return zr+Hr(t,/([^-])(transform)/g,"$1"+zr+"$2")+t;case 6187:return Hr(Hr(Hr(t,/(zoom-|grab)/,zr+"$1"),/(image-set)/,zr+"$1"),t,"")+t;case 5495:case 3959:return Hr(t,/(image-set\([^]*)/,zr+"$1$`$1");case 4968:return Hr(Hr(t,/(.+:)(flex-)?(.*)/,zr+"box-pack:$3"+ya+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+zr+t+t;case 4095:case 3583:case 4068:case 2532:return Hr(t,/(.+)-inline(.+)/,zr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Xo(t)-1-e>6)switch(la(t,e+1)){case 109:if(la(t,e+4)!==45)break;case 102:return Hr(t,/(.+:)(.+)-([^]+)/,"$1"+zr+"$2-$3$1"+om+(la(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Pv(t,"stretch")?Hb(Hr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(la(t,e+1)!==115)break;case 6444:switch(la(t,Xo(t)-3-(~Pv(t,"!important")&&10))){case 107:return Hr(t,":",":"+zr)+t;case 101:return Hr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+zr+(la(t,14)===45?"inline-":"")+"box$3$1"+zr+"$2$3$1"+ya+"$2box$3")+t}break;case 5936:switch(la(t,e+11)){case 114:return zr+t+ya+Hr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return zr+t+ya+Hr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return zr+t+ya+Hr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return zr+t+ya+t+t}return t}var rM=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case jy:e.return=Hb(e.value,e.length);break;case Pb:return p0([Lh(e,{value:Hr(e.value,"@","@"+zr)})],i);case Vy:if(e.length)return UO(e.props,function(a){switch(BO(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return p0([Lh(e,{props:[Hr(a,/:(read-\w+)/,":"+om+"$1")]})],i);case"::placeholder":return p0([Lh(e,{props:[Hr(a,/:(plac\w+)/,":"+zr+"input-$1")]}),Lh(e,{props:[Hr(a,/:(plac\w+)/,":"+om+"$1")]}),Lh(e,{props:[Hr(a,/:(plac\w+)/,ya+"input-$1")]})],i)}return""})}},nM=[rM],iM=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(b){var D=b.getAttribute("data-emotion");D.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var i=e.stylisPlugins||nM,a={},l,f=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(b){for(var D=b.getAttribute("data-emotion").split(" "),P=1;P<D.length;P++)a[D[P]]=!0;f.push(b)});var m,g=[eM,tM];{var y,E=[YO,QO(function(b){y.insert(b)})],A=KO(g.concat(i,E)),C=function(D){return p0(qO(D),A)};m=function(D,P,G,B){y=G,C(D?D+"{"+P.styles+"}":P.styles),B&&(N.inserted[P.name]=!0)}}var N={key:r,sheet:new DO({key:r,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:m};return N.sheet.hydrate(f),N},V2={exports:{}},Kr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vS;function aM(){if(vS)return Kr;vS=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,f=t?Symbol.for("react.context"):60110,m=t?Symbol.for("react.async_mode"):60111,g=t?Symbol.for("react.concurrent_mode"):60111,y=t?Symbol.for("react.forward_ref"):60112,E=t?Symbol.for("react.suspense"):60113,A=t?Symbol.for("react.suspense_list"):60120,C=t?Symbol.for("react.memo"):60115,N=t?Symbol.for("react.lazy"):60116,b=t?Symbol.for("react.block"):60121,D=t?Symbol.for("react.fundamental"):60117,P=t?Symbol.for("react.responder"):60118,G=t?Symbol.for("react.scope"):60119;function B(te){if(typeof te=="object"&&te!==null){var ee=te.$$typeof;switch(ee){case e:switch(te=te.type,te){case m:case g:case n:case a:case i:case E:return te;default:switch(te=te&&te.$$typeof,te){case f:case y:case N:case C:case l:return te;default:return ee}}case r:return ee}}}function Y(te){return B(te)===g}return Kr.AsyncMode=m,Kr.ConcurrentMode=g,Kr.ContextConsumer=f,Kr.ContextProvider=l,Kr.Element=e,Kr.ForwardRef=y,Kr.Fragment=n,Kr.Lazy=N,Kr.Memo=C,Kr.Portal=r,Kr.Profiler=a,Kr.StrictMode=i,Kr.Suspense=E,Kr.isAsyncMode=function(te){return Y(te)||B(te)===m},Kr.isConcurrentMode=Y,Kr.isContextConsumer=function(te){return B(te)===f},Kr.isContextProvider=function(te){return B(te)===l},Kr.isElement=function(te){return typeof te=="object"&&te!==null&&te.$$typeof===e},Kr.isForwardRef=function(te){return B(te)===y},Kr.isFragment=function(te){return B(te)===n},Kr.isLazy=function(te){return B(te)===N},Kr.isMemo=function(te){return B(te)===C},Kr.isPortal=function(te){return B(te)===r},Kr.isProfiler=function(te){return B(te)===a},Kr.isStrictMode=function(te){return B(te)===i},Kr.isSuspense=function(te){return B(te)===E},Kr.isValidElementType=function(te){return typeof te=="string"||typeof te=="function"||te===n||te===g||te===a||te===i||te===E||te===A||typeof te=="object"&&te!==null&&(te.$$typeof===N||te.$$typeof===C||te.$$typeof===l||te.$$typeof===f||te.$$typeof===y||te.$$typeof===D||te.$$typeof===P||te.$$typeof===G||te.$$typeof===b)},Kr.typeOf=B,Kr}var yS;function sM(){return yS||(yS=1,V2.exports=aM()),V2.exports}var j2,_S;function oM(){if(_S)return j2;_S=1;var t=sM(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=n,a[t.Memo]=i;function l(N){return t.isMemo(N)?i:a[N.$$typeof]||e}var f=Object.defineProperty,m=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,E=Object.getPrototypeOf,A=Object.prototype;function C(N,b,D){if(typeof b!="string"){if(A){var P=E(b);P&&P!==A&&C(N,P,D)}var G=m(b);g&&(G=G.concat(g(b)));for(var B=l(N),Y=l(b),te=0;te<G.length;++te){var ee=G[te];if(!r[ee]&&!(D&&D[ee])&&!(Y&&Y[ee])&&!(B&&B[ee])){var L=y(b,ee);try{f(N,ee,L)}catch{}}}}return N}return j2=C,j2}oM();var lM=!0;function Gb(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(n+=i+" ")}),n}var Hy=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||lM===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},Gy=function(e,r,n){Hy(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var a=r;do e.insert(r===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function cM(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var uM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fM=/[A-Z]|^ms/g,hM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Wb=function(e){return e.charCodeAt(1)===45},ES=function(e){return e!=null&&typeof e!="boolean"},z2=zb(function(t){return Wb(t)?t:t.replace(fM,"-$&").toLowerCase()}),wS=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(hM,function(n,i,a){return Yo={name:i,styles:a,next:Yo},i})}return uM[e]!==1&&!Wb(e)&&typeof r=="number"&&r!==0?r+"px":r};function xd(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return Yo={name:i.name,styles:i.styles,next:Yo},i.name;var a=r;if(a.styles!==void 0){var l=a.next;if(l!==void 0)for(;l!==void 0;)Yo={name:l.name,styles:l.styles,next:Yo},l=l.next;var f=a.styles+";";return f}return dM(t,e,r)}case"function":{if(t!==void 0){var m=Yo,g=r(t);return Yo=m,xd(t,e,g)}break}}var y=r;if(e==null)return y;var E=e[y];return E!==void 0?E:y}function dM(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=xd(t,e,r[i])+";";else for(var a in r){var l=r[a];if(typeof l!="object"){var f=l;e!=null&&e[f]!==void 0?n+=a+"{"+e[f]+"}":ES(f)&&(n+=z2(a)+":"+wS(a,f)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var m=0;m<l.length;m++)ES(l[m])&&(n+=z2(a)+":"+wS(a,l[m])+";");else{var g=xd(t,e,l);switch(a){case"animation":case"animationName":{n+=z2(a)+":"+g+";";break}default:n+=a+"{"+g+"}"}}}return n}var TS=/label:\s*([^\s;{]+)\s*(;|$)/g,Yo;function Qm(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,i="";Yo=void 0;var a=t[0];if(a==null||a.raw===void 0)n=!1,i+=xd(r,e,a);else{var l=a;i+=l[0]}for(var f=1;f<t.length;f++)if(i+=xd(r,e,t[f]),n){var m=a;i+=m[f]}TS.lastIndex=0;for(var g="",y;(y=TS.exec(i))!==null;)g+="-"+y[1];var E=cM(i)+g;return{name:E,styles:i,next:Yo}}var gM=function(e){return e()},qb=Ov.useInsertionEffect?Ov.useInsertionEffect:!1,Xb=qb||gM,AS=qb||pe.useLayoutEffect,Yb=pe.createContext(typeof HTMLElement<"u"?iM({key:"css"}):null);Yb.Provider;var Wy=function(e){return pe.forwardRef(function(r,n){var i=pe.useContext(Yb);return e(r,i,n)})},qd=pe.createContext({}),qy={}.hasOwnProperty,Uv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",mM=function(e,r){var n={};for(var i in r)qy.call(r,i)&&(n[i]=r[i]);return n[Uv]=e,n},pM=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return Hy(r,n,i),Xb(function(){return Gy(r,n,i)}),null},xM=Wy(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var i=t[Uv],a=[n],l="";typeof t.className=="string"?l=Gb(e.registered,a,t.className):t.className!=null&&(l=t.className+" ");var f=Qm(a,void 0,pe.useContext(qd));l+=e.key+"-"+f.name;var m={};for(var g in t)qy.call(t,g)&&g!=="css"&&g!==Uv&&(m[g]=t[g]);return m.className=l,r&&(m.ref=r),pe.createElement(pe.Fragment,null,pe.createElement(pM,{cache:e,serialized:f,isStringTag:typeof i=="string"}),pe.createElement(i,m))}),vM=xM,SS=function(e,r){var n=arguments;if(r==null||!qy.call(r,"css"))return pe.createElement.apply(void 0,n);var i=n.length,a=new Array(i);a[0]=vM,a[1]=mM(e,r);for(var l=2;l<i;l++)a[l]=n[l];return pe.createElement.apply(null,a)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(SS||(SS={}));var yM=Wy(function(t,e){var r=t.styles,n=Qm([r],void 0,pe.useContext(qd)),i=pe.useRef();return AS(function(){var a=e.key+"-global",l=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),f=!1,m=document.querySelector('style[data-emotion="'+a+" "+n.name+'"]');return e.sheet.tags.length&&(l.before=e.sheet.tags[0]),m!==null&&(f=!0,m.setAttribute("data-emotion",a),l.hydrate([m])),i.current=[l,f],function(){l.flush()}},[e]),AS(function(){var a=i.current,l=a[0],f=a[1];if(f){a[1]=!1;return}if(n.next!==void 0&&Gy(e,n.next,!0),l.tags.length){var m=l.tags[l.tags.length-1].nextElementSibling;l.before=m,l.flush()}e.insert("",n,l,!1)},[e,n.name]),null}),_M=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,EM=zb(function(t){return _M.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),wM=EM,TM=function(e){return e!=="theme"},CS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?wM:TM},bS=function(e,r,n){var i;if(r){var a=r.shouldForwardProp;i=e.__emotion_forwardProp&&a?function(l){return e.__emotion_forwardProp(l)&&a(l)}:a}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},AM=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return Hy(r,n,i),Xb(function(){return Gy(r,n,i)}),null},SM=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,a,l;r!==void 0&&(a=r.label,l=r.target);var f=bS(e,r,n),m=f||CS(i),g=!m("as");return function(){var y=arguments,E=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&E.push("label:"+a+";"),y[0]==null||y[0].raw===void 0)E.push.apply(E,y);else{var A=y[0];E.push(A[0]);for(var C=y.length,N=1;N<C;N++)E.push(y[N],A[N])}var b=Wy(function(D,P,G){var B=g&&D.as||i,Y="",te=[],ee=D;if(D.theme==null){ee={};for(var L in D)ee[L]=D[L];ee.theme=pe.useContext(qd)}typeof D.className=="string"?Y=Gb(P.registered,te,D.className):D.className!=null&&(Y=D.className+" ");var j=Qm(E.concat(te),P.registered,ee);Y+=P.key+"-"+j.name,l!==void 0&&(Y+=" "+l);var U=g&&f===void 0?CS(B):m,q={};for(var K in D)g&&K==="as"||U(K)&&(q[K]=D[K]);return q.className=Y,G&&(q.ref=G),pe.createElement(pe.Fragment,null,pe.createElement(AM,{cache:P,serialized:j,isStringTag:typeof B=="string"}),pe.createElement(B,q))});return b.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",b.defaultProps=e.defaultProps,b.__emotion_real=b,b.__emotion_base=i,b.__emotion_styles=E,b.__emotion_forwardProp=f,Object.defineProperty(b,"toString",{value:function(){return"."+l}}),b.withComponent=function(D,P){var G=t(D,Fv({},r,P,{shouldForwardProp:bS(b,P,!0)}));return G.apply(void 0,E)},b}},CM=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],IS=SM.bind(null);CM.forEach(function(t){IS[t]=IS(t)});var H2={exports:{}},G2,RS;function bM(){if(RS)return G2;RS=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return G2=t,G2}var W2,NS;function IM(){if(NS)return W2;NS=1;var t=bM();function e(){}function r(){}return r.resetWarningCache=e,W2=function(){function n(l,f,m,g,y,E){if(E!==t){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},W2}var kS;function Kb(){return kS||(kS=1,H2.exports=IM()()),H2.exports}function RM(t){return t==null||Object.keys(t).length===0}function Qb(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?i=>e(RM(i)?r:i):e;return k.jsx(yM,{styles:n})}const DS=[];function NM(t){return DS[0]=t,Qm(DS)}var q2={exports:{}},pn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OS;function kM(){if(OS)return pn;OS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.view_transition"),C=Symbol.for("react.client.reference");function N(b){if(typeof b=="object"&&b!==null){var D=b.$$typeof;switch(D){case t:switch(b=b.type,b){case r:case i:case n:case m:case g:case A:return b;default:switch(b=b&&b.$$typeof,b){case l:case f:case E:case y:return b;case a:return b;default:return D}}case e:return D}}}return pn.ContextConsumer=a,pn.ContextProvider=l,pn.Element=t,pn.ForwardRef=f,pn.Fragment=r,pn.Lazy=E,pn.Memo=y,pn.Portal=e,pn.Profiler=i,pn.StrictMode=n,pn.Suspense=m,pn.SuspenseList=g,pn.isContextConsumer=function(b){return N(b)===a},pn.isContextProvider=function(b){return N(b)===l},pn.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},pn.isForwardRef=function(b){return N(b)===f},pn.isFragment=function(b){return N(b)===r},pn.isLazy=function(b){return N(b)===E},pn.isMemo=function(b){return N(b)===y},pn.isPortal=function(b){return N(b)===e},pn.isProfiler=function(b){return N(b)===i},pn.isStrictMode=function(b){return N(b)===n},pn.isSuspense=function(b){return N(b)===m},pn.isSuspenseList=function(b){return N(b)===g},pn.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===m||b===g||typeof b=="object"&&b!==null&&(b.$$typeof===E||b.$$typeof===y||b.$$typeof===l||b.$$typeof===a||b.$$typeof===f||b.$$typeof===C||b.getModuleId!==void 0)},pn.typeOf=N,pn}var MS;function DM(){return MS||(MS=1,q2.exports=kM()),q2.exports}var $b=DM();function Oc(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Zb(t){if(pe.isValidElement(t)||$b.isValidElementType(t)||!Oc(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=Zb(t[r])}),e}function Ps(t,e,r={clone:!0}){const n=r.clone?{...t}:t;return Oc(t)&&Oc(e)&&Object.keys(e).forEach(i=>{pe.isValidElement(e[i])||$b.isValidElementType(e[i])?n[i]=e[i]:Oc(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Oc(t[i])?n[i]=Ps(t[i],e[i],r):r.clone?n[i]=Oc(e[i])?Zb(e[i]):e[i]:n[i]=e[i]}),n}const OM=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function MM(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...i}=t,a=OM(e),l=Object.keys(a);function f(A){return`@media (min-width:${typeof e[A]=="number"?e[A]:A}${r})`}function m(A){return`@media (max-width:${(typeof e[A]=="number"?e[A]:A)-n/100}${r})`}function g(A,C){const N=l.indexOf(C);return`@media (min-width:${typeof e[A]=="number"?e[A]:A}${r}) and (max-width:${(N!==-1&&typeof e[l[N]]=="number"?e[l[N]]:C)-n/100}${r})`}function y(A){return l.indexOf(A)+1<l.length?g(A,l[l.indexOf(A)+1]):f(A)}function E(A){const C=l.indexOf(A);return C===0?f(l[1]):C===l.length-1?m(l[C]):g(A,l[l.indexOf(A)+1]).replace("@media","@media not all and")}return{keys:l,values:a,up:f,down:m,between:g,only:y,not:E,unit:r,...i}}function LS(t,e){if(!t.containerQueries)return e;const r=Object.keys(e).filter(n=>n.startsWith("@container")).sort((n,i)=>{var l,f;const a=/min-width:\s*([0-9.]+)/;return+(((l=n.match(a))==null?void 0:l[1])||0)-+(((f=i.match(a))==null?void 0:f[1])||0)});return r.length?r.reduce((n,i)=>{const a=e[i];return delete n[i],n[i]=a,n},{...e}):e}function LM(t,e){return e==="@"||e.startsWith("@")&&(t.some(r=>e.startsWith(`@${r}`))||!!e.match(/^@\d/))}function FM(t,e){const r=e.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,i]=r,a=Number.isNaN(+n)?n||0:+n;return t.containerQueries(i).up(a)}function PM(t){const e=(a,l)=>a.replace("@media",l?`@container ${l}`:"@container");function r(a,l){a.up=(...f)=>e(t.breakpoints.up(...f),l),a.down=(...f)=>e(t.breakpoints.down(...f),l),a.between=(...f)=>e(t.breakpoints.between(...f),l),a.only=(...f)=>e(t.breakpoints.only(...f),l),a.not=(...f)=>{const m=e(t.breakpoints.not(...f),l);return m.includes("not all and")?m.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):m}}const n={},i=a=>(r(n,a),n);return r(i),{...t,containerQueries:i}}const BM={borderRadius:4};function $h(t,e){return e?Ps(t,e,{clone:!1}):t}const $m={xs:0,sm:600,md:900,lg:1200,xl:1536},FS={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${$m[t]}px)`},UM={containerQueries:t=>({up:e=>{let r=typeof e=="number"?e:$m[e]||e;return typeof r=="number"&&(r=`${r}px`),t?`@container ${t} (min-width:${r})`:`@container (min-width:${r})`}})};function Xl(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const a=n.breakpoints||FS;return e.reduce((l,f,m)=>(l[a.up(a.keys[m])]=r(e[m]),l),{})}if(typeof e=="object"){const a=n.breakpoints||FS;return Object.keys(e).reduce((l,f)=>{if(LM(a.keys,f)){const m=FM(n.containerQueries?n:UM,f);m&&(l[m]=r(e[f],f))}else if(Object.keys(a.values||$m).includes(f)){const m=a.up(f);l[m]=r(e[f],f)}else{const m=f;l[m]=e[m]}return l},{})}return r(e)}function VM(t={}){var r;return((r=t.keys)==null?void 0:r.reduce((n,i)=>{const a=t.up(i);return n[a]={},n},{}))||{}}function PS(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function Jb(t){if(typeof t!="string")throw new Error(Qu(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Zm(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function lm(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=Zm(t,r)||n,e&&(i=e(i,n,t)),i}function vi(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,a=l=>{if(l[e]==null)return null;const f=l[e],m=l.theme,g=Zm(m,n)||{};return Xl(l,f,E=>{let A=lm(g,i,E);return E===A&&typeof E=="string"&&(A=lm(g,i,`${e}${E==="default"?"":Jb(E)}`,E)),r===!1?A:{[r]:A}})};return a.propTypes={},a.filterProps=[e],a}function jM(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const zM={m:"margin",p:"padding"},HM={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},BS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},GM=jM(t=>{if(t.length>2)if(BS[t])t=BS[t];else return[t];const[e,r]=t.split(""),n=zM[e],i=HM[r]||"";return Array.isArray(i)?i.map(a=>n+a):[n+i]}),Xy=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Yy=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Xy,...Yy];function Xd(t,e,r,n){const i=Zm(t,e,!0)??r;return typeof i=="number"||typeof i=="string"?a=>typeof a=="string"?a:typeof i=="string"?i.startsWith("var(")&&a===0?0:i.startsWith("var(")&&a===1?i:`calc(${a} * ${i})`:i*a:Array.isArray(i)?a=>{if(typeof a=="string")return a;const l=Math.abs(a),f=i[l];return a>=0?f:typeof f=="number"?-f:typeof f=="string"&&f.startsWith("var(")?`calc(-1 * ${f})`:`-${f}`}:typeof i=="function"?i:()=>{}}function Ky(t){return Xd(t,"spacing",8)}function Yd(t,e){return typeof e=="string"||e==null?e:t(e)}function WM(t,e){return r=>t.reduce((n,i)=>(n[i]=Yd(e,r),n),{})}function qM(t,e,r,n){if(!e.includes(r))return null;const i=GM(r),a=WM(i,n),l=t[r];return Xl(t,l,a)}function eI(t,e){const r=Ky(t.theme);return Object.keys(t).map(n=>qM(t,e,n,r)).reduce($h,{})}function ei(t){return eI(t,Xy)}ei.propTypes={};ei.filterProps=Xy;function ti(t){return eI(t,Yy)}ti.propTypes={};ti.filterProps=Yy;function tI(t=8,e=Ky({spacing:t})){if(t.mui)return t;const r=(...n)=>(n.length===0?[1]:n).map(a=>{const l=e(a);return typeof l=="number"?`${l}px`:l}).join(" ");return r.mui=!0,r}function Jm(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(a=>{n[a]=i}),n),{}),r=n=>Object.keys(n).reduce((i,a)=>e[a]?$h(i,e[a](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function io(t){return typeof t!="number"?t:`${t}px solid`}function uo(t,e){return vi({prop:t,themeKey:"borders",transform:e})}const XM=uo("border",io),YM=uo("borderTop",io),KM=uo("borderRight",io),QM=uo("borderBottom",io),$M=uo("borderLeft",io),ZM=uo("borderColor"),JM=uo("borderTopColor"),e9=uo("borderRightColor"),t9=uo("borderBottomColor"),r9=uo("borderLeftColor"),n9=uo("outline",io),i9=uo("outlineColor"),ep=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Xd(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:Yd(e,n)});return Xl(t,t.borderRadius,r)}return null};ep.propTypes={};ep.filterProps=["borderRadius"];Jm(XM,YM,KM,QM,$M,ZM,JM,e9,t9,r9,ep,n9,i9);const tp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Xd(t.theme,"spacing",8),r=n=>({gap:Yd(e,n)});return Xl(t,t.gap,r)}return null};tp.propTypes={};tp.filterProps=["gap"];const rp=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Xd(t.theme,"spacing",8),r=n=>({columnGap:Yd(e,n)});return Xl(t,t.columnGap,r)}return null};rp.propTypes={};rp.filterProps=["columnGap"];const np=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Xd(t.theme,"spacing",8),r=n=>({rowGap:Yd(e,n)});return Xl(t,t.rowGap,r)}return null};np.propTypes={};np.filterProps=["rowGap"];const a9=vi({prop:"gridColumn"}),s9=vi({prop:"gridRow"}),o9=vi({prop:"gridAutoFlow"}),l9=vi({prop:"gridAutoColumns"}),c9=vi({prop:"gridAutoRows"}),u9=vi({prop:"gridTemplateColumns"}),f9=vi({prop:"gridTemplateRows"}),h9=vi({prop:"gridTemplateAreas"}),d9=vi({prop:"gridArea"});Jm(tp,rp,np,a9,s9,o9,l9,c9,u9,f9,h9,d9);function x0(t,e){return e==="grey"?e:t}const g9=vi({prop:"color",themeKey:"palette",transform:x0}),m9=vi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:x0}),p9=vi({prop:"backgroundColor",themeKey:"palette",transform:x0});Jm(g9,m9,p9);function Rs(t){return t<=1&&t!==0?`${t*100}%`:t}const x9=vi({prop:"width",transform:Rs}),Qy=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var i,a,l,f,m;const n=((l=(a=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:a.values)==null?void 0:l[r])||$m[r];return n?((m=(f=t.theme)==null?void 0:f.breakpoints)==null?void 0:m.unit)!=="px"?{maxWidth:`${n}${t.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Rs(r)}};return Xl(t,t.maxWidth,e)}return null};Qy.filterProps=["maxWidth"];const v9=vi({prop:"minWidth",transform:Rs}),y9=vi({prop:"height",transform:Rs}),_9=vi({prop:"maxHeight",transform:Rs}),E9=vi({prop:"minHeight",transform:Rs});vi({prop:"size",cssProperty:"width",transform:Rs});vi({prop:"size",cssProperty:"height",transform:Rs});const w9=vi({prop:"boxSizing"});Jm(x9,Qy,v9,y9,_9,E9,w9);const ip={border:{themeKey:"borders",transform:io},borderTop:{themeKey:"borders",transform:io},borderRight:{themeKey:"borders",transform:io},borderBottom:{themeKey:"borders",transform:io},borderLeft:{themeKey:"borders",transform:io},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:io},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ep},color:{themeKey:"palette",transform:x0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:x0},backgroundColor:{themeKey:"palette",transform:x0},p:{style:ti},pt:{style:ti},pr:{style:ti},pb:{style:ti},pl:{style:ti},px:{style:ti},py:{style:ti},padding:{style:ti},paddingTop:{style:ti},paddingRight:{style:ti},paddingBottom:{style:ti},paddingLeft:{style:ti},paddingX:{style:ti},paddingY:{style:ti},paddingInline:{style:ti},paddingInlineStart:{style:ti},paddingInlineEnd:{style:ti},paddingBlock:{style:ti},paddingBlockStart:{style:ti},paddingBlockEnd:{style:ti},m:{style:ei},mt:{style:ei},mr:{style:ei},mb:{style:ei},ml:{style:ei},mx:{style:ei},my:{style:ei},margin:{style:ei},marginTop:{style:ei},marginRight:{style:ei},marginBottom:{style:ei},marginLeft:{style:ei},marginX:{style:ei},marginY:{style:ei},marginInline:{style:ei},marginInlineStart:{style:ei},marginInlineEnd:{style:ei},marginBlock:{style:ei},marginBlockStart:{style:ei},marginBlockEnd:{style:ei},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:tp},rowGap:{style:np},columnGap:{style:rp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Rs},maxWidth:{style:Qy},minWidth:{transform:Rs},height:{transform:Rs},maxHeight:{transform:Rs},minHeight:{transform:Rs},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function T9(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function A9(t,e){return typeof t=="function"?t(e):t}function S9(){function t(r,n,i,a){const l={[r]:n,theme:i},f=a[r];if(!f)return{[r]:n};const{cssProperty:m=r,themeKey:g,transform:y,style:E}=f;if(n==null)return null;if(g==="typography"&&n==="inherit")return{[r]:n};const A=Zm(i,g)||{};return E?E(l):Xl(l,n,N=>{let b=lm(A,y,N);return N===b&&typeof N=="string"&&(b=lm(A,y,`${r}${N==="default"?"":Jb(N)}`,N)),m===!1?b:{[m]:b}})}function e(r){const{sx:n,theme:i={},nested:a}=r||{};if(!n)return null;const l=i.unstable_sxConfig??ip;function f(m){let g=m;if(typeof m=="function")g=m(i);else if(typeof m!="object")return m;if(!g)return null;const y=VM(i.breakpoints),E=Object.keys(y);let A=y;return Object.keys(g).forEach(C=>{const N=A9(g[C],i);if(N!=null)if(typeof N=="object")if(l[C])A=$h(A,t(C,N,i,l));else{const b=Xl({theme:i},N,D=>({[C]:D}));T9(b,N)?A[C]=e({sx:N,theme:i,nested:!0}):A=$h(A,b)}else A=$h(A,t(C,N,i,l))}),!a&&i.modularCssLayers?{"@layer sx":LS(i,PS(E,A))}:LS(i,PS(E,A))}return Array.isArray(n)?n.map(f):f(n)}return e}const Kd=S9();Kd.filterProps=["sx"];function C9(t,e){var n;const r=this;if(r.vars){if(!((n=r.colorSchemes)!=null&&n[t])||typeof r.getColorSchemeSelector!="function")return{};let i=r.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return r.palette.mode===t?e:{}}function rI(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:a={},...l}=t,f=MM(r),m=tI(i);let g=Ps({breakpoints:f,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:m,shape:{...BM,...a}},l);return g=PM(g),g.applyStyles=C9,g=e.reduce((y,E)=>Ps(y,E),g),g.unstable_sxConfig={...ip,...l==null?void 0:l.unstable_sxConfig},g.unstable_sx=function(E){return Kd({sx:E,theme:this})},g}function b9(t){return Object.keys(t).length===0}function $y(t=null){const e=pe.useContext(qd);return!e||b9(e)?t:e}const I9=rI();function R9(t=I9){return $y(t)}function X2(t){const e=NM(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function N9({styles:t,themeId:e,defaultTheme:r={}}){const n=R9(r),i=e&&n[e]||n;let a=typeof t=="function"?t(i):t;return i.modularCssLayers&&(Array.isArray(a)?a=a.map(l=>X2(typeof l=="function"?l(i):l)):a=X2(a)),k.jsx(Qb,{styles:a})}const nI=typeof window<"u"?pe.useLayoutEffect:pe.useEffect;function k9(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}function Zy(t,e=0,r=1){return k9(t,e,r)}function D9(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function qc(t){if(t.type)return t;if(t.charAt(0)==="#")return qc(D9(t));const e=t.indexOf("("),r=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(Qu(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Qu(10,i))}else n=n.split(",");return n=n.map(a=>parseFloat(a)),{type:r,values:n,colorSpace:i}}const O9=t=>{const e=qc(t);return e.values.slice(0,3).map((r,n)=>e.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},Bh=(t,e)=>{try{return O9(t)}catch{return t}};function ap(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.includes("rgb")?n=n.map((i,a)=>a<3?parseInt(i,10):i):e.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function iI(t){t=qc(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,a=n*Math.min(i,1-i),l=(g,y=(g+r/30)%12)=>i-a*Math.max(Math.min(y-3,9-y,1),-1);let f="rgb";const m=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return t.type==="hsla"&&(f+="a",m.push(e[3])),ap({type:f,values:m})}function Vv(t){t=qc(t);let e=t.type==="hsl"||t.type==="hsla"?qc(iI(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function M9(t,e){const r=Vv(t),n=Vv(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function aI(t,e){return t=qc(t),e=Zy(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,ap(t)}function Pu(t,e,r){try{return aI(t,e)}catch{return t}}function sp(t,e){if(t=qc(t),e=Zy(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]*=1-e;return ap(t)}function tn(t,e,r){try{return sp(t,e)}catch{return t}}function op(t,e){if(t=qc(t),e=Zy(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return ap(t)}function rn(t,e,r){try{return op(t,e)}catch{return t}}function L9(t,e=.15){return Vv(t)>.5?sp(t,e):op(t,e)}function Tg(t,e,r){try{return L9(t,e)}catch{return t}}const sI=pe.createContext(null);function Jy(){return pe.useContext(sI)}const F9=typeof Symbol=="function"&&Symbol.for,P9=F9?Symbol.for("mui.nested"):"__THEME_NESTED__";function B9(t,e){return typeof e=="function"?e(t):{...t,...e}}function U9(t){const{children:e,theme:r}=t,n=Jy(),i=pe.useMemo(()=>{const a=n===null?{...r}:B9(n,r);return a!=null&&(a[P9]=n!==null),a},[r,n]);return k.jsx(sI.Provider,{value:i,children:e})}const V9=pe.createContext();function j9({value:t,...e}){return k.jsx(V9.Provider,{value:t??!0,...e})}const z9=pe.createContext(void 0);function H9({value:t,children:e}){return k.jsx(z9.Provider,{value:t,children:e})}let US=0;function G9(t){const[e,r]=pe.useState(t),n=t||e;return pe.useEffect(()=>{e==null&&(US+=1,r(`mui-${US}`))},[e]),n}const W9={...Ov},VS=W9.useId;function q9(t){return VS!==void 0?VS():G9(t)}function X9(t){const e=$y(),r=q9()||"",{modularCssLayers:n}=t;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!n||e!==null?i="":typeof n=="string"?i=n.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,nI(()=>{var f,m;const a=document.querySelector("head");if(!a)return;const l=a.firstChild;if(i){if(l&&((f=l.hasAttribute)!=null&&f.call(l,"data-mui-layer-order"))&&l.getAttribute("data-mui-layer-order")===r)return;const g=document.createElement("style");g.setAttribute("data-mui-layer-order",r),g.textContent=i,a.prepend(g)}else(m=a.querySelector(`style[data-mui-layer-order="${r}"]`))==null||m.remove()},[i,r]),i?k.jsx(N9,{styles:i}):null}const jS={};function zS(t,e,r,n=!1){return pe.useMemo(()=>{const i=t&&e[t]||e;if(typeof r=="function"){const a=r(i),l=t?{...e,[t]:a}:a;return n?()=>l:l}return t?{...e,[t]:r}:{...e,...r}},[t,e,r,n])}function oI(t){const{children:e,theme:r,themeId:n}=t,i=$y(jS),a=Jy()||jS,l=zS(n,i,r),f=zS(n,a,r,!0),m=(n?l[n]:l).direction==="rtl",g=X9(l);return k.jsx(U9,{theme:f,children:k.jsx(qd.Provider,{value:l,children:k.jsx(j9,{value:m,children:k.jsxs(H9,{value:n?l[n].components:l.components,children:[g,e]})})})})}const e_="mode",t_="color-scheme",Y9="data-color-scheme";function K9(t){const{defaultMode:e="system",defaultLightColorScheme:r="light",defaultDarkColorScheme:n="dark",modeStorageKey:i=e_,colorSchemeStorageKey:a=t_,attribute:l=Y9,colorSchemeNode:f="document.documentElement",nonce:m}=t||{};let g="",y=l;if(l==="class"&&(y=".%s"),l==="data"&&(y="[data-%s]"),y.startsWith(".")){const A=y.substring(1);g+=`${f}.classList.remove('${A}'.replace('%s', light), '${A}'.replace('%s', dark));
      ${f}.classList.add('${A}'.replace('%s', colorScheme));`}const E=y.match(/\[([^[\]]+)\]/);if(E){const[A,C]=E[1].split("=");C||(g+=`${f}.removeAttribute('${A}'.replace('%s', light));
      ${f}.removeAttribute('${A}'.replace('%s', dark));`),g+=`
      ${f}.setAttribute('${A}'.replace('%s', colorScheme), ${C?`${C}.replace('%s', colorScheme)`:'""'});`}else g+=`${f}.setAttribute('${y}', colorScheme);`;return k.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?m:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${a}-dark') || '${n}';
  const light = localStorage.getItem('${a}-light') || '${r}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${g}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function Q9(){}const $9=({key:t,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(r){if(typeof window>"u")return;if(!e)return r;let n;try{n=e.localStorage.getItem(t)}catch{}return n||r},set:r=>{if(e)try{e.localStorage.setItem(t,r)}catch{}},subscribe:r=>{if(!e)return Q9;const n=i=>{const a=i.newValue;i.key===t&&r(a)};return e.addEventListener("storage",n),()=>{e.removeEventListener("storage",n)}}});function Y2(){}function HS(t){if(typeof window<"u"&&typeof window.matchMedia=="function"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function lI(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function Z9(t){return lI(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function J9(t){const{defaultMode:e="light",defaultLightColorScheme:r,defaultDarkColorScheme:n,supportedColorSchemes:i=[],modeStorageKey:a=e_,colorSchemeStorageKey:l=t_,storageWindow:f=typeof window>"u"?void 0:window,storageManager:m=$9,noSsr:g=!1}=t,y=i.join(","),E=i.length>1,A=pe.useMemo(()=>m==null?void 0:m({key:a,storageWindow:f}),[m,a,f]),C=pe.useMemo(()=>m==null?void 0:m({key:`${l}-light`,storageWindow:f}),[m,l,f]),N=pe.useMemo(()=>m==null?void 0:m({key:`${l}-dark`,storageWindow:f}),[m,l,f]),[b,D]=pe.useState(()=>{const j=(A==null?void 0:A.get(e))||e,U=(C==null?void 0:C.get(r))||r,q=(N==null?void 0:N.get(n))||n;return{mode:j,systemMode:HS(j),lightColorScheme:U,darkColorScheme:q}}),[P,G]=pe.useState(g||!E);pe.useEffect(()=>{G(!0)},[]);const B=Z9(b),Y=pe.useCallback(j=>{D(U=>{if(j===U.mode)return U;const q=j??e;return A==null||A.set(q),{...U,mode:q,systemMode:HS(q)}})},[A,e]),te=pe.useCallback(j=>{j?typeof j=="string"?j&&!y.includes(j)?console.error(`\`${j}\` does not exist in \`theme.colorSchemes\`.`):D(U=>{const q={...U};return lI(U,K=>{K==="light"&&(C==null||C.set(j),q.lightColorScheme=j),K==="dark"&&(N==null||N.set(j),q.darkColorScheme=j)}),q}):D(U=>{const q={...U},K=j.light===null?r:j.light,M=j.dark===null?n:j.dark;return K&&(y.includes(K)?(q.lightColorScheme=K,C==null||C.set(K)):console.error(`\`${K}\` does not exist in \`theme.colorSchemes\`.`)),M&&(y.includes(M)?(q.darkColorScheme=M,N==null||N.set(M)):console.error(`\`${M}\` does not exist in \`theme.colorSchemes\`.`)),q}):D(U=>(C==null||C.set(r),N==null||N.set(n),{...U,lightColorScheme:r,darkColorScheme:n}))},[y,C,N,r,n]),ee=pe.useCallback(j=>{b.mode==="system"&&D(U=>{const q=j!=null&&j.matches?"dark":"light";return U.systemMode===q?U:{...U,systemMode:q}})},[b.mode]),L=pe.useRef(ee);return L.current=ee,pe.useEffect(()=>{if(typeof window.matchMedia!="function"||!E)return;const j=(...q)=>L.current(...q),U=window.matchMedia("(prefers-color-scheme: dark)");return U.addListener(j),j(U),()=>{U.removeListener(j)}},[E]),pe.useEffect(()=>{if(E){const j=(A==null?void 0:A.subscribe(K=>{(!K||["light","dark","system"].includes(K))&&Y(K||e)}))||Y2,U=(C==null?void 0:C.subscribe(K=>{(!K||y.match(K))&&te({light:K})}))||Y2,q=(N==null?void 0:N.subscribe(K=>{(!K||y.match(K))&&te({dark:K})}))||Y2;return()=>{j(),U(),q()}}},[te,Y,y,e,f,E,A,C,N]),{...b,mode:P?b.mode:void 0,systemMode:P?b.systemMode:void 0,colorScheme:P?B:void 0,setMode:Y,setColorScheme:te}}const e7="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function t7(t){const{themeId:e,theme:r={},modeStorageKey:n=e_,colorSchemeStorageKey:i=t_,disableTransitionOnChange:a=!1,defaultColorScheme:l,resolveTheme:f}=t,m={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},g=pe.createContext(void 0),y=()=>pe.useContext(g)||m,E={},A={};function C(P){var or,Gr,yr,Nr;const{children:G,theme:B,modeStorageKey:Y=n,colorSchemeStorageKey:te=i,disableTransitionOnChange:ee=a,storageManager:L,storageWindow:j=typeof window>"u"?void 0:window,documentNode:U=typeof document>"u"?void 0:document,colorSchemeNode:q=typeof document>"u"?void 0:document.documentElement,disableNestedContext:K=!1,disableStyleSheetGeneration:M=!1,defaultMode:Q="system",forceThemeRerender:be=!1,noSsr:xe}=P,_e=pe.useRef(!1),Ae=Jy(),ot=pe.useContext(g),Ce=!!ot&&!K,ht=pe.useMemo(()=>B||(typeof r=="function"?r():r),[B]),ve=ht[e],Z=ve||ht,{colorSchemes:he=E,components:ie=A,cssVarPrefix:fe}=Z,ye=Object.keys(he).filter(It=>!!he[It]).join(","),Ie=pe.useMemo(()=>ye.split(","),[ye]),je=typeof l=="string"?l:l.light,Ve=typeof l=="string"?l:l.dark,$e=he[je]&&he[Ve]?Q:((Gr=(or=he[Z.defaultColorScheme])==null?void 0:or.palette)==null?void 0:Gr.mode)||((yr=Z.palette)==null?void 0:yr.mode),{mode:_t,setMode:me,systemMode:wt,lightColorScheme:kt,darkColorScheme:Wt,colorScheme:jt,setColorScheme:ct}=J9({supportedColorSchemes:Ie,defaultLightColorScheme:je,defaultDarkColorScheme:Ve,modeStorageKey:Y,colorSchemeStorageKey:te,defaultMode:$e,storageManager:L,storageWindow:j,noSsr:xe});let Ot=_t,Ct=jt;Ce&&(Ot=ot.mode,Ct=ot.colorScheme);let ln=Ct||Z.defaultColorScheme;Z.vars&&!be&&(ln=Z.defaultColorScheme);const vt=pe.useMemo(()=>{var Wr;const It=((Wr=Z.generateThemeVars)==null?void 0:Wr.call(Z))||Z.vars,zt={...Z,components:ie,colorSchemes:he,cssVarPrefix:fe,vars:It};if(typeof zt.generateSpacing=="function"&&(zt.spacing=zt.generateSpacing()),ln){const Nt=he[ln];Nt&&typeof Nt=="object"&&Object.keys(Nt).forEach(Je=>{Nt[Je]&&typeof Nt[Je]=="object"?zt[Je]={...zt[Je],...Nt[Je]}:zt[Je]=Nt[Je]})}return f?f(zt):zt},[Z,ln,ie,he,fe]),_i=Z.colorSchemeSelector;nI(()=>{if(Ct&&q&&_i&&_i!=="media"){const It=_i;let zt=_i;if(It==="class"&&(zt=".%s"),It==="data"&&(zt="[data-%s]"),It!=null&&It.startsWith("data-")&&!It.includes("%s")&&(zt=`[${It}="%s"]`),zt.startsWith("."))q.classList.remove(...Ie.map(Wr=>zt.substring(1).replace("%s",Wr))),q.classList.add(zt.substring(1).replace("%s",Ct));else{const Wr=zt.replace("%s",Ct).match(/\[([^\]]+)\]/);if(Wr){const[Nt,Je]=Wr[1].split("=");Je||Ie.forEach(_r=>{q.removeAttribute(Nt.replace(Ct,_r))}),q.setAttribute(Nt,Je?Je.replace(/"|'/g,""):"")}else q.setAttribute(zt,Ct)}}},[Ct,_i,q,Ie]),pe.useEffect(()=>{let It;if(ee&&_e.current&&U){const zt=U.createElement("style");zt.appendChild(U.createTextNode(e7)),U.head.appendChild(zt),window.getComputedStyle(U.body),It=setTimeout(()=>{U.head.removeChild(zt)},1)}return()=>{clearTimeout(It)}},[Ct,ee,U]),pe.useEffect(()=>(_e.current=!0,()=>{_e.current=!1}),[]);const Oi=pe.useMemo(()=>({allColorSchemes:Ie,colorScheme:Ct,darkColorScheme:Wt,lightColorScheme:kt,mode:Ot,setColorScheme:ct,setMode:me,systemMode:wt}),[Ie,Ct,Wt,kt,Ot,ct,me,wt,vt.colorSchemeSelector]);let rr=!0;(M||Z.cssVariables===!1||Ce&&(Ae==null?void 0:Ae.cssVarPrefix)===fe)&&(rr=!1);const ci=k.jsxs(pe.Fragment,{children:[k.jsx(oI,{themeId:ve?e:void 0,theme:vt,children:G}),rr&&k.jsx(Qb,{styles:((Nr=vt.generateStyleSheets)==null?void 0:Nr.call(vt))||[]})]});return Ce?ci:k.jsx(g.Provider,{value:Oi,children:ci})}const N=typeof l=="string"?l:l.light,b=typeof l=="string"?l:l.dark;return{CssVarsProvider:C,useColorScheme:y,getInitColorSchemeScript:P=>K9({colorSchemeStorageKey:i,defaultLightColorScheme:N,defaultDarkColorScheme:b,modeStorageKey:n,...P})}}function r7(t=""){function e(...n){if(!n.length)return"";const i=n[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...n.slice(1))})`:`, ${i}`}return(n,...i)=>`var(--${t?`${t}-`:""}${n}${e(...i)})`}const GS=(t,e,r,n=[])=>{let i=t;e.forEach((a,l)=>{l===e.length-1?Array.isArray(i)?i[Number(a)]=r:i&&typeof i=="object"&&(i[a]=r):i&&typeof i=="object"&&(i[a]||(i[a]=n.includes(a)?[]:{}),i=i[a])})},n7=(t,e,r)=>{function n(i,a=[],l=[]){Object.entries(i).forEach(([f,m])=>{(!r||r&&!r([...a,f]))&&m!=null&&(typeof m=="object"&&Object.keys(m).length>0?n(m,[...a,f],Array.isArray(m)?[...l,f]:l):e([...a,f],m,l))})}n(t)},i7=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>t.includes(n))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function K2(t,e){const{prefix:r,shouldSkipGeneratingVar:n}=e||{},i={},a={},l={};return n7(t,(f,m,g)=>{if((typeof m=="string"||typeof m=="number")&&(!n||!n(f,m))){const y=`--${r?`${r}-`:""}${f.join("-")}`,E=i7(f,m);Object.assign(i,{[y]:E}),GS(a,f,`var(${y})`,g),GS(l,f,`var(${y}, ${E})`,g)}},f=>f[0]==="vars"),{css:i,vars:a,varsWithDefaults:l}}function a7(t,e={}){const{getSelector:r=P,disableCssColorScheme:n,colorSchemeSelector:i,enableContrastVars:a}=e,{colorSchemes:l={},components:f,defaultColorScheme:m="light",...g}=t,{vars:y,css:E,varsWithDefaults:A}=K2(g,e);let C=A;const N={},{[m]:b,...D}=l;if(Object.entries(D||{}).forEach(([Y,te])=>{const{vars:ee,css:L,varsWithDefaults:j}=K2(te,e);C=Ps(C,j),N[Y]={css:L,vars:ee}}),b){const{css:Y,vars:te,varsWithDefaults:ee}=K2(b,e);C=Ps(C,ee),N[m]={css:Y,vars:te}}function P(Y,te){var L,j;let ee=i;if(i==="class"&&(ee=".%s"),i==="data"&&(ee="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(ee=`[${i}="%s"]`),Y){if(ee==="media")return t.defaultColorScheme===Y?":root":{[`@media (prefers-color-scheme: ${((j=(L=l[Y])==null?void 0:L.palette)==null?void 0:j.mode)||Y})`]:{":root":te}};if(ee)return t.defaultColorScheme===Y?`:root, ${ee.replace("%s",String(Y))}`:ee.replace("%s",String(Y))}return":root"}return{vars:C,generateThemeVars:()=>{let Y={...y};return Object.entries(N).forEach(([,{vars:te}])=>{Y=Ps(Y,te)}),Y},generateStyleSheets:()=>{var U,q;const Y=[],te=t.defaultColorScheme||"light";function ee(K,M){Object.keys(M).length&&Y.push(typeof K=="string"?{[K]:{...M}}:K)}ee(r(void 0,{...E}),E);const{[te]:L,...j}=N;if(L){const{css:K}=L,M=(q=(U=l[te])==null?void 0:U.palette)==null?void 0:q.mode,Q=!n&&M?{colorScheme:M,...K}:{...K};ee(r(te,{...Q}),Q)}return Object.entries(j).forEach(([K,{css:M}])=>{var xe,_e;const Q=(_e=(xe=l[K])==null?void 0:xe.palette)==null?void 0:_e.mode,be=!n&&Q?{colorScheme:Q,...M}:{...M};ee(r(K,{...be}),be)}),a&&Y.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),Y}}}function s7(t){return function(r){return t==="media"?`@media (prefers-color-scheme: ${r})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${r}"] &`:t==="class"?`.${r} &`:t==="data"?`[data-${r}] &`:`${t.replace("%s",r)} &`:"&"}}function cI(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:gd.white,default:gd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const uI=cI();function fI(){return{text:{primary:gd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:gd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const jv=fI();function WS(t,e,r,n){const i=n.light||n,a=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=op(t.main,i):e==="dark"&&(t.dark=sp(t.main,a)))}function qS(t,e,r,n,i){const a=i.light||i,l=i.dark||i*1.5;e[r]||(e.hasOwnProperty(n)?e[r]=e[n]:r==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(a*100).toFixed(0)}%)`:r==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(l*100).toFixed(0)}%)`))}function o7(t="light"){return t==="dark"?{main:e0[200],light:e0[50],dark:e0[400]}:{main:e0[700],light:e0[400],dark:e0[800]}}function l7(t="light"){return t==="dark"?{main:Jf[200],light:Jf[50],dark:Jf[400]}:{main:Jf[500],light:Jf[300],dark:Jf[700]}}function c7(t="light"){return t==="dark"?{main:Zf[500],light:Zf[300],dark:Zf[700]}:{main:Zf[700],light:Zf[400],dark:Zf[800]}}function u7(t="light"){return t==="dark"?{main:t0[400],light:t0[300],dark:t0[700]}:{main:t0[700],light:t0[500],dark:t0[900]}}function f7(t="light"){return t==="dark"?{main:r0[400],light:r0[300],dark:r0[700]}:{main:r0[800],light:r0[500],dark:r0[900]}}function h7(t="light"){return t==="dark"?{main:Mh[400],light:Mh[300],dark:Mh[700]}:{main:"#ed6c02",light:Mh[500],dark:Mh[900]}}function d7(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function r_(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2,colorSpace:i,...a}=t,l=t.primary||o7(e),f=t.secondary||l7(e),m=t.error||c7(e),g=t.info||u7(e),y=t.success||f7(e),E=t.warning||h7(e);function A(D){return i?d7(D):M9(D,jv.text.primary)>=r?jv.text.primary:uI.text.primary}const C=({color:D,name:P,mainShade:G=500,lightShade:B=300,darkShade:Y=700})=>{if(D={...D},!D.main&&D[G]&&(D.main=D[G]),!D.hasOwnProperty("main"))throw new Error(Qu(11,P?` (${P})`:"",G));if(typeof D.main!="string")throw new Error(Qu(12,P?` (${P})`:"",JSON.stringify(D.main)));return i?(qS(i,D,"light",B,n),qS(i,D,"dark",Y,n)):(WS(D,"light",B,n),WS(D,"dark",Y,n)),D.contrastText||(D.contrastText=A(D.main)),D};let N;return e==="light"?N=cI():e==="dark"&&(N=fI()),Ps({common:{...gd},mode:e,primary:C({color:l,name:"primary"}),secondary:C({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:m,name:"error"}),warning:C({color:E,name:"warning"}),info:C({color:g,name:"info"}),success:C({color:y,name:"success"}),grey:RO,contrastThreshold:r,getContrastText:A,augmentColor:C,tonalOffset:n,...N},a)}function g7(t){const e={};return Object.entries(t).forEach(n=>{const[i,a]=n;typeof a=="object"&&(e[i]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function m7(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function p7(t){return Math.round(t*1e5)/1e5}const XS={textTransform:"uppercase"},YS='"Roboto", "Helvetica", "Arial", sans-serif';function hI(t,e){const{fontFamily:r=YS,fontSize:n=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:f=700,htmlFontSize:m=16,allVariants:g,pxToRem:y,...E}=typeof e=="function"?e(t):e,A=n/14,C=y||(D=>`${D/m*A}rem`),N=(D,P,G,B,Y)=>({fontFamily:r,fontWeight:D,fontSize:C(P),lineHeight:G,...r===YS?{letterSpacing:`${p7(B/P)}em`}:{},...Y,...g}),b={h1:N(i,96,1.167,-1.5),h2:N(i,60,1.2,-.5),h3:N(a,48,1.167,0),h4:N(a,34,1.235,.25),h5:N(a,24,1.334,0),h6:N(l,20,1.6,.15),subtitle1:N(a,16,1.75,.15),subtitle2:N(l,14,1.57,.1),body1:N(a,16,1.5,.15),body2:N(a,14,1.43,.15),button:N(l,14,1.75,.4,XS),caption:N(a,12,1.66,.4),overline:N(a,12,2.66,1,XS),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ps({htmlFontSize:m,pxToRem:C,fontFamily:r,fontSize:n,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:f,...b},E,{clone:!1})}const x7=.2,v7=.14,y7=.12;function Fn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${x7})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${v7})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${y7})`].join(",")}const _7=["none",Fn(0,2,1,-1,0,1,1,0,0,1,3,0),Fn(0,3,1,-2,0,2,2,0,0,1,5,0),Fn(0,3,3,-2,0,3,4,0,0,1,8,0),Fn(0,2,4,-1,0,4,5,0,0,1,10,0),Fn(0,3,5,-1,0,5,8,0,0,1,14,0),Fn(0,3,5,-1,0,6,10,0,0,1,18,0),Fn(0,4,5,-2,0,7,10,1,0,2,16,1),Fn(0,5,5,-3,0,8,10,1,0,3,14,2),Fn(0,5,6,-3,0,9,12,1,0,3,16,2),Fn(0,6,6,-3,0,10,14,1,0,4,18,3),Fn(0,6,7,-4,0,11,15,1,0,4,20,3),Fn(0,7,8,-4,0,12,17,2,0,5,22,4),Fn(0,7,8,-4,0,13,19,2,0,5,24,4),Fn(0,7,9,-4,0,14,21,2,0,5,26,4),Fn(0,8,9,-5,0,15,22,2,0,6,28,5),Fn(0,8,10,-5,0,16,24,2,0,6,30,5),Fn(0,8,11,-5,0,17,26,2,0,6,32,5),Fn(0,9,11,-5,0,18,28,2,0,7,34,6),Fn(0,9,12,-6,0,19,29,2,0,7,36,6),Fn(0,10,13,-6,0,20,31,3,0,8,38,7),Fn(0,10,13,-6,0,21,33,3,0,8,40,7),Fn(0,10,14,-6,0,22,35,3,0,8,42,7),Fn(0,11,14,-7,0,23,36,3,0,9,44,8),Fn(0,11,15,-7,0,24,38,3,0,9,46,8)],E7={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},w7={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function KS(t){return`${Math.round(t)}ms`}function T7(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function A7(t){const e={...E7,...t.easing},r={...w7,...t.duration};return{getAutoHeightDuration:T7,create:(i=["all"],a={})=>{const{duration:l=r.standard,easing:f=e.easeInOut,delay:m=0,...g}=a;return(Array.isArray(i)?i:[i]).map(y=>`${y} ${typeof l=="string"?l:KS(l)} ${f} ${typeof m=="string"?m:KS(m)}`).join(",")},...t,easing:e,duration:r}}const S7={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function C7(t){return Oc(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function dI(t={}){const e={...t};function r(n){const i=Object.entries(n);for(let a=0;a<i.length;a++){const[l,f]=i[a];!C7(f)||l.startsWith("unstable_")?delete n[l]:Oc(f)&&(n[l]={...f},r(n[l]))}}return r(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function QS(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const b7=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let r=0;for(let n=0;n<e.length;n+=1)r+=+e[n];return r};function I7(t){Object.assign(t,{alpha(e,r){const n=this||t;return n.colorSpace?`oklch(from ${e} l c h / ${typeof r=="string"?`calc(${r})`:r})`:n.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof r=="string"?`calc(${r})`:r})`:aI(e,b7(r))},lighten(e,r){const n=this||t;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${e}, #fff ${QS(r)})`:op(e,r)},darken(e,r){const n=this||t;return n.colorSpace?`color-mix(in ${n.colorSpace}, ${e}, #000 ${QS(r)})`:sp(e,r)}})}function zv(t={},...e){const{breakpoints:r,mixins:n={},spacing:i,palette:a={},transitions:l={},typography:f={},shape:m,colorSpace:g,...y}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(Qu(20));const E=r_({...a,colorSpace:g}),A=rI(t);let C=Ps(A,{mixins:m7(A.breakpoints,n),palette:E,shadows:_7.slice(),typography:hI(E,f),transitions:A7(l),zIndex:{...S7}});return C=Ps(C,y),C=e.reduce((N,b)=>Ps(N,b),C),C.unstable_sxConfig={...ip,...y==null?void 0:y.unstable_sxConfig},C.unstable_sx=function(b){return Kd({sx:b,theme:this})},C.toRuntimeSource=dI,I7(C),C}function R7(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const N7=[...Array(25)].map((t,e)=>{if(e===0)return"none";const r=R7(e);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function gI(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function mI(t){return t==="dark"?N7:[]}function k7(t){const{palette:e={mode:"light"},opacity:r,overlays:n,colorSpace:i,...a}=t,l=r_({...e,colorSpace:i});return{palette:l,opacity:{...gI(l.mode),...r},overlays:n||mI(l.mode),...a}}function D7(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const O7=t=>[...[...Array(25)].map((e,r)=>`--${t?`${t}-`:""}overlays-${r}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],M7=t=>(e,r)=>{const n=t.rootSelector||":root",i=t.colorSchemeSelector;let a=i;if(i==="class"&&(a=".%s"),i==="data"&&(a="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(a=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const l={};return O7(t.cssVarPrefix).forEach(f=>{l[f]=r[f],delete r[f]}),a==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:l}}:a?{[a.replace("%s",e)]:l,[`${n}, ${a.replace("%s",e)}`]:r}:{[n]:{...r,...l}}}if(a&&a!=="media")return`${n}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[n]:r}};if(a)return a.replace("%s",String(e))}return n};function L7(t,e){e.forEach(r=>{t[r]||(t[r]={})})}function Qe(t,e,r){!t[e]&&r&&(t[e]=r)}function Uh(t){return typeof t!="string"||!t.startsWith("hsl")?t:iI(t)}function Ll(t,e){`${e}Channel`in t||(t[`${e}Channel`]=Bh(Uh(t[e])))}function F7(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Vo=t=>{try{return t()}catch{}},P7=(t="mui")=>r7(t);function Q2(t,e,r,n,i){if(!r)return;r=r===!0?{}:r;const a=i==="dark"?"dark":"light";if(!n){e[i]=k7({...r,palette:{mode:a,...r==null?void 0:r.palette},colorSpace:t});return}const{palette:l,...f}=zv({...n,palette:{mode:a,...r==null?void 0:r.palette},colorSpace:t});return e[i]={...r,palette:l,opacity:{...gI(a),...r==null?void 0:r.opacity},overlays:(r==null?void 0:r.overlays)||mI(a)},f}function B7(t={},...e){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:i=!1,cssVarPrefix:a="mui",nativeColor:l=!1,shouldSkipGeneratingVar:f=D7,colorSchemeSelector:m=r.light&&r.dark?"media":void 0,rootSelector:g=":root",...y}=t,E=Object.keys(r)[0],A=n||(r.light&&E!=="light"?"light":E),C=P7(a),{[A]:N,light:b,dark:D,...P}=r,G={...P};let B=N;if((A==="dark"&&!("dark"in r)||A==="light"&&!("light"in r))&&(B=!0),!B)throw new Error(Qu(21,A));let Y;l&&(Y="oklch");const te=Q2(Y,G,B,y,A);b&&!G.light&&Q2(Y,G,b,void 0,"light"),D&&!G.dark&&Q2(Y,G,D,void 0,"dark");let ee={defaultColorScheme:A,...te,cssVarPrefix:a,colorSchemeSelector:m,rootSelector:g,getCssVar:C,colorSchemes:G,font:{...g7(te.typography),...te.font},spacing:F7(y.spacing)};Object.keys(ee.colorSchemes).forEach(K=>{const M=ee.colorSchemes[K].palette,Q=xe=>{const _e=xe.split("-"),Ae=_e[1],ot=_e[2];return C(xe,M[Ae][ot])};M.mode==="light"&&(Qe(M.common,"background","#fff"),Qe(M.common,"onBackground","#000")),M.mode==="dark"&&(Qe(M.common,"background","#000"),Qe(M.common,"onBackground","#fff"));function be(xe,_e,Ae){if(Y){let ot;return xe===Pu&&(ot=`transparent ${((1-Ae)*100).toFixed(0)}%`),xe===tn&&(ot=`#000 ${(Ae*100).toFixed(0)}%`),xe===rn&&(ot=`#fff ${(Ae*100).toFixed(0)}%`),`color-mix(in ${Y}, ${_e}, ${ot})`}return xe(_e,Ae)}if(L7(M,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),M.mode==="light"){Qe(M.Alert,"errorColor",be(tn,M.error.light,.6)),Qe(M.Alert,"infoColor",be(tn,M.info.light,.6)),Qe(M.Alert,"successColor",be(tn,M.success.light,.6)),Qe(M.Alert,"warningColor",be(tn,M.warning.light,.6)),Qe(M.Alert,"errorFilledBg",Q("palette-error-main")),Qe(M.Alert,"infoFilledBg",Q("palette-info-main")),Qe(M.Alert,"successFilledBg",Q("palette-success-main")),Qe(M.Alert,"warningFilledBg",Q("palette-warning-main")),Qe(M.Alert,"errorFilledColor",Vo(()=>M.getContrastText(M.error.main))),Qe(M.Alert,"infoFilledColor",Vo(()=>M.getContrastText(M.info.main))),Qe(M.Alert,"successFilledColor",Vo(()=>M.getContrastText(M.success.main))),Qe(M.Alert,"warningFilledColor",Vo(()=>M.getContrastText(M.warning.main))),Qe(M.Alert,"errorStandardBg",be(rn,M.error.light,.9)),Qe(M.Alert,"infoStandardBg",be(rn,M.info.light,.9)),Qe(M.Alert,"successStandardBg",be(rn,M.success.light,.9)),Qe(M.Alert,"warningStandardBg",be(rn,M.warning.light,.9)),Qe(M.Alert,"errorIconColor",Q("palette-error-main")),Qe(M.Alert,"infoIconColor",Q("palette-info-main")),Qe(M.Alert,"successIconColor",Q("palette-success-main")),Qe(M.Alert,"warningIconColor",Q("palette-warning-main")),Qe(M.AppBar,"defaultBg",Q("palette-grey-100")),Qe(M.Avatar,"defaultBg",Q("palette-grey-400")),Qe(M.Button,"inheritContainedBg",Q("palette-grey-300")),Qe(M.Button,"inheritContainedHoverBg",Q("palette-grey-A100")),Qe(M.Chip,"defaultBorder",Q("palette-grey-400")),Qe(M.Chip,"defaultAvatarColor",Q("palette-grey-700")),Qe(M.Chip,"defaultIconColor",Q("palette-grey-700")),Qe(M.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Qe(M.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Qe(M.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Qe(M.LinearProgress,"primaryBg",be(rn,M.primary.main,.62)),Qe(M.LinearProgress,"secondaryBg",be(rn,M.secondary.main,.62)),Qe(M.LinearProgress,"errorBg",be(rn,M.error.main,.62)),Qe(M.LinearProgress,"infoBg",be(rn,M.info.main,.62)),Qe(M.LinearProgress,"successBg",be(rn,M.success.main,.62)),Qe(M.LinearProgress,"warningBg",be(rn,M.warning.main,.62)),Qe(M.Skeleton,"bg",Y?be(Pu,M.text.primary,.11):`rgba(${Q("palette-text-primaryChannel")} / 0.11)`),Qe(M.Slider,"primaryTrack",be(rn,M.primary.main,.62)),Qe(M.Slider,"secondaryTrack",be(rn,M.secondary.main,.62)),Qe(M.Slider,"errorTrack",be(rn,M.error.main,.62)),Qe(M.Slider,"infoTrack",be(rn,M.info.main,.62)),Qe(M.Slider,"successTrack",be(rn,M.success.main,.62)),Qe(M.Slider,"warningTrack",be(rn,M.warning.main,.62));const xe=Y?be(tn,M.background.default,.6825):Tg(M.background.default,.8);Qe(M.SnackbarContent,"bg",xe),Qe(M.SnackbarContent,"color",Vo(()=>Y?jv.text.primary:M.getContrastText(xe))),Qe(M.SpeedDialAction,"fabHoverBg",Tg(M.background.paper,.15)),Qe(M.StepConnector,"border",Q("palette-grey-400")),Qe(M.StepContent,"border",Q("palette-grey-400")),Qe(M.Switch,"defaultColor",Q("palette-common-white")),Qe(M.Switch,"defaultDisabledColor",Q("palette-grey-100")),Qe(M.Switch,"primaryDisabledColor",be(rn,M.primary.main,.62)),Qe(M.Switch,"secondaryDisabledColor",be(rn,M.secondary.main,.62)),Qe(M.Switch,"errorDisabledColor",be(rn,M.error.main,.62)),Qe(M.Switch,"infoDisabledColor",be(rn,M.info.main,.62)),Qe(M.Switch,"successDisabledColor",be(rn,M.success.main,.62)),Qe(M.Switch,"warningDisabledColor",be(rn,M.warning.main,.62)),Qe(M.TableCell,"border",be(rn,be(Pu,M.divider,1),.88)),Qe(M.Tooltip,"bg",be(Pu,M.grey[700],.92))}if(M.mode==="dark"){Qe(M.Alert,"errorColor",be(rn,M.error.light,.6)),Qe(M.Alert,"infoColor",be(rn,M.info.light,.6)),Qe(M.Alert,"successColor",be(rn,M.success.light,.6)),Qe(M.Alert,"warningColor",be(rn,M.warning.light,.6)),Qe(M.Alert,"errorFilledBg",Q("palette-error-dark")),Qe(M.Alert,"infoFilledBg",Q("palette-info-dark")),Qe(M.Alert,"successFilledBg",Q("palette-success-dark")),Qe(M.Alert,"warningFilledBg",Q("palette-warning-dark")),Qe(M.Alert,"errorFilledColor",Vo(()=>M.getContrastText(M.error.dark))),Qe(M.Alert,"infoFilledColor",Vo(()=>M.getContrastText(M.info.dark))),Qe(M.Alert,"successFilledColor",Vo(()=>M.getContrastText(M.success.dark))),Qe(M.Alert,"warningFilledColor",Vo(()=>M.getContrastText(M.warning.dark))),Qe(M.Alert,"errorStandardBg",be(tn,M.error.light,.9)),Qe(M.Alert,"infoStandardBg",be(tn,M.info.light,.9)),Qe(M.Alert,"successStandardBg",be(tn,M.success.light,.9)),Qe(M.Alert,"warningStandardBg",be(tn,M.warning.light,.9)),Qe(M.Alert,"errorIconColor",Q("palette-error-main")),Qe(M.Alert,"infoIconColor",Q("palette-info-main")),Qe(M.Alert,"successIconColor",Q("palette-success-main")),Qe(M.Alert,"warningIconColor",Q("palette-warning-main")),Qe(M.AppBar,"defaultBg",Q("palette-grey-900")),Qe(M.AppBar,"darkBg",Q("palette-background-paper")),Qe(M.AppBar,"darkColor",Q("palette-text-primary")),Qe(M.Avatar,"defaultBg",Q("palette-grey-600")),Qe(M.Button,"inheritContainedBg",Q("palette-grey-800")),Qe(M.Button,"inheritContainedHoverBg",Q("palette-grey-700")),Qe(M.Chip,"defaultBorder",Q("palette-grey-700")),Qe(M.Chip,"defaultAvatarColor",Q("palette-grey-300")),Qe(M.Chip,"defaultIconColor",Q("palette-grey-300")),Qe(M.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Qe(M.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Qe(M.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Qe(M.LinearProgress,"primaryBg",be(tn,M.primary.main,.5)),Qe(M.LinearProgress,"secondaryBg",be(tn,M.secondary.main,.5)),Qe(M.LinearProgress,"errorBg",be(tn,M.error.main,.5)),Qe(M.LinearProgress,"infoBg",be(tn,M.info.main,.5)),Qe(M.LinearProgress,"successBg",be(tn,M.success.main,.5)),Qe(M.LinearProgress,"warningBg",be(tn,M.warning.main,.5)),Qe(M.Skeleton,"bg",Y?be(Pu,M.text.primary,.13):`rgba(${Q("palette-text-primaryChannel")} / 0.13)`),Qe(M.Slider,"primaryTrack",be(tn,M.primary.main,.5)),Qe(M.Slider,"secondaryTrack",be(tn,M.secondary.main,.5)),Qe(M.Slider,"errorTrack",be(tn,M.error.main,.5)),Qe(M.Slider,"infoTrack",be(tn,M.info.main,.5)),Qe(M.Slider,"successTrack",be(tn,M.success.main,.5)),Qe(M.Slider,"warningTrack",be(tn,M.warning.main,.5));const xe=Y?be(rn,M.background.default,.985):Tg(M.background.default,.98);Qe(M.SnackbarContent,"bg",xe),Qe(M.SnackbarContent,"color",Vo(()=>Y?uI.text.primary:M.getContrastText(xe))),Qe(M.SpeedDialAction,"fabHoverBg",Tg(M.background.paper,.15)),Qe(M.StepConnector,"border",Q("palette-grey-600")),Qe(M.StepContent,"border",Q("palette-grey-600")),Qe(M.Switch,"defaultColor",Q("palette-grey-300")),Qe(M.Switch,"defaultDisabledColor",Q("palette-grey-600")),Qe(M.Switch,"primaryDisabledColor",be(tn,M.primary.main,.55)),Qe(M.Switch,"secondaryDisabledColor",be(tn,M.secondary.main,.55)),Qe(M.Switch,"errorDisabledColor",be(tn,M.error.main,.55)),Qe(M.Switch,"infoDisabledColor",be(tn,M.info.main,.55)),Qe(M.Switch,"successDisabledColor",be(tn,M.success.main,.55)),Qe(M.Switch,"warningDisabledColor",be(tn,M.warning.main,.55)),Qe(M.TableCell,"border",be(tn,be(Pu,M.divider,1),.68)),Qe(M.Tooltip,"bg",be(Pu,M.grey[700],.92))}Ll(M.background,"default"),Ll(M.background,"paper"),Ll(M.common,"background"),Ll(M.common,"onBackground"),Ll(M,"divider"),Object.keys(M).forEach(xe=>{const _e=M[xe];xe!=="tonalOffset"&&_e&&typeof _e=="object"&&(_e.main&&Qe(M[xe],"mainChannel",Bh(Uh(_e.main))),_e.light&&Qe(M[xe],"lightChannel",Bh(Uh(_e.light))),_e.dark&&Qe(M[xe],"darkChannel",Bh(Uh(_e.dark))),_e.contrastText&&Qe(M[xe],"contrastTextChannel",Bh(Uh(_e.contrastText))),xe==="text"&&(Ll(M[xe],"primary"),Ll(M[xe],"secondary")),xe==="action"&&(_e.active&&Ll(M[xe],"active"),_e.selected&&Ll(M[xe],"selected")))})}),ee=e.reduce((K,M)=>Ps(K,M),ee);const L={prefix:a,disableCssColorScheme:i,shouldSkipGeneratingVar:f,getSelector:M7(ee),enableContrastVars:l},{vars:j,generateThemeVars:U,generateStyleSheets:q}=a7(ee,L);return ee.vars=j,Object.entries(ee.colorSchemes[ee.defaultColorScheme]).forEach(([K,M])=>{ee[K]=M}),ee.generateThemeVars=U,ee.generateStyleSheets=q,ee.generateSpacing=function(){return tI(y.spacing,Ky(this))},ee.getColorSchemeSelector=s7(m),ee.spacing=ee.generateSpacing(),ee.shouldSkipGeneratingVar=f,ee.unstable_sxConfig={...ip,...y==null?void 0:y.unstable_sxConfig},ee.unstable_sx=function(M){return Kd({sx:M,theme:this})},ee.toRuntimeSource=dI,ee}function $S(t,e,r){t.colorSchemes&&r&&(t.colorSchemes[e]={...r!==!0&&r,palette:r_({...r===!0?{}:r.palette,mode:e})})}function pI(t={},...e){const{palette:r,cssVariables:n=!1,colorSchemes:i=r?void 0:{light:!0},defaultColorScheme:a=r==null?void 0:r.mode,...l}=t,f=a||"light",m=i==null?void 0:i[f],g={...i,...r?{[f]:{...typeof m!="boolean"&&m,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in t))return zv(t,...e);let y=r;"palette"in t||g[f]&&(g[f]!==!0?y=g[f].palette:f==="dark"&&(y={mode:"dark"}));const E=zv({...t,palette:y},...e);return E.defaultColorScheme=f,E.colorSchemes=g,E.palette.mode==="light"&&(E.colorSchemes.light={...g.light!==!0&&g.light,palette:E.palette},$S(E,"dark",g.dark)),E.palette.mode==="dark"&&(E.colorSchemes.dark={...g.dark!==!0&&g.dark,palette:E.palette},$S(E,"light",g.light)),E}return!r&&!("light"in g)&&f==="light"&&(g.light=!0),B7({...l,colorSchemes:g,defaultColorScheme:f,...typeof n!="boolean"&&n},...e)}function U7({theme:t,...e}){const r=m0 in t?t[m0]:void 0;return k.jsx(oI,{...e,themeId:r?m0:void 0,theme:r||t})}const Ag={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:V7}=t7({themeId:m0,theme:()=>pI({cssVariables:!0}),colorSchemeStorageKey:Ag.colorSchemeStorageKey,modeStorageKey:Ag.modeStorageKey,defaultColorScheme:{light:Ag.defaultLightColorScheme,dark:Ag.defaultDarkColorScheme},resolveTheme:t=>{const e={...t,typography:hI(t.palette,t.typography)};return e.unstable_sx=function(n){return Kd({sx:n,theme:this})},e}}),j7=V7;function z7({theme:t,...e}){const r=pe.useMemo(()=>{if(typeof t=="function")return t;const n=m0 in t?t[m0]:t;return"colorSchemes"in n?null:"vars"in n?t:{...t,vars:null}},[t]);return r?k.jsx(U7,{theme:r,...e}):k.jsx(j7,{theme:t,...e})}const H7=()=>{};var ZS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},G7=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],l=t[r++],f=t[r++],m=((i&7)<<18|(a&63)<<12|(l&63)<<6|f&63)-65536;e[n++]=String.fromCharCode(55296+(m>>10)),e[n++]=String.fromCharCode(56320+(m&1023))}else{const a=t[r++],l=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},vI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,f=l?t[i+1]:0,m=i+2<t.length,g=m?t[i+2]:0,y=a>>2,E=(a&3)<<4|f>>4;let A=(f&15)<<2|g>>6,C=g&63;m||(C=64,l||(A=64)),n.push(r[y],r[E],r[A],r[C])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):G7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],f=i<t.length?r[t.charAt(i)]:0;++i;const g=i<t.length?r[t.charAt(i)]:64;++i;const E=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||f==null||g==null||E==null)throw new W7;const A=a<<2|f>>4;if(n.push(A),g!==64){const C=f<<4&240|g>>2;if(n.push(C),E!==64){const N=g<<6&192|E;n.push(N)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class W7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q7=function(t){const e=xI(t);return vI.encodeByteArray(e,!0)},cm=function(t){return q7(t).replace(/\./g,"")},yI=function(t){try{return vI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7=()=>X7().__FIREBASE_DEFAULTS__,K7=()=>{if(typeof process>"u"||typeof ZS>"u")return;const t=ZS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Q7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yI(t[1]);return e&&JSON.parse(e)},lp=()=>{try{return H7()||Y7()||K7()||Q7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_I=t=>{var e,r;return(r=(e=lp())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},EI=t=>{const e=_I(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},wI=()=>{var t;return(t=lp())===null||t===void 0?void 0:t.config},TI=t=>{var e;return(e=lp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function n_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cm(JSON.stringify(r)),cm(JSON.stringify(l)),""].join(".")}const Zh={};function Z7(){const t={prod:[],emulator:[]};for(const e of Object.keys(Zh))Zh[e]?t.emulator.push(e):t.prod.push(e);return t}function J7(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let JS=!1;function i_(t,e){if(typeof window>"u"||typeof document>"u"||!lu(window.location.host)||Zh[t]===e||Zh[t]||JS)return;Zh[t]=e;function r(A){return`__firebase__banner__${A}`}const n="__firebase__banner",a=Z7().prod.length>0;function l(){const A=document.getElementById(n);A&&A.remove()}function f(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function m(A,C){A.setAttribute("width","24"),A.setAttribute("id",C),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{JS=!0,l()},A}function y(A,C){A.setAttribute("id",C),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=J7(n),C=r("text"),N=document.getElementById(C)||document.createElement("span"),b=r("learnmore"),D=document.getElementById(b)||document.createElement("a"),P=r("preprendIcon"),G=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const B=A.element;f(B),y(D,b);const Y=g();m(G,P),B.append(G,N,D,Y),document.body.appendChild(B)}a?(N.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ba())}function tL(){var t;const e=(t=lp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aL(){const t=ba();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sL(){return!tL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oL(){try{return typeof indexedDB=="object"}catch{return!1}}function lL(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="FirebaseError";class ll extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=cL,Object.setPrototypeOf(this,ll.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qd.prototype.create)}}class Qd{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?uL(a,n):"Error",f=`${this.serviceName}: ${l} (${i}).`;return new ll(i,f,n)}}function uL(t,e){return t.replace(fL,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const fL=/\{\$([^}]+)}/g;function hL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $u(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],l=e[i];if(eC(a)&&eC(l)){if(!$u(a,l))return!1}else if(a!==l)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function eC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Vh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function jh(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function dL(t,e){const r=new gL(t,e);return r.subscribe.bind(r)}class gL{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");mL(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=$2),i.error===void 0&&(i.error=$2),i.complete===void 0&&(i.complete=$2);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mL(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function $2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t){return t&&t._delegate?t._delegate:t}class Xc{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new $7;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vL(e))try{this.getOrInitializeService({instanceIdentifier:Bu})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Bu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bu){return this.instances.has(e)}getOptions(e=Bu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,l]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);n===f&&l.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:xL(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Bu){return this.component?this.component.multipleInstances?e:Bu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xL(t){return t===Bu?void 0:t}function vL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new pL(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Cr||(Cr={}));const _L={debug:Cr.DEBUG,verbose:Cr.VERBOSE,info:Cr.INFO,warn:Cr.WARN,error:Cr.ERROR,silent:Cr.SILENT},EL=Cr.INFO,wL={[Cr.DEBUG]:"log",[Cr.VERBOSE]:"log",[Cr.INFO]:"info",[Cr.WARN]:"warn",[Cr.ERROR]:"error"},TL=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=wL[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class a_{constructor(e){this.name=e,this._logLevel=EL,this._logHandler=TL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Cr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_L[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Cr.DEBUG,...e),this._logHandler(this,Cr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Cr.VERBOSE,...e),this._logHandler(this,Cr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Cr.INFO,...e),this._logHandler(this,Cr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Cr.WARN,...e),this._logHandler(this,Cr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Cr.ERROR,...e),this._logHandler(this,Cr.ERROR,...e)}}const AL=(t,e)=>e.some(r=>t instanceof r);let tC,rC;function SL(){return tC||(tC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CL(){return rC||(rC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SI=new WeakMap,Hv=new WeakMap,CI=new WeakMap,Z2=new WeakMap,s_=new WeakMap;function bL(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{r(zc(t.result)),i()},l=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(r=>{r instanceof IDBCursor&&SI.set(r,t)}).catch(()=>{}),s_.set(e,t),e}function IL(t){if(Hv.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{r(),i()},l=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Hv.set(t,e)}let Gv={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Hv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CI.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return zc(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RL(t){Gv=t(Gv)}function NL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(J2(this),e,...r);return CI.set(n,e.sort?e.sort():[e]),zc(n)}:CL().includes(t)?function(...e){return t.apply(J2(this),e),zc(SI.get(this))}:function(...e){return zc(t.apply(J2(this),e))}}function kL(t){return typeof t=="function"?NL(t):(t instanceof IDBTransaction&&IL(t),AL(t,SL())?new Proxy(t,Gv):t)}function zc(t){if(t instanceof IDBRequest)return bL(t);if(Z2.has(t))return Z2.get(t);const e=kL(t);return e!==t&&(Z2.set(t,e),s_.set(e,t)),e}const J2=t=>s_.get(t);function DL(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),f=zc(l);return n&&l.addEventListener("upgradeneeded",m=>{n(zc(l.result),m.oldVersion,m.newVersion,zc(l.transaction),m)}),r&&l.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),f.then(m=>{a&&m.addEventListener("close",()=>a()),i&&m.addEventListener("versionchange",g=>i(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const OL=["get","getKey","getAll","getAllKeys","count"],ML=["put","add","delete","clear"],ev=new Map;function nC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ev.get(e))return ev.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=ML.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||OL.includes(r)))return;const a=async function(l,...f){const m=this.transaction(l,i?"readwrite":"readonly");let g=m.store;return n&&(g=g.index(f.shift())),(await Promise.all([g[r](...f),i&&m.done]))[0]};return ev.set(e,a),a}RL(t=>({...t,get:(e,r,n)=>nC(e,r)||t.get(e,r,n),has:(e,r)=>!!nC(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(FL(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function FL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wv="@firebase/app",iC="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=new a_("@firebase/app"),PL="@firebase/app-compat",BL="@firebase/analytics-compat",UL="@firebase/analytics",VL="@firebase/app-check-compat",jL="@firebase/app-check",zL="@firebase/auth",HL="@firebase/auth-compat",GL="@firebase/database",WL="@firebase/data-connect",qL="@firebase/database-compat",XL="@firebase/functions",YL="@firebase/functions-compat",KL="@firebase/installations",QL="@firebase/installations-compat",$L="@firebase/messaging",ZL="@firebase/messaging-compat",JL="@firebase/performance",eF="@firebase/performance-compat",tF="@firebase/remote-config",rF="@firebase/remote-config-compat",nF="@firebase/storage",iF="@firebase/storage-compat",aF="@firebase/firestore",sF="@firebase/ai",oF="@firebase/firestore-compat",lF="firebase",cF="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="[DEFAULT]",uF={[Wv]:"fire-core",[PL]:"fire-core-compat",[UL]:"fire-analytics",[BL]:"fire-analytics-compat",[jL]:"fire-app-check",[VL]:"fire-app-check-compat",[zL]:"fire-auth",[HL]:"fire-auth-compat",[GL]:"fire-rtdb",[WL]:"fire-data-connect",[qL]:"fire-rtdb-compat",[XL]:"fire-fn",[YL]:"fire-fn-compat",[KL]:"fire-iid",[QL]:"fire-iid-compat",[$L]:"fire-fcm",[ZL]:"fire-fcm-compat",[JL]:"fire-perf",[eF]:"fire-perf-compat",[tF]:"fire-rc",[rF]:"fire-rc-compat",[nF]:"fire-gcs",[iF]:"fire-gcs-compat",[aF]:"fire-fst",[oF]:"fire-fst-compat",[sF]:"fire-vertex","fire-js":"fire-js",[lF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=new Map,fF=new Map,Xv=new Map;function aC(t,e){try{t.container.addComponent(e)}catch(r){Yl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Zu(t){const e=t.name;if(Xv.has(e))return Yl.debug(`There were multiple attempts to register component ${e}.`),!1;Xv.set(e,t);for(const r of um.values())aC(r,t);for(const r of fF.values())aC(r,t);return!0}function cp(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Ns(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hc=new Qd("app","Firebase",hF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Xc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=cF;function bI(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:qv,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw Hc.create("bad-app-name",{appName:String(i)});if(r||(r=wI()),!r)throw Hc.create("no-options");const a=um.get(i);if(a){if($u(r,a.options)&&$u(n,a.config))return a;throw Hc.create("duplicate-app",{appName:i})}const l=new yL(i);for(const m of Xv.values())l.addComponent(m);const f=new dF(r,n,l);return um.set(i,f),f}function o_(t=qv){const e=um.get(t);if(!e&&t===qv&&wI())return bI();if(!e)throw Hc.create("no-app",{appName:t});return e}function Jo(t,e,r){var n;let i=(n=uF[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const f=[`Unable to register library "${i}" with version "${e}":`];a&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&f.push("and"),l&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yl.warn(f.join(" "));return}Zu(new Xc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="firebase-heartbeat-database",mF=1,vd="firebase-heartbeat-store";let tv=null;function II(){return tv||(tv=DL(gF,mF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vd)}catch(r){console.warn(r)}}}}).catch(t=>{throw Hc.create("idb-open",{originalErrorMessage:t.message})})),tv}async function pF(t){try{const r=(await II()).transaction(vd),n=await r.objectStore(vd).get(RI(t));return await r.done,n}catch(e){if(e instanceof ll)Yl.warn(e.message);else{const r=Hc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yl.warn(r.message)}}}async function sC(t,e){try{const n=(await II()).transaction(vd,"readwrite");await n.objectStore(vd).put(e,RI(t)),await n.done}catch(r){if(r instanceof ll)Yl.warn(r.message);else{const n=Hc.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Yl.warn(n.message)}}}function RI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=1024,vF=30;class yF{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new EF(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=oC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>vF){const l=wF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Yl.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=oC(),{heartbeatsToSend:n,unsentEntries:i}=_F(this._heartbeatsCache.heartbeats),a=cm(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Yl.warn(r),""}}}function oC(){return new Date().toISOString().substring(0,10)}function _F(t,e=xF){const r=[];let n=t.slice();for(const i of t){const a=r.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),lC(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),lC(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class EF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oL()?lL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await pF(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return sC(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return sC(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lC(t){return cm(JSON.stringify({version:2,heartbeats:t})).length}function wF(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){Zu(new Xc("platform-logger",e=>new LL(e),"PRIVATE")),Zu(new Xc("heartbeat",e=>new yF(e),"PRIVATE")),Jo(Wv,iC,t),Jo(Wv,iC,"esm2017"),Jo("fire-js","")}TF("");function l_(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function NI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AF=NI,kI=new Qd("auth","Firebase",NI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=new a_("@firebase/auth");function SF(t,...e){fm.logLevel<=Cr.WARN&&fm.warn(`Auth (${ff}): ${t}`,...e)}function Qg(t,...e){fm.logLevel<=Cr.ERROR&&fm.error(`Auth (${ff}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t,...e){throw c_(t,...e)}function el(t,...e){return c_(t,...e)}function DI(t,e,r){const n=Object.assign(Object.assign({},AF()),{[e]:r});return new Qd("auth","Firebase",n).create(e,{appName:t.name})}function jl(t){return DI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c_(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return kI.create(t,...e)}function Yt(t,e,...r){if(!t)throw c_(e,...r)}function Fl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qg(e),new Error(e)}function Kl(t,e){t||Fl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function CF(){return cC()==="http:"||cC()==="https:"}function cC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CF()||nL()||"connection"in navigator)?navigator.onLine:!0}function IF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,r){this.shortDelay=e,this.longDelay=r,Kl(r>e,"Short delay should be less than long delay!"),this.isMobile=eL()||iL()}get(){return bF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t,e){Kl(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kF=new Zd(3e4,6e4);function cu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ec(t,e,r,n,i={}){return MI(t,i,async()=>{let a={},l={};n&&(e==="GET"?l=n:a={body:JSON.stringify(n)});const f=$d(Object.assign({key:t.config.apiKey},l)).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:m},a);return rL()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&lu(t.emulatorConfig.host)&&(g.credentials="include"),OI.fetch()(await LI(t,t.config.apiHost,r,f),g)})}async function MI(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},RF),e);try{const i=new OF(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Sg(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const f=a.ok?l.errorMessage:l.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sg(t,"credential-already-in-use",l);if(m==="EMAIL_EXISTS")throw Sg(t,"email-already-in-use",l);if(m==="USER_DISABLED")throw Sg(t,"user-disabled",l);const y=n[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw DI(t,y,g);Io(t,y)}}catch(i){if(i instanceof ll)throw i;Io(t,"network-request-failed",{message:String(i)})}}async function Jd(t,e,r,n,i={}){const a=await ec(t,e,r,n,i);return"mfaPendingCredential"in a&&Io(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function LI(t,e,r,n){const i=`${e}${r}?${n}`,a=t,l=a.config.emulator?u_(t.config,i):`${t.config.apiScheme}://${i}`;return NF.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function DF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(el(this.auth,"network-request-failed")),kF.get())})}}function Sg(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=el(t,e,n);return i.customData._tokenResponse=r,i}function uC(t){return t!==void 0&&t.enterprise!==void 0}class MF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return DF(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LF(t,e){return ec(t,"GET","/v2/recaptchaConfig",cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FF(t,e){return ec(t,"POST","/v1/accounts:delete",e)}async function hm(t,e){return ec(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PF(t,e=!1){const r=Bn(t),n=await r.getIdToken(e),i=f_(n);Yt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Jh(rv(i.auth_time)),issuedAtTime:Jh(rv(i.iat)),expirationTime:Jh(rv(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function rv(t){return Number(t)*1e3}function f_(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Qg("JWT malformed, contained fewer than 3 sections"),null;try{const i=yI(r);return i?JSON.parse(i):(Qg("Failed to decode base64 JWT payload"),null)}catch(i){return Qg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fC(t){const e=f_(t);return Yt(e,"internal-error"),Yt(typeof e.exp<"u","internal-error"),Yt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b0(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ll&&BF(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function BF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jh(this.lastLoginAt),this.creationTime=Jh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(t){var e;const r=t.auth,n=await t.getIdToken(),i=await b0(t,hm(r,{idToken:n}));Yt(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?FI(a.providerUserInfo):[],f=jF(t.providerData,l),m=t.isAnonymous,g=!(t.email&&a.passwordHash)&&!(f!=null&&f.length),y=m?g:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new Kv(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(t,E)}async function VF(t){const e=Bn(t);await dm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jF(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function FI(t){return t.map(e=>{var{providerId:r}=e,n=l_(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zF(t,e){const r=await MI(t,{},async()=>{const n=$d({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await LI(t,i,"/v1/token",`key=${a}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:n};return t.emulatorConfig&&lu(t.emulatorConfig.host)&&(m.credentials="include"),OI.fetch()(l,m)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function HF(t,e){return ec(t,"POST","/v2/accounts:revokeToken",cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Yt(e.idToken,"internal-error"),Yt(typeof e.idToken<"u","internal-error"),Yt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Yt(e.length!==0,"internal-error");const r=fC(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Yt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await zF(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,l=new v0;return n&&(Yt(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(Yt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Yt(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new v0,this.toJSON())}_performRefresh(){return Fl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t,e){Yt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class To{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=l_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new UF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await b0(this,this.stsTokenManager.getToken(this.auth,e));return Yt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return PF(this,e)}reload(){return VF(this)}_assign(e){this!==e&&(Yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new To(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await dm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ns(this.auth.app))return Promise.reject(jl(this.auth));const e=await this.getIdToken();return await b0(this,FF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,l,f,m,g,y;const E=(n=r.displayName)!==null&&n!==void 0?n:void 0,A=(i=r.email)!==null&&i!==void 0?i:void 0,C=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,N=(l=r.photoURL)!==null&&l!==void 0?l:void 0,b=(f=r.tenantId)!==null&&f!==void 0?f:void 0,D=(m=r._redirectEventId)!==null&&m!==void 0?m:void 0,P=(g=r.createdAt)!==null&&g!==void 0?g:void 0,G=(y=r.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:B,emailVerified:Y,isAnonymous:te,providerData:ee,stsTokenManager:L}=r;Yt(B&&L,e,"internal-error");const j=v0.fromJSON(this.name,L);Yt(typeof B=="string",e,"internal-error"),Nc(E,e.name),Nc(A,e.name),Yt(typeof Y=="boolean",e,"internal-error"),Yt(typeof te=="boolean",e,"internal-error"),Nc(C,e.name),Nc(N,e.name),Nc(b,e.name),Nc(D,e.name),Nc(P,e.name),Nc(G,e.name);const U=new To({uid:B,auth:e,email:A,emailVerified:Y,displayName:E,isAnonymous:te,photoURL:N,phoneNumber:C,tenantId:b,stsTokenManager:j,createdAt:P,lastLoginAt:G});return ee&&Array.isArray(ee)&&(U.providerData=ee.map(q=>Object.assign({},q))),D&&(U._redirectEventId=D),U}static async _fromIdTokenResponse(e,r,n=!1){const i=new v0;i.updateFromServerResponse(r);const a=new To({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await dm(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Yt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?FI(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),f=new v0;f.updateFromIdToken(n);const m=new To({uid:i.localId,auth:e,stsTokenManager:f,isAnonymous:l}),g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Kv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new Map;function Pl(t){Kl(t instanceof Function,"Expected a class definition");let e=hC.get(t);return e?(Kl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}PI.type="NONE";const dC=PI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t,e,r){return`firebase:${t}:${e}:${r}`}class y0{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=$g(this.userKey,i.apiKey,a),this.fullPersistenceKey=$g("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await hm(this.auth,{idToken:e}).catch(()=>{});return r?To._fromGetAccountInfoResponse(this.auth,r,e):null}return To._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new y0(Pl(dC),e,n);const i=(await Promise.all(r.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=i[0]||Pl(dC);const l=$g(n,e.config.apiKey,e.name);let f=null;for(const g of r)try{const y=await g._get(l);if(y){let E;if(typeof y=="string"){const A=await hm(e,{idToken:y}).catch(()=>{});if(!A)break;E=await To._fromGetAccountInfoResponse(e,A,y)}else E=To._fromJSON(e,y);g!==a&&(f=E),a=g;break}}catch{}const m=i.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!m.length?new y0(a,e,n):(a=m[0],f&&await a._set(l,f.toJSON()),await Promise.all(r.map(async g=>{if(g!==a)try{await g._remove(l)}catch{}})),new y0(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HI(e))return"Blackberry";if(GI(e))return"Webos";if(UI(e))return"Safari";if((e.includes("chrome/")||VI(e))&&!e.includes("edge/"))return"Chrome";if(zI(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function BI(t=ba()){return/firefox\//i.test(t)}function UI(t=ba()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VI(t=ba()){return/crios\//i.test(t)}function jI(t=ba()){return/iemobile/i.test(t)}function zI(t=ba()){return/android/i.test(t)}function HI(t=ba()){return/blackberry/i.test(t)}function GI(t=ba()){return/webos/i.test(t)}function h_(t=ba()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GF(t=ba()){var e;return h_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WF(){return aL()&&document.documentMode===10}function WI(t=ba()){return h_(t)||zI(t)||GI(t)||HI(t)||/windows phone/i.test(t)||jI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t,e=[]){let r;switch(t){case"Browser":r=gC(ba());break;case"Worker":r=`${gC(ba())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${ff}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((l,f)=>{try{const m=e(a);l(m)}catch(m){f(m)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XF(t,e={}){return ec(t,"GET","/v2/passwordPolicy",cu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=6;class KF{constructor(e){var r,n,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=l.minPasswordLength)!==null&&r!==void 0?r:YF,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,l,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(r=m.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(n=m.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(i=m.containsLowercaseLetter)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.containsUppercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsNumericCharacter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mC(this),this.idTokenSubscription=new mC(this),this.beforeStateQueue=new qF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Pl(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await y0.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await hm(this,{idToken:e}),n=await To._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Ns(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,f=i==null?void 0:i._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===f)&&(m!=null&&m.user)&&(i=m.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await dm(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ns(this.app))return Promise.reject(jl(this));const r=e?Bn(e):null;return r&&Yt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Yt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ns(this.app)?Promise.reject(jl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ns(this.app)?Promise.reject(jl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XF(this),r=new KF(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qd("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await HF(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Pl(e)||this._popupRedirectResolver;Yt(r,this,"argument-error"),this.redirectPersistenceManager=await y0.create(this,[Pl(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let l=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Yt(f,this,"internal-error"),f.then(()=>{l||a(this.currentUser)}),typeof r=="function"){const m=e.addObserver(r,n,i);return()=>{l=!0,m()}}else{const m=e.addObserver(r);return()=>{l=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;if(Ns(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&SF(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function hf(t){return Bn(t)}class mC{constructor(e){this.auth=e,this.observer=null,this.addObserver=dL(r=>this.observer=r)}get next(){return Yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let up={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $F(t){up=t}function XI(t){return up.loadJS(t)}function ZF(){return up.recaptchaEnterpriseScript}function JF(){return up.gapiScript}function eP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tP{constructor(){this.enterprise=new rP}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class rP{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const nP="recaptcha-enterprise",YI="NO_RECAPTCHA";class iP{constructor(e){this.type=nP,this.auth=hf(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,f)=>{LF(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new MF(m);return a.tenantId==null?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,l(g.siteKey)}}).catch(m=>{f(m)})})}function i(a,l,f){const m=window.grecaptcha;uC(m)?m.enterprise.ready(()=>{m.enterprise.execute(a,{action:e}).then(g=>{l(g)}).catch(()=>{l(YI)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tP().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{n(this.auth).then(f=>{if(!r&&uC(window.grecaptcha))i(f,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let m=ZF();m.length!==0&&(m+=f),XI(m).then(()=>{i(f,a,l)}).catch(g=>{l(g)})}}).catch(f=>{l(f)})})}}async function pC(t,e,r,n=!1,i=!1){const a=new iP(t);let l;if(i)l=YI;else try{l=await a.verify(r)}catch{l=await a.verify(r,!0)}const f=Object.assign({},e);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return n?Object.assign(f,{captchaResp:l}):Object.assign(f,{captchaResponse:l}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Qv(t,e,r,n,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await pC(t,e,r,r==="getOobCode");return n(t,l)}else return n(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await pC(t,e,r,r==="getOobCode");return n(t,f)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t,e){const r=cp(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if($u(a,e??{}))return i;Io(i,"already-initialized")}return r.initialize({options:e})}function sP(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Pl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function oP(t,e,r){const n=hf(t);Yt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=KI(e),{host:l,port:f}=lP(e),m=f===null?"":`:${f}`,g={url:`${a}//${l}${m}/`},y=Object.freeze({host:l,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Yt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Yt($u(g,n.config.emulator)&&$u(y,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=g,n.emulatorConfig=y,n.settings.appVerificationDisabledForTesting=!0,lu(l)?(n_(`${a}//${l}${m}`),i_("Auth",!0)):cP()}function KI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function lP(t){const e=KI(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:xC(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:xC(l)}}}function xC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cP(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Fl("not implemented")}_getIdTokenResponse(e){return Fl("not implemented")}_linkToIdToken(e,r){return Fl("not implemented")}_getReauthenticationResolver(e){return Fl("not implemented")}}async function uP(t,e){return ec(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(t,e){return Jd(t,"POST","/v1/accounts:signInWithPassword",cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(t,e){return Jd(t,"POST","/v1/accounts:signInWithEmailLink",cu(t,e))}async function dP(t,e){return Jd(t,"POST","/v1/accounts:signInWithEmailLink",cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends d_{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new yd(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new yd(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qv(e,r,"signInWithPassword",fP);case"emailLink":return hP(e,{email:this._email,oobCode:this._password});default:Io(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qv(e,n,"signUpPassword",uP);case"emailLink":return dP(e,{idToken:r,email:this._email,oobCode:this._password});default:Io(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _0(t,e){return Jd(t,"POST","/v1/accounts:signInWithIdp",cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="http://localhost";class Ju extends d_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ju(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Io("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=l_(r,["providerId","signInMethod"]);if(!n||!i)return null;const l=new Ju(n,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const r=this.buildRequest();return _0(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,_0(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,_0(e,r)}buildRequest(){const e={requestUri:gP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=$d(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pP(t){const e=Vh(jh(t)).link,r=e?Vh(jh(e)).deep_link_id:null,n=Vh(jh(t)).deep_link_id;return(n?Vh(jh(n)).link:null)||n||r||e||t}class g_{constructor(e){var r,n,i,a,l,f;const m=Vh(jh(e)),g=(r=m.apiKey)!==null&&r!==void 0?r:null,y=(n=m.oobCode)!==null&&n!==void 0?n:null,E=mP((i=m.mode)!==null&&i!==void 0?i:null);Yt(g&&y&&E,"argument-error"),this.apiKey=g,this.operation=E,this.code=y,this.continueUrl=(a=m.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=m.lang)!==null&&l!==void 0?l:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const r=pP(e);try{return new g_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.providerId=V0.PROVIDER_ID}static credential(e,r){return yd._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=g_.parseLink(r);return Yt(n,"argument-error"),yd._fromEmailAndCode(e,n.code,n.tenantId)}}V0.PROVIDER_ID="password";V0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";V0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1 extends QI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends e1{constructor(){super("facebook.com")}static credential(e){return Ju._fromParams({providerId:Mc.PROVIDER_ID,signInMethod:Mc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mc.credentialFromTaggedObject(e)}static credentialFromError(e){return Mc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mc.credential(e.oauthAccessToken)}catch{return null}}}Mc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends e1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ju._fromParams({providerId:Lc.PROVIDER_ID,signInMethod:Lc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Lc.credentialFromTaggedObject(e)}static credentialFromError(e){return Lc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Lc.credential(r,n)}catch{return null}}}Lc.GOOGLE_SIGN_IN_METHOD="google.com";Lc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends e1{constructor(){super("github.com")}static credential(e){return Ju._fromParams({providerId:Fc.PROVIDER_ID,signInMethod:Fc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fc.credentialFromTaggedObject(e)}static credentialFromError(e){return Fc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fc.credential(e.oauthAccessToken)}catch{return null}}}Fc.GITHUB_SIGN_IN_METHOD="github.com";Fc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends e1{constructor(){super("twitter.com")}static credential(e,r){return Ju._fromParams({providerId:Pc.PROVIDER_ID,signInMethod:Pc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Pc.credentialFromTaggedObject(e)}static credentialFromError(e){return Pc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Pc.credential(r,n)}catch{return null}}}Pc.TWITTER_SIGN_IN_METHOD="twitter.com";Pc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(t,e){return Jd(t,"POST","/v1/accounts:signUp",cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await To._fromIdTokenResponse(e,n,i),l=vC(n);return new ef({user:a,providerId:l,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=vC(n);return new ef({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function vC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm extends ll{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,gm.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new gm(e,r,n,i)}}function $I(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?gm._fromErrorAndOperation(t,a,e,n):a})}async function vP(t,e,r=!1){const n=await b0(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return ef._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(t,e,r=!1){const{auth:n}=t;if(Ns(n.app))return Promise.reject(jl(n));const i="reauthenticate";try{const a=await b0(t,$I(n,i,e,t),r);Yt(a.idToken,n,"internal-error");const l=f_(a.idToken);Yt(l,n,"internal-error");const{sub:f}=l;return Yt(t.uid===f,n,"user-mismatch"),ef._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Io(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(t,e,r=!1){if(Ns(t.app))return Promise.reject(jl(t));const n="signIn",i=await $I(t,n,e),a=await ef._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function _P(t,e){return ZI(hf(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(t){const e=hf(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EP(t,e,r){if(Ns(t.app))return Promise.reject(jl(t));const n=hf(t),l=await Qv(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xP).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&JI(t),m}),f=await ef._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(f.user),f}function wP(t,e,r){return Ns(t.app)?Promise.reject(jl(t)):_P(Bn(t),V0.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&JI(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(t,e){return ec(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Bn(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},l=await b0(n,TP(n.auth,a));n.displayName=l.displayName||null,n.photoURL=l.photoUrl||null;const f=n.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=n.displayName,f.photoURL=n.photoURL),await n._updateTokensIfNecessary(l)}function AP(t,e,r,n){return Bn(t).onIdTokenChanged(e,r,n)}function SP(t,e,r){return Bn(t).beforeAuthStateChanged(e,r)}function CP(t,e,r,n){return Bn(t).onAuthStateChanged(e,r,n)}function e6(t){return Bn(t).signOut()}const mm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(mm,"1"),this.storage.removeItem(mm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=1e3,IP=10;class r6 extends t6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((l,f,m)=>{this.notifyListeners(l,m)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!r&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);WF()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,IP):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},bP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}r6.type="LOCAL";const RP=r6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6 extends t6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}n6.type="SESSION";const i6=n6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new fp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const f=Array.from(l).map(async g=>g(r.origin,a)),m=await NP(f);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:m})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((f,m)=>{const g=m_("",20);i.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(E){const A=E;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(A.data.response);break;default:clearTimeout(y),clearTimeout(a),m(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:g,data:r},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(){return window}function DP(t){tl().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(){return typeof tl().WorkerGlobalScope<"u"&&typeof tl().importScripts=="function"}async function OP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function LP(){return a6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6="firebaseLocalStorageDb",FP=1,pm="firebaseLocalStorage",o6="fbase_key";class t1{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function hp(t,e){return t.transaction([pm],e?"readwrite":"readonly").objectStore(pm)}function PP(){const t=indexedDB.deleteDatabase(s6);return new t1(t).toPromise()}function $v(){const t=indexedDB.open(s6,FP);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(pm,{keyPath:o6})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(pm)?e(n):(n.close(),await PP(),e(await $v()))})})}async function _C(t,e,r){const n=hp(t,!0).put({[o6]:e,value:r});return new t1(n).toPromise()}async function BP(t,e){const r=hp(t,!1).get(e),n=await new t1(r).toPromise();return n===void 0?null:n.value}function EC(t,e){const r=hp(t,!0).delete(e);return new t1(r).toPromise()}const UP=800,VP=3;class l6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $v(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>VP)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return a6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fp._getInstance(LP()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await OP(),!this.activeServiceWorker)return;this.sender=new kP(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $v();return await _C(e,mm,"1"),await EC(e,mm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>_C(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>BP(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>EC(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=hp(i,!1).getAll();return new t1(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l6.type="LOCAL";const jP=l6;new Zd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t,e){return e?Pl(e):(Yt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_ extends d_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _0(e,this._buildIdpRequest())}_linkToIdToken(e,r){return _0(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return _0(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function HP(t){return ZI(t.auth,new p_(t),t.bypassAuthState)}function GP(t){const{auth:e,user:r}=t;return Yt(r,e,"internal-error"),yP(r,new p_(t),t.bypassAuthState)}async function WP(t){const{auth:e,user:r}=t;return Yt(r,e,"internal-error"),vP(r,new p_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:l,type:f}=e;if(l){this.reject(l);return}const m={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HP;case"linkViaPopup":case"linkViaRedirect":return WP;case"reauthViaPopup":case"reauthViaRedirect":return GP;default:Io(this.auth,"internal-error")}}resolve(e){Kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=new Zd(2e3,1e4);class h0 extends c6{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,h0.currentPopupAction&&h0.currentPopupAction.cancel(),h0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Yt(e,this.auth,"internal-error"),e}async onExecution(){Kl(this.filter.length===1,"Popup operations only handle one event");const e=m_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(el(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(el(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,h0.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(el(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qP.get())};e()}}h0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="pendingRedirect",Zg=new Map;class YP extends c6{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Zg.get(this.auth._key());if(!e){try{const n=await KP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Zg.set(this.auth._key(),e)}return this.bypassAuthState||Zg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KP(t,e){const r=ZP(e),n=$P(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function QP(t,e){Zg.set(t._key(),e)}function $P(t){return Pl(t._redirectPersistence)}function ZP(t){return $g(XP,t.config.apiKey,t.name)}async function JP(t,e,r=!1){if(Ns(t.app))return Promise.reject(jl(t));const n=hf(t),i=zP(n,e),l=await new YP(n,i,r).execute();return l&&!r&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=600*1e3;class tB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rB(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!u6(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(el(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eB&&this.cachedEventUids.clear(),this.cachedEventUids.has(wC(e))}saveEventToCache(e){this.cachedEventUids.add(wC(e)),this.lastProcessedEventTime=Date.now()}}function wC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function u6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nB(t,e={}){return ec(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aB=/^https?/;async function sB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await nB(t);for(const r of e)try{if(oB(r))return}catch{}Io(t,"unauthorized-domain")}function oB(t){const e=Yv(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&l.hostname===n}if(!aB.test(r))return!1;if(iB.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=new Zd(3e4,6e4);function TC(){const t=tl().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function cB(t){return new Promise((e,r)=>{var n,i,a;function l(){TC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TC(),r(el(t,"network-request-failed"))},timeout:lB.get()})}if(!((i=(n=tl().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=tl().gapi)===null||a===void 0)&&a.load)l();else{const f=eP("iframefcb");return tl()[f]=()=>{gapi.load?l():r(el(t,"network-request-failed"))},XI(`${JF()}?onload=${f}`).catch(m=>r(m))}}).catch(e=>{throw Jg=null,e})}let Jg=null;function uB(t){return Jg=Jg||cB(t),Jg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB=new Zd(5e3,15e3),hB="__/auth/iframe",dB="emulator/auth/iframe",gB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pB(t){const e=t.config;Yt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?u_(e,dB):`https://${t.config.authDomain}/${hB}`,n={apiKey:e.apiKey,appName:t.name,v:ff},i=mB.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${$d(n).slice(1)}`}async function xB(t){const e=await uB(t),r=tl().gapi;return Yt(r,t,"internal-error"),e.open({where:document.body,url:pB(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gB,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const l=el(t,"network-request-failed"),f=tl().setTimeout(()=>{a(l)},fB.get());function m(){tl().clearTimeout(f),i(n)}n.ping(m).then(m,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yB=500,_B=600,EB="_blank",wB="http://localhost";class AC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TB(t,e,r,n=yB,i=_B){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let f="";const m=Object.assign(Object.assign({},vB),{width:n.toString(),height:i.toString(),top:a,left:l}),g=ba().toLowerCase();r&&(f=VI(g)?EB:r),BI(g)&&(e=e||wB,m.scrollbars="yes");const y=Object.entries(m).reduce((A,[C,N])=>`${A}${C}=${N},`,"");if(GF(g)&&f!=="_self")return AB(e||"",f),new AC(null);const E=window.open(e||"",f,y);Yt(E,t,"popup-blocked");try{E.focus()}catch{}return new AC(E)}function AB(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB="__/auth/handler",CB="emulator/auth/handler",bB=encodeURIComponent("fac");async function SC(t,e,r,n,i,a){Yt(t.config.authDomain,t,"auth-domain-config-required"),Yt(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:ff,eventId:i};if(e instanceof QI){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",hL(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,E]of Object.entries({}))l[y]=E}if(e instanceof e1){const y=e.getScopes().filter(E=>E!=="");y.length>0&&(l.scopes=y.join(","))}t.tenantId&&(l.tid=t.tenantId);const f=l;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await t._getAppCheckToken(),g=m?`#${bB}=${encodeURIComponent(m)}`:"";return`${IB(t)}?${$d(f).slice(1)}${g}`}function IB({config:t}){return t.emulator?u_(t,CB):`https://${t.authDomain}/${SB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="webStorageSupport";class RB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i6,this._completeRedirectFn=JP,this._overrideRedirectResult=QP}async _openPopup(e,r,n,i){var a;Kl((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await SC(e,r,n,Yv(),i);return TB(e,l,m_())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await SC(e,r,n,Yv(),i);return DP(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Kl(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await xB(e),n=new tB(e);return r.register("authEvent",i=>(Yt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(nv,{type:nv},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[nv];l!==void 0&&r(!!l),Io(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=sB(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return WI()||UI()||h_()}}const NB=RB;var CC="@firebase/auth",bC="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OB(t){Zu(new Xc("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:f}=n.options;Yt(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const m={apiKey:l,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qI(t)},g=new QF(n,i,a,m);return sP(g,r),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Zu(new Xc("auth-internal",e=>{const r=hf(e.getProvider("auth").getImmediate());return(n=>new kB(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jo(CC,bC,DB(t)),Jo(CC,bC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=300,LB=TI("authIdTokenMaxAge")||MB;let IC=null;const FB=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>LB)return;const i=r==null?void 0:r.token;IC!==i&&(IC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function PB(t=o_()){const e=cp(t,"auth");if(e.isInitialized())return e.getImmediate();const r=aP(t,{popupRedirectResolver:NB,persistence:[jP,RP,i6]}),n=TI("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=FB(a.toString());SP(r,l,()=>l(r.currentUser)),AP(r,f=>l(f))}}const i=_I("auth");return i&&oP(r,`http://${i}`),r}function BB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$F({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=el("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",BB().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OB("Browser");var RC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gc,f6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,j){function U(){}U.prototype=j.prototype,L.D=j.prototype,L.prototype=new U,L.prototype.constructor=L,L.C=function(q,K,M){for(var Q=Array(arguments.length-2),be=2;be<arguments.length;be++)Q[be-2]=arguments[be];return j.prototype[K].apply(q,Q)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,j,U){U||(U=0);var q=Array(16);if(typeof j=="string")for(var K=0;16>K;++K)q[K]=j.charCodeAt(U++)|j.charCodeAt(U++)<<8|j.charCodeAt(U++)<<16|j.charCodeAt(U++)<<24;else for(K=0;16>K;++K)q[K]=j[U++]|j[U++]<<8|j[U++]<<16|j[U++]<<24;j=L.g[0],U=L.g[1],K=L.g[2];var M=L.g[3],Q=j+(M^U&(K^M))+q[0]+3614090360&4294967295;j=U+(Q<<7&4294967295|Q>>>25),Q=M+(K^j&(U^K))+q[1]+3905402710&4294967295,M=j+(Q<<12&4294967295|Q>>>20),Q=K+(U^M&(j^U))+q[2]+606105819&4294967295,K=M+(Q<<17&4294967295|Q>>>15),Q=U+(j^K&(M^j))+q[3]+3250441966&4294967295,U=K+(Q<<22&4294967295|Q>>>10),Q=j+(M^U&(K^M))+q[4]+4118548399&4294967295,j=U+(Q<<7&4294967295|Q>>>25),Q=M+(K^j&(U^K))+q[5]+1200080426&4294967295,M=j+(Q<<12&4294967295|Q>>>20),Q=K+(U^M&(j^U))+q[6]+2821735955&4294967295,K=M+(Q<<17&4294967295|Q>>>15),Q=U+(j^K&(M^j))+q[7]+4249261313&4294967295,U=K+(Q<<22&4294967295|Q>>>10),Q=j+(M^U&(K^M))+q[8]+1770035416&4294967295,j=U+(Q<<7&4294967295|Q>>>25),Q=M+(K^j&(U^K))+q[9]+2336552879&4294967295,M=j+(Q<<12&4294967295|Q>>>20),Q=K+(U^M&(j^U))+q[10]+4294925233&4294967295,K=M+(Q<<17&4294967295|Q>>>15),Q=U+(j^K&(M^j))+q[11]+2304563134&4294967295,U=K+(Q<<22&4294967295|Q>>>10),Q=j+(M^U&(K^M))+q[12]+1804603682&4294967295,j=U+(Q<<7&4294967295|Q>>>25),Q=M+(K^j&(U^K))+q[13]+4254626195&4294967295,M=j+(Q<<12&4294967295|Q>>>20),Q=K+(U^M&(j^U))+q[14]+2792965006&4294967295,K=M+(Q<<17&4294967295|Q>>>15),Q=U+(j^K&(M^j))+q[15]+1236535329&4294967295,U=K+(Q<<22&4294967295|Q>>>10),Q=j+(K^M&(U^K))+q[1]+4129170786&4294967295,j=U+(Q<<5&4294967295|Q>>>27),Q=M+(U^K&(j^U))+q[6]+3225465664&4294967295,M=j+(Q<<9&4294967295|Q>>>23),Q=K+(j^U&(M^j))+q[11]+643717713&4294967295,K=M+(Q<<14&4294967295|Q>>>18),Q=U+(M^j&(K^M))+q[0]+3921069994&4294967295,U=K+(Q<<20&4294967295|Q>>>12),Q=j+(K^M&(U^K))+q[5]+3593408605&4294967295,j=U+(Q<<5&4294967295|Q>>>27),Q=M+(U^K&(j^U))+q[10]+38016083&4294967295,M=j+(Q<<9&4294967295|Q>>>23),Q=K+(j^U&(M^j))+q[15]+3634488961&4294967295,K=M+(Q<<14&4294967295|Q>>>18),Q=U+(M^j&(K^M))+q[4]+3889429448&4294967295,U=K+(Q<<20&4294967295|Q>>>12),Q=j+(K^M&(U^K))+q[9]+568446438&4294967295,j=U+(Q<<5&4294967295|Q>>>27),Q=M+(U^K&(j^U))+q[14]+3275163606&4294967295,M=j+(Q<<9&4294967295|Q>>>23),Q=K+(j^U&(M^j))+q[3]+4107603335&4294967295,K=M+(Q<<14&4294967295|Q>>>18),Q=U+(M^j&(K^M))+q[8]+1163531501&4294967295,U=K+(Q<<20&4294967295|Q>>>12),Q=j+(K^M&(U^K))+q[13]+2850285829&4294967295,j=U+(Q<<5&4294967295|Q>>>27),Q=M+(U^K&(j^U))+q[2]+4243563512&4294967295,M=j+(Q<<9&4294967295|Q>>>23),Q=K+(j^U&(M^j))+q[7]+1735328473&4294967295,K=M+(Q<<14&4294967295|Q>>>18),Q=U+(M^j&(K^M))+q[12]+2368359562&4294967295,U=K+(Q<<20&4294967295|Q>>>12),Q=j+(U^K^M)+q[5]+4294588738&4294967295,j=U+(Q<<4&4294967295|Q>>>28),Q=M+(j^U^K)+q[8]+2272392833&4294967295,M=j+(Q<<11&4294967295|Q>>>21),Q=K+(M^j^U)+q[11]+1839030562&4294967295,K=M+(Q<<16&4294967295|Q>>>16),Q=U+(K^M^j)+q[14]+4259657740&4294967295,U=K+(Q<<23&4294967295|Q>>>9),Q=j+(U^K^M)+q[1]+2763975236&4294967295,j=U+(Q<<4&4294967295|Q>>>28),Q=M+(j^U^K)+q[4]+1272893353&4294967295,M=j+(Q<<11&4294967295|Q>>>21),Q=K+(M^j^U)+q[7]+4139469664&4294967295,K=M+(Q<<16&4294967295|Q>>>16),Q=U+(K^M^j)+q[10]+3200236656&4294967295,U=K+(Q<<23&4294967295|Q>>>9),Q=j+(U^K^M)+q[13]+681279174&4294967295,j=U+(Q<<4&4294967295|Q>>>28),Q=M+(j^U^K)+q[0]+3936430074&4294967295,M=j+(Q<<11&4294967295|Q>>>21),Q=K+(M^j^U)+q[3]+3572445317&4294967295,K=M+(Q<<16&4294967295|Q>>>16),Q=U+(K^M^j)+q[6]+76029189&4294967295,U=K+(Q<<23&4294967295|Q>>>9),Q=j+(U^K^M)+q[9]+3654602809&4294967295,j=U+(Q<<4&4294967295|Q>>>28),Q=M+(j^U^K)+q[12]+3873151461&4294967295,M=j+(Q<<11&4294967295|Q>>>21),Q=K+(M^j^U)+q[15]+530742520&4294967295,K=M+(Q<<16&4294967295|Q>>>16),Q=U+(K^M^j)+q[2]+3299628645&4294967295,U=K+(Q<<23&4294967295|Q>>>9),Q=j+(K^(U|~M))+q[0]+4096336452&4294967295,j=U+(Q<<6&4294967295|Q>>>26),Q=M+(U^(j|~K))+q[7]+1126891415&4294967295,M=j+(Q<<10&4294967295|Q>>>22),Q=K+(j^(M|~U))+q[14]+2878612391&4294967295,K=M+(Q<<15&4294967295|Q>>>17),Q=U+(M^(K|~j))+q[5]+4237533241&4294967295,U=K+(Q<<21&4294967295|Q>>>11),Q=j+(K^(U|~M))+q[12]+1700485571&4294967295,j=U+(Q<<6&4294967295|Q>>>26),Q=M+(U^(j|~K))+q[3]+2399980690&4294967295,M=j+(Q<<10&4294967295|Q>>>22),Q=K+(j^(M|~U))+q[10]+4293915773&4294967295,K=M+(Q<<15&4294967295|Q>>>17),Q=U+(M^(K|~j))+q[1]+2240044497&4294967295,U=K+(Q<<21&4294967295|Q>>>11),Q=j+(K^(U|~M))+q[8]+1873313359&4294967295,j=U+(Q<<6&4294967295|Q>>>26),Q=M+(U^(j|~K))+q[15]+4264355552&4294967295,M=j+(Q<<10&4294967295|Q>>>22),Q=K+(j^(M|~U))+q[6]+2734768916&4294967295,K=M+(Q<<15&4294967295|Q>>>17),Q=U+(M^(K|~j))+q[13]+1309151649&4294967295,U=K+(Q<<21&4294967295|Q>>>11),Q=j+(K^(U|~M))+q[4]+4149444226&4294967295,j=U+(Q<<6&4294967295|Q>>>26),Q=M+(U^(j|~K))+q[11]+3174756917&4294967295,M=j+(Q<<10&4294967295|Q>>>22),Q=K+(j^(M|~U))+q[2]+718787259&4294967295,K=M+(Q<<15&4294967295|Q>>>17),Q=U+(M^(K|~j))+q[9]+3951481745&4294967295,L.g[0]=L.g[0]+j&4294967295,L.g[1]=L.g[1]+(K+(Q<<21&4294967295|Q>>>11))&4294967295,L.g[2]=L.g[2]+K&4294967295,L.g[3]=L.g[3]+M&4294967295}n.prototype.u=function(L,j){j===void 0&&(j=L.length);for(var U=j-this.blockSize,q=this.B,K=this.h,M=0;M<j;){if(K==0)for(;M<=U;)i(this,L,M),M+=this.blockSize;if(typeof L=="string"){for(;M<j;)if(q[K++]=L.charCodeAt(M++),K==this.blockSize){i(this,q),K=0;break}}else for(;M<j;)if(q[K++]=L[M++],K==this.blockSize){i(this,q),K=0;break}}this.h=K,this.o+=j},n.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var j=1;j<L.length-8;++j)L[j]=0;var U=8*this.o;for(j=L.length-8;j<L.length;++j)L[j]=U&255,U/=256;for(this.u(L),L=Array(16),j=U=0;4>j;++j)for(var q=0;32>q;q+=8)L[U++]=this.g[j]>>>q&255;return L};function a(L,j){var U=f;return Object.prototype.hasOwnProperty.call(U,L)?U[L]:U[L]=j(L)}function l(L,j){this.h=j;for(var U=[],q=!0,K=L.length-1;0<=K;K--){var M=L[K]|0;q&&M==j||(U[K]=M,q=!1)}this.g=U}var f={};function m(L){return-128<=L&&128>L?a(L,function(j){return new l([j|0],0>j?-1:0)}):new l([L|0],0>L?-1:0)}function g(L){if(isNaN(L)||!isFinite(L))return E;if(0>L)return D(g(-L));for(var j=[],U=1,q=0;L>=U;q++)j[q]=L/U|0,U*=4294967296;return new l(j,0)}function y(L,j){if(L.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(L.charAt(0)=="-")return D(y(L.substring(1),j));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=g(Math.pow(j,8)),q=E,K=0;K<L.length;K+=8){var M=Math.min(8,L.length-K),Q=parseInt(L.substring(K,K+M),j);8>M?(M=g(Math.pow(j,M)),q=q.j(M).add(g(Q))):(q=q.j(U),q=q.add(g(Q)))}return q}var E=m(0),A=m(1),C=m(16777216);t=l.prototype,t.m=function(){if(b(this))return-D(this).m();for(var L=0,j=1,U=0;U<this.g.length;U++){var q=this.i(U);L+=(0<=q?q:4294967296+q)*j,j*=4294967296}return L},t.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(N(this))return"0";if(b(this))return"-"+D(this).toString(L);for(var j=g(Math.pow(L,6)),U=this,q="";;){var K=Y(U,j).g;U=P(U,K.j(j));var M=((0<U.g.length?U.g[0]:U.h)>>>0).toString(L);if(U=K,N(U))return M+q;for(;6>M.length;)M="0"+M;q=M+q}},t.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function N(L){if(L.h!=0)return!1;for(var j=0;j<L.g.length;j++)if(L.g[j]!=0)return!1;return!0}function b(L){return L.h==-1}t.l=function(L){return L=P(this,L),b(L)?-1:N(L)?0:1};function D(L){for(var j=L.g.length,U=[],q=0;q<j;q++)U[q]=~L.g[q];return new l(U,~L.h).add(A)}t.abs=function(){return b(this)?D(this):this},t.add=function(L){for(var j=Math.max(this.g.length,L.g.length),U=[],q=0,K=0;K<=j;K++){var M=q+(this.i(K)&65535)+(L.i(K)&65535),Q=(M>>>16)+(this.i(K)>>>16)+(L.i(K)>>>16);q=Q>>>16,M&=65535,Q&=65535,U[K]=Q<<16|M}return new l(U,U[U.length-1]&-2147483648?-1:0)};function P(L,j){return L.add(D(j))}t.j=function(L){if(N(this)||N(L))return E;if(b(this))return b(L)?D(this).j(D(L)):D(D(this).j(L));if(b(L))return D(this.j(D(L)));if(0>this.l(C)&&0>L.l(C))return g(this.m()*L.m());for(var j=this.g.length+L.g.length,U=[],q=0;q<2*j;q++)U[q]=0;for(q=0;q<this.g.length;q++)for(var K=0;K<L.g.length;K++){var M=this.i(q)>>>16,Q=this.i(q)&65535,be=L.i(K)>>>16,xe=L.i(K)&65535;U[2*q+2*K]+=Q*xe,G(U,2*q+2*K),U[2*q+2*K+1]+=M*xe,G(U,2*q+2*K+1),U[2*q+2*K+1]+=Q*be,G(U,2*q+2*K+1),U[2*q+2*K+2]+=M*be,G(U,2*q+2*K+2)}for(q=0;q<j;q++)U[q]=U[2*q+1]<<16|U[2*q];for(q=j;q<2*j;q++)U[q]=0;return new l(U,0)};function G(L,j){for(;(L[j]&65535)!=L[j];)L[j+1]+=L[j]>>>16,L[j]&=65535,j++}function B(L,j){this.g=L,this.h=j}function Y(L,j){if(N(j))throw Error("division by zero");if(N(L))return new B(E,E);if(b(L))return j=Y(D(L),j),new B(D(j.g),D(j.h));if(b(j))return j=Y(L,D(j)),new B(D(j.g),j.h);if(30<L.g.length){if(b(L)||b(j))throw Error("slowDivide_ only works with positive integers.");for(var U=A,q=j;0>=q.l(L);)U=te(U),q=te(q);var K=ee(U,1),M=ee(q,1);for(q=ee(q,2),U=ee(U,2);!N(q);){var Q=M.add(q);0>=Q.l(L)&&(K=K.add(U),M=Q),q=ee(q,1),U=ee(U,1)}return j=P(L,K.j(j)),new B(K,j)}for(K=E;0<=L.l(j);){for(U=Math.max(1,Math.floor(L.m()/j.m())),q=Math.ceil(Math.log(U)/Math.LN2),q=48>=q?1:Math.pow(2,q-48),M=g(U),Q=M.j(j);b(Q)||0<Q.l(L);)U-=q,M=g(U),Q=M.j(j);N(M)&&(M=A),K=K.add(M),L=P(L,Q)}return new B(K,L)}t.A=function(L){return Y(this,L).h},t.and=function(L){for(var j=Math.max(this.g.length,L.g.length),U=[],q=0;q<j;q++)U[q]=this.i(q)&L.i(q);return new l(U,this.h&L.h)},t.or=function(L){for(var j=Math.max(this.g.length,L.g.length),U=[],q=0;q<j;q++)U[q]=this.i(q)|L.i(q);return new l(U,this.h|L.h)},t.xor=function(L){for(var j=Math.max(this.g.length,L.g.length),U=[],q=0;q<j;q++)U[q]=this.i(q)^L.i(q);return new l(U,this.h^L.h)};function te(L){for(var j=L.g.length+1,U=[],q=0;q<j;q++)U[q]=L.i(q)<<1|L.i(q-1)>>>31;return new l(U,L.h)}function ee(L,j){var U=j>>5;j%=32;for(var q=L.g.length-U,K=[],M=0;M<q;M++)K[M]=0<j?L.i(M+U)>>>j|L.i(M+U+1)<<32-j:L.i(M+U);return new l(K,L.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,f6=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=g,l.fromString=y,Gc=l}).apply(typeof RC<"u"?RC:typeof self<"u"?self:typeof window<"u"?window:{});var Cg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h6,zh,d6,em,Zv,g6,m6,p6;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(T,F,H){return T==Array.prototype||T==Object.prototype||(T[F]=H.value),T};function r(T){T=[typeof globalThis=="object"&&globalThis,T,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cg=="object"&&Cg];for(var F=0;F<T.length;++F){var H=T[F];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var n=r(this);function i(T,F){if(F)e:{var H=n;T=T.split(".");for(var se=0;se<T.length-1;se++){var De=T[se];if(!(De in H))break e;H=H[De]}T=T[T.length-1],se=H[T],F=F(se),F!=se&&F!=null&&e(H,T,{configurable:!0,writable:!0,value:F})}}function a(T,F){T instanceof String&&(T+="");var H=0,se=!1,De={next:function(){if(!se&&H<T.length){var Ge=H++;return{value:F(Ge,T[Ge]),done:!1}}return se=!0,{done:!0,value:void 0}}};return De[Symbol.iterator]=function(){return De},De}i("Array.prototype.values",function(T){return T||function(){return a(this,function(F,H){return H})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},f=this||self;function m(T){var F=typeof T;return F=F!="object"?F:T?Array.isArray(T)?"array":F:"null",F=="array"||F=="object"&&typeof T.length=="number"}function g(T){var F=typeof T;return F=="object"&&T!=null||F=="function"}function y(T,F,H){return T.call.apply(T.bind,arguments)}function E(T,F,H){if(!T)throw Error();if(2<arguments.length){var se=Array.prototype.slice.call(arguments,2);return function(){var De=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(De,se),T.apply(F,De)}}return function(){return T.apply(F,arguments)}}function A(T,F,H){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:E,A.apply(null,arguments)}function C(T,F){var H=Array.prototype.slice.call(arguments,1);return function(){var se=H.slice();return se.push.apply(se,arguments),T.apply(this,se)}}function N(T,F){function H(){}H.prototype=F.prototype,T.aa=F.prototype,T.prototype=new H,T.prototype.constructor=T,T.Qb=function(se,De,Ge){for(var pt=Array(arguments.length-2),Pr=2;Pr<arguments.length;Pr++)pt[Pr-2]=arguments[Pr];return F.prototype[De].apply(se,pt)}}function b(T){const F=T.length;if(0<F){const H=Array(F);for(let se=0;se<F;se++)H[se]=T[se];return H}return[]}function D(T,F){for(let H=1;H<arguments.length;H++){const se=arguments[H];if(m(se)){const De=T.length||0,Ge=se.length||0;T.length=De+Ge;for(let pt=0;pt<Ge;pt++)T[De+pt]=se[pt]}else T.push(se)}}class P{constructor(F,H){this.i=F,this.j=H,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function G(T){return/^[\s\xa0]*$/.test(T)}function B(){var T=f.navigator;return T&&(T=T.userAgent)?T:""}function Y(T){return Y[" "](T),T}Y[" "]=function(){};var te=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ee(T,F,H){for(const se in T)F.call(H,T[se],se,T)}function L(T,F){for(const H in T)F.call(void 0,T[H],H,T)}function j(T){const F={};for(const H in T)F[H]=T[H];return F}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(T,F){let H,se;for(let De=1;De<arguments.length;De++){se=arguments[De];for(H in se)T[H]=se[H];for(let Ge=0;Ge<U.length;Ge++)H=U[Ge],Object.prototype.hasOwnProperty.call(se,H)&&(T[H]=se[H])}}function K(T){var F=1;T=T.split(":");const H=[];for(;0<F&&T.length;)H.push(T.shift()),F--;return T.length&&H.push(T.join(":")),H}function M(T){f.setTimeout(()=>{throw T},0)}function Q(){var T=Ce;let F=null;return T.g&&(F=T.g,T.g=T.g.next,T.g||(T.h=null),F.next=null),F}class be{constructor(){this.h=this.g=null}add(F,H){const se=xe.get();se.set(F,H),this.h?this.h.next=se:this.g=se,this.h=se}}var xe=new P(()=>new _e,T=>T.reset());class _e{constructor(){this.next=this.g=this.h=null}set(F,H){this.h=F,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,ot=!1,Ce=new be,ht=()=>{const T=f.Promise.resolve(void 0);Ae=()=>{T.then(ve)}};var ve=()=>{for(var T;T=Q();){try{T.h.call(T.g)}catch(H){M(H)}var F=xe;F.j(T),100>F.h&&(F.h++,T.next=F.g,F.g=T)}ot=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(T,F){this.type=T,this.g=this.target=F,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ie=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var T=!1,F=Object.defineProperty({},"passive",{get:function(){T=!0}});try{const H=()=>{};f.addEventListener("test",H,F),f.removeEventListener("test",H,F)}catch{}return T})();function fe(T,F){if(he.call(this,T?T.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,T){var H=this.type=T.type,se=T.changedTouches&&T.changedTouches.length?T.changedTouches[0]:null;if(this.target=T.target||T.srcElement,this.g=F,F=T.relatedTarget){if(te){e:{try{Y(F.nodeName);var De=!0;break e}catch{}De=!1}De||(F=null)}}else H=="mouseover"?F=T.fromElement:H=="mouseout"&&(F=T.toElement);this.relatedTarget=F,se?(this.clientX=se.clientX!==void 0?se.clientX:se.pageX,this.clientY=se.clientY!==void 0?se.clientY:se.pageY,this.screenX=se.screenX||0,this.screenY=se.screenY||0):(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0),this.button=T.button,this.key=T.key||"",this.ctrlKey=T.ctrlKey,this.altKey=T.altKey,this.shiftKey=T.shiftKey,this.metaKey=T.metaKey,this.pointerId=T.pointerId||0,this.pointerType=typeof T.pointerType=="string"?T.pointerType:ye[T.pointerType]||"",this.state=T.state,this.i=T,T.defaultPrevented&&fe.aa.h.call(this)}}N(fe,he);var ye={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var T=this.i;T.preventDefault?T.preventDefault():T.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),je=0;function Ve(T,F,H,se,De){this.listener=T,this.proxy=null,this.src=F,this.type=H,this.capture=!!se,this.ha=De,this.key=++je,this.da=this.fa=!1}function $e(T){T.da=!0,T.listener=null,T.proxy=null,T.src=null,T.ha=null}function _t(T){this.src=T,this.g={},this.h=0}_t.prototype.add=function(T,F,H,se,De){var Ge=T.toString();T=this.g[Ge],T||(T=this.g[Ge]=[],this.h++);var pt=wt(T,F,se,De);return-1<pt?(F=T[pt],H||(F.fa=!1)):(F=new Ve(F,this.src,Ge,!!se,De),F.fa=H,T.push(F)),F};function me(T,F){var H=F.type;if(H in T.g){var se=T.g[H],De=Array.prototype.indexOf.call(se,F,void 0),Ge;(Ge=0<=De)&&Array.prototype.splice.call(se,De,1),Ge&&($e(F),T.g[H].length==0&&(delete T.g[H],T.h--))}}function wt(T,F,H,se){for(var De=0;De<T.length;++De){var Ge=T[De];if(!Ge.da&&Ge.listener==F&&Ge.capture==!!H&&Ge.ha==se)return De}return-1}var kt="closure_lm_"+(1e6*Math.random()|0),Wt={};function jt(T,F,H,se,De){if(Array.isArray(F)){for(var Ge=0;Ge<F.length;Ge++)jt(T,F[Ge],H,se,De);return null}return H=ci(H),T&&T[Ie]?T.K(F,H,g(se)?!!se.capture:!1,De):ct(T,F,H,!1,se,De)}function ct(T,F,H,se,De,Ge){if(!F)throw Error("Invalid event type");var pt=g(De)?!!De.capture:!!De,Pr=Oi(T);if(Pr||(T[kt]=Pr=new _t(T)),H=Pr.add(F,H,se,pt,Ge),H.proxy)return H;if(se=Ot(),H.proxy=se,se.src=T,se.listener=H,T.addEventListener)ie||(De=pt),De===void 0&&(De=!1),T.addEventListener(F.toString(),se,De);else if(T.attachEvent)T.attachEvent(vt(F.toString()),se);else if(T.addListener&&T.removeListener)T.addListener(se);else throw Error("addEventListener and attachEvent are unavailable.");return H}function Ot(){function T(H){return F.call(T.src,T.listener,H)}const F=_i;return T}function Ct(T,F,H,se,De){if(Array.isArray(F))for(var Ge=0;Ge<F.length;Ge++)Ct(T,F[Ge],H,se,De);else se=g(se)?!!se.capture:!!se,H=ci(H),T&&T[Ie]?(T=T.i,F=String(F).toString(),F in T.g&&(Ge=T.g[F],H=wt(Ge,H,se,De),-1<H&&($e(Ge[H]),Array.prototype.splice.call(Ge,H,1),Ge.length==0&&(delete T.g[F],T.h--)))):T&&(T=Oi(T))&&(F=T.g[F.toString()],T=-1,F&&(T=wt(F,H,se,De)),(H=-1<T?F[T]:null)&&ln(H))}function ln(T){if(typeof T!="number"&&T&&!T.da){var F=T.src;if(F&&F[Ie])me(F.i,T);else{var H=T.type,se=T.proxy;F.removeEventListener?F.removeEventListener(H,se,T.capture):F.detachEvent?F.detachEvent(vt(H),se):F.addListener&&F.removeListener&&F.removeListener(se),(H=Oi(F))?(me(H,T),H.h==0&&(H.src=null,F[kt]=null)):$e(T)}}}function vt(T){return T in Wt?Wt[T]:Wt[T]="on"+T}function _i(T,F){if(T.da)T=!0;else{F=new fe(F,this);var H=T.listener,se=T.ha||T.src;T.fa&&ln(T),T=H.call(se,F)}return T}function Oi(T){return T=T[kt],T instanceof _t?T:null}var rr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ci(T){return typeof T=="function"?T:(T[rr]||(T[rr]=function(F){return T.handleEvent(F)}),T[rr])}function or(){Z.call(this),this.i=new _t(this),this.M=this,this.F=null}N(or,Z),or.prototype[Ie]=!0,or.prototype.removeEventListener=function(T,F,H,se){Ct(this,T,F,H,se)};function Gr(T,F){var H,se=T.F;if(se)for(H=[];se;se=se.F)H.push(se);if(T=T.M,se=F.type||F,typeof F=="string")F=new he(F,T);else if(F instanceof he)F.target=F.target||T;else{var De=F;F=new he(se,T),q(F,De)}if(De=!0,H)for(var Ge=H.length-1;0<=Ge;Ge--){var pt=F.g=H[Ge];De=yr(pt,se,!0,F)&&De}if(pt=F.g=T,De=yr(pt,se,!0,F)&&De,De=yr(pt,se,!1,F)&&De,H)for(Ge=0;Ge<H.length;Ge++)pt=F.g=H[Ge],De=yr(pt,se,!1,F)&&De}or.prototype.N=function(){if(or.aa.N.call(this),this.i){var T=this.i,F;for(F in T.g){for(var H=T.g[F],se=0;se<H.length;se++)$e(H[se]);delete T.g[F],T.h--}}this.F=null},or.prototype.K=function(T,F,H,se){return this.i.add(String(T),F,!1,H,se)},or.prototype.L=function(T,F,H,se){return this.i.add(String(T),F,!0,H,se)};function yr(T,F,H,se){if(F=T.i.g[String(F)],!F)return!0;F=F.concat();for(var De=!0,Ge=0;Ge<F.length;++Ge){var pt=F[Ge];if(pt&&!pt.da&&pt.capture==H){var Pr=pt.listener,wn=pt.ha||pt.src;pt.fa&&me(T.i,pt),De=Pr.call(wn,se)!==!1&&De}}return De&&!se.defaultPrevented}function Nr(T,F,H){if(typeof T=="function")H&&(T=A(T,H));else if(T&&typeof T.handleEvent=="function")T=A(T.handleEvent,T);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:f.setTimeout(T,F||0)}function It(T){T.g=Nr(()=>{T.g=null,T.i&&(T.i=!1,It(T))},T.l);const F=T.h;T.h=null,T.m.apply(null,F)}class zt extends Z{constructor(F,H){super(),this.m=F,this.l=H,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:It(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(T){Z.call(this),this.h=T,this.g={}}N(Wr,Z);var Nt=[];function Je(T){ee(T.g,function(F,H){this.g.hasOwnProperty(H)&&ln(F)},T),T.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),Je(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=f.JSON.stringify,Zt=f.JSON.parse,cn=class{stringify(T){return f.JSON.stringify(T,void 0)}parse(T){return f.JSON.parse(T,void 0)}};function Ha(){}Ha.prototype.h=null;function ho(T){return T.h||(T.h=T.i())}function gs(){}var nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){he.call(this,"d")}N(zi,he);function Mi(){he.call(this,"c")}N(Mi,he);var $i={},Wn=null;function Us(){return Wn=Wn||new or}$i.La="serverreachability";function On(T){he.call(this,$i.La,T)}N(On,he);function Hi(T){const F=Us();Gr(F,new On(F))}$i.STAT_EVENT="statevent";function Na(T,F){he.call(this,$i.STAT_EVENT,T),this.stat=F}N(Na,he);function qr(T){const F=Us();Gr(F,new Na(F,T))}$i.Ma="timingevent";function fl(T,F){he.call(this,$i.Ma,T),this.size=F}N(fl,he);function Ei(T,F){if(typeof T!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){T()},F)}function Ga(){this.g=!0}Ga.prototype.xa=function(){this.g=!1};function qn(T,F,H,se,De,Ge){T.info(function(){if(T.g)if(Ge)for(var pt="",Pr=Ge.split("&"),wn=0;wn<Pr.length;wn++){var fr=Pr[wn].split("=");if(1<fr.length){var yn=fr[0];fr=fr[1];var jn=yn.split("_");pt=2<=jn.length&&jn[1]=="type"?pt+(yn+"="+fr+"&"):pt+(yn+"=redacted&")}}else pt=null;else pt=Ge;return"XMLHTTP REQ ("+se+") [attempt "+De+"]: "+F+`
`+H+`
`+pt})}function ka(T,F,H,se,De,Ge,pt){T.info(function(){return"XMLHTTP RESP ("+se+") [ attempt "+De+"]: "+F+`
`+H+`
`+Ge+" "+pt})}function J(T,F,H,se){T.info(function(){return"XMLHTTP TEXT ("+F+"): "+oe(T,H)+(se?" "+se:"")})}function ae(T,F){T.info(function(){return"TIMEOUT: "+F})}Ga.prototype.info=function(){};function oe(T,F){if(!T.g)return F;if(!F)return null;try{var H=JSON.parse(F);if(H){for(T=0;T<H.length;T++)if(Array.isArray(H[T])){var se=H[T];if(!(2>se.length)){var De=se[1];if(Array.isArray(De)&&!(1>De.length)){var Ge=De[0];if(Ge!="noop"&&Ge!="stop"&&Ge!="close")for(var pt=1;pt<De.length;pt++)De[pt]=""}}}}return _r(H)}catch{return F}}var le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ge;function Me(){}N(Me,Ha),Me.prototype.g=function(){return new XMLHttpRequest},Me.prototype.i=function(){return{}},ge=new Me;function qe(T,F,H,se){this.j=T,this.i=F,this.l=H,this.R=se||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ke}function ke(){this.i=null,this.g="",this.h=!1}var Pe={},Be={};function rt(T,F,H){T.L=1,T.v=En(qt(F)),T.m=H,T.P=!0,st(T,null)}function st(T,F){T.F=Date.now(),gt(T),T.A=qt(T.v);var H=T.A,se=T.R;Array.isArray(se)||(se=[String(se)]),fn(H.i,"t",se),T.C=0,H=T.j.J,T.h=new ke,T.g=Af(T.j,H?F:null,!T.m),0<T.O&&(T.M=new zt(A(T.Y,T,T.g),T.O)),F=T.U,H=T.g,se=T.ca;var De="readystatechange";Array.isArray(De)||(De&&(Nt[0]=De.toString()),De=Nt);for(var Ge=0;Ge<De.length;Ge++){var pt=jt(H,De[Ge],se||F.handleEvent,!1,F.h||F);if(!pt)break;F.g[pt.key]=pt}F=T.H?j(T.H):{},T.m?(T.u||(T.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",T.g.ea(T.A,T.u,T.m,F)):(T.u="GET",T.g.ea(T.A,T.u,null,F)),Hi(),qn(T.i,T.u,T.A,T.l,T.R,T.m)}qe.prototype.ca=function(T){T=T.target;const F=this.M;F&&Zi(T)==3?F.j():this.Y(T)},qe.prototype.Y=function(T){try{if(T==this.g)e:{const jn=Zi(this.g);var F=this.g.Ba();const hi=this.g.Z();if(!(3>jn)&&(jn!=3||this.g&&(this.h.h||this.g.oa()||hl(this.g)))){this.J||jn!=4||F==7||(F==8||0>=hi?Hi(3):Hi(2)),Xe(this);var H=this.g.Z();this.X=H;t:if(lt(this)){var se=hl(this.g);T="";var De=se.length,Ge=Zi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lt(this),kr(this);var pt="";break t}this.h.i=new f.TextDecoder}for(F=0;F<De;F++)this.h.h=!0,T+=this.h.i.decode(se[F],{stream:!(Ge&&F==De-1)});se.length=0,this.h.g+=T,this.C=0,pt=this.h.g}else pt=this.g.oa();if(this.o=H==200,ka(this.i,this.u,this.A,this.l,this.R,jn,H),this.o){if(this.T&&!this.K){t:{if(this.g){var Pr,wn=this.g;if((Pr=wn.g?wn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Pr)){var fr=Pr;break t}}fr=null}if(H=fr)J(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Un(this,H);else{this.o=!1,this.s=3,qr(12),Lt(this),kr(this);break e}}if(this.P){H=!0;let ea;for(;!this.J&&this.C<pt.length;)if(ea=ut(this,pt),ea==Be){jn==4&&(this.s=4,qr(14),H=!1),J(this.i,this.l,null,"[Incomplete Response]");break}else if(ea==Pe){this.s=4,qr(15),J(this.i,this.l,pt,"[Invalid Chunk]"),H=!1;break}else J(this.i,this.l,ea,null),Un(this,ea);if(lt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jn!=4||pt.length!=0||this.h.h||(this.s=1,qr(16),H=!1),this.o=this.o&&H,!H)J(this.i,this.l,pt,"[Invalid Chunked Response]"),Lt(this),kr(this);else if(0<pt.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+pt.length),ml(yn),yn.M=!0,qr(11))}}else J(this.i,this.l,pt,null),Un(this,pt);jn==4&&Lt(this),this.o&&!this.J&&(jn==4?vn(this.j,this):(this.o=!1,gt(this)))}else Or(this.g),H==400&&0<pt.indexOf("Unknown SID")?(this.s=3,qr(12)):(this.s=0,qr(13)),Lt(this),kr(this)}}}catch{}finally{}};function lt(T){return T.g?T.u=="GET"&&T.L!=2&&T.j.Ca:!1}function ut(T,F){var H=T.C,se=F.indexOf(`
`,H);return se==-1?Be:(H=Number(F.substring(H,se)),isNaN(H)?Pe:(se+=1,se+H>F.length?Be:(F=F.slice(se,se+H),T.C=se+H,F)))}qe.prototype.cancel=function(){this.J=!0,Lt(this)};function gt(T){T.S=Date.now()+T.I,Tt(T,T.I)}function Tt(T,F){if(T.B!=null)throw Error("WatchDog timer not null");T.B=Ei(A(T.ba,T),F)}function Xe(T){T.B&&(f.clearTimeout(T.B),T.B=null)}qe.prototype.ba=function(){this.B=null;const T=Date.now();0<=T-this.S?(ae(this.i,this.A),this.L!=2&&(Hi(),qr(17)),Lt(this),this.s=2,kr(this)):Tt(this,this.S-T)};function kr(T){T.j.G==0||T.J||vn(T.j,T)}function Lt(T){Xe(T);var F=T.M;F&&typeof F.ma=="function"&&F.ma(),T.M=null,Je(T.U),T.g&&(F=T.g,T.g=null,F.abort(),F.ma())}function Un(T,F){try{var H=T.j;if(H.G!=0&&(H.g==T||Xn(H.h,T))){if(!T.K&&Xn(H.h,T)&&H.G==3){try{var se=H.Da.g.parse(F)}catch{se=null}if(Array.isArray(se)&&se.length==3){var De=se;if(De[0]==0){e:if(!H.u){if(H.g)if(H.g.F+3e3<T.F)zs(H),Mo(H);else break e;_u(H),qr(18)}}else H.za=De[1],0<H.za-H.T&&37500>De[2]&&H.F&&H.v==0&&!H.C&&(H.C=Ei(A(H.Za,H),6e3));if(1>=ir(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else Ji(H,11)}else if((T.K||H.g==T)&&zs(H),!G(F))for(De=H.Da.g.parse(F),F=0;F<De.length;F++){let fr=De[F];if(H.T=fr[0],fr=fr[1],H.G==2)if(fr[0]=="c"){H.K=fr[1],H.ia=fr[2];const yn=fr[3];yn!=null&&(H.la=yn,H.j.info("VER="+H.la));const jn=fr[4];jn!=null&&(H.Aa=jn,H.j.info("SVER="+H.Aa));const hi=fr[5];hi!=null&&typeof hi=="number"&&0<hi&&(se=1.5*hi,H.L=se,H.j.info("backChannelRequestTimeoutMs_="+se)),se=H;const ea=T.g;if(ea){const Wi=ea.g?ea.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wi){var Ge=se.h;Ge.g||Wi.indexOf("spdy")==-1&&Wi.indexOf("quic")==-1&&Wi.indexOf("h2")==-1||(Ge.j=Ge.l,Ge.g=new Set,Ge.h&&(Vs(Ge,Ge.h),Ge.h=null))}if(se.D){const xo=ea.g?ea.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(se.ya=xo,mt(se.I,se.D,xo))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-T.F,H.j.info("Handshake RTT: "+H.R+"ms")),se=H;var pt=T;if(se.qa=Mt(se,se.J?se.ia:null,se.W),pt.K){da(se.h,pt);var Pr=pt,wn=se.L;wn&&(Pr.I=wn),Pr.B&&(Xe(Pr),gt(Pr)),se.g=pt}else Tf(se);0<H.i.length&&$t(H)}else fr[0]!="stop"&&fr[0]!="close"||Ji(H,7);else H.G==3&&(fr[0]=="stop"||fr[0]=="close"?fr[0]=="stop"?Ji(H,7):Za(H):fr[0]!="noop"&&H.l&&H.l.ta(fr),H.v=0)}}Hi(4)}catch{}}var go=class{constructor(T,F){this.g=T,this.map=F}};function lr(T){this.l=T||10,f.PerformanceNavigationTiming?(T=f.performance.getEntriesByType("navigation"),T=0<T.length&&(T[0].nextHopProtocol=="hq"||T[0].nextHopProtocol=="h2")):T=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=T?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jt(T){return T.h?!0:T.g?T.g.size>=T.j:!1}function ir(T){return T.h?1:T.g?T.g.size:0}function Xn(T,F){return T.h?T.h==F:T.g?T.g.has(F):!1}function Vs(T,F){T.g?T.g.add(F):T.h=F}function da(T,F){T.h&&T.h==F?T.h=null:T.g&&T.g.has(F)&&T.g.delete(F)}lr.prototype.cancel=function(){if(this.i=Ir(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const T of this.g.values())T.cancel();this.g.clear()}};function Ir(T){if(T.h!=null)return T.i.concat(T.h.D);if(T.g!=null&&T.g.size!==0){let F=T.i;for(const H of T.g.values())F=F.concat(H.D);return F}return b(T.i)}function ms(T){if(T.V&&typeof T.V=="function")return T.V();if(typeof Map<"u"&&T instanceof Map||typeof Set<"u"&&T instanceof Set)return Array.from(T.values());if(typeof T=="string")return T.split("");if(m(T)){for(var F=[],H=T.length,se=0;se<H;se++)F.push(T[se]);return F}F=[],H=0;for(se in T)F[H++]=T[se];return F}function Q0(T){if(T.na&&typeof T.na=="function")return T.na();if(!T.V||typeof T.V!="function"){if(typeof Map<"u"&&T instanceof Map)return Array.from(T.keys());if(!(typeof Set<"u"&&T instanceof Set)){if(m(T)||typeof T=="string"){var F=[];T=T.length;for(var H=0;H<T;H++)F.push(H);return F}F=[],H=0;for(const se in T)F[H++]=se;return F}}}function un(T,F){if(T.forEach&&typeof T.forEach=="function")T.forEach(F,void 0);else if(m(T)||typeof T=="string")Array.prototype.forEach.call(T,F,void 0);else for(var H=Q0(T),se=ms(T),De=se.length,Ge=0;Ge<De;Ge++)F.call(void 0,se[Ge],H&&H[Ge],T)}var Wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ic(T,F){if(T){T=T.split("&");for(var H=0;H<T.length;H++){var se=T[H].indexOf("="),De=null;if(0<=se){var Ge=T[H].substring(0,se);De=T[H].substring(se+1)}else Ge=T[H];F(Ge,De?decodeURIComponent(De.replace(/\+/g," ")):"")}}}function ga(T){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,T instanceof ga){this.h=T.h,An(this,T.j),this.o=T.o,this.g=T.g,Oe(this,T.s),this.l=T.l;var F=T.i,H=new Xa;H.i=F.i,F.g&&(H.g=new Map(F.g),H.h=F.h),ue(this,H),this.m=T.m}else T&&(F=String(T).match(Wa))?(this.h=!1,An(this,F[1]||"",!0),this.o=ui(F[2]||""),this.g=ui(F[3]||"",!0),Oe(this,F[4]),this.l=ui(F[5]||"",!0),ue(this,F[6]||"",!0),this.m=ui(F[7]||"")):(this.h=!1,this.i=new Xa(null,this.h))}ga.prototype.toString=function(){var T=[],F=this.j;F&&T.push(qa(F,Gi,!0),":");var H=this.g;return(H||F=="file")&&(T.push("//"),(F=this.o)&&T.push(qa(F,Gi,!0),"@"),T.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.s,H!=null&&T.push(":",String(H))),(H=this.l)&&(this.g&&H.charAt(0)!="/"&&T.push("/"),T.push(qa(H,H.charAt(0)=="/"?$r:Dt,!0))),(H=this.i.toString())&&T.push("?",H),(H=this.m)&&T.push("#",qa(H,$0)),T.join("")};function qt(T){return new ga(T)}function An(T,F,H){T.j=H?ui(F,!0):F,T.j&&(T.j=T.j.replace(/:$/,""))}function Oe(T,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);T.s=F}else T.s=null}function ue(T,F,H){F instanceof Xa?(T.i=F,ps(T.i,T.h)):(H||(F=qa(F,Ef)),T.i=new Xa(F,T.h))}function mt(T,F,H){T.i.set(F,H)}function En(T){return mt(T,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),T}function ui(T,F){return T?F?decodeURI(T.replace(/%25/g,"%2525")):decodeURIComponent(T):""}function qa(T,F,H){return typeof T=="string"?(T=encodeURI(T).replace(F,pu),H&&(T=T.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T):null}function pu(T){return T=T.charCodeAt(0),"%"+(T>>4&15).toString(16)+(T&15).toString(16)}var Gi=/[#\/\?@]/g,Dt=/[#\?:]/g,$r=/[#\?]/g,Ef=/[#\?@]/g,$0=/#/g;function Xa(T,F){this.h=this.g=null,this.i=T||null,this.j=!!F}function Vn(T){T.g||(T.g=new Map,T.h=0,T.i&&ic(T.i,function(F,H){T.add(decodeURIComponent(F.replace(/\+/g," ")),H)}))}t=Xa.prototype,t.add=function(T,F){Vn(this),this.i=null,T=Li(this,T);var H=this.g.get(T);return H||this.g.set(T,H=[]),H.push(F),this.h+=1,this};function Do(T,F){Vn(T),F=Li(T,F),T.g.has(F)&&(T.i=null,T.h-=T.g.get(F).length,T.g.delete(F))}function ac(T,F){return Vn(T),F=Li(T,F),T.g.has(F)}t.forEach=function(T,F){Vn(this),this.g.forEach(function(H,se){H.forEach(function(De){T.call(F,De,se,this)},this)},this)},t.na=function(){Vn(this);const T=Array.from(this.g.values()),F=Array.from(this.g.keys()),H=[];for(let se=0;se<F.length;se++){const De=T[se];for(let Ge=0;Ge<De.length;Ge++)H.push(F[se])}return H},t.V=function(T){Vn(this);let F=[];if(typeof T=="string")ac(this,T)&&(F=F.concat(this.g.get(Li(this,T))));else{T=Array.from(this.g.values());for(let H=0;H<T.length;H++)F=F.concat(T[H])}return F},t.set=function(T,F){return Vn(this),this.i=null,T=Li(this,T),ac(this,T)&&(this.h-=this.g.get(T).length),this.g.set(T,[F]),this.h+=1,this},t.get=function(T,F){return T?(T=this.V(T),0<T.length?String(T[0]):F):F};function fn(T,F,H){Do(T,F),0<H.length&&(T.i=null,T.g.set(Li(T,F),b(H)),T.h+=H.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const T=[],F=Array.from(this.g.keys());for(var H=0;H<F.length;H++){var se=F[H];const Ge=encodeURIComponent(String(se)),pt=this.V(se);for(se=0;se<pt.length;se++){var De=Ge;pt[se]!==""&&(De+="="+encodeURIComponent(String(pt[se]))),T.push(De)}}return this.i=T.join("&")};function Li(T,F){return F=String(F),T.j&&(F=F.toLowerCase()),F}function ps(T,F){F&&!T.j&&(Vn(T),T.i=null,T.g.forEach(function(H,se){var De=se.toLowerCase();se!=De&&(Do(this,se),fn(this,De,H))},T)),T.j=F}function Ft(T,F){const H=new Ga;if(f.Image){const se=new Image;se.onload=C(Pt,H,"TestLoadImage: loaded",!0,F,se),se.onerror=C(Pt,H,"TestLoadImage: error",!1,F,se),se.onabort=C(Pt,H,"TestLoadImage: abort",!1,F,se),se.ontimeout=C(Pt,H,"TestLoadImage: timeout",!1,F,se),f.setTimeout(function(){se.ontimeout&&se.ontimeout()},1e4),se.src=T}else F(!1)}function wf(T,F){const H=new Ga,se=new AbortController,De=setTimeout(()=>{se.abort(),Pt(H,"TestPingServer: timeout",!1,F)},1e4);fetch(T,{signal:se.signal}).then(Ge=>{clearTimeout(De),Ge.ok?Pt(H,"TestPingServer: ok",!0,F):Pt(H,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(De),Pt(H,"TestPingServer: error",!1,F)})}function Pt(T,F,H,se,De){try{De&&(De.onload=null,De.onerror=null,De.onabort=null,De.ontimeout=null),se(H)}catch{}}function Zr(){this.g=new cn}function xu(T,F,H){const se=H||"";try{un(T,function(De,Ge){let pt=De;g(De)&&(pt=_r(De)),F.push(se+Ge+"="+encodeURIComponent(pt))})}catch(De){throw F.push(se+"type="+encodeURIComponent("_badmap")),De}}function Ya(T){this.l=T.Ub||null,this.j=T.eb||!1}N(Ya,Ha),Ya.prototype.g=function(){return new ma(this.l,this.j)},Ya.prototype.i=(function(T){return function(){return T}})({});function ma(T,F){or.call(this),this.D=T,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(ma,or),t=ma.prototype,t.open=function(T,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=T,this.A=F,this.readyState=1,Qa(this)},t.send=function(T){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};T&&(F.body=T),(this.D||f).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},t.Sa=function(T){if(this.g&&(this.l=T,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=T.headers,this.readyState=2,Qa(this)),this.g&&(this.readyState=3,Qa(this),this.g)))if(this.responseType==="arraybuffer")T.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in T){if(this.j=T.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ka(this)}else T.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ka(T){T.j.read().then(T.Pa.bind(T)).catch(T.ga.bind(T))}t.Pa=function(T){if(this.g){if(this.o&&T.value)this.response.push(T.value);else if(!this.o){var F=T.value?T.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!T.done}))&&(this.response=this.responseText+=F)}T.done?js(this):Qa(this),this.readyState==3&&Ka(this)}},t.Ra=function(T){this.g&&(this.response=this.responseText=T,js(this))},t.Qa=function(T){this.g&&(this.response=T,js(this))},t.ga=function(){this.g&&js(this)};function js(T){T.readyState=4,T.l=null,T.j=null,T.v=null,Qa(T)}t.setRequestHeader=function(T,F){this.u.append(T,F)},t.getResponseHeader=function(T){return this.h&&this.h.get(T.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const T=[],F=this.h.entries();for(var H=F.next();!H.done;)H=H.value,T.push(H[0]+": "+H[1]),H=F.next();return T.join(`\r
`)};function Qa(T){T.onreadystatechange&&T.onreadystatechange.call(T)}Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(T){this.m=T?"include":"same-origin"}});function xs(T){let F="";return ee(T,function(H,se){F+=se,F+=":",F+=H,F+=`\r
`}),F}function $a(T,F,H){e:{for(se in H){var se=!1;break e}se=!0}se||(H=xs(H),typeof T=="string"?H!=null&&encodeURIComponent(String(H)):mt(T,F,H))}function hn(T){or.call(this),this.headers=new Map,this.o=T||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(hn,or);var Yn=/^https?$/i,Da=["POST","PUT"];t=hn.prototype,t.Ha=function(T){this.J=T},t.ea=function(T,F,H,se){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+T);F=F?F.toUpperCase():"GET",this.D=T,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ge.g(),this.v=this.o?ho(this.o):ho(ge),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(F,String(T),!0),this.B=!1}catch(Ge){Kn(this,Ge);return}if(T=H||"",H=new Map(this.headers),se)if(Object.getPrototypeOf(se)===Object.prototype)for(var De in se)H.set(De,se[De]);else if(typeof se.keys=="function"&&typeof se.get=="function")for(const Ge of se.keys())H.set(Ge,se.get(Ge));else throw Error("Unknown input type for opt_headers: "+String(se));se=Array.from(H.keys()).find(Ge=>Ge.toLowerCase()=="content-type"),De=f.FormData&&T instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Da,F,void 0))||se||De||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ge,pt]of H)this.g.setRequestHeader(Ge,pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sc(this),this.u=!0,this.g.send(T),this.u=!1}catch(Ge){Kn(this,Ge)}};function Kn(T,F){T.h=!1,T.g&&(T.j=!0,T.g.abort(),T.j=!1),T.l=F,T.m=5,mo(T),po(T)}function mo(T){T.A||(T.A=!0,Gr(T,"complete"),Gr(T,"error"))}t.abort=function(T){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=T||7,Gr(this,"complete"),Gr(this,"abort"),po(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),po(this,!0)),hn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vu(this):this.bb())},t.bb=function(){vu(this)};function vu(T){if(T.h&&typeof l<"u"&&(!T.v[1]||Zi(T)!=4||T.Z()!=2)){if(T.u&&Zi(T)==4)Nr(T.Ea,0,T);else if(Gr(T,"readystatechange"),Zi(T)==4){T.h=!1;try{const pt=T.Z();e:switch(pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var H;if(!(H=F)){var se;if(se=pt===0){var De=String(T.D).match(Wa)[1]||null;!De&&f.self&&f.self.location&&(De=f.self.location.protocol.slice(0,-1)),se=!Yn.test(De?De.toLowerCase():"")}H=se}if(H)Gr(T,"complete"),Gr(T,"success");else{T.m=6;try{var Ge=2<Zi(T)?T.g.statusText:""}catch{Ge=""}T.l=Ge+" ["+T.Z()+"]",mo(T)}}finally{po(T)}}}}function po(T,F){if(T.g){sc(T);const H=T.g,se=T.v[0]?()=>{}:null;T.g=null,T.v=null,F||Gr(T,"ready");try{H.onreadystatechange=se}catch{}}}function sc(T){T.I&&(f.clearTimeout(T.I),T.I=null)}t.isActive=function(){return!!this.g};function Zi(T){return T.g?T.g.readyState:0}t.Z=function(){try{return 2<Zi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(T){if(this.g){var F=this.g.responseText;return T&&F.indexOf(T)==0&&(F=F.substring(T.length)),Zt(F)}};function hl(T){try{if(!T.g)return null;if("response"in T.g)return T.g.response;switch(T.H){case"":case"text":return T.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in T.g)return T.g.mozResponseArrayBuffer}return null}catch{return null}}function Or(T){const F={};T=(T.g&&2<=Zi(T)&&T.g.getAllResponseHeaders()||"").split(`\r
`);for(let se=0;se<T.length;se++){if(G(T[se]))continue;var H=K(T[se]);const De=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const Ge=F[De]||[];F[De]=Ge,Ge.push(H)}L(F,function(se){return se.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oo(T,F,H){return H&&H.internalChannelParams&&H.internalChannelParams[T]||F}function dl(T){this.Aa=0,this.i=[],this.j=new Ga,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oo("failFast",!1,T),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oo("baseRetryDelayMs",5e3,T),this.cb=Oo("retryDelaySeedMs",1e4,T),this.Wa=Oo("forwardChannelMaxRetries",2,T),this.wa=Oo("forwardChannelRequestTimeoutMs",2e4,T),this.pa=T&&T.xmlHttpFactory||void 0,this.Xa=T&&T.Tb||void 0,this.Ca=T&&T.useFetchStreams||!1,this.L=void 0,this.J=T&&T.supportsCrossDomainXhr||!1,this.K="",this.h=new lr(T&&T.concurrentRequestLimit),this.Da=new Zr,this.P=T&&T.fastHandshake||!1,this.O=T&&T.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=T&&T.Rb||!1,T&&T.xa&&this.j.xa(),T&&T.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&T&&T.detectBufferingProxy||!1,this.ja=void 0,T&&T.longPollingTimeout&&0<T.longPollingTimeout&&(this.ja=T.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dl.prototype,t.la=8,t.G=1,t.connect=function(T,F,H,se){qr(0),this.W=T,this.H=F||{},H&&se!==void 0&&(this.H.OSID=H,this.H.OAID=se),this.F=this.X,this.I=Mt(this,null,this.W),$t(this)};function Za(T){if(ze(T),T.G==3){var F=T.U++,H=qt(T.I);if(mt(H,"SID",T.K),mt(H,"RID",F),mt(H,"TYPE","terminate"),Lo(T,H),F=new qe(T,T.j,F),F.L=2,F.v=En(qt(H)),H=!1,f.navigator&&f.navigator.sendBeacon)try{H=f.navigator.sendBeacon(F.v.toString(),"")}catch{}!H&&f.Image&&(new Image().src=F.v,H=!0),H||(F.g=Af(F.j,null),F.g.ea(F.v)),F.F=Date.now(),gt(F)}Mr(T)}function Mo(T){T.g&&(ml(T),T.g.cancel(),T.g=null)}function ze(T){Mo(T),T.u&&(f.clearTimeout(T.u),T.u=null),zs(T),T.h.cancel(),T.s&&(typeof T.s=="number"&&f.clearTimeout(T.s),T.s=null)}function $t(T){if(!Jt(T.h)&&!T.s){T.s=!0;var F=T.Ga;Ae||ht(),ot||(Ae(),ot=!0),Ce.add(F,T),T.B=0}}function fi(T,F){return ir(T.h)>=T.h.j-(T.s?1:0)?!1:T.s?(T.i=F.D.concat(T.i),!0):T.G==1||T.G==2||T.B>=(T.Va?0:T.Wa)?!1:(T.s=Ei(A(T.Ga,T,F),pl(T,T.B)),T.B++,!0)}t.Ga=function(T){if(this.s)if(this.s=null,this.G==1){if(!T){this.U=Math.floor(1e5*Math.random()),T=this.U++;const De=new qe(this,this.j,T);let Ge=this.o;if(this.S&&(Ge?(Ge=j(Ge),q(Ge,this.S)):Ge=this.S),this.m!==null||this.O||(De.H=Ge,Ge=null),this.P)e:{for(var F=0,H=0;H<this.i.length;H++){t:{var se=this.i[H];if("__data__"in se.map&&(se=se.map.__data__,typeof se=="string")){se=se.length;break t}se=void 0}if(se===void 0)break;if(F+=se,4096<F){F=H;break e}if(F===4096||H===this.i.length-1){F=H+1;break e}}F=1e3}else F=1e3;F=yu(this,De,F),H=qt(this.I),mt(H,"RID",T),mt(H,"CVER",22),this.D&&mt(H,"X-HTTP-Session-Id",this.D),Lo(this,H),Ge&&(this.O?F="headers="+encodeURIComponent(String(xs(Ge)))+"&"+F:this.m&&$a(H,this.m,Ge)),Vs(this.h,De),this.Ua&&mt(H,"TYPE","init"),this.P?(mt(H,"$req",F),mt(H,"SID","null"),De.T=!0,rt(De,H,null)):rt(De,H,F),this.G=2}}else this.G==3&&(T?gl(this,T):this.i.length==0||Jt(this.h)||gl(this))};function gl(T,F){var H;F?H=F.l:H=T.U++;const se=qt(T.I);mt(se,"SID",T.K),mt(se,"RID",H),mt(se,"AID",T.T),Lo(T,se),T.m&&T.o&&$a(se,T.m,T.o),H=new qe(T,T.j,H,T.B+1),T.m===null&&(H.H=T.o),F&&(T.i=F.D.concat(T.i)),F=yu(T,H,1e3),H.I=Math.round(.5*T.wa)+Math.round(.5*T.wa*Math.random()),Vs(T.h,H),rt(H,se,F)}function Lo(T,F){T.H&&ee(T.H,function(H,se){mt(F,se,H)}),T.l&&un({},function(H,se){mt(F,se,H)})}function yu(T,F,H){H=Math.min(T.i.length,H);var se=T.l?A(T.l.Na,T.l,T):null;e:{var De=T.i;let Ge=-1;for(;;){const pt=["count="+H];Ge==-1?0<H?(Ge=De[0].g,pt.push("ofs="+Ge)):Ge=0:pt.push("ofs="+Ge);let Pr=!0;for(let wn=0;wn<H;wn++){let fr=De[wn].g;const yn=De[wn].map;if(fr-=Ge,0>fr)Ge=Math.max(0,De[wn].g-100),Pr=!1;else try{xu(yn,pt,"req"+fr+"_")}catch{se&&se(yn)}}if(Pr){se=pt.join("&");break e}}}return T=T.i.splice(0,H),F.D=T,se}function Tf(T){if(!T.g&&!T.u){T.Y=1;var F=T.Fa;Ae||ht(),ot||(Ae(),ot=!0),Ce.add(F,T),T.v=0}}function _u(T){return T.g||T.u||3<=T.v?!1:(T.Y++,T.u=Ei(A(T.Fa,T),pl(T,T.v)),T.v++,!0)}t.Fa=function(){if(this.u=null,Mn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var T=2*this.R;this.j.info("BP detection timer enabled: "+T),this.A=Ei(A(this.ab,this),T)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qr(10),Mo(this),Mn(this))};function ml(T){T.A!=null&&(f.clearTimeout(T.A),T.A=null)}function Mn(T){T.g=new qe(T,T.j,"rpc",T.Y),T.m===null&&(T.g.H=T.o),T.g.O=0;var F=qt(T.qa);mt(F,"RID","rpc"),mt(F,"SID",T.K),mt(F,"AID",T.T),mt(F,"CI",T.F?"0":"1"),!T.F&&T.ja&&mt(F,"TO",T.ja),mt(F,"TYPE","xmlhttp"),Lo(T,F),T.m&&T.o&&$a(F,T.m,T.o),T.L&&(T.g.I=T.L);var H=T.g;T=T.ia,H.L=1,H.v=En(qt(F)),H.m=null,H.P=!0,st(H,T)}t.Za=function(){this.C!=null&&(this.C=null,Mo(this),_u(this),qr(19))};function zs(T){T.C!=null&&(f.clearTimeout(T.C),T.C=null)}function vn(T,F){var H=null;if(T.g==F){zs(T),ml(T),T.g=null;var se=2}else if(Xn(T.h,F))H=F.D,da(T.h,F),se=1;else return;if(T.G!=0){if(F.o)if(se==1){H=F.m?F.m.length:0,F=Date.now()-F.F;var De=T.B;se=Us(),Gr(se,new fl(se,H)),$t(T)}else Tf(T);else if(De=F.s,De==3||De==0&&0<F.X||!(se==1&&fi(T,F)||se==2&&_u(T)))switch(H&&0<H.length&&(F=T.h,F.i=F.i.concat(H)),De){case 1:Ji(T,5);break;case 4:Ji(T,10);break;case 3:Ji(T,6);break;default:Ji(T,2)}}}function pl(T,F){let H=T.Ta+Math.floor(Math.random()*T.cb);return T.isActive()||(H*=2),H*F}function Ji(T,F){if(T.j.info("Error code "+F),F==2){var H=A(T.fb,T),se=T.Xa;const De=!se;se=new ga(se||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||An(se,"https"),En(se),De?Ft(se.toString(),H):wf(se.toString(),H)}else qr(2);T.G=0,T.l&&T.l.sa(F),Mr(T),ze(T)}t.fb=function(T){T?(this.j.info("Successfully pinged google.com"),qr(2)):(this.j.info("Failed to ping google.com"),qr(1))};function Mr(T){if(T.G=0,T.ka=[],T.l){const F=Ir(T.h);(F.length!=0||T.i.length!=0)&&(D(T.ka,F),D(T.ka,T.i),T.h.i.length=0,b(T.i),T.i.length=0),T.l.ra()}}function Mt(T,F,H){var se=H instanceof ga?qt(H):new ga(H);if(se.g!="")F&&(se.g=F+"."+se.g),Oe(se,se.s);else{var De=f.location;se=De.protocol,F=F?F+"."+De.hostname:De.hostname,De=+De.port;var Ge=new ga(null);se&&An(Ge,se),F&&(Ge.g=F),De&&Oe(Ge,De),H&&(Ge.l=H),se=Ge}return H=T.D,F=T.ya,H&&F&&mt(se,H,F),mt(se,"VER",T.la),Lo(T,se),se}function Af(T,F,H){if(F&&!T.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=T.Ca&&!T.pa?new hn(new Ya({eb:H})):new hn(T.pa),F.Ha(T.J),F}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xr(){}t=Xr.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ja(){}Ja.prototype.g=function(T,F){return new Qn(T,F)};function Qn(T,F){or.call(this),this.g=new dl(F),this.l=T,this.h=F&&F.messageUrlParams||null,T=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(T?T["X-Client-Protocol"]="webchannel":T={"X-Client-Protocol":"webchannel"}),this.g.o=T,T=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(T?T["X-WebChannel-Content-Type"]=F.messageContentType:T={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(T?T["X-WebChannel-Client-Profile"]=F.va:T={"X-WebChannel-Client-Profile":F.va}),this.g.S=T,(T=F&&F.Sb)&&!G(T)&&(this.g.m=T),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!G(F)&&(this.g.D=F,T=this.h,T!==null&&F in T&&(T=this.h,F in T&&delete T[F])),this.j=new Hs(this)}N(Qn,or),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){Za(this.g)},Qn.prototype.o=function(T){var F=this.g;if(typeof T=="string"){var H={};H.__data__=T,T=H}else this.u&&(H={},H.__data__=_r(T),T=H);F.i.push(new go(F.Ya++,T)),F.G==3&&$t(F)},Qn.prototype.N=function(){this.g.l=null,delete this.j,Za(this.g),delete this.g,Qn.aa.N.call(this)};function Sf(T){zi.call(this),T.__headers__&&(this.headers=T.__headers__,this.statusCode=T.__status__,delete T.__headers__,delete T.__status__);var F=T.__sm__;if(F){e:{for(const H in F){T=H;break e}T=void 0}(this.i=T)&&(T=this.i,F=F!==null&&T in F?F[T]:void 0),this.data=F}else this.data=T}N(Sf,zi);function Oa(){Mi.call(this),this.status=1}N(Oa,Mi);function Hs(T){this.g=T}N(Hs,Xr),Hs.prototype.ua=function(){Gr(this.g,"a")},Hs.prototype.ta=function(T){Gr(this.g,new Sf(T))},Hs.prototype.sa=function(T){Gr(this.g,new Oa)},Hs.prototype.ra=function(){Gr(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,p6=function(){return new Ja},m6=function(){return Us()},g6=$i,Zv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},le.NO_ERROR=0,le.TIMEOUT=8,le.HTTP_ERROR=6,em=le,ce.COMPLETE="complete",d6=ce,gs.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",or.prototype.listen=or.prototype.K,zh=gs,hn.prototype.listenOnce=hn.prototype.L,hn.prototype.getLastError=hn.prototype.Ka,hn.prototype.getLastErrorCode=hn.prototype.Ba,hn.prototype.getStatus=hn.prototype.Z,hn.prototype.getResponseJson=hn.prototype.Oa,hn.prototype.getResponseText=hn.prototype.oa,hn.prototype.send=hn.prototype.ea,hn.prototype.setWithCredentials=hn.prototype.Ha,h6=hn}).apply(typeof Cg<"u"?Cg:typeof self<"u"?self:typeof window<"u"?window:{});const NC="@firebase/firestore",kC="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_a.UNAUTHENTICATED=new _a(null),_a.GOOGLE_CREDENTIALS=new _a("google-credentials-uid"),_a.FIRST_PARTY=new _a("first-party-uid"),_a.MOCK_USER=new _a("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j0="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new a_("@firebase/firestore");function o0(){return tf.logLevel}function At(t,...e){if(tf.logLevel<=Cr.DEBUG){const r=e.map(x_);tf.debug(`Firestore (${j0}): ${t}`,...r)}}function Ql(t,...e){if(tf.logLevel<=Cr.ERROR){const r=e.map(x_);tf.error(`Firestore (${j0}): ${t}`,...r)}}function Yc(t,...e){if(tf.logLevel<=Cr.WARN){const r=e.map(x_);tf.warn(`Firestore (${j0}): ${t}`,...r)}}function x_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,x6(t,n,r)}function x6(t,e,r){let n=`FIRESTORE (${j0}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Ql(n),new Error(n)}function Qr(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||x6(e,i,n)}function sr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends ll{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(_a.UNAUTHENTICATED)))}shutdown(){}}class VB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class jB{constructor(e){this.t=e,this.currentUser=_a.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Qr(this.o===void 0,42304);let n=this.i;const i=m=>this.i!==n?(n=this.i,r(m)):Promise.resolve();let a=new zl;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new zl,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const m=a;e.enqueueRetryable((async()=>{await m.promise,await i(this.currentUser)}))},f=m=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new zl)}}),0),l()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Qr(typeof n.accessToken=="string",31837,{l:n}),new v6(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qr(e===null||typeof e=="string",2055,{h:e}),new _a(e)}}class zB{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=_a.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HB{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new zB(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(_a.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GB{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ns(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Qr(this.o===void 0,3512);const n=a=>{a.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,At("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new DC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Qr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new DC(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=WB(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function mr(t,e){return t<e?-1:t>e?1:0}function Jv(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),i=e.codePointAt(r);if(n!==i){if(n<128&&i<128)return mr(n,i);{const a=y6(),l=qB(a.encode(OC(t,r)),a.encode(OC(e,r)));return l!==0?l:mr(n,i)}}r+=n>65535?2:1}return mr(t.length,e.length)}function OC(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function qB(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return mr(t[r],e[r]);return mr(t.length,e.length)}function I0(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="__name__";class qo{constructor(e,r,n){r===void 0?r=0:r>e.length&&Kt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Kt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return qo.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof qo?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=qo.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return mr(e.length,r.length)}static compareSegments(e,r){const n=qo.isNumericId(e),i=qo.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?qo.extractNumericId(e).compare(qo.extractNumericId(r)):Jv(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gc.fromString(e.substring(4,e.length-2))}}class Tn extends qo{construct(e,r,n){return new Tn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Et(et.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Tn(r)}static emptyPath(){return new Tn([])}}const XB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ua extends qo{construct(e,r,n){return new ua(e,r,n)}static isValidIdentifier(e){return XB.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ua.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===MC}static keyField(){return new ua([MC])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Et(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let l=!1;for(;i<e.length;){const f=e[i];if(f==="\\"){if(i+1===e.length)throw new Et(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Et(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=m,i+=2}else f==="`"?(l=!l,i++):f!=="."||l?(n+=f,i++):(a(),i++)}if(a(),l)throw new Et(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ua(r)}static emptyPath(){return new ua([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.path=e}static fromPath(e){return new Vt(Tn.fromString(e))}static fromName(e){return new Vt(Tn.fromString(e).popFirst(5))}static empty(){return new Vt(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Tn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vt(new Tn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(t,e,r){if(!r)throw new Et(et.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YB(t,e,r,n){if(e===!0&&n===!0)throw new Et(et.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function LC(t){if(!Vt.isDocumentKey(t))throw new Et(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function FC(t){if(Vt.isDocumentKey(t))throw new Et(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function E6(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function dp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Kt(12329,{type:typeof t})}function cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Et(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=dp(t);throw new Et(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,e){const r={typeString:t};return e&&(r.value=e),r}function r1(t,e){if(!E6(t))throw new Et(et.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const l=t[n];if(i&&typeof l!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new Et(et.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=-62135596800,BC=1e6;class Nn{static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*BC);return new Nn(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Et(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Et(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<PC)throw new Et(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Et(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BC}_compareTo(e){return this.seconds===e.seconds?mr(this.nanoseconds,e.nanoseconds):mr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(r1(e,Nn._jsonSchema))return new Nn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-PC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nn._jsonSchemaVersion="firestore/timestamp/1.0",Nn._jsonSchema={type:Di("string",Nn._jsonSchemaVersion),seconds:Di("number"),nanoseconds:Di("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{static fromTimestamp(e){return new tr(e)}static min(){return new tr(new Nn(0,0))}static max(){return new tr(new Nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=-1;function KB(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=tr.fromTimestamp(n===1e9?new Nn(r+1,0):new Nn(r,n));return new Kc(i,Vt.empty(),e)}function QB(t){return new Kc(t.readTime,t.key,_d)}class Kc{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Kc(tr.min(),Vt.empty(),_d)}static max(){return new Kc(tr.max(),Vt.empty(),_d)}}function $B(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Vt.comparator(t.documentKey,e.documentKey),r!==0?r:mr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z0(t){if(t.code!==et.FAILED_PRECONDITION||t.message!==ZB)throw t;At("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Kt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new nt(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof nt?r:nt.resolve(r)}catch(r){return nt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):nt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):nt.reject(r)}static resolve(e){return new nt(((r,n)=>{r(e)}))}static reject(e){return new nt(((r,n)=>{n(e)}))}static waitFor(e){return new nt(((r,n)=>{let i=0,a=0,l=!1;e.forEach((f=>{++i,f.next((()=>{++a,l&&a===i&&r()}),(m=>n(m)))})),l=!0,a===i&&r()}))}static or(e){let r=nt.resolve(!1);for(const n of e)r=r.next((i=>i?nt.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new nt(((n,i)=>{const a=e.length,l=new Array(a);let f=0;for(let m=0;m<a;m++){const g=m;r(e[g]).next((y=>{l[g]=y,++f,f===a&&n(l)}),(y=>i(y)))}}))}static doWhile(e,r){return new nt(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}function eU(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function H0(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this._e(n),this.ae=n=>r.writeSequenceNumber(n))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}gp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=-1;function mp(t){return t==null}function xm(t){return t===0&&1/t==-1/0}function tU(t){return typeof t=="number"&&Number.isInteger(t)&&!xm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="";function rU(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=UC(e)),e=nU(t.get(r),e);return UC(e)}function nU(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case w6:r+="";break;default:r+=a}}return r}function UC(t){return t+w6+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function uu(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function T6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,r){this.comparator=e,this.root=r||oa.EMPTY}insert(e,r){return new Gn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,oa.BLACK,null,null))}remove(e){return new Gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,oa.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bg(this.root,e,this.comparator,!1)}getReverseIterator(){return new bg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bg(this.root,e,this.comparator,!0)}}class bg{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class oa{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??oa.RED,this.left=i??oa.EMPTY,this.right=a??oa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new oa(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return oa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return oa.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,oa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,oa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Kt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Kt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Kt(27949);return e+(this.isRed()?0:1)}}oa.EMPTY=null,oa.RED=!0,oa.BLACK=!1;oa.EMPTY=new class{constructor(){this.size=0}get key(){throw Kt(57766)}get value(){throw Kt(16141)}get color(){throw Kt(16727)}get left(){throw Kt(29726)}get right(){throw Kt(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new oa(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.comparator=e,this.data=new Gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new jC(this.data.getIterator())}getIteratorFrom(e){return new jC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof Vi)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Vi(this.comparator);return r.data=e,r}}class jC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.fields=e,e.sort(ua.comparator)}static empty(){return new Ms([])}unionWith(e){let r=new Vi(ua.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ms(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return I0(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new A6("Invalid base64 string: "+a):a}})(e);return new ha(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new ha(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ha.EMPTY_BYTE_STRING=new ha("");const iU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qc(t){if(Qr(!!t,39018),typeof t=="string"){let e=0;const r=iU.exec(t);if(Qr(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:pi(t.seconds),nanos:pi(t.nanos)}}function pi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $c(t){return typeof t=="string"?ha.fromBase64String(t):ha.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6="server_timestamp",C6="__type__",b6="__previous_value__",I6="__local_write_time__";function __(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[C6])===null||r===void 0?void 0:r.stringValue)===S6}function pp(t){const e=t.mapValue.fields[b6];return __(e)?pp(e):e}function Ed(t){const e=Qc(t.mapValue.fields[I6].timestampValue);return new Nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,r,n,i,a,l,f,m,g,y){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const vm="(default)";class wd{constructor(e,r){this.projectId=e,this.database=r||vm}static empty(){return new wd("","")}get isDefaultDatabase(){return this.database===vm}isEqual(e){return e instanceof wd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="__type__",sU="__max__",Ig={mapValue:{}},N6="__vector__",ym="value";function Zc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?__(t)?4:lU(t)?9007199254740991:oU(t)?10:11:Kt(28295,{value:t})}function sl(t,e){if(t===e)return!0;const r=Zc(t);if(r!==Zc(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ed(t).isEqual(Ed(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Qc(i.timestampValue),f=Qc(a.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return $c(i.bytesValue).isEqual($c(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return pi(i.geoPointValue.latitude)===pi(a.geoPointValue.latitude)&&pi(i.geoPointValue.longitude)===pi(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return pi(i.integerValue)===pi(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=pi(i.doubleValue),f=pi(a.doubleValue);return l===f?xm(l)===xm(f):isNaN(l)&&isNaN(f)}return!1})(t,e);case 9:return I0(t.arrayValue.values||[],e.arrayValue.values||[],sl);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},f=a.mapValue.fields||{};if(VC(l)!==VC(f))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(f[m]===void 0||!sl(l[m],f[m])))return!1;return!0})(t,e);default:return Kt(52216,{left:t})}}function Td(t,e){return(t.values||[]).find((r=>sl(r,e)))!==void 0}function R0(t,e){if(t===e)return 0;const r=Zc(t),n=Zc(e);if(r!==n)return mr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return mr(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const f=pi(a.integerValue||a.doubleValue),m=pi(l.integerValue||l.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(t,e);case 3:return zC(t.timestampValue,e.timestampValue);case 4:return zC(Ed(t),Ed(e));case 5:return Jv(t.stringValue,e.stringValue);case 6:return(function(a,l){const f=$c(a),m=$c(l);return f.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const f=a.split("/"),m=l.split("/");for(let g=0;g<f.length&&g<m.length;g++){const y=mr(f[g],m[g]);if(y!==0)return y}return mr(f.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const f=mr(pi(a.latitude),pi(l.latitude));return f!==0?f:mr(pi(a.longitude),pi(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return HC(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var f,m,g,y;const E=a.fields||{},A=l.fields||{},C=(f=E[ym])===null||f===void 0?void 0:f.arrayValue,N=(m=A[ym])===null||m===void 0?void 0:m.arrayValue,b=mr(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0);return b!==0?b:HC(C,N)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Ig.mapValue&&l===Ig.mapValue)return 0;if(a===Ig.mapValue)return 1;if(l===Ig.mapValue)return-1;const f=a.fields||{},m=Object.keys(f),g=l.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let E=0;E<m.length&&E<y.length;++E){const A=Jv(m[E],y[E]);if(A!==0)return A;const C=R0(f[m[E]],g[y[E]]);if(C!==0)return C}return mr(m.length,y.length)})(t.mapValue,e.mapValue);default:throw Kt(23264,{le:r})}}function zC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return mr(t,e);const r=Qc(t),n=Qc(e),i=mr(r.seconds,n.seconds);return i!==0?i:mr(r.nanos,n.nanos)}function HC(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=R0(r[i],n[i]);if(a)return a}return mr(r.length,n.length)}function N0(t){return ey(t)}function ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Qc(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return $c(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return Vt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=ey(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const l of n)a?a=!1:i+=",",i+=`${l}:${ey(r.fields[l])}`;return i+"}"})(t.mapValue):Kt(61005,{value:t})}function tm(t){switch(Zc(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pp(t);return e?16+tm(e):16;case 5:return 2*t.stringValue.length;case 6:return $c(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+tm(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return uu(n.fields,((a,l)=>{i+=a.length+tm(l)})),i})(t.mapValue);default:throw Kt(13486,{value:t})}}function GC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ty(t){return!!t&&"integerValue"in t}function E_(t){return!!t&&"arrayValue"in t}function WC(t){return!!t&&"nullValue"in t}function qC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rm(t){return!!t&&"mapValue"in t}function oU(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[R6])===null||r===void 0?void 0:r.stringValue)===N6}function ed(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return uu(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=ed(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ed(t.arrayValue.values[r]);return e}return Object.assign({},t)}function lU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===sU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.value=e}static empty(){return new ls({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!rm(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ed(r)}setAll(e){let r=ua.emptyPath(),n={},i=[];e.forEach(((l,f)=>{if(!r.isImmediateParentOf(f)){const m=this.getFieldsMap(r);this.applyChanges(m,n,i),n={},i=[],r=f.popLast()}l?n[f.lastSegment()]=ed(l):i.push(f.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());rm(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return sl(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];rm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){uu(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new ls(ed(this.value))}}function k6(t){const e=[];return uu(t.fields,((r,n)=>{const i=new ua([r]);if(rm(n)){const a=k6(n.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new Ms(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,r,n,i,a,l,f){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=l,this.documentState=f}static newInvalidDocument(e){return new Ta(e,0,tr.min(),tr.min(),tr.min(),ls.empty(),0)}static newFoundDocument(e,r,n,i){return new Ta(e,1,r,tr.min(),n,i,0)}static newNoDocument(e,r){return new Ta(e,2,r,tr.min(),tr.min(),ls.empty(),0)}static newUnknownDocument(e,r){return new Ta(e,3,r,tr.min(),tr.min(),ls.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(tr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ls.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ta&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ta(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,r){this.position=e,this.inclusive=r}}function XC(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?n=Vt.comparator(Vt.fromName(l.referenceValue),r.key):n=R0(l,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function YC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!sl(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,r="asc"){this.field=e,this.dir=r}}function cU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{}class ki extends D6{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new fU(e,r,n):r==="array-contains"?new gU(e,n):r==="in"?new mU(e,n):r==="not-in"?new pU(e,n):r==="array-contains-any"?new xU(e,n):new ki(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new hU(e,n):new dU(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(R0(r,this.value)):r!==null&&Zc(this.value)===Zc(r)&&this.matchesComparison(R0(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Kt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ro extends D6{constructor(e,r){super(),this.filters=e,this.op=r,this.he=null}static create(e,r){return new Ro(e,r)}matches(e){return O6(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function O6(t){return t.op==="and"}function M6(t){return uU(t)&&O6(t)}function uU(t){for(const e of t.filters)if(e instanceof Ro)return!1;return!0}function ry(t){if(t instanceof ki)return t.field.canonicalString()+t.op.toString()+N0(t.value);if(M6(t))return t.filters.map((e=>ry(e))).join(",");{const e=t.filters.map((r=>ry(r))).join(",");return`${t.op}(${e})`}}function L6(t,e){return t instanceof ki?(function(n,i){return i instanceof ki&&n.op===i.op&&n.field.isEqual(i.field)&&sl(n.value,i.value)})(t,e):t instanceof Ro?(function(n,i){return i instanceof Ro&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,l,f)=>a&&L6(l,i.filters[f])),!0):!1})(t,e):void Kt(19439)}function F6(t){return t instanceof ki?(function(r){return`${r.field.canonicalString()} ${r.op} ${N0(r.value)}`})(t):t instanceof Ro?(function(r){return r.op.toString()+" {"+r.getFilters().map(F6).join(" ,")+"}"})(t):"Filter"}class fU extends ki{constructor(e,r,n){super(e,r,n),this.key=Vt.fromName(n.referenceValue)}matches(e){const r=Vt.comparator(e.key,this.key);return this.matchesComparison(r)}}class hU extends ki{constructor(e,r){super(e,"in",r),this.keys=P6("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class dU extends ki{constructor(e,r){super(e,"not-in",r),this.keys=P6("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function P6(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>Vt.fromName(n.referenceValue)))}class gU extends ki{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return E_(r)&&Td(r.arrayValue,this.value)}}class mU extends ki{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Td(this.value.arrayValue,r)}}class pU extends ki{constructor(e,r){super(e,"not-in",r)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Td(this.value.arrayValue,r)}}class xU extends ki{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!E_(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Td(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,r=null,n=[],i=[],a=null,l=null,f=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=l,this.endAt=f,this.Pe=null}}function KC(t,e=null,r=[],n=[],i=null,a=null,l=null){return new vU(t,e,r,n,i,a,l)}function w_(t){const e=sr(t);if(e.Pe===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>ry(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),mp(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>N0(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>N0(n))).join(",")),e.Pe=r}return e.Pe}function T_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!cU(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!L6(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YC(t.startAt,e.startAt)&&YC(t.endAt,e.endAt)}function ny(t){return Vt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,r=null,n=[],i=[],a=null,l="F",f=null,m=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=l,this.startAt=f,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function yU(t,e,r,n,i,a,l,f){return new G0(t,e,r,n,i,a,l,f)}function xp(t){return new G0(t)}function QC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function B6(t){return t.collectionGroup!==null}function td(t){const e=sr(t);if(e.Te===null){e.Te=[];const r=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let f=new Vi(ua.comparator);return l.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Te.push(new Ad(a,n))})),r.has(ua.keyField().canonicalString())||e.Te.push(new Ad(ua.keyField(),n))}return e.Te}function rl(t){const e=sr(t);return e.Ie||(e.Ie=_U(e,td(t))),e.Ie}function _U(t,e){if(t.limitType==="F")return KC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Ad(i.field,a)}));const r=t.endAt?new _m(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new _m(t.startAt.position,t.startAt.inclusive):null;return KC(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function iy(t,e){const r=t.filters.concat([e]);return new G0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function ay(t,e,r){return new G0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function vp(t,e){return T_(rl(t),rl(e))&&t.limitType===e.limitType}function U6(t){return`${w_(rl(t))}|lt:${t.limitType}`}function l0(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>F6(i))).join(", ")}]`),mp(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>N0(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>N0(i))).join(",")),`Target(${n})`})(rl(t))}; limitType=${t.limitType})`}function yp(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Vt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of td(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(l,f,m){const g=XC(l,f,m);return l.inclusive?g<=0:g<0})(n.startAt,td(n),i)||n.endAt&&!(function(l,f,m){const g=XC(l,f,m);return l.inclusive?g>=0:g>0})(n.endAt,td(n),i))})(t,e)}function EU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function V6(t){return(e,r)=>{let n=!1;for(const i of td(t)){const a=wU(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function wU(t,e,r){const n=t.field.isKeyField()?Vt.comparator(e.key,r.key):(function(a,l,f){const m=l.data.field(a),g=f.data.field(a);return m!==null&&g!==null?R0(m,g):Kt(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Kt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){uu(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return T6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=new Gn(Vt.comparator);function $l(){return TU}const j6=new Gn(Vt.comparator);function Hh(...t){let e=j6;for(const r of t)e=e.insert(r.key,r);return e}function z6(t){let e=j6;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function ju(){return rd()}function H6(){return rd()}function rd(){return new df((t=>t.toString()),((t,e)=>t.isEqual(e)))}const AU=new Gn(Vt.comparator),SU=new Vi(Vt.comparator);function br(...t){let e=SU;for(const r of t)e=e.add(r);return e}const CU=new Vi(mr);function bU(){return CU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xm(e)?"-0":e}}function G6(t){return{integerValue:""+t}}function IU(t,e){return tU(e)?G6(e):A_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(){this._=void 0}}function RU(t,e,r){return t instanceof Sd?(function(i,a){const l={fields:{[C6]:{stringValue:S6},[I6]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&__(a)&&(a=pp(a)),a&&(l.fields[b6]=a),{mapValue:l}})(r,e):t instanceof Cd?q6(t,e):t instanceof bd?X6(t,e):(function(i,a){const l=W6(i,a),f=$C(l)+$C(i.Ee);return ty(l)&&ty(i.Ee)?G6(f):A_(i.serializer,f)})(t,e)}function NU(t,e,r){return t instanceof Cd?q6(t,e):t instanceof bd?X6(t,e):r}function W6(t,e){return t instanceof Em?(function(n){return ty(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class Sd extends _p{}class Cd extends _p{constructor(e){super(),this.elements=e}}function q6(t,e){const r=Y6(e);for(const n of t.elements)r.some((i=>sl(i,n)))||r.push(n);return{arrayValue:{values:r}}}class bd extends _p{constructor(e){super(),this.elements=e}}function X6(t,e){let r=Y6(e);for(const n of t.elements)r=r.filter((i=>!sl(i,n)));return{arrayValue:{values:r}}}class Em extends _p{constructor(e,r){super(),this.serializer=e,this.Ee=r}}function $C(t){return pi(t.integerValue||t.doubleValue)}function Y6(t){return E_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e,r){this.field=e,this.transform=r}}function DU(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof Cd&&i instanceof Cd||n instanceof bd&&i instanceof bd?I0(n.elements,i.elements,sl):n instanceof Em&&i instanceof Em?sl(n.Ee,i.Ee):n instanceof Sd&&i instanceof Sd})(t.transform,e.transform)}class OU{constructor(e,r){this.version=e,this.transformResults=r}}class so{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new so}static exists(e){return new so(void 0,e)}static updateTime(e){return new so(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ep{}function K6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new S_(t.key,so.none()):new n1(t.key,t.data,so.none());{const r=t.data,n=ls.empty();let i=new Vi(ua.comparator);for(let a of e.fields)if(!i.has(a)){let l=r.field(a);l===null&&a.length>1&&(a=a.popLast(),l=r.field(a)),l===null?n.delete(a):n.set(a,l),i=i.add(a)}return new fu(t.key,n,new Ms(i.toArray()),so.none())}}function MU(t,e,r){t instanceof n1?(function(i,a,l){const f=i.value.clone(),m=JC(i.fieldTransforms,a,l.transformResults);f.setAll(m),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,r):t instanceof fu?(function(i,a,l){if(!nm(i.precondition,a))return void a.convertToUnknownDocument(l.version);const f=JC(i.fieldTransforms,a,l.transformResults),m=a.data;m.setAll(Q6(i)),m.setAll(f),a.convertToFoundDocument(l.version,m).setHasCommittedMutations()})(t,e,r):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,r)}function nd(t,e,r,n){return t instanceof n1?(function(a,l,f,m){if(!nm(a.precondition,l))return f;const g=a.value.clone(),y=e4(a.fieldTransforms,m,l);return g.setAll(y),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),null})(t,e,r,n):t instanceof fu?(function(a,l,f,m){if(!nm(a.precondition,l))return f;const g=e4(a.fieldTransforms,m,l),y=l.data;return y.setAll(Q6(a)),y.setAll(g),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((E=>E.field)))})(t,e,r,n):(function(a,l,f){return nm(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f})(t,e,r)}function LU(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=W6(n.transform,i||null);a!=null&&(r===null&&(r=ls.empty()),r.set(n.field,a))}return r||null}function ZC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&I0(n,i,((a,l)=>DU(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class n1 extends Ep{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fu extends Ep{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Q6(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function JC(t,e,r){const n=new Map;Qr(t.length===r.length,32656,{Ae:r.length,Re:t.length});for(let i=0;i<r.length;i++){const a=t[i],l=a.transform,f=e.data.field(a.field);n.set(a.field,NU(l,f,r[i]))}return n}function e4(t,e,r){const n=new Map;for(const i of t){const a=i.transform,l=r.data.field(i.field);n.set(i.field,RU(a,l,e))}return n}class S_ extends Ep{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FU extends Ep{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&MU(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=nd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=nd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=H6();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let f=this.applyToLocalView(l,a.mutatedFields);f=r.has(i.key)?null:f;const m=K6(l,f);m!==null&&n.set(i.key,m),l.isValidDocument()||l.convertToNoDocument(tr.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),br())}isEqual(e){return this.batchId===e.batchId&&I0(this.mutations,e.mutations,((r,n)=>ZC(r,n)))&&I0(this.baseMutations,e.baseMutations,((r,n)=>ZC(r,n)))}}class C_{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Qr(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let i=(function(){return AU})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,n[l].version);return new C_(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bi,Dr;function VU(t){switch(t){case et.OK:return Kt(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Kt(15467,{code:t})}}function $6(t){if(t===void 0)return Ql("GRPC error has no .code"),et.UNKNOWN;switch(t){case bi.OK:return et.OK;case bi.CANCELLED:return et.CANCELLED;case bi.UNKNOWN:return et.UNKNOWN;case bi.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case bi.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case bi.INTERNAL:return et.INTERNAL;case bi.UNAVAILABLE:return et.UNAVAILABLE;case bi.UNAUTHENTICATED:return et.UNAUTHENTICATED;case bi.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case bi.NOT_FOUND:return et.NOT_FOUND;case bi.ALREADY_EXISTS:return et.ALREADY_EXISTS;case bi.PERMISSION_DENIED:return et.PERMISSION_DENIED;case bi.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case bi.ABORTED:return et.ABORTED;case bi.OUT_OF_RANGE:return et.OUT_OF_RANGE;case bi.UNIMPLEMENTED:return et.UNIMPLEMENTED;case bi.DATA_LOSS:return et.DATA_LOSS;default:return Kt(39323,{code:t})}}(Dr=bi||(bi={}))[Dr.OK=0]="OK",Dr[Dr.CANCELLED=1]="CANCELLED",Dr[Dr.UNKNOWN=2]="UNKNOWN",Dr[Dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dr[Dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dr[Dr.NOT_FOUND=5]="NOT_FOUND",Dr[Dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dr[Dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dr[Dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dr[Dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dr[Dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dr[Dr.ABORTED=10]="ABORTED",Dr[Dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dr[Dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dr[Dr.INTERNAL=13]="INTERNAL",Dr[Dr.UNAVAILABLE=14]="UNAVAILABLE",Dr[Dr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=new Gc([4294967295,4294967295],0);function t4(t){const e=y6().encode(t),r=new f6;return r.update(e),new Uint8Array(r.digest())}function r4(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Gc([r,n],0),new Gc([i,a],0)]}class b_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Gh(`Invalid padding: ${r}`);if(n<0)throw new Gh(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Gh(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Gh(`Invalid padding when bitmap length is 0: ${r}`);this.fe=8*e.length-r,this.ge=Gc.fromNumber(this.fe)}pe(e,r,n){let i=e.add(r.multiply(Gc.fromNumber(n)));return i.compare(jU)===1&&(i=new Gc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const r=t4(e),[n,i]=r4(r);for(let a=0;a<this.hashCount;a++){const l=this.pe(n,i,a);if(!this.ye(l))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new b_(a,i,r);return n.forEach((f=>l.insert(f))),l}insert(e){if(this.fe===0)return;const r=t4(e),[n,i]=r4(r);for(let a=0;a<this.hashCount;a++){const l=this.pe(n,i,a);this.we(l)}}we(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Gh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,i1.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new wp(tr.min(),i,new Gn(mr),$l(),br())}}class i1{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new i1(n,r,br(),br(),br())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,r,n,i){this.Se=e,this.removedTargetIds=r,this.key=n,this.be=i}}class Z6{constructor(e,r){this.targetId=e,this.De=r}}class J6{constructor(e,r,n=ha.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class n4{constructor(){this.ve=0,this.Ce=i4(),this.Fe=ha.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=br(),r=br(),n=br();return this.Ce.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Kt(38017,{changeType:a})}})),new i1(this.Fe,this.Me,e,r,n)}ke(){this.xe=!1,this.Ce=i4()}qe(e,r){this.xe=!0,this.Ce=this.Ce.insert(e,r)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Qr(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class zU{constructor(e){this.We=e,this.Ge=new Map,this.ze=$l(),this.je=Rg(),this.Je=Rg(),this.He=new Gn(mr)}Ye(e){for(const r of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(r,e.be):this.Xe(r,e.key,e.be);for(const r of e.removedTargetIds)this.Xe(r,e.key,e.be)}et(e){this.forEachTarget(e,(r=>{const n=this.tt(r);switch(e.state){case 0:this.nt(r)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(r);break;case 3:this.nt(r)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(r)&&(this.rt(r),n.Be(e.resumeToken));break;default:Kt(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Ge.forEach(((n,i)=>{this.nt(i)&&r(i)}))}it(e){const r=e.targetId,n=e.De.count,i=this.st(r);if(i){const a=i.target;if(ny(a))if(n===0){const l=new Vt(a.path);this.Xe(r,l,Ta.newNoDocument(l,tr.min()))}else Qr(n===1,20013,{expectedCount:n});else{const l=this.ot(r);if(l!==n){const f=this._t(e),m=f?this.ut(f,e,l):1;if(m!==0){this.rt(r);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(r,g)}}}}}_t(e){const r=e.De.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let l,f;try{l=$c(n).toUint8Array()}catch(m){if(m instanceof A6)return Yc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new b_(l,i,a)}catch(m){return Yc(m instanceof Gh?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.fe===0?null:f}ut(e,r,n){return r.De.count===n-this.ht(e,r.targetId)?0:2}ht(e,r){const n=this.We.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const l=this.We.lt(),f=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.Xe(r,a,null),i++)})),i}Pt(e){const r=new Map;this.Ge.forEach(((a,l)=>{const f=this.st(l);if(f){if(a.current&&ny(f.target)){const m=new Vt(f.target.path);this.Tt(m).has(l)||this.It(l,m)||this.Xe(l,m,Ta.newNoDocument(m,e))}a.Ne&&(r.set(l,a.Le()),a.ke())}}));let n=br();this.Je.forEach(((a,l)=>{let f=!0;l.forEachWhile((m=>{const g=this.st(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(n=n.add(a))})),this.ze.forEach(((a,l)=>l.setReadTime(e)));const i=new wp(e,r,this.He,this.ze,n);return this.ze=$l(),this.je=Rg(),this.Je=Rg(),this.He=new Gn(mr),i}Ze(e,r){if(!this.nt(e))return;const n=this.It(e,r.key)?2:0;this.tt(e).qe(r.key,n),this.ze=this.ze.insert(r.key,r),this.je=this.je.insert(r.key,this.Tt(r.key).add(e)),this.Je=this.Je.insert(r.key,this.dt(r.key).add(e))}Xe(e,r,n){if(!this.nt(e))return;const i=this.tt(e);this.It(e,r)?i.qe(r,1):i.Qe(r),this.Je=this.Je.insert(r,this.dt(r).delete(e)),this.Je=this.Je.insert(r,this.dt(r).add(e)),n&&(this.ze=this.ze.insert(r,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const r=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let r=this.Ge.get(e);return r||(r=new n4,this.Ge.set(e,r)),r}dt(e){let r=this.Je.get(e);return r||(r=new Vi(mr),this.Je=this.Je.insert(e,r)),r}Tt(e){let r=this.je.get(e);return r||(r=new Vi(mr),this.je=this.je.insert(e,r)),r}nt(e){const r=this.st(e)!==null;return r||At("WatchChangeAggregator","Detected inactive target",e),r}st(e){const r=this.Ge.get(e);return r&&r.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new n4),this.We.getRemoteKeysForTarget(e).forEach((r=>{this.Xe(e,r,null)}))}It(e,r){return this.We.getRemoteKeysForTarget(e).has(r)}}function Rg(){return new Gn(Vt.comparator)}function i4(){return new Gn(Vt.comparator)}const HU={asc:"ASCENDING",desc:"DESCENDING"},GU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WU={and:"AND",or:"OR"};class qU{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function sy(t,e){return t.useProto3Json||mp(e)?e:{value:e}}function wm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XU(t,e){return wm(t,e.toTimestamp())}function nl(t){return Qr(!!t,49232),tr.fromTimestamp((function(r){const n=Qc(r);return new Nn(n.seconds,n.nanos)})(t))}function I_(t,e){return oy(t,e).canonicalString()}function oy(t,e){const r=(function(i){return new Tn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function tR(t){const e=Tn.fromString(t);return Qr(sR(e),10190,{key:e.toString()}),e}function ly(t,e){return I_(t.databaseId,e.path)}function iv(t,e){const r=tR(e);if(r.get(1)!==t.databaseId.projectId)throw new Et(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Et(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Vt(nR(r))}function rR(t,e){return I_(t.databaseId,e)}function YU(t){const e=tR(t);return e.length===4?Tn.emptyPath():nR(e)}function cy(t){return new Tn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nR(t){return Qr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function a4(t,e,r){return{name:ly(t,e),fields:r.value.mapValue.fields}}function KU(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Kt(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(g,y){return g.useProto3Json?(Qr(y===void 0||typeof y=="string",58123),ha.fromBase64String(y||"")):(Qr(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),ha.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&(function(g){const y=g.code===void 0?et.UNKNOWN:$6(g.code);return new Et(y,g.message||"")})(l);r=new J6(n,i,a,f||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=iv(t,n.document.name),a=nl(n.document.updateTime),l=n.document.createTime?nl(n.document.createTime):tr.min(),f=new ls({mapValue:{fields:n.document.fields}}),m=Ta.newFoundDocument(i,a,l,f),g=n.targetIds||[],y=n.removedTargetIds||[];r=new im(g,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=iv(t,n.document),a=n.readTime?nl(n.readTime):tr.min(),l=Ta.newNoDocument(i,a),f=n.removedTargetIds||[];r=new im([],f,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=iv(t,n.document),a=n.removedTargetIds||[];r=new im([],a,i,null)}else{if(!("filter"in e))return Kt(11601,{At:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,l=new UU(i,a),f=n.targetId;r=new Z6(f,l)}}return r}function QU(t,e){let r;if(e instanceof n1)r={update:a4(t,e.key,e.value)};else if(e instanceof S_)r={delete:ly(t,e.key)};else if(e instanceof fu)r={update:a4(t,e.key,e.data),updateMask:aV(e.fieldMask)};else{if(!(e instanceof FU))return Kt(16599,{Rt:e.type});r={verify:ly(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,l){const f=l.transform;if(f instanceof Sd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Cd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof bd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Em)return{fieldPath:l.field.canonicalString(),increment:f.Ee};throw Kt(20930,{transform:l.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:XU(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Kt(27497)})(t,e.precondition)),r}function $U(t,e){return t&&t.length>0?(Qr(e!==void 0,14353),t.map((r=>(function(i,a){let l=i.updateTime?nl(i.updateTime):nl(a);return l.isEqual(tr.min())&&(l=nl(a)),new OU(l,i.transformResults||[])})(r,e)))):[]}function ZU(t,e){return{documents:[rR(t,e.path)]}}function JU(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=rR(t,i);const a=(function(g){if(g.length!==0)return aR(Ro.create(g,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const l=(function(g){if(g.length!==0)return g.map((y=>(function(A){return{field:c0(A.field),direction:rV(A.dir)}})(y)))})(e.orderBy);l&&(r.structuredQuery.orderBy=l);const f=sy(t,e.limit);return f!==null&&(r.structuredQuery.limit=f),e.startAt&&(r.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{Vt:r,parent:i}}function eV(t){let e=YU(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Qr(n===1,65062);const y=r.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];r.where&&(a=(function(E){const A=iR(E);return A instanceof Ro&&M6(A)?A.getFilters():[A]})(r.where));let l=[];r.orderBy&&(l=(function(E){return E.map((A=>(function(N){return new Ad(u0(N.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(A)))})(r.orderBy));let f=null;r.limit&&(f=(function(E){let A;return A=typeof E=="object"?E.value:E,mp(A)?null:A})(r.limit));let m=null;r.startAt&&(m=(function(E){const A=!!E.before,C=E.values||[];return new _m(C,A)})(r.startAt));let g=null;return r.endAt&&(g=(function(E){const A=!E.before,C=E.values||[];return new _m(C,A)})(r.endAt)),yU(e,i,l,a,f,"F",m,g)}function tV(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kt(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function iR(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=u0(r.unaryFilter.field);return ki.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=u0(r.unaryFilter.field);return ki.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=u0(r.unaryFilter.field);return ki.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=u0(r.unaryFilter.field);return ki.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Kt(61313);default:return Kt(60726)}})(t):t.fieldFilter!==void 0?(function(r){return ki.create(u0(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Kt(58110);default:return Kt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Ro.create(r.compositeFilter.filters.map((n=>iR(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Kt(1026)}})(r.compositeFilter.op))})(t):Kt(30097,{filter:t})}function rV(t){return HU[t]}function nV(t){return GU[t]}function iV(t){return WU[t]}function c0(t){return{fieldPath:t.canonicalString()}}function u0(t){return ua.fromServerFormat(t.fieldPath)}function aR(t){return t instanceof ki?(function(r){if(r.op==="=="){if(qC(r.value))return{unaryFilter:{field:c0(r.field),op:"IS_NAN"}};if(WC(r.value))return{unaryFilter:{field:c0(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(qC(r.value))return{unaryFilter:{field:c0(r.field),op:"IS_NOT_NAN"}};if(WC(r.value))return{unaryFilter:{field:c0(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:c0(r.field),op:nV(r.op),value:r.value}}})(t):t instanceof Ro?(function(r){const n=r.getFilters().map((i=>aR(i)));return n.length===1?n[0]:{compositeFilter:{op:iV(r.op),filters:n}}})(t):Kt(54877,{filter:t})}function aV(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function sR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,r,n,i,a=tr.min(),l=tr.min(),f=ha.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Uc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.gt=e}}function oV(t){const e=eV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ay(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.Dn=new cV}addToCollectionParentIndex(e,r){return this.Dn.add(r),nt.resolve()}getCollectionParents(e,r){return nt.resolve(this.Dn.getEntries(r))}addFieldIndex(e,r){return nt.resolve()}deleteFieldIndex(e,r){return nt.resolve()}deleteAllFieldIndexes(e){return nt.resolve()}createTargetIndexes(e,r){return nt.resolve()}getDocumentsMatchingTarget(e,r){return nt.resolve(null)}getIndexType(e,r){return nt.resolve(0)}getFieldIndexes(e,r){return nt.resolve([])}getNextCollectionGroupToUpdate(e){return nt.resolve(null)}getMinOffset(e,r){return nt.resolve(Kc.min())}getMinOffsetFromCollectionGroup(e,r){return nt.resolve(Kc.min())}updateCollectionGroup(e,r,n){return nt.resolve()}updateIndexEntries(e,r){return nt.resolve()}}class cV{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Vi(Tn.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Vi(Tn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oR=41943040;class os{static withCacheSize(e){return new os(e,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os.DEFAULT_COLLECTION_PERCENTILE=10,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,os.DEFAULT=new os(oR,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),os.DISABLED=new os(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new k0(0)}static ur(){return new k0(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="LruGarbageCollector",uV=1048576;function l4([t,e],[r,n]){const i=mr(t,r);return i===0?mr(e,n):i}class fV{constructor(e){this.Tr=e,this.buffer=new Vi(l4),this.Ir=0}dr(){return++this.Ir}Er(e){const r=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();l4(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class hV{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){At(o4,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){H0(r)?At(o4,"Ignoring IndexedDB error during garbage collection: ",r):await z0(r)}await this.Rr(3e5)}))}}class dV{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.mr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return nt.resolve(gp.ue);const n=new fV(r);return this.Vr.forEachTarget(e,(i=>n.Er(i.sequenceNumber))).next((()=>this.Vr.gr(e,(i=>n.Er(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Vr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(s4)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s4):this.pr(e,r)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,r){let n,i,a,l,f,m,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),i=this.params.maximumSequenceNumbersToCollect):i=E,l=Date.now(),this.nthSequenceNumber(e,i)))).next((E=>(n=E,f=Date.now(),this.removeTargets(e,n,r)))).next((E=>(a=E,m=Date.now(),this.removeOrphanedDocuments(e,n)))).next((E=>(g=Date.now(),o0()<=Cr.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${i} in `+(f-l)+`ms
	Removed ${a} targets in `+(m-f)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:E}))))}}function gV(t,e){return new dV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.changes=new df((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ta.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?nt.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&nd(n.mutation,i,Ms.empty(),Nn.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,br()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=br()){const i=ju();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let l=Hh();return a.forEach(((f,m)=>{l=l.insert(f,m.overlayedDocument)})),l}))))}getOverlayedDocuments(e,r){const n=ju();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,br())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,f)=>{r.set(l,f)}))}))}computeViews(e,r,n,i){let a=$l();const l=rd(),f=(function(){return rd()})();return r.forEach(((m,g)=>{const y=n.get(g.key);i.has(g.key)&&(y===void 0||y.mutation instanceof fu)?a=a.insert(g.key,g):y!==void 0?(l.set(g.key,y.mutation.getFieldMask()),nd(y.mutation,g,y.mutation.getFieldMask(),Nn.now())):l.set(g.key,Ms.empty())})),this.recalculateAndSaveOverlays(e,a).next((m=>(m.forEach(((g,y)=>l.set(g,y))),r.forEach(((g,y)=>{var E;return f.set(g,new pV(y,(E=l.get(g))!==null&&E!==void 0?E:null))})),f)))}recalculateAndSaveOverlays(e,r){const n=rd();let i=new Gn(((l,f)=>l-f)),a=br();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((l=>{for(const f of l)f.keys().forEach((m=>{const g=r.get(m);if(g===null)return;let y=n.get(m)||Ms.empty();y=f.applyToLocalView(g,y),n.set(m,y);const E=(i.get(f.batchId)||br()).add(m);i=i.insert(f.batchId,E)}))})).next((()=>{const l=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,y=m.value,E=H6();y.forEach((A=>{if(!a.has(A)){const C=K6(r.get(A),n.get(A));C!==null&&E.set(A,C),a=a.add(A)}})),l.push(this.documentOverlayCache.saveOverlays(e,g,E))}return nt.waitFor(l)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(l){return Vt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):B6(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):nt.resolve(ju());let f=_d,m=a;return l.next((g=>nt.forEach(g,((y,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),a.get(y)?nt.resolve():this.remoteDocumentCache.getEntry(e,y).next((A=>{m=m.insert(y,A)}))))).next((()=>this.populateOverlays(e,g,a))).next((()=>this.computeViews(e,m,g,br()))).next((y=>({batchId:f,changes:z6(y)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Vt(r)).next((n=>{let i=Hh();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let l=Hh();return this.indexManager.getCollectionParents(e,a).next((f=>nt.forEach(f,(m=>{const g=(function(E,A){return new G0(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(r,m.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,n,i).next((y=>{y.forEach(((E,A)=>{l=l.insert(E,A)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((l=>{a.forEach(((m,g)=>{const y=g.getKey();l.get(y)===null&&(l=l.insert(y,Ta.newInvalidDocument(y)))}));let f=Hh();return l.forEach(((m,g)=>{const y=a.get(m);y!==void 0&&nd(y.mutation,g,Ms.empty(),Nn.now()),yp(r,g)&&(f=f.insert(m,g))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,r){return nt.resolve(this.Br.get(r))}saveBundleMetadata(e,r){return this.Br.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:nl(i.createTime)}})(r)),nt.resolve()}getNamedQuery(e,r){return nt.resolve(this.Lr.get(r))}saveNamedQuery(e,r){return this.Lr.set(r.name,(function(i){return{name:i.name,query:oV(i.bundledQuery),readTime:nl(i.readTime)}})(r)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(){this.overlays=new Gn(Vt.comparator),this.kr=new Map}getOverlay(e,r){return nt.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ju();return nt.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.wt(e,r,a)})),nt.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.kr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.kr.delete(n)),nt.resolve()}getOverlaysForCollection(e,r,n){const i=ju(),a=r.length+1,l=new Vt(r.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!r.isPrefixOf(g.path))break;g.path.length===a&&m.largestBatchId>n&&i.set(m.getKey(),m)}return nt.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Gn(((g,y)=>g-y));const l=this.overlays.getIterator();for(;l.hasNext();){const g=l.getNext().value;if(g.getKey().getCollectionGroup()===r&&g.largestBatchId>n){let y=a.get(g.largestBatchId);y===null&&(y=ju(),a=a.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const f=ju(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>f.set(g,y))),!(f.size()>=i)););return nt.resolve(f)}wt(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.kr.get(i.largestBatchId).delete(n.key);this.kr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new BU(r,n));let a=this.kr.get(r);a===void 0&&(a=br(),this.kr.set(r,a)),this.kr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this.sessionToken=ha.EMPTY_BYTE_STRING}getSessionToken(e){return nt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.qr=new Vi(Xi.Qr),this.$r=new Vi(Xi.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,r){const n=new Xi(e,r);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Wr(new Xi(e,r))}Gr(e,r){e.forEach((n=>this.removeReference(n,r)))}zr(e){const r=new Vt(new Tn([])),n=new Xi(r,e),i=new Xi(r,e+1),a=[];return this.$r.forEachInRange([n,i],(l=>{this.Wr(l),a.push(l.key)})),a}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const r=new Vt(new Tn([])),n=new Xi(r,e),i=new Xi(r,e+1);let a=br();return this.$r.forEachInRange([n,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const r=new Xi(e,0),n=this.qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Xi{constructor(e,r){this.key=e,this.Hr=r}static Qr(e,r){return Vt.comparator(e.key,r.key)||mr(e.Hr,r.Hr)}static Ur(e,r){return mr(e.Hr,r.Hr)||Vt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.er=1,this.Yr=new Vi(Xi.Qr)}checkEmpty(e){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new PU(a,r,n,i);this.mutationQueue.push(l);for(const f of i)this.Yr=this.Yr.add(new Xi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return nt.resolve(l)}lookupMutationBatch(e,r){return nt.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Xr(n),a=i<0?0:i;return nt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?y_:this.er-1)}getAllMutationBatches(e){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Xi(r,0),i=new Xi(r,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([n,i],(l=>{const f=this.Zr(l.Hr);a.push(f)})),nt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Vi(mr);return r.forEach((i=>{const a=new Xi(i,0),l=new Xi(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,l],(f=>{n=n.add(f.Hr)}))})),nt.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Vt.isDocumentKey(a)||(a=a.child(""));const l=new Xi(new Vt(a),0);let f=new Vi(mr);return this.Yr.forEachWhile((m=>{const g=m.key.path;return!!n.isPrefixOf(g)&&(g.length===i&&(f=f.add(m.Hr)),!0)}),l),nt.resolve(this.ei(f))}ei(e){const r=[];return e.forEach((n=>{const i=this.Zr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){Qr(this.ti(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Yr;return nt.forEach(r.mutations,(i=>{const a=new Xi(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Yr=n}))}rr(e){}containsKey(e,r){const n=new Xi(r,0),i=this.Yr.firstAfterOrEqual(n);return nt.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,nt.resolve()}ti(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.ni=e,this.docs=(function(){return new Gn(Vt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,l=this.ni(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return nt.resolve(n?n.document.mutableCopy():Ta.newInvalidDocument(r))}getEntries(e,r){let n=$l();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Ta.newInvalidDocument(i))})),nt.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=$l();const l=r.path,f=new Vt(l.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!l.isPrefixOf(g.path))break;g.path.length>l.length+1||$B(QB(y),n)<=0||(i.has(y.key)||yp(r,y))&&(a=a.insert(y.key,y.mutableCopy()))}return nt.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Kt(9500)}ri(e,r){return nt.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new TV(this)}getSize(e){return nt.resolve(this.size)}}class TV extends mV{constructor(e){super(),this.Or=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Or.addEntry(e,i)):this.Or.removeEntry(n)})),nt.waitFor(r)}getFromCache(e,r){return this.Or.getEntry(e,r)}getAllFromCache(e,r){return this.Or.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.persistence=e,this.ii=new df((r=>w_(r)),T_),this.lastRemoteSnapshotVersion=tr.min(),this.highestTargetId=0,this.si=0,this.oi=new R_,this.targetCount=0,this._i=k0.ar()}forEachTarget(e,r){return this.ii.forEach(((n,i)=>r(i))),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.si&&(this.si=r),nt.resolve()}hr(e){this.ii.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this._i=new k0(r),this.highestTargetId=r),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,r){return this.hr(r),this.targetCount+=1,nt.resolve()}updateTargetData(e,r){return this.hr(r),nt.resolve()}removeTargetData(e,r){return this.ii.delete(r.target),this.oi.zr(r.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.ii.forEach(((l,f)=>{f.sequenceNumber<=r&&n.get(f.targetId)===null&&(this.ii.delete(l),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)})),nt.waitFor(a).next((()=>i))}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,r){const n=this.ii.get(r)||null;return nt.resolve(n)}addMatchingKeys(e,r,n){return this.oi.Kr(r,n),nt.resolve()}removeMatchingKeys(e,r,n){this.oi.Gr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),nt.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.oi.zr(r),nt.resolve()}getMatchingKeysForTargetId(e,r){const n=this.oi.Jr(r);return nt.resolve(n)}containsKey(e,r){return nt.resolve(this.oi.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,r){this.ai={},this.overlays={},this.ui=new gp(0),this.ci=!1,this.ci=!0,this.li=new _V,this.referenceDelegate=e(this),this.hi=new AV(this),this.indexManager=new lV,this.remoteDocumentCache=(function(i){return new wV(i)})((n=>this.referenceDelegate.Pi(n))),this.serializer=new sV(r),this.Ti=new vV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new yV,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ai[e.toKey()];return n||(n=new EV(r,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,r,n){At("MemoryPersistence","Starting transaction:",e);const i=new SV(this.ui.next());return this.referenceDelegate.Ii(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,r){return nt.or(Object.values(this.ai).map((n=>()=>n.containsKey(e,r))))}}class SV extends JB{constructor(e){super(),this.currentSequenceNumber=e}}class N_{constructor(e){this.persistence=e,this.Ai=new R_,this.Ri=null}static Vi(e){return new N_(e)}get mi(){if(this.Ri)return this.Ri;throw Kt(60996)}addReference(e,r,n){return this.Ai.addReference(n,r),this.mi.delete(n.toString()),nt.resolve()}removeReference(e,r,n){return this.Ai.removeReference(n,r),this.mi.add(n.toString()),nt.resolve()}markPotentiallyOrphaned(e,r){return this.mi.add(r.toString()),nt.resolve()}removeTarget(e,r){this.Ai.zr(r.targetId).forEach((i=>this.mi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.mi.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Ii(){this.Ri=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.mi,(n=>{const i=Vt.fromPath(n);return this.fi(e,i).next((a=>{a||r.removeEntry(i,tr.min())}))})).next((()=>(this.Ri=null,r.apply(e))))}updateLimboDocument(e,r){return this.fi(e,r).next((n=>{n?this.mi.delete(r.toString()):this.mi.add(r.toString())}))}Pi(e){return 0}fi(e,r){return nt.or([()=>nt.resolve(this.Ai.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class Tm{constructor(e,r){this.persistence=e,this.gi=new df((n=>rU(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=gV(this,r)}static Vi(e,r){return new Tm(e,r)}Ii(){}di(e){return nt.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}mr(e){const r=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}yr(e){let r=0;return this.gr(e,(n=>{r++})).next((()=>r))}gr(e,r){return nt.forEach(this.gi,((n,i)=>this.Sr(e,n,i).next((a=>a?nt.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ri(e,(l=>this.Sr(e,l,r).next((f=>{f||(n++,a.removeEntry(l,tr.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.gi.set(r,e.currentSequenceNumber),nt.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.gi.set(n,e.currentSequenceNumber),nt.resolve()}removeReference(e,r,n){return this.gi.set(n,e.currentSequenceNumber),nt.resolve()}updateLimboDocument(e,r){return this.gi.set(r,e.currentSequenceNumber),nt.resolve()}Pi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=tm(e.data.value)),r}Sr(e,r,n){return nt.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.gi.get(r);return nt.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Is=n,this.ds=i}static Es(e,r){let n=br(),i=br();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new k_(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return sL()?8:eU(ba())>0?6:4})()}initialize(e,r){this.gs=e,this.indexManager=r,this.As=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ps(e,r).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ys(e,r,i,n).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new CV;return this.ws(e,r,l).next((f=>{if(a.result=f,this.Rs)return this.Ss(e,r,l,f.size)}))})).next((()=>a.result))}Ss(e,r,n,i){return n.documentReadCount<this.Vs?(o0()<=Cr.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",l0(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(o0()<=Cr.DEBUG&&At("QueryEngine","Query:",l0(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.fs*i?(o0()<=Cr.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",l0(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rl(r))):nt.resolve())}ps(e,r){if(QC(r))return nt.resolve(null);let n=rl(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=ay(r,null,"F"),n=rl(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const l=br(...a);return this.gs.getDocuments(e,l).next((f=>this.indexManager.getMinOffset(e,n).next((m=>{const g=this.bs(r,f);return this.Ds(r,g,l,m.readTime)?this.ps(e,ay(r,null,"F")):this.vs(e,g,r,m)}))))})))))}ys(e,r,n,i){return QC(r)||i.isEqual(tr.min())?nt.resolve(null):this.gs.getDocuments(e,n).next((a=>{const l=this.bs(r,a);return this.Ds(r,l,n,i)?nt.resolve(null):(o0()<=Cr.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),l0(r)),this.vs(e,l,r,KB(i,_d)).next((f=>f)))}))}bs(e,r){let n=new Vi(V6(e));return r.forEach(((i,a)=>{yp(e,a)&&(n=n.add(a))})),n}Ds(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ws(e,r,n){return o0()<=Cr.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",l0(r)),this.gs.getDocumentsMatchingQuery(e,r,Kc.min(),n)}vs(e,r,n,i){return this.gs.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="LocalStore",IV=3e8;class RV{constructor(e,r,n,i){this.persistence=e,this.Cs=r,this.serializer=i,this.Fs=new Gn(mr),this.Ms=new df((a=>w_(a)),T_),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xV(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Fs)))}}function NV(t,e,r,n){return new RV(t,e,r,n)}async function cR(t,e){const r=sr(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Ns(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const l=[],f=[];let m=br();for(const g of i){l.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of a){f.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return r.localDocuments.getDocuments(n,m).next((g=>({Bs:g,removedBatchIds:l,addedBatchIds:f})))}))}))}function kV(t,e){const r=sr(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.Os.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,y){const E=g.batch,A=E.keys();let C=nt.resolve();return A.forEach((N=>{C=C.next((()=>y.getEntry(m,N))).next((b=>{const D=g.docVersions.get(N);Qr(D!==null,48541),b.version.compareTo(D)<0&&(E.applyToRemoteDocument(b,g),b.isValidDocument()&&(b.setReadTime(g.commitVersion),y.addEntry(b)))}))})),C.next((()=>f.mutationQueue.removeMutationBatch(m,E)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(f){let m=br();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function uR(t){const e=sr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.hi.getLastRemoteSnapshotVersion(r)))}function DV(t,e){const r=sr(t),n=e.snapshotVersion;let i=r.Fs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=r.Os.newChangeBuffer({trackRemovals:!0});i=r.Fs;const f=[];e.targetChanges.forEach(((y,E)=>{const A=i.get(E);if(!A)return;f.push(r.hi.removeMatchingKeys(a,y.removedDocuments,E).next((()=>r.hi.addMatchingKeys(a,y.addedDocuments,E))));let C=A.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?C=C.withResumeToken(ha.EMPTY_BYTE_STRING,tr.min()).withLastLimboFreeSnapshotVersion(tr.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,n)),i=i.insert(E,C),(function(b,D,P){return b.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=IV?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(A,C,y)&&f.push(r.hi.updateTargetData(a,C))}));let m=$l(),g=br();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(r.persistence.referenceDelegate.updateLimboDocument(a,y))})),f.push(OV(a,l,e.documentUpdates).next((y=>{m=y.Ls,g=y.ks}))),!n.isEqual(tr.min())){const y=r.hi.getLastRemoteSnapshotVersion(a).next((E=>r.hi.setTargetsMetadata(a,a.currentSequenceNumber,n)));f.push(y)}return nt.waitFor(f).next((()=>l.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,m,g))).next((()=>m))})).then((a=>(r.Fs=i,a)))}function OV(t,e,r){let n=br(),i=br();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let l=$l();return r.forEach(((f,m)=>{const g=a.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(tr.min())?(e.removeEntry(f,m.readTime),l=l.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),l=l.insert(f,m)):At(D_,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{Ls:l,ks:i}}))}function MV(t,e){const r=sr(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=y_),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function LV(t,e){const r=sr(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.hi.getTargetData(n,e).next((a=>a?(i=a,nt.resolve(i)):r.hi.allocateTargetId(n).next((l=>(i=new Uc(e,l,"TargetPurposeListen",n.currentSequenceNumber),r.hi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Fs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Fs=r.Fs.insert(n.targetId,n),r.Ms.set(e,n.targetId)),n}))}async function uy(t,e,r){const n=sr(t),i=n.Fs.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(l=>n.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!H0(l))throw l;At(D_,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Fs=n.Fs.remove(e),n.Ms.delete(i.target)}function c4(t,e,r){const n=sr(t);let i=tr.min(),a=br();return n.persistence.runTransaction("Execute query","readwrite",(l=>(function(m,g,y){const E=sr(m),A=E.Ms.get(y);return A!==void 0?nt.resolve(E.Fs.get(A)):E.hi.getTargetData(g,y)})(n,l,rl(e)).next((f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,n.hi.getMatchingKeysForTargetId(l,f.targetId).next((m=>{a=m}))})).next((()=>n.Cs.getDocumentsMatchingQuery(l,e,r?i:tr.min(),r?a:br()))).next((f=>(FV(n,EU(e),f),{documents:f,qs:a})))))}function FV(t,e,r){let n=t.xs.get(e)||tr.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.xs.set(e,n)}class u4{constructor(){this.activeTargetIds=bU()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PV{constructor(){this.Fo=new u4,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,r,n){this.Mo[e]=r}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new u4,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="ConnectivityMonitor";class h4{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){At(f4,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){At(f4,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ng=null;function fy(){return Ng===null?Ng=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ng++,"0x"+Ng.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="RestConnection",UV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VV{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=r+"://"+e.host,this.Uo=`projects/${n}/databases/${i}`,this.Ko=this.databaseId.database===vm?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(e,r,n,i,a){const l=fy(),f=this.Go(e,r.toUriEncodedString());At(av,`Sending RPC '${e}' ${l}:`,f,n);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,i,a);const{host:g}=new URL(f),y=lu(g);return this.jo(e,f,m,n,y).then((E=>(At(av,`Received RPC '${e}' ${l}: `,E),E)),(E=>{throw Yc(av,`RPC '${e}' ${l} failed with error: `,E,"url: ",f,"request:",n),E}))}Jo(e,r,n,i,a,l){return this.Wo(e,r,n,i,a)}zo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+j0})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}Go(e,r){const n=UV[e];return`${this.$o}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="WebChannelConnection";class zV extends VV{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,r,n,i,a){const l=fy();return new Promise(((f,m)=>{const g=new h6;g.setWithCredentials(!0),g.listenOnce(d6.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case em.NO_ERROR:const E=g.getResponseJson();At(xa,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),f(E);break;case em.TIMEOUT:At(xa,`RPC '${e}' ${l} timed out`),m(new Et(et.DEADLINE_EXCEEDED,"Request time out"));break;case em.HTTP_ERROR:const A=g.getStatus();if(At(xa,`RPC '${e}' ${l} failed with status:`,A,"response text:",g.getResponseText()),A>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const N=C==null?void 0:C.error;if(N&&N.status&&N.message){const b=(function(P){const G=P.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(G)>=0?G:et.UNKNOWN})(N.status);m(new Et(b,N.message))}else m(new Et(et.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new Et(et.UNAVAILABLE,"Connection failed."));break;default:Kt(9055,{c_:e,streamId:l,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{At(xa,`RPC '${e}' ${l} completed.`)}}));const y=JSON.stringify(i);At(xa,`RPC '${e}' ${l} sending request:`,i),g.send(r,"POST",y,n,15)}))}P_(e,r,n){const i=fy(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=p6(),f=m6(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,r,n),m.encodeInitMessageHeaders=!0;const y=a.join("");At(xa,`Creating RPC '${e}' stream ${i}: ${y}`,m);const E=l.createWebChannel(y,m);this.T_(E);let A=!1,C=!1;const N=new jV({Ho:D=>{C?At(xa,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(A||(At(xa,`Opening RPC '${e}' stream ${i} transport.`),E.open(),A=!0),At(xa,`RPC '${e}' stream ${i} sending:`,D),E.send(D))},Yo:()=>E.close()}),b=(D,P,G)=>{D.listen(P,(B=>{try{G(B)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return b(E,zh.EventType.OPEN,(()=>{C||(At(xa,`RPC '${e}' stream ${i} transport opened.`),N.s_())})),b(E,zh.EventType.CLOSE,(()=>{C||(C=!0,At(xa,`RPC '${e}' stream ${i} transport closed`),N.__(),this.I_(E))})),b(E,zh.EventType.ERROR,(D=>{C||(C=!0,Yc(xa,`RPC '${e}' stream ${i} transport errored. Name:`,D.name,"Message:",D.message),N.__(new Et(et.UNAVAILABLE,"The operation could not be completed")))})),b(E,zh.EventType.MESSAGE,(D=>{var P;if(!C){const G=D.data[0];Qr(!!G,16349);const B=G,Y=(B==null?void 0:B.error)||((P=B[0])===null||P===void 0?void 0:P.error);if(Y){At(xa,`RPC '${e}' stream ${i} received error:`,Y);const te=Y.status;let ee=(function(U){const q=bi[U];if(q!==void 0)return $6(q)})(te),L=Y.message;ee===void 0&&(ee=et.INTERNAL,L="Unknown error status: "+te+" with message "+Y.message),C=!0,N.__(new Et(ee,L)),E.close()}else At(xa,`RPC '${e}' stream ${i} received:`,G),N.a_(G)}})),b(f,g6.STAT_EVENT,(D=>{D.stat===Zv.PROXY?At(xa,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Zv.NOPROXY&&At(xa,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{N.o_()}),0),N}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((r=>r===e))}}function sv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t){return new qU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=r,this.d_=n,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const r=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),i=Math.max(0,r-n);i>0&&At("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="PersistentStream";class hR{constructor(e,r,n,i,a,l,f,m){this.Fi=e,this.w_=n,this.S_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new fR(e,r)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():r&&r.code===et.RESOURCE_EXHAUSTED?(Ql(r.toString()),Ql("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):r&&r.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(r)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),r=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.b_===r&&this.W_(n,i)}),(n=>{e((()=>{const i=new Et(et.UNKNOWN,"Fetching auth token failed: "+n.message);return this.G_(i)}))}))}W_(e,r){const n=this.K_(this.b_);this.stream=this.z_(e,r),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.e_((()=>{n((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((i=>{n((()=>this.G_(i)))})),this.stream.onMessage((i=>{n((()=>++this.C_==1?this.j_(i):this.onNext(i)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return At(d4,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return r=>{this.Fi.enqueueAndForget((()=>this.b_===e?r():(At(d4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HV extends hR{constructor(e,r,n,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,l),this.serializer=a}z_(e,r){return this.connection.P_("Listen",e,r)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const r=KU(this.serializer,e),n=(function(a){if(!("targetChange"in a))return tr.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?tr.min():l.readTime?nl(l.readTime):tr.min()})(e);return this.listener.J_(r,n)}H_(e){const r={};r.database=cy(this.serializer),r.addTarget=(function(a,l){let f;const m=l.target;if(f=ny(m)?{documents:ZU(a,m)}:{query:JU(a,m).Vt},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=eR(a,l.resumeToken);const g=sy(a,l.expectedCount);g!==null&&(f.expectedCount=g)}else if(l.snapshotVersion.compareTo(tr.min())>0){f.readTime=wm(a,l.snapshotVersion.toTimestamp());const g=sy(a,l.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,e);const n=tV(this.serializer,e);n&&(r.labels=n),this.k_(r)}Y_(e){const r={};r.database=cy(this.serializer),r.removeTarget=e,this.k_(r)}}class GV extends hR{constructor(e,r,n,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,l),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,r){return this.connection.P_("Write",e,r)}j_(e){return Qr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Qr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const r=$U(e.writeResults,e.commitTime),n=nl(e.commitTime);return this.listener.ta(n,r)}na(){const e={};e.database=cy(this.serializer),this.k_(e)}X_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>QU(this.serializer,n)))};this.k_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{}class qV extends WV{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Et(et.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,n,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Wo(e,oy(r,n),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Et(et.UNKNOWN,a.toString())}))}Jo(e,r,n,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,f])=>this.connection.Jo(e,oy(r,n),i,l,f,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Et(et.UNKNOWN,l.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class XV{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ql(r),this._a=!1):At("OnlineStateTracker",r)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf="RemoteStore";class YV{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo((l=>{n.enqueueAndForget((async()=>{gf(this)&&(At(rf,"Restarting streams for network reachability change."),await(async function(m){const g=sr(m);g.Ia.add(4),await a1(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Ap(g)})(this))}))})),this.Aa=new XV(n,i)}}async function Ap(t){if(gf(t))for(const e of t.da)await e(!0)}async function a1(t){for(const e of t.da)await e(!1)}function dR(t,e){const r=sr(t);r.Ta.has(e.targetId)||(r.Ta.set(e.targetId,e),F_(r)?L_(r):W0(r).x_()&&M_(r,e))}function O_(t,e){const r=sr(t),n=W0(r);r.Ta.delete(e),n.x_()&&gR(r,e),r.Ta.size===0&&(n.x_()?n.B_():gf(r)&&r.Aa.set("Unknown"))}function M_(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tr.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}W0(t).H_(e)}function gR(t,e){t.Ra.$e(e),W0(t).Y_(e)}function L_(t){t.Ra=new zU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),W0(t).start(),t.Aa.aa()}function F_(t){return gf(t)&&!W0(t).M_()&&t.Ta.size>0}function gf(t){return sr(t).Ia.size===0}function mR(t){t.Ra=void 0}async function KV(t){t.Aa.set("Online")}async function QV(t){t.Ta.forEach(((e,r)=>{M_(t,e)}))}async function $V(t,e){mR(t),F_(t)?(t.Aa.la(e),L_(t)):t.Aa.set("Unknown")}async function ZV(t,e,r){if(t.Aa.set("Online"),e instanceof J6&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const f of a.targetIds)i.Ta.has(f)&&(await i.remoteSyncer.rejectListen(f,l),i.Ta.delete(f),i.Ra.removeTarget(f))})(t,e)}catch(n){At(rf,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Am(t,n)}else if(e instanceof im?t.Ra.Ye(e):e instanceof Z6?t.Ra.it(e):t.Ra.et(e),!r.isEqual(tr.min()))try{const n=await uR(t.localStore);r.compareTo(n)>=0&&await(function(a,l){const f=a.Ra.Pt(l);return f.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=a.Ta.get(g);y&&a.Ta.set(g,y.withResumeToken(m.resumeToken,l))}})),f.targetMismatches.forEach(((m,g)=>{const y=a.Ta.get(m);if(!y)return;a.Ta.set(m,y.withResumeToken(ha.EMPTY_BYTE_STRING,y.snapshotVersion)),gR(a,m);const E=new Uc(y.target,m,g,y.sequenceNumber);M_(a,E)})),a.remoteSyncer.applyRemoteEvent(f)})(t,r)}catch(n){At(rf,"Failed to raise snapshot:",n),await Am(t,n)}}async function Am(t,e,r){if(!H0(e))throw e;t.Ia.add(1),await a1(t),t.Aa.set("Offline"),r||(r=()=>uR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{At(rf,"Retrying IndexedDB access"),await r(),t.Ia.delete(1),await Ap(t)}))}function pR(t,e){return e().catch((r=>Am(t,r,e)))}async function Sp(t){const e=sr(t),r=Jc(e);let n=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:y_;for(;JV(e);)try{const i=await MV(e.localStore,n);if(i===null){e.Pa.length===0&&r.B_();break}n=i.batchId,ej(e,i)}catch(i){await Am(e,i)}xR(e)&&vR(e)}function JV(t){return gf(t)&&t.Pa.length<10}function ej(t,e){t.Pa.push(e);const r=Jc(t);r.x_()&&r.Z_&&r.X_(e.mutations)}function xR(t){return gf(t)&&!Jc(t).M_()&&t.Pa.length>0}function vR(t){Jc(t).start()}async function tj(t){Jc(t).na()}async function rj(t){const e=Jc(t);for(const r of t.Pa)e.X_(r.mutations)}async function nj(t,e,r){const n=t.Pa.shift(),i=C_.from(n,e,r);await pR(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Sp(t)}async function ij(t,e){e&&Jc(t).Z_&&await(async function(n,i){if((function(l){return VU(l)&&l!==et.ABORTED})(i.code)){const a=n.Pa.shift();Jc(n).N_(),await pR(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Sp(n)}})(t,e),xR(t)&&vR(t)}async function g4(t,e){const r=sr(t);r.asyncQueue.verifyOperationInProgress(),At(rf,"RemoteStore received new credentials");const n=gf(r);r.Ia.add(3),await a1(r),n&&r.Aa.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ia.delete(3),await Ap(r)}async function aj(t,e){const r=sr(t);e?(r.Ia.delete(2),await Ap(r)):e||(r.Ia.add(2),await a1(r),r.Aa.set("Unknown"))}function W0(t){return t.Va||(t.Va=(function(r,n,i){const a=sr(r);return a.ia(),new HV(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:KV.bind(null,t),e_:QV.bind(null,t),n_:$V.bind(null,t),J_:ZV.bind(null,t)}),t.da.push((async e=>{e?(t.Va.N_(),F_(t)?L_(t):t.Aa.set("Unknown")):(await t.Va.stop(),mR(t))}))),t.Va}function Jc(t){return t.ma||(t.ma=(function(r,n,i){const a=sr(r);return a.ia(),new GV(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:tj.bind(null,t),n_:ij.bind(null,t),ea:rj.bind(null,t),ta:nj.bind(null,t)}),t.da.push((async e=>{e?(t.ma.N_(),await Sp(t)):(await t.ma.stop(),t.Pa.length>0&&(At(rf,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new zl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const l=Date.now()+n,f=new P_(e,r,l,i,a);return f.start(n),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function B_(t,e){if(Ql("AsyncQueue",`${e}: ${t}`),H0(t))return new Et(et.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{static emptySet(e){return new E0(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Vt.comparator(r.key,n.key):(r,n)=>Vt.comparator(r.key,n.key),this.keyedMap=Hh(),this.sortedSet=new Gn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof E0)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new E0;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.fa=new Gn(Vt.comparator)}track(e){const r=e.doc.key,n=this.fa.get(r);n?e.type!==0&&n.type===3?this.fa=this.fa.insert(r,e):e.type===3&&n.type!==1?this.fa=this.fa.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.fa=this.fa.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.fa=this.fa.remove(r):e.type===1&&n.type===2?this.fa=this.fa.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.fa=this.fa.insert(r,{type:2,doc:e.doc}):Kt(63341,{At:e,ga:n}):this.fa=this.fa.insert(r,e)}pa(){const e=[];return this.fa.inorderTraversal(((r,n)=>{e.push(n)})),e}}class D0{constructor(e,r,n,i,a,l,f,m,g){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,r,n,i,a){const l=[];return r.forEach((f=>{l.push({type:0,doc:f})})),new D0(e,r,E0.emptySet(r),l,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class oj{constructor(){this.queries=p4(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(r,n){const i=sr(r),a=i.queries;i.queries=p4(),a.forEach(((l,f)=>{for(const m of f.wa)m.onError(n)}))})(this,new Et(et.ABORTED,"Firestore shutting down"))}}function p4(){return new df((t=>U6(t)),vp)}async function U_(t,e){const r=sr(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.Sa()&&e.ba()&&(n=2):(a=new sj,n=e.ba()?0:1);try{switch(n){case 0:a.ya=await r.onListen(i,!0);break;case 1:a.ya=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(l){const f=B_(l,`Initialization of query '${l0(e.query)}' failed`);return void e.onError(f)}r.queries.set(i,a),a.wa.push(e),e.va(r.onlineState),a.ya&&e.Ca(a.ya)&&j_(r)}async function V_(t,e){const r=sr(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const l=a.wa.indexOf(e);l>=0&&(a.wa.splice(l,1),a.wa.length===0?i=e.ba()?0:1:!a.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function lj(t,e){const r=sr(t);let n=!1;for(const i of e){const a=i.query,l=r.queries.get(a);if(l){for(const f of l.wa)f.Ca(i)&&(n=!0);l.ya=i}}n&&j_(r)}function cj(t,e,r){const n=sr(t),i=n.queries.get(e);if(i)for(const a of i.wa)a.onError(r);n.queries.delete(e)}function j_(t){t.Da.forEach((e=>{e.next()}))}var hy,x4;(x4=hy||(hy={})).Fa="default",x4.Cache="cache";class z_{constructor(e,r,n){this.query=e,this.Ma=r,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new D0(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),r=!0):this.Ba(e,this.onlineState)&&(this.La(e),r=!0),this.Oa=e,r}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let r=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),r=!0),r}Ba(e,r){if(!e.fromCache||!this.ba())return!0;const n=r!=="Offline";return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const r=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}La(e){e=D0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==hy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.key=e}}class _R{constructor(e){this.key=e}}class uj{constructor(e,r){this.query=e,this.Ha=r,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=br(),this.mutatedKeys=br(),this.Xa=V6(e),this.eu=new E0(this.Xa)}get tu(){return this.Ha}nu(e,r){const n=r?r.ru:new m4,i=r?r.eu:this.eu;let a=r?r.mutatedKeys:this.mutatedKeys,l=i,f=!1;const m=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((y,E)=>{const A=i.get(y),C=yp(this.query,E)?E:null,N=!!A&&this.mutatedKeys.has(A.key),b=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let D=!1;A&&C?A.data.isEqual(C.data)?N!==b&&(n.track({type:3,doc:C}),D=!0):this.iu(A,C)||(n.track({type:2,doc:C}),D=!0,(m&&this.Xa(C,m)>0||g&&this.Xa(C,g)<0)&&(f=!0)):!A&&C?(n.track({type:0,doc:C}),D=!0):A&&!C&&(n.track({type:1,doc:A}),D=!0,(m||g)&&(f=!0)),D&&(C?(l=l.add(C),a=b?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),n.track({type:1,doc:y})}return{eu:l,ru:n,Ds:f,mutatedKeys:a}}iu(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort(((y,E)=>(function(C,N){const b=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt(20277,{At:D})}};return b(C)-b(N)})(y.type,E.type)||this.Xa(y.doc,E.doc))),this.su(n),i=i!=null&&i;const f=r&&!i?this.ou():[],m=this.Za.size===0&&this.current&&!i?1:0,g=m!==this.Ya;return this.Ya=m,l.length!==0||g?{snapshot:new D0(this.query,e.eu,a,l,e.mutatedKeys,m===0,g,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new m4,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((r=>this.Ha=this.Ha.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ha=this.Ha.delete(r))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=br(),this.eu.forEach((n=>{this.au(n.key)&&(this.Za=this.Za.add(n.key))}));const r=[];return e.forEach((n=>{this.Za.has(n)||r.push(new _R(n))})),this.Za.forEach((n=>{e.has(n)||r.push(new yR(n))})),r}uu(e){this.Ha=e.qs,this.Za=br();const r=this.nu(e.documents);return this.applyChanges(r,!0)}cu(){return D0.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const H_="SyncEngine";class fj{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class hj{constructor(e){this.key=e,this.lu=!1}}class dj{constructor(e,r,n,i,a,l){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new df((f=>U6(f)),vp),this.Tu=new Map,this.Iu=new Set,this.du=new Gn(Vt.comparator),this.Eu=new Map,this.Au=new R_,this.Ru={},this.Vu=new Map,this.mu=k0.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function gj(t,e,r=!0){const n=CR(t);let i;const a=n.Pu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.cu()):i=await ER(n,e,r,!0),i}async function mj(t,e){const r=CR(t);await ER(r,e,!0,!1)}async function ER(t,e,r,n){const i=await LV(t.localStore,rl(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,r);let f;return n&&(f=await pj(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&r&&dR(t.remoteStore,i),f}async function pj(t,e,r,n,i){t.gu=(E,A,C)=>(async function(b,D,P,G){let B=D.view.nu(P);B.Ds&&(B=await c4(b.localStore,D.query,!1).then((({documents:L})=>D.view.nu(L,B))));const Y=G&&G.targetChanges.get(D.targetId),te=G&&G.targetMismatches.get(D.targetId)!=null,ee=D.view.applyChanges(B,b.isPrimaryClient,Y,te);return y4(b,D.targetId,ee._u),ee.snapshot})(t,E,A,C);const a=await c4(t.localStore,e,!0),l=new uj(e,a.qs),f=l.nu(a.documents),m=i1.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),g=l.applyChanges(f,t.isPrimaryClient,m);y4(t,r,g._u);const y=new fj(e,r,l);return t.Pu.set(e,y),t.Tu.has(r)?t.Tu.get(r).push(e):t.Tu.set(r,[e]),g.snapshot}async function xj(t,e,r){const n=sr(t),i=n.Pu.get(e),a=n.Tu.get(i.targetId);if(a.length>1)return n.Tu.set(i.targetId,a.filter((l=>!vp(l,e)))),void n.Pu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await uy(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&O_(n.remoteStore,i.targetId),dy(n,i.targetId)})).catch(z0)):(dy(n,i.targetId),await uy(n.localStore,i.targetId,!0))}async function vj(t,e){const r=sr(t),n=r.Pu.get(e),i=r.Tu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),O_(r.remoteStore,n.targetId))}async function yj(t,e,r){const n=Cj(t);try{const i=await(function(l,f){const m=sr(l),g=Nn.now(),y=f.reduce(((C,N)=>C.add(N.key)),br());let E,A;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let N=$l(),b=br();return m.Os.getEntries(C,y).next((D=>{N=D,N.forEach(((P,G)=>{G.isValidDocument()||(b=b.add(P))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,N))).next((D=>{E=D;const P=[];for(const G of f){const B=LU(G,E.get(G.key).overlayedDocument);B!=null&&P.push(new fu(G.key,B,k6(B.value.mapValue),so.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,P,f)})).next((D=>{A=D;const P=D.applyToLocalDocumentSet(E,b);return m.documentOverlayCache.saveOverlays(C,D.batchId,P)}))})).then((()=>({batchId:A.batchId,changes:z6(E)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(l,f,m){let g=l.Ru[l.currentUser.toKey()];g||(g=new Gn(mr)),g=g.insert(f,m),l.Ru[l.currentUser.toKey()]=g})(n,i.batchId,r),await s1(n,i.changes),await Sp(n.remoteStore)}catch(i){const a=B_(i,"Failed to persist write");r.reject(a)}}async function wR(t,e){const r=sr(t);try{const n=await DV(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=r.Eu.get(a);l&&(Qr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.lu=!0:i.modifiedDocuments.size>0?Qr(l.lu,14607):i.removedDocuments.size>0&&(Qr(l.lu,42227),l.lu=!1))})),await s1(r,n,e)}catch(n){await z0(n)}}function v4(t,e,r){const n=sr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Pu.forEach(((a,l)=>{const f=l.view.va(e);f.snapshot&&i.push(f.snapshot)})),(function(l,f){const m=sr(l);m.onlineState=f;let g=!1;m.queries.forEach(((y,E)=>{for(const A of E.wa)A.va(f)&&(g=!0)})),g&&j_(m)})(n.eventManager,e),i.length&&n.hu.J_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function _j(t,e,r){const n=sr(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Eu.get(e),a=i&&i.key;if(a){let l=new Gn(Vt.comparator);l=l.insert(a,Ta.newNoDocument(a,tr.min()));const f=br().add(a),m=new wp(tr.min(),new Map,new Gn(mr),l,f);await wR(n,m),n.du=n.du.remove(a),n.Eu.delete(e),G_(n)}else await uy(n.localStore,e,!1).then((()=>dy(n,e,r))).catch(z0)}async function Ej(t,e){const r=sr(t),n=e.batch.batchId;try{const i=await kV(r.localStore,e);AR(r,n,null),TR(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await s1(r,i)}catch(i){await z0(i)}}async function wj(t,e,r){const n=sr(t);try{const i=await(function(l,f){const m=sr(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,f).next((E=>(Qr(E!==null,37113),y=E.keys(),m.mutationQueue.removeMutationBatch(g,E)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(n.localStore,e);AR(n,e,r),TR(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await s1(n,i)}catch(i){await z0(i)}}function TR(t,e){(t.Vu.get(e)||[]).forEach((r=>{r.resolve()})),t.Vu.delete(e)}function AR(t,e,r){const n=sr(t);let i=n.Ru[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ru[n.currentUser.toKey()]=i}}function dy(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Tu.get(e))t.Pu.delete(n),r&&t.hu.pu(n,r);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach((n=>{t.Au.containsKey(n)||SR(t,n)}))}function SR(t,e){t.Iu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(O_(t.remoteStore,r),t.du=t.du.remove(e),t.Eu.delete(r),G_(t))}function y4(t,e,r){for(const n of r)n instanceof yR?(t.Au.addReference(n.key,e),Tj(t,n)):n instanceof _R?(At(H_,"Document no longer in limbo: "+n.key),t.Au.removeReference(n.key,e),t.Au.containsKey(n.key)||SR(t,n.key)):Kt(19791,{yu:n})}function Tj(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Iu.has(n)||(At(H_,"New document in limbo: "+r),t.Iu.add(n),G_(t))}function G_(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const r=new Vt(Tn.fromString(e)),n=t.mu.next();t.Eu.set(n,new hj(r)),t.du=t.du.insert(r,n),dR(t.remoteStore,new Uc(rl(xp(r.path)),n,"TargetPurposeLimboResolution",gp.ue))}}async function s1(t,e,r){const n=sr(t),i=[],a=[],l=[];n.Pu.isEmpty()||(n.Pu.forEach(((f,m)=>{l.push(n.gu(m,e,r).then((g=>{var y;if((g||r)&&n.isPrimaryClient){const E=g?!g.fromCache:(y=r==null?void 0:r.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;n.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(g){i.push(g);const E=k_.Es(m.targetId,g);a.push(E)}})))})),await Promise.all(l),n.hu.J_(i),await(async function(m,g){const y=sr(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>nt.forEach(g,(A=>nt.forEach(A.Is,(C=>y.persistence.referenceDelegate.addReference(E,A.targetId,C))).next((()=>nt.forEach(A.ds,(C=>y.persistence.referenceDelegate.removeReference(E,A.targetId,C)))))))))}catch(E){if(!H0(E))throw E;At(D_,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const C=y.Fs.get(A),N=C.snapshotVersion,b=C.withLastLimboFreeSnapshotVersion(N);y.Fs=y.Fs.insert(A,b)}}})(n.localStore,a))}async function Aj(t,e){const r=sr(t);if(!r.currentUser.isEqual(e)){At(H_,"User change. New user:",e.toKey());const n=await cR(r.localStore,e);r.currentUser=e,(function(a,l){a.Vu.forEach((f=>{f.forEach((m=>{m.reject(new Et(et.CANCELLED,l))}))})),a.Vu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await s1(r,n.Bs)}}function Sj(t,e){const r=sr(t),n=r.Eu.get(e);if(n&&n.lu)return br().add(n.key);{let i=br();const a=r.Tu.get(e);if(!a)return i;for(const l of a){const f=r.Pu.get(l);i=i.unionWith(f.view.tu)}return i}}function CR(t){const e=sr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_j.bind(null,e),e.hu.J_=lj.bind(null,e.eventManager),e.hu.pu=cj.bind(null,e.eventManager),e}function Cj(t){const e=sr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ej.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wj.bind(null,e),e}class Sm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tp(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,r){return null}Fu(e,r){return null}vu(e){return NV(this.persistence,new bV,e.initialUser,this.serializer)}Du(e){return new lR(N_.Vi,this.serializer)}bu(e){return new PV}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sm.provider={build:()=>new Sm};class bj extends Sm{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,r){Qr(this.persistence.referenceDelegate instanceof Tm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new hV(n,e.asyncQueue,r)}Du(e){const r=this.cacheSizeBytes!==void 0?os.withCacheSize(this.cacheSizeBytes):os.DEFAULT;return new lR((n=>Tm.Vi(n,r)),this.serializer)}}class gy{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>v4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Aj.bind(null,this.syncEngine),await aj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oj})()}createDatastore(e){const r=Tp(e.databaseInfo.databaseId),n=(function(a){return new zV(a)})(e.databaseInfo);return(function(a,l,f,m){return new qV(a,l,f,m)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,l,f){return new YV(n,i,a,l,f)})(this.localStore,this.datastore,e.asyncQueue,(r=>v4(this.syncEngine,r,0)),(function(){return h4.C()?new h4:new BV})())}createSyncEngine(e,r){return(function(i,a,l,f,m,g,y){const E=new dj(i,a,l,f,m,g);return y&&(E.fu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const a=sr(i);At(rf,"RemoteStore shutting down."),a.Ia.add(5),await a1(a),a.Ea.shutdown(),a.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}gy.provider={build:()=>new gy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ql("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu="FirestoreClient";class Ij{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=_a.UNAUTHENTICATED,this.clientId=v_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async l=>{At(eu,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(n,(l=>(At(eu,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=B_(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function ov(t,e){t.asyncQueue.verifyOperationInProgress(),At(eu,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await cR(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>{Yc("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then((()=>{At("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((i=>{Yc("Terminating Firestore due to IndexedDb database deletion failed",i)}))})),t._offlineComponents=e}async function _4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Rj(t);At(eu,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>g4(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>g4(e.remoteStore,i))),t._onlineComponents=e}async function Rj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){At(eu,"Using user provided OfflineComponentProvider");try{await ov(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===et.FAILED_PRECONDITION||i.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;Yc("Error using user provided cache. Falling back to memory cache: "+r),await ov(t,new Sm)}}else At(eu,"Using default OfflineComponentProvider"),await ov(t,new bj(void 0));return t._offlineComponents}async function bR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(At(eu,"Using user provided OnlineComponentProvider"),await _4(t,t._uninitializedComponentsProvider._online)):(At(eu,"Using default OnlineComponentProvider"),await _4(t,new gy))),t._onlineComponents}function Nj(t){return bR(t).then((e=>e.syncEngine))}async function Cm(t){const e=await bR(t),r=e.eventManager;return r.onListen=gj.bind(null,e.syncEngine),r.onUnlisten=xj.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=mj.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=vj.bind(null,e.syncEngine),r}function kj(t,e,r={}){const n=new zl;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,f,m,g){const y=new W_({next:A=>{y.Ou(),l.enqueueAndForget((()=>V_(a,E)));const C=A.docs.has(f);!C&&A.fromCache?g.reject(new Et(et.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&A.fromCache&&m&&m.source==="server"?g.reject(new Et(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new z_(xp(f.path),y,{includeMetadataChanges:!0,ka:!0});return U_(a,E)})(await Cm(t),t.asyncQueue,e,r,n))),n.promise}function Dj(t,e,r={}){const n=new zl;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,f,m,g){const y=new W_({next:A=>{y.Ou(),l.enqueueAndForget((()=>V_(a,E))),A.fromCache&&m.source==="server"?g.reject(new Et(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new z_(f,y,{includeMetadataChanges:!0,ka:!0});return U_(a,E)})(await Cm(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firestore.googleapis.com",w4=!0;class T4{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Et(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RR,this.ssl=w4}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:w4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uV)throw new Et(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IR((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Et(et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Et(et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Et(et.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cp{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Et(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new UB;switch(n.type){case"firstParty":return new HB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Et(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=E4.get(r);n&&(At("ComponentProvider","Removing Datastore"),E4.delete(r),n.terminate())})(this),Promise.resolve()}}function Oj(t,e,r,n={}){var i;t=cs(t,Cp);const a=lu(e),l=t._getSettings(),f=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),m=`${e}:${r}`;a&&(n_(`https://${m}`),i_("Firestore",!0)),l.host!==RR&&l.host!==m&&Yc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},l),{host:m,ssl:a,emulatorOptions:n});if(!$u(g,f)&&(t._setSettings(g),n.mockUserToken)){let y,E;if(typeof n.mockUserToken=="string")y=n.mockUserToken,E=_a.MOCK_USER;else{y=AI(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const A=n.mockUserToken.sub||n.mockUserToken.user_id;if(!A)throw new Et(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new _a(A)}t._authCredentials=new VB(new v6(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hu(this.firestore,e,this._query)}}class ii{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}toJSON(){return{type:ii._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(r1(r,ii._jsonSchema))return new ii(e,n||null,new Vt(Tn.fromString(r.referencePath)))}}ii._jsonSchemaVersion="firestore/documentReference/1.0",ii._jsonSchema={type:Di("string",ii._jsonSchemaVersion),referencePath:Di("string")};class Wc extends hu{constructor(e,r,n){super(e,r,xp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new Vt(e))}withConverter(e){return new Wc(this.firestore,e,this._path)}}function Rn(t,e,...r){if(t=Bn(t),_6("collection","path",e),t instanceof Cp){const n=Tn.fromString(e,...r);return FC(n),new Wc(t,null,n)}{if(!(t instanceof ii||t instanceof Wc))throw new Et(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Tn.fromString(e,...r));return FC(n),new Wc(t.firestore,null,n)}}function ja(t,e,...r){if(t=Bn(t),arguments.length===1&&(e=v_.newId()),_6("doc","path",e),t instanceof Cp){const n=Tn.fromString(e,...r);return LC(n),new ii(t,null,new Vt(n))}{if(!(t instanceof ii||t instanceof Wc))throw new Et(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Tn.fromString(e,...r));return LC(n),new ii(t.firestore,t instanceof Wc?t.converter:null,new Vt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="AsyncQueue";class S4{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new fR(this,"async_queue_retry"),this.oc=()=>{const n=sv();n&&At(A4,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=e;const r=sv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const r=sv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const r=new zl;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!H0(e))throw e;At(A4,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const r=this._c.then((()=>(this.nc=!0,e().catch((n=>{throw this.tc=n,this.nc=!1,Ql("INTERNAL UNHANDLED ERROR: ",C4(n)),n})).then((n=>(this.nc=!1,n))))));return this._c=r,r}enqueueAfterDelay(e,r,n){this.ac(),this.sc.indexOf(e)>-1&&(r=0);const i=P_.createAndSchedule(this,e,r,n,(a=>this.lc(a)));return this.ec.push(i),i}ac(){this.tc&&Kt(47125,{hc:C4(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const r of this.ec)if(r.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.ec)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const r=this.ec.indexOf(e);this.ec.splice(r,1)}}function C4(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Zl extends Cp{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new S4,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S4(e),this._firestoreClient=void 0,await e}}}function Mj(t,e){const r=typeof t=="object"?t:o_(),n=typeof t=="string"?t:vm,i=cp(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=EI("firestore");a&&Oj(i,...a)}return i}function bp(t){if(t._terminated)throw new Et(et.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Lj(t),t._firestoreClient}function Lj(t){var e,r,n;const i=t._freezeSettings(),a=(function(f,m,g,y){return new aU(f,m,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,IR(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Ij(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ao(ha.fromBase64String(e))}catch(r){throw new Et(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ao(ha.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ao._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(r1(e,ao._jsonSchema))return ao.fromBase64String(e.bytes)}}ao._jsonSchemaVersion="firestore/bytes/1.0",ao._jsonSchema={type:Di("string",ao._jsonSchemaVersion),bytes:Di("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Et(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ua(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Et(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Et(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return mr(this._lat,e._lat)||mr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:il._jsonSchemaVersion}}static fromJSON(e){if(r1(e,il._jsonSchema))return new il(e.latitude,e.longitude)}}il._jsonSchemaVersion="firestore/geoPoint/1.0",il._jsonSchema={type:Di("string",il._jsonSchemaVersion),latitude:Di("number"),longitude:Di("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:al._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(r1(e,al._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new al(e.vectorValues);throw new Et(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}al._jsonSchemaVersion="firestore/vectorValue/1.0",al._jsonSchema={type:Di("string",al._jsonSchemaVersion),vectorValues:Di("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=/^__.*__$/;class Pj{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new fu(e,this.data,this.fieldMask,r,this.fieldTransforms):new n1(e,this.data,r,this.fieldTransforms)}}class NR{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new fu(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function kR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt(40011,{Ec:t})}}class q_{constructor(e,r,n,i,a,l){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new q_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Rc({path:n,mc:!1});return i.fc(e),i}gc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Rc({path:n,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return bm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(kR(this.Ec)&&Fj.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Bj{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Tp(e)}Dc(e,r,n,i=!1){return new q_({Ec:e,methodName:r,bc:n,path:ua.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Np(t){const e=t._freezeSettings(),r=Tp(t._databaseId);return new Bj(t._databaseId,!!e.ignoreUndefinedProperties,r)}function DR(t,e,r,n,i,a={}){const l=t.Dc(a.merge||a.mergeFields?2:0,e,r,i);Y_("Data must be an object, but it was:",l,n);const f=OR(n,l);let m,g;if(a.merge)m=new Ms(l.fieldMask),g=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const E of a.mergeFields){const A=my(e,E,r);if(!l.contains(A))throw new Et(et.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);LR(y,A)||y.push(A)}m=new Ms(y),g=l.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,g=l.fieldTransforms;return new Pj(new ls(f),m,g)}class kp extends Rp{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kp}}class X_ extends Rp{_toFieldTransform(e){return new kU(e.path,new Sd)}isEqual(e){return e instanceof X_}}function Uj(t,e,r,n){const i=t.Dc(1,e,r);Y_("Data must be an object, but it was:",i,n);const a=[],l=ls.empty();uu(n,((m,g)=>{const y=K_(e,m,r);g=Bn(g);const E=i.gc(y);if(g instanceof kp)a.push(y);else{const A=o1(g,E);A!=null&&(a.push(y),l.set(y,A))}}));const f=new Ms(a);return new NR(l,f,i.fieldTransforms)}function Vj(t,e,r,n,i,a){const l=t.Dc(1,e,r),f=[my(e,n,r)],m=[i];if(a.length%2!=0)throw new Et(et.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<a.length;A+=2)f.push(my(e,a[A])),m.push(a[A+1]);const g=[],y=ls.empty();for(let A=f.length-1;A>=0;--A)if(!LR(g,f[A])){const C=f[A];let N=m[A];N=Bn(N);const b=l.gc(C);if(N instanceof kp)g.push(C);else{const D=o1(N,b);D!=null&&(g.push(C),y.set(C,D))}}const E=new Ms(g);return new NR(y,E,l.fieldTransforms)}function jj(t,e,r,n=!1){return o1(r,t.Dc(n?4:3,e))}function o1(t,e){if(MR(t=Bn(t)))return Y_("Unsupported field value:",e,t),OR(t,e);if(t instanceof Rp)return(function(n,i){if(!kR(i.Ec))throw i.wc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(n,i){const a=[];let l=0;for(const f of n){let m=o1(f,i.yc(l));m==null&&(m={nullValue:"NULL_VALUE"}),a.push(m),l++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=Bn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return IU(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Nn.fromDate(n);return{timestampValue:wm(i.serializer,a)}}if(n instanceof Nn){const a=new Nn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:wm(i.serializer,a)}}if(n instanceof il)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ao)return{bytesValue:eR(i.serializer,n._byteString)};if(n instanceof ii){const a=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw i.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:I_(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof al)return(function(l,f){return{mapValue:{fields:{[R6]:{stringValue:N6},[ym]:{arrayValue:{values:l.toArray().map((g=>{if(typeof g!="number")throw f.wc("VectorValues must only contain numeric values.");return A_(f.serializer,g)}))}}}}}})(n,i);throw i.wc(`Unsupported field value: ${dp(n)}`)})(t,e)}function OR(t,e){const r={};return T6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uu(t,((n,i)=>{const a=o1(i,e.Vc(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function MR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nn||t instanceof il||t instanceof ao||t instanceof ii||t instanceof Rp||t instanceof al)}function Y_(t,e,r){if(!MR(r)||!E6(r)){const n=dp(r);throw n==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+n)}}function my(t,e,r){if((e=Bn(e))instanceof Ip)return e._internalPath;if(typeof e=="string")return K_(t,e);throw bm("Field path arguments must be of type string or ",t,!1,void 0,r)}const zj=new RegExp("[~\\*/\\[\\]]");function K_(t,e,r){if(e.search(zj)>=0)throw bm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Ip(...e.split("."))._internalPath}catch{throw bm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function bm(t,e,r,n,i){const a=n&&!n.isEmpty(),l=i!==void 0;let f=`Function ${e}() called with invalid data`;r&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||l)&&(m+=" (found",a&&(m+=` in field ${n}`),l&&(m+=` in document ${i}`),m+=")"),new Et(et.INVALID_ARGUMENT,f+t+m)}function LR(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Dp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Hj extends FR{data(){return super.data()}}function Dp(t,e){return typeof e=="string"?K_(t,e):e instanceof Ip?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Et(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q_{}class BR extends Q_{}function Ua(t,e,...r){let n=[];e instanceof Q_&&n.push(e),n=n.concat(r),(function(a){const l=a.filter((m=>m instanceof $_)).length,f=a.filter((m=>m instanceof Op)).length;if(l>1||l>0&&f>0)throw new Et(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class Op extends BR{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Op(e,r,n)}_apply(e){const r=this._parse(e);return UR(e._query,r),new hu(e.firestore,e.converter,iy(e._query,r))}_parse(e){const r=Np(e.firestore);return(function(a,l,f,m,g,y,E){let A;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Et(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){R4(E,y);const N=[];for(const b of E)N.push(I4(m,a,b));A={arrayValue:{values:N}}}else A=I4(m,a,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||R4(E,y),A=jj(f,l,E,y==="in"||y==="not-in");return ki.create(g,y,A)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Bi(t,e,r){const n=e,i=Dp("where",t);return Op._create(i,n,r)}class $_ extends Q_{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new $_(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Ro.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let l=i;const f=a.getFlattenedFilters();for(const m of f)UR(l,m),l=iy(l,m)})(e._query,r),new hu(e.firestore,e.converter,iy(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Z_ extends BR{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Z_(e,r)}_apply(e){const r=(function(i,a,l){if(i.startAt!==null)throw new Et(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Et(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ad(a,l)})(e._query,this._field,this._direction);return new hu(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new G0(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function Gj(t,e="asc"){const r=e,n=Dp("orderBy",t);return Z_._create(n,r)}function I4(t,e,r){if(typeof(r=Bn(r))=="string"){if(r==="")throw new Et(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!B6(e)&&r.indexOf("/")!==-1)throw new Et(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Tn.fromString(r));if(!Vt.isDocumentKey(n))throw new Et(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return GC(t,new Vt(n))}if(r instanceof ii)return GC(t,r._key);throw new Et(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dp(r)}.`)}function R4(t,e){if(!Array.isArray(t)||t.length===0)throw new Et(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UR(t,e){const r=(function(i,a){for(const l of i)for(const f of l.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Et(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Et(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Wj{convertValue(e,r="none"){switch(Zc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes($c(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Kt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return uu(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r[ym].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((l=>pi(l.doubleValue)));return new al(a)}convertGeoPoint(e){return new il(pi(e.latitude),pi(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=pp(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Ed(e));default:return null}}convertTimestamp(e){const r=Qc(e);return new Nn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Tn.fromString(e);Qr(sR(n),9688,{name:e});const i=new wd(n.get(1),n.get(3)),a=new Vt(n.popFirst(5));return i.isEqual(r)||Ql(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Wh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hu extends FR{constructor(e,r,n,i,a,l){super(e,r,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new am(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Dp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Hu._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Hu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hu._jsonSchema={type:Di("string",Hu._jsonSchemaVersion),bundleSource:Di("string","DocumentSnapshot"),bundleName:Di("string"),bundle:Di("string")};class am extends Hu{data(e={}){return super.data(e)}}class Gu{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Wh(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new am(this._firestore,this._userDataWriter,n.key,n,new Wh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Et(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((f=>{const m=new am(i._firestore,i._userDataWriter,f.doc.key,f.doc,new Wh(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((f=>a||f.type!==3)).map((f=>{const m=new am(i._firestore,i._userDataWriter,f.doc.key,f.doc,new Wh(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,y=-1;return f.type!==0&&(g=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),f.type!==1&&(l=l.add(f.doc),y=l.indexOf(f.doc.key)),{type:qj(f.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=v_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t){t=cs(t,ii);const e=cs(t.firestore,Zl);return kj(bp(e),t._key).then((r=>zR(e,t,r)))}Gu._jsonSchemaVersion="firestore/querySnapshot/1.0",Gu._jsonSchema={type:Di("string",Gu._jsonSchemaVersion),bundleSource:Di("string","QuerySnapshot"),bundleName:Di("string"),bundle:Di("string")};class J_ extends Wj{constructor(e){super(),this.firestore=e}convertBytes(e){return new ao(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,r)}}function Va(t){t=cs(t,hu);const e=cs(t.firestore,Zl),r=bp(e),n=new J_(e);return PR(t._query),Dj(r,t._query).then((i=>new Gu(e,n,t,i)))}function Im(t,e,r){t=cs(t,ii);const n=cs(t.firestore,Zl),i=VR(t.converter,e,r);return Lp(n,[DR(Np(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,so.none())])}function eE(t,e,r,...n){t=cs(t,ii);const i=cs(t.firestore,Zl),a=Np(i);let l;return l=typeof(e=Bn(e))=="string"||e instanceof Ip?Vj(a,"updateDoc",t._key,e,r,n):Uj(a,"updateDoc",t._key,e),Lp(i,[l.toMutation(t._key,so.exists(!0))])}function Rm(t){return Lp(cs(t.firestore,Zl),[new S_(t._key,so.none())])}function tu(t,e){const r=cs(t.firestore,Zl),n=ja(t),i=VR(t.converter,e);return Lp(r,[DR(Np(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,so.exists(!1))]).then((()=>n))}function jR(t,...e){var r,n,i;t=Bn(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||b4(e[l])||(a=e[l++]);const f={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(b4(e[l])){const E=e[l];e[l]=(r=E.next)===null||r===void 0?void 0:r.bind(E),e[l+1]=(n=E.error)===null||n===void 0?void 0:n.bind(E),e[l+2]=(i=E.complete)===null||i===void 0?void 0:i.bind(E)}let m,g,y;if(t instanceof ii)g=cs(t.firestore,Zl),y=xp(t._key.path),m={next:E=>{e[l]&&e[l](zR(g,t,E))},error:e[l+1],complete:e[l+2]};else{const E=cs(t,hu);g=cs(E.firestore,Zl),y=E._query;const A=new J_(g);m={next:C=>{e[l]&&e[l](new Gu(g,A,E,C))},error:e[l+1],complete:e[l+2]},PR(t._query)}return(function(A,C,N,b){const D=new W_(b),P=new z_(C,D,N);return A.asyncQueue.enqueueAndForget((async()=>U_(await Cm(A),P))),()=>{D.Ou(),A.asyncQueue.enqueueAndForget((async()=>V_(await Cm(A),P)))}})(bp(g),y,f,m)}function Lp(t,e){return(function(n,i){const a=new zl;return n.asyncQueue.enqueueAndForget((async()=>yj(await Nj(n),i,a))),a.promise})(bp(t),e)}function zR(t,e,r){const n=r.docs.get(e._key),i=new J_(t);return new Hu(t,i,e._key,n,new Wh(r.hasPendingWrites,r.fromCache),e.converter)}function Xj(){return new X_("serverTimestamp")}(function(e,r=!0){(function(i){j0=i})(ff),Zu(new Xc("firestore",((n,{instanceIdentifier:i,options:a})=>{const l=n.getProvider("app").getImmediate(),f=new Zl(new jB(n.getProvider("auth-internal")),new GB(l,n.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Et(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wd(g.options.projectId,y)})(l,i),l);return a=Object.assign({useFetchStreams:r},a),f._setSettings(a),f}),"PUBLIC").setMultipleInstances(!0)),Jo(NC,kC,e),Jo(NC,kC,"esm2017")})();var Yj="firebase",Kj="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jo(Yj,Kj,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="firebasestorage.googleapis.com",GR="storageBucket",Qj=120*1e3,$j=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends ll{constructor(e,r,n=0){super(lv(e),`Firebase Storage: ${r} (${lv(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,li.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var si;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(si||(si={}));function lv(t){return"storage/"+t}function tE(){const t="An unknown error occurred, please check the error payload for server response.";return new li(si.UNKNOWN,t)}function Zj(t){return new li(si.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Jj(t){return new li(si.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ez(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new li(si.UNAUTHENTICATED,t)}function tz(){return new li(si.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rz(t){return new li(si.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function nz(){return new li(si.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iz(){return new li(si.CANCELED,"User canceled the upload/download.")}function az(t){return new li(si.INVALID_URL,"Invalid URL '"+t+"'.")}function sz(t){return new li(si.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function oz(){return new li(si.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+GR+"' property when initializing the app?")}function lz(){return new li(si.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cz(){return new li(si.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uz(t){return new li(si.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function py(t){return new li(si.INVALID_ARGUMENT,t)}function WR(){return new li(si.APP_DELETED,"The Firebase app was deleted.")}function fz(t){return new li(si.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function id(t,e){return new li(si.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Fh(t){throw new li(si.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Ls.makeFromUrl(e,r)}catch{return new Ls(e,"")}if(n.path==="")return n;throw sz(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const l="(/(.*))?$",f=new RegExp("^gs://"+i+l,"i"),m={bucket:1,path:3};function g(Y){Y.path_=decodeURIComponent(Y.path)}const y="v[A-Za-z0-9_]+",E=r.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",C=new RegExp(`^https?://${E}/${y}/b/${i}/o${A}`,"i"),N={bucket:1,path:3},b=r===HR?"(?:storage.googleapis.com|storage.cloud.google.com)":r,D="([^?#]*)",P=new RegExp(`^https?://${b}/${i}/${D}`,"i"),B=[{regex:f,indices:m,postModify:a},{regex:C,indices:N,postModify:g},{regex:P,indices:{bucket:1,path:2},postModify:g}];for(let Y=0;Y<B.length;Y++){const te=B[Y],ee=te.regex.exec(e);if(ee){const L=ee[te.indices.bucket];let j=ee[te.indices.path];j||(j=""),n=new Ls(L,j),te.postModify(n);break}}if(n==null)throw az(e);return n}}class hz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dz(t,e,r){let n=1,i=null,a=null,l=!1,f=0;function m(){return f===2}let g=!1;function y(...D){g||(g=!0,e.apply(null,D))}function E(D){i=setTimeout(()=>{i=null,t(C,m())},D)}function A(){a&&clearTimeout(a)}function C(D,...P){if(g){A();return}if(D){A(),y.call(null,D,...P);return}if(m()||l){A(),y.call(null,D,...P);return}n<64&&(n*=2);let B;f===1?(f=2,B=0):B=(n+Math.random())*1e3,E(B)}let N=!1;function b(D){N||(N=!0,A(),!g&&(i!==null?(D||(f=2),clearTimeout(i),E(0)):D||(f=1)))}return E(0),a=setTimeout(()=>{l=!0,b(!0)},r),b}function gz(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t){return t!==void 0}function pz(t){return typeof t=="object"&&!Array.isArray(t)}function rE(t){return typeof t=="string"||t instanceof String}function N4(t){return nE()&&t instanceof Blob}function nE(){return typeof Blob<"u"}function k4(t,e,r,n){if(n<e)throw py(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw py(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function qR(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Wu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Wu||(Wu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xz(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e,r,n,i,a,l,f,m,g,y,E,A=!0,C=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=y,this.connectionFactory_=E,this.retry=A,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,b)=>{this.resolve_=N,this.reject_=b,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new kg(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=f=>{const m=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const f=a.getErrorCode()===Wu.NO_ERROR,m=a.getStatus();if(!f||xz(m,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===Wu.ABORT;n(!1,new kg(!1,null,y));return}const g=this.successCodes_.indexOf(m)!==-1;n(!0,new kg(g,a))})},r=(n,i)=>{const a=this.resolve_,l=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());mz(m)?a(m):a()}catch(m){l(m)}else if(f!==null){const m=tE();m.serverResponse=f.getErrorText(),this.errorCallback_?l(this.errorCallback_(f,m)):l(m)}else if(i.canceled){const m=this.appDelete_?WR():iz();l(m)}else{const m=nz();l(m)}};this.canceled_?r(!1,new kg(!1,null,!0)):this.backoffId_=dz(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kg{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function yz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function _z(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ez(t,e){e&&(t["X-Firebase-GMPID"]=e)}function wz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Tz(t,e,r,n,i,a,l=!0,f=!1){const m=qR(t.urlParams),g=t.url+m,y=Object.assign({},t.headers);return Ez(y,e),yz(y,r),_z(y,a),wz(y,n),new vz(g,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Az(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Sz(...t){const e=Az();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(nE())return new Blob(t);throw new li(si.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Cz(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t){if(typeof atob>"u")throw uz("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cv{constructor(e,r){this.data=e,this.contentType=r||null}}function Iz(t,e){switch(t){case Qo.RAW:return new cv(XR(e));case Qo.BASE64:case Qo.BASE64URL:return new cv(YR(t,e));case Qo.DATA_URL:return new cv(Nz(e),kz(e))}throw tE()}function XR(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,l=t.charCodeAt(++r);n=65536|(a&1023)<<10|l&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Rz(t){let e;try{e=decodeURIComponent(t)}catch{throw id(Qo.DATA_URL,"Malformed data URL.")}return XR(e)}function YR(t,e){switch(t){case Qo.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw id(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Qo.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw id(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=bz(e)}catch(i){throw i.message.includes("polyfill")?i:id(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class KR{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw id(Qo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Dz(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function Nz(t){const e=new KR(t);return e.base64?YR(Qo.BASE64,e.rest):Rz(e.rest)}function kz(t){return new KR(t).contentType}function Dz(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,r){let n=0,i="";N4(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(N4(this.data_)){const n=this.data_,i=Cz(n,e,r);return i===null?null:new Bc(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Bc(n,!0)}}static getBlob(...e){if(nE()){const r=e.map(n=>n instanceof Bc?n.data_:n);return new Bc(Sz.apply(null,r))}else{const r=e.map(l=>rE(l)?Iz(Qo.RAW,l).data:l.data_);let n=0;r.forEach(l=>{n+=l.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(l=>{for(let f=0;f<l.length;f++)i[a++]=l[f]}),new Bc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t){let e;try{e=JSON.parse(t)}catch{return null}return pz(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Mz(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function $R(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lz(t,e){return e}class Fa{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||Lz}}let Dg=null;function Fz(t){return!rE(t)||t.length<2?t:$R(t)}function ZR(){if(Dg)return Dg;const t=[];t.push(new Fa("bucket")),t.push(new Fa("generation")),t.push(new Fa("metageneration")),t.push(new Fa("name","fullPath",!0));function e(a,l){return Fz(l)}const r=new Fa("name");r.xform=e,t.push(r);function n(a,l){return l!==void 0?Number(l):l}const i=new Fa("size");return i.xform=n,t.push(i),t.push(new Fa("timeCreated")),t.push(new Fa("updated")),t.push(new Fa("md5Hash",null,!0)),t.push(new Fa("cacheControl",null,!0)),t.push(new Fa("contentDisposition",null,!0)),t.push(new Fa("contentEncoding",null,!0)),t.push(new Fa("contentLanguage",null,!0)),t.push(new Fa("contentType",null,!0)),t.push(new Fa("metadata","customMetadata",!0)),Dg=t,Dg}function Pz(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Ls(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function Bz(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const l=r[a];n[l.local]=l.xform(n,e[l.server])}return Pz(n,t),n}function JR(t,e,r){const n=QR(e);return n===null?null:Bz(t,n,r)}function Uz(t,e,r,n){const i=QR(e);if(i===null||!rE(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(g=>{const y=t.bucket,E=t.fullPath,A="/b/"+l(y)+"/o/"+l(E),C=iE(A,r,n),N=qR({alt:"media",token:g});return C+N})[0]}function Vz(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class e8{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(t){if(!t)throw tE()}function jz(t,e){function r(n,i){const a=JR(t,i,e);return t8(a!==null),a}return r}function zz(t,e){function r(n,i){const a=JR(t,i,e);return t8(a!==null),Uz(a,i,t.host,t._protocol)}return r}function r8(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=tz():i=ez():r.getStatus()===402?i=Jj(t.bucket):r.getStatus()===403?i=rz(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function Hz(t){const e=r8(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=Zj(t.path)),a.serverResponse=i.serverResponse,a}return r}function Gz(t,e,r){const n=e.fullServerUrl(),i=iE(n,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,f=new e8(i,a,zz(t,r),l);return f.errorHandler=Hz(e),f}function Wz(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function qz(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=Wz(null,e)),n}function Xz(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function f(){let B="";for(let Y=0;Y<2;Y++)B=B+Math.random().toString().slice(2);return B}const m=f();l["Content-Type"]="multipart/related; boundary="+m;const g=qz(e,n,i),y=Vz(g,r),E="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+m+"--",C=Bc.getBlob(E,n,A);if(C===null)throw lz();const N={name:g.fullPath},b=iE(a,t.host,t._protocol),D="POST",P=t.maxUploadRetryTime,G=new e8(b,D,jz(t,r),P);return G.urlParams=N,G.headers=l,G.body=C.uploadData(),G.errorHandler=r8(e),G}class Yz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i,a){if(this.sent_)throw Fh("cannot .send() more than once");if(lu(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Kz extends Yz{initXhr(){this.xhr_.responseType="text"}}function n8(){return new Kz}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,r){this._service=e,r instanceof Ls?this._location=r:this._location=Ls.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new nf(e,r)}get root(){const e=new Ls(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $R(this._location.path)}get storage(){return this._service}get parent(){const e=Oz(this._location.path);if(e===null)return null;const r=new Ls(this._location.bucket,e);return new nf(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw fz(e)}}function Qz(t,e,r){t._throwIfRoot("uploadBytes");const n=Xz(t.storage,t._location,ZR(),new Bc(e,!0),r);return t.storage.makeRequestWithTokens(n,n8).then(i=>({metadata:i,ref:t}))}function $z(t){t._throwIfRoot("getDownloadURL");const e=Gz(t.storage,t._location,ZR());return t.storage.makeRequestWithTokens(e,n8).then(r=>{if(r===null)throw cz();return r})}function Zz(t,e){const r=Mz(t._location.path,e),n=new Ls(t._location.bucket,r);return new nf(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(t){return/^[A-Za-z]+:\/\//.test(t)}function eH(t,e){return new nf(t,e)}function i8(t,e){if(t instanceof aE){const r=t;if(r._bucket==null)throw oz();const n=new nf(r,r._bucket);return e!=null?i8(n,e):n}else return e!==void 0?Zz(t,e):t}function tH(t,e){if(e&&Jz(e)){if(t instanceof aE)return eH(t,e);throw py("To use ref(service, url), the first argument must be a Storage instance.")}else return i8(t,e)}function D4(t,e){const r=e==null?void 0:e[GR];return r==null?null:Ls.makeFromBucketSpec(r,t)}function rH(t,e,r,n={}){t.host=`${e}:${r}`;const i=lu(e);i&&(n_(`https://${t.host}/b`),i_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:AI(a,t.app.options.projectId))}class aE{constructor(e,r,n,i,a,l=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=HR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Qj,this._maxUploadRetryTime=$j,this._requests=new Set,i!=null?this._bucket=Ls.makeFromBucketSpec(i,this._host):this._bucket=D4(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ls.makeFromBucketSpec(this._url,e):this._bucket=D4(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){k4("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){k4("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Ns(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nf(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new hz(WR());{const l=Tz(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const O4="@firebase/storage",M4="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8="storage";function nH(t,e,r){return t=Bn(t),Qz(t,e,r)}function iH(t){return t=Bn(t),$z(t)}function aH(t,e){return t=Bn(t),tH(t,e)}function sH(t=o_(),e){t=Bn(t);const n=cp(t,a8).getImmediate({identifier:e}),i=EI("storage");return i&&oH(n,...i),n}function oH(t,e,r,n={}){rH(t,e,r,n)}function lH(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new aE(r,n,i,e,ff)}function cH(){Zu(new Xc(a8,lH,"PUBLIC").setMultipleInstances(!0)),Jo(O4,M4,""),Jo(O4,M4,"esm2017")}cH();const uH={apiKey:"AIzaSyDq33ZTFy2NKeJ7QN_E1_1-zHboytkayR8",authDomain:"attendance-app-3efdc.firebaseapp.com",projectId:"attendance-app-3efdc",storageBucket:"attendance-app-3efdc.firebasestorage.app",messagingSenderId:"497796473137",appId:"1:497796473137:web:f0e099936c2da1a1a99010",measurementId:"G-7Z9R9H9QBW"},sE=bI(uH),qh=PB(sE),pr=Mj(sE),fH=sH(sE),s8=pe.createContext();function ds(){return pe.useContext(s8)}function hH({children:t}){const[e,r]=pe.useState(null),[n,i]=pe.useState(!0),[a]=pe.useState(()=>!0);function l(b,D,P,G){return EP(qh,b,D).then(async B=>(await yC(B.user,{displayName:P,photoURL:G}),await Im(ja(pr,"users",B.user.uid),{email:b,displayName:P,role:G,createdAt:new Date,phone:"",profilePhotoURL:""}),B))}function f(b,D){return wP(qh,b,D)}function m(){return e6(qh)}function g(b){if(!e)throw new Error("No user is currently signed in");return yC(e,b)}async function y(b){if(!e)throw new Error("No user is currently signed in");const D=ja(pr,"users",e.uid);await Im(D,b,{merge:!0})}async function E(){if(!e)return null;const b=ja(pr,"users",e.uid),D=await Mp(b);return D.exists()?D.data():null}function A(){var b;return e?e.displayName||((b=e.email)==null?void 0:b.split("@")[0])||"User":"Guest"}async function C(){if(!e)return"guest";try{const b=await E();if(b&&b.role)return b.role}catch(b){console.warn("Could not get role from Firestore, falling back to auth profile:",b)}return e.photoURL||"member"}pe.useEffect(()=>CP(qh,D=>{r(D),i(!1)}),[]);const N={currentUser:e,useMock:a,signup:l,login:f,logout:m,updateUserProfile:g,updateUserData:y,getUserData:E,getUserDisplayName:A,getUserRole:C};return k.jsx(s8.Provider,{value:N,children:!n&&t})}function L4({children:t,requiredRole:e}){const{currentUser:r}=ds();return r?e&&r.photoURL!==e?k.jsx(dS,{to:"/"}):t:k.jsx(dS,{to:"/"})}function dH(){const[t,e]=pe.useState("member"),[r,n]=pe.useState(""),[i,a]=pe.useState(""),[l,f]=pe.useState(""),[m,g]=pe.useState(!1),{login:y}=ds(),E=ol(),A=N=>{e(N),f("")},C=async N=>{N.preventDefault();try{f(""),g(!0);const D=(await y(r,i)).user.photoURL;if(D!==t){f(`Please login as ${D} instead of ${t}`);return}E(t==="admin"?"/admin":"/member")}catch(b){console.error("Login error:",b),b.code==="auth/user-not-found"?f("No account found with this email address"):b.code==="auth/wrong-password"?f("Incorrect password"):b.code==="auth/invalid-email"?f("Invalid email address"):f("Failed to sign in. Please check your credentials or try again in a few moments.")}finally{g(!1)}};return k.jsx("div",{className:"login-container",children:k.jsxs("div",{className:"login-paper",children:[k.jsx("h1",{className:"login-title",children:t==="admin"?"Admin Login":"Member Login"}),k.jsx("p",{className:"login-subtitle",children:"Please sign in to continue"}),k.jsxs("div",{className:"login-toggle-group",children:[k.jsx("button",{type:"button",className:`login-toggle-btn${t==="member"?" active":""}`,onClick:()=>A("member"),disabled:m,children:"Member"}),k.jsx("button",{type:"button",className:`login-toggle-btn${t==="admin"?" active":""}`,onClick:()=>A("admin"),disabled:m,children:"Admin"})]}),l&&k.jsx("div",{className:"login-error",children:l}),k.jsxs("form",{className:"login-form",onSubmit:C,children:[k.jsx("input",{required:!0,type:"email",id:"email",name:"email",autoComplete:"email",autoFocus:!0,value:r,onChange:N=>n(N.target.value),placeholder:"Email Address",className:"login-input",disabled:m}),k.jsx("input",{required:!0,type:"password",name:"password",id:"password",autoComplete:"current-password",value:i,onChange:N=>a(N.target.value),placeholder:"Password",className:"login-input",disabled:m}),k.jsx("button",{type:"submit",className:"login-button",disabled:m,children:m?"Signing In...":"Sign In"})]}),k.jsxs("p",{className:"login-signup-text",children:["Don't have an account? ",k.jsx("a",{href:"/signup",className:"login-signup-link",children:"Sign up"})]})]})})}const gH="/ScanIn-Attendance/assets/vecteezy_qr-code-scanning-vector-illustration-concept-suitable-for_7278490-D1Wq4dNS.jpg",o8="/ScanIn-Attendance/assets/signinLogo2-B6cU-0kx.png";function mH(){const t=ol();return k.jsxs("div",{className:"landing-bg",children:[k.jsx("div",{className:"landing-header",children:k.jsx("img",{src:o8,alt:"checkmark",className:"checkmark-icon"})}),k.jsx("p",{className:"landing-tagline",children:"Your Effortless Attendance Tracking System"}),k.jsxs("section",{className:"landing-hero",children:[k.jsx("img",{src:gH,alt:"QR Code Scanning",className:"landing-illustration"}),k.jsxs("div",{className:"landing-hero-content",children:[k.jsx("h2",{children:"Welcome to ScanIn Attendance Tracking"}),k.jsx("p",{children:"Modern, secure, and easy-to-use attendance management for organizations, schools, and events. Scan, track, and manage attendance in real time with our App today!"}),k.jsx("p",{children:"Click the button below to get started or scan your attendance!"}),k.jsxs("div",{className:"landing-btn-container",children:[k.jsx("button",{className:"landing-btn",onClick:()=>t("/login"),children:"Get Started"}),k.jsx("button",{className:"landing-btn-scan",onClick:()=>t("/scan"),children:"Scan Now!"})]})]})]}),k.jsx("a",{href:"#download",className:"landing-download-link",children:"Download App"}),k.jsxs("section",{className:"landing-features",children:[k.jsx("h2",{children:"Features"}),k.jsxs("div",{className:"features-list",children:[k.jsxs("div",{className:"feature-card",children:[k.jsx("h3",{children:"QR Code Attendance"}),k.jsx("p",{children:"Members clock in and out by scanning unique QR codes. Fast and contactless."})]}),k.jsxs("div",{className:"feature-card",children:[k.jsx("h3",{children:"Admin & Member Roles"}),k.jsx("p",{children:"Admins manage attendance, generate reports, and control users. Members scan and view their history."})]}),k.jsxs("div",{className:"feature-card",children:[k.jsx("h3",{children:"Real-Time Analytics"}),k.jsx("p",{children:"Get instant insights into attendance rates, late arrivals, and more."})]}),k.jsxs("div",{className:"feature-card",children:[k.jsx("h3",{children:"Secure & Private"}),k.jsx("p",{children:"Built on Firebase for secure authentication and data storage."})]}),k.jsxs("div",{className:"feature-card",children:[k.jsx("h3",{children:"Progressive Web App"}),k.jsx("p",{children:"Install on any device. Works offline and feels like a native app."})]})]})]}),k.jsxs("footer",{className:"landing-footer",children:[k.jsxs("div",{id:"download",className:"landing-download-section",children:[k.jsx("h2",{children:"Download Attendid"}),k.jsx("p",{children:"Install as a PWA from your browser or download the APK (coming soon)."}),k.jsx("button",{className:"landing-btn",onClick:()=>window.alert("Use your browser's install option or check back soon for APK!"),children:"Download"})]}),k.jsxs("p",{className:"landing-copyright",children:[" ",new Date().getFullYear()," Attendid. All rights reserved."]})]})]})}var St;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(St||(St={}));var F4=new Map([[St.QR_CODE,"QR_CODE"],[St.AZTEC,"AZTEC"],[St.CODABAR,"CODABAR"],[St.CODE_39,"CODE_39"],[St.CODE_93,"CODE_93"],[St.CODE_128,"CODE_128"],[St.DATA_MATRIX,"DATA_MATRIX"],[St.MAXICODE,"MAXICODE"],[St.ITF,"ITF"],[St.EAN_13,"EAN_13"],[St.EAN_8,"EAN_8"],[St.PDF_417,"PDF_417"],[St.RSS_14,"RSS_14"],[St.RSS_EXPANDED,"RSS_EXPANDED"],[St.UPC_A,"UPC_A"],[St.UPC_E,"UPC_E"],[St.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),P4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(P4||(P4={}));function pH(t){return Object.values(St).includes(t)}var ru;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ru||(ru={}));var wo=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[ru.SCAN_TYPE_CAMERA,ru.SCAN_TYPE_FILE],t})(),l8=(function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!F4.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,F4.get(e))},t})(),B4=(function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),xy;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(xy||(xy={}));var c8=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:xy.UNKWOWN_ERROR}},t})(),u8=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function Wo(t){return typeof t>"u"||t===null}function xH(t,e,r){return t>r?r:t<e?e:t}var d0=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),an=(function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t})(),U4=(function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t})(),f8=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),l=Object.keys(e),f=0,m=l;f<m.length;f++){var g=m[f];if(a.has(g))return r.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},t})(),Xh={exports:{}},vH=Xh.exports,V4;function yH(){return V4||(V4=1,(function(t,e){(function(r,n){n(e)})(vH,(function(r){function n(W){return W==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,o){W.__proto__=o}||function(W,o){for(var u in o)o.hasOwnProperty(u)&&(W[u]=o[u])};function a(W,o){i(W,o);function u(){this.constructor=W}W.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}function l(W,o){var u=Object.setPrototypeOf;u?u(W,o):W.__proto__=o}function f(W,o){o===void 0&&(o=W.constructor);var u=Error.captureStackTrace;u&&u(W,o)}var m=(function(W){a(o,W);function o(u){var h=this.constructor,p=W.call(this,u)||this;return Object.defineProperty(p,"name",{value:h.name,enumerable:!1}),l(p,h.prototype),f(p),p}return o})(Error);class g extends m{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}g.kind="Exception";class y extends g{}y.kind="ArgumentException";class E extends g{}E.kind="IllegalArgumentException";class A{constructor(o){if(this.binarizer=o,o===null)throw new E("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,u){return this.binarizer.getBlackRow(o,u)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,u,h,p){const x=this.binarizer.getLuminanceSource().crop(o,u,h,p);return new A(this.binarizer.createBinarizer(x))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new A(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new A(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class C extends g{static getChecksumInstance(){return new C}}C.kind="ChecksumException";class N{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class b{static arraycopy(o,u,h,p,x){for(;x--;)h[p++]=o[u++]}static currentTimeMillis(){return Date.now()}}class D extends g{}D.kind="IndexOutOfBoundsException";class P extends D{constructor(o=void 0,u=void 0){super(u),this.index=o,this.message=u}}P.kind="ArrayIndexOutOfBoundsException";class G{static fill(o,u){for(let h=0,p=o.length;h<p;h++)o[h]=u}static fillWithin(o,u,h,p){G.rangeCheck(o.length,u,h);for(let x=u;x<h;x++)o[x]=p}static rangeCheck(o,u,h){if(u>h)throw new E("fromIndex("+u+") > toIndex("+h+")");if(u<0)throw new P(u);if(h>o)throw new P(h)}static asList(...o){return o}static create(o,u,h){return Array.from({length:o}).map(x=>Array.from({length:u}).fill(h))}static createInt32Array(o,u,h){return Array.from({length:o}).map(x=>Int32Array.from({length:u}).fill(h))}static equals(o,u){if(!o||!u||!o.length||!u.length||o.length!==u.length)return!1;for(let h=0,p=o.length;h<p;h++)if(o[h]!==u[h])return!1;return!0}static hashCode(o){if(o===null)return 0;let u=1;for(const h of o)u=31*u+h;return u}static fillUint8Array(o,u){for(let h=0;h!==o.length;h++)o[h]=u}static copyOf(o,u){return o.slice(0,u)}static copyOfUint8Array(o,u){if(o.length<=u){const h=new Uint8Array(u);return h.set(o),h}return o.slice(0,u)}static copyOfRange(o,u,h){const p=h-u,x=new Int32Array(p);return b.arraycopy(o,u,x,0,p),x}static binarySearch(o,u,h){h===void 0&&(h=G.numberComparator);let p=0,x=o.length-1;for(;p<=x;){const _=x+p>>1,w=h(u,o[_]);if(w>0)p=_+1;else if(w<0)x=_-1;else return _}return-p-1}static numberComparator(o,u){return o-u}}class B{static numberOfTrailingZeros(o){let u;if(o===0)return 32;let h=31;return u=o<<16,u!==0&&(h-=16,o=u),u=o<<8,u!==0&&(h-=8,o=u),u=o<<4,u!==0&&(h-=4,o=u),u=o<<2,u!==0&&(h-=2,o=u),h-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let u=1;return o>>>16||(u+=16,o<<=16),o>>>24||(u+=8,o<<=8),o>>>28||(u+=4,o<<=4),o>>>30||(u+=2,o<<=2),u-=o>>>31,u}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,u){return Math.trunc(o/u)}static parseInt(o,u=void 0){return parseInt(o,u)}}B.MIN_VALUE_32_BITS=-2147483648,B.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Y{constructor(o,u){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,u==null?this.bits=Y.makeArray(o):this.bits=u)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const u=Y.makeArray(o);b.arraycopy(this.bits,0,u,0,this.bits.length),this.bits=u}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const u=this.size;if(o>=u)return u;const h=this.bits;let p=Math.floor(o/32),x=h[p];x&=~((1<<(o&31))-1);const _=h.length;for(;x===0;){if(++p===_)return u;x=h[p]}const w=p*32+B.numberOfTrailingZeros(x);return w>u?u:w}getNextUnset(o){const u=this.size;if(o>=u)return u;const h=this.bits;let p=Math.floor(o/32),x=~h[p];x&=~((1<<(o&31))-1);const _=h.length;for(;x===0;){if(++p===_)return u;x=~h[p]}const w=p*32+B.numberOfTrailingZeros(x);return w>u?u:w}setBulk(o,u){this.bits[Math.floor(o/32)]=u}setRange(o,u){if(u<o||o<0||u>this.size)throw new E;if(u===o)return;u--;const h=Math.floor(o/32),p=Math.floor(u/32),x=this.bits;for(let _=h;_<=p;_++){const w=_>h?0:o&31,O=(2<<(_<p?31:u&31))-(1<<w);x[_]|=O}}clear(){const o=this.bits.length,u=this.bits;for(let h=0;h<o;h++)u[h]=0}isRange(o,u,h){if(u<o||o<0||u>this.size)throw new E;if(u===o)return!0;u--;const p=Math.floor(o/32),x=Math.floor(u/32),_=this.bits;for(let w=p;w<=x;w++){const I=w>p?0:o&31,V=(2<<(w<x?31:u&31))-(1<<I)&4294967295;if((_[w]&V)!==(h?V:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,u){if(u<0||u>32)throw new E("Num bits must be between 0 and 32");this.ensureCapacity(this.size+u);for(let h=u;h>0;h--)this.appendBit((o>>h-1&1)===1)}appendBitArray(o){const u=o.size;this.ensureCapacity(this.size+u);for(let h=0;h<u;h++)this.appendBit(o.get(h))}xor(o){if(this.size!==o.size)throw new E("Sizes don't match");const u=this.bits;for(let h=0,p=u.length;h<p;h++)u[h]^=o.bits[h]}toBytes(o,u,h,p){for(let x=0;x<p;x++){let _=0;for(let w=0;w<8;w++)this.get(o)&&(_|=1<<7-w),o++;u[h+x]=_}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),u=Math.floor((this.size-1)/32),h=u+1,p=this.bits;for(let x=0;x<h;x++){let _=p[x];_=_>>1&1431655765|(_&1431655765)<<1,_=_>>2&858993459|(_&858993459)<<2,_=_>>4&252645135|(_&252645135)<<4,_=_>>8&16711935|(_&16711935)<<8,_=_>>16&65535|(_&65535)<<16,o[u-x]=_}if(this.size!==h*32){const x=h*32-this.size;let _=o[0]>>>x;for(let w=1;w<h;w++){const I=o[w];_|=I<<32-x,o[w-1]=_,_=I>>>x}o[h-1]=_}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof Y))return!1;const u=o;return this.size===u.size&&G.equals(this.bits,u.bits)}hashCode(){return 31*this.size+G.hashCode(this.bits)}toString(){let o="";for(let u=0,h=this.size;u<h;u++)(u&7)===0&&(o+=" "),o+=this.get(u)?"X":".";return o}clone(){return new Y(this.size,this.bits.slice())}}var te;(function(W){W[W.OTHER=0]="OTHER",W[W.PURE_BARCODE=1]="PURE_BARCODE",W[W.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",W[W.TRY_HARDER=3]="TRY_HARDER",W[W.CHARACTER_SET=4]="CHARACTER_SET",W[W.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",W[W.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",W[W.ASSUME_GS1=7]="ASSUME_GS1",W[W.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",W[W.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",W[W.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(te||(te={}));var ee=te;class L extends g{static getFormatInstance(){return new L}}L.kind="FormatException";var j;(function(W){W[W.Cp437=0]="Cp437",W[W.ISO8859_1=1]="ISO8859_1",W[W.ISO8859_2=2]="ISO8859_2",W[W.ISO8859_3=3]="ISO8859_3",W[W.ISO8859_4=4]="ISO8859_4",W[W.ISO8859_5=5]="ISO8859_5",W[W.ISO8859_6=6]="ISO8859_6",W[W.ISO8859_7=7]="ISO8859_7",W[W.ISO8859_8=8]="ISO8859_8",W[W.ISO8859_9=9]="ISO8859_9",W[W.ISO8859_10=10]="ISO8859_10",W[W.ISO8859_11=11]="ISO8859_11",W[W.ISO8859_13=12]="ISO8859_13",W[W.ISO8859_14=13]="ISO8859_14",W[W.ISO8859_15=14]="ISO8859_15",W[W.ISO8859_16=15]="ISO8859_16",W[W.SJIS=16]="SJIS",W[W.Cp1250=17]="Cp1250",W[W.Cp1251=18]="Cp1251",W[W.Cp1252=19]="Cp1252",W[W.Cp1256=20]="Cp1256",W[W.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",W[W.UTF8=22]="UTF8",W[W.ASCII=23]="ASCII",W[W.Big5=24]="Big5",W[W.GB18030=25]="GB18030",W[W.EUC_KR=26]="EUC_KR"})(j||(j={}));class U{constructor(o,u,h,...p){this.valueIdentifier=o,this.name=h,typeof u=="number"?this.values=Int32Array.from([u]):this.values=u,this.otherEncodingNames=p,U.VALUE_IDENTIFIER_TO_ECI.set(o,this),U.NAME_TO_ECI.set(h,this);const x=this.values;for(let _=0,w=x.length;_!==w;_++){const I=x[_];U.VALUES_TO_ECI.set(I,this)}for(const _ of p)U.NAME_TO_ECI.set(_,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new L("incorect value");const u=U.VALUES_TO_ECI.get(o);if(u===void 0)throw new L("incorect value");return u}static getCharacterSetECIByName(o){const u=U.NAME_TO_ECI.get(o);if(u===void 0)throw new L("incorect value");return u}equals(o){if(!(o instanceof U))return!1;const u=o;return this.getName()===u.getName()}}U.VALUE_IDENTIFIER_TO_ECI=new Map,U.VALUES_TO_ECI=new Map,U.NAME_TO_ECI=new Map,U.Cp437=new U(j.Cp437,Int32Array.from([0,2]),"Cp437"),U.ISO8859_1=new U(j.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),U.ISO8859_2=new U(j.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),U.ISO8859_3=new U(j.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),U.ISO8859_4=new U(j.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),U.ISO8859_5=new U(j.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),U.ISO8859_6=new U(j.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),U.ISO8859_7=new U(j.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),U.ISO8859_8=new U(j.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),U.ISO8859_9=new U(j.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),U.ISO8859_10=new U(j.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),U.ISO8859_11=new U(j.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),U.ISO8859_13=new U(j.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),U.ISO8859_14=new U(j.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),U.ISO8859_15=new U(j.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),U.ISO8859_16=new U(j.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),U.SJIS=new U(j.SJIS,20,"SJIS","Shift_JIS"),U.Cp1250=new U(j.Cp1250,21,"Cp1250","windows-1250"),U.Cp1251=new U(j.Cp1251,22,"Cp1251","windows-1251"),U.Cp1252=new U(j.Cp1252,23,"Cp1252","windows-1252"),U.Cp1256=new U(j.Cp1256,24,"Cp1256","windows-1256"),U.UnicodeBigUnmarked=new U(j.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),U.UTF8=new U(j.UTF8,26,"UTF8","UTF-8"),U.ASCII=new U(j.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),U.Big5=new U(j.Big5,28,"Big5"),U.GB18030=new U(j.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),U.EUC_KR=new U(j.EUC_KR,30,"EUC_KR","EUC-KR");class q extends g{}q.kind="UnsupportedOperationException";class K{static decode(o,u){const h=this.encodingName(u);return this.customDecoder?this.customDecoder(o,h):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(h)?this.decodeFallback(o,h):new TextDecoder(h).decode(o)}static shouldDecodeOnFallback(o){return!K.isBrowser()&&o==="ISO-8859-1"}static encode(o,u){const h=this.encodingName(u);return this.customEncoder?this.customEncoder(o,h):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof U?o:U.getCharacterSetECIByName(o)}static decodeFallback(o,u){const h=this.encodingCharacterSet(u);if(K.isDecodeFallbackSupported(h)){let p="";for(let x=0,_=o.length;x<_;x++){let w=o[x].toString(16);w.length<2&&(w="0"+w),p+="%"+w}return decodeURIComponent(p)}if(h.equals(U.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new q(`Encoding ${this.encodingName(u)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(U.UTF8)||o.equals(U.ISO8859_1)||o.equals(U.ASCII)}static encodeFallback(o){const h=btoa(unescape(encodeURIComponent(o))).split(""),p=[];for(let x=0;x<h.length;x++)p.push(h[x].charCodeAt(0));return new Uint8Array(p)}}class M{static castAsNonUtf8Char(o,u=null){const h=u?u.getName():this.ISO88591;return K.decode(new Uint8Array([o]),h)}static guessEncoding(o,u){if(u!=null&&u.get(ee.CHARACTER_SET)!==void 0)return u.get(ee.CHARACTER_SET).toString();const h=o.length;let p=!0,x=!0,_=!0,w=0,I=0,O=0,V=0,X=0,re=0,de=0,we=0,Te=0,Ne=0,He=0;const dt=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let ft=0;ft<h&&(p||x||_);ft++){const at=o[ft]&255;_&&(w>0?(at&128)===0?_=!1:w--:(at&128)!==0&&((at&64)===0?_=!1:(w++,(at&32)===0?I++:(w++,(at&16)===0?O++:(w++,(at&8)===0?V++:_=!1))))),p&&(at>127&&at<160?p=!1:at>159&&(at<192||at===215||at===247)&&He++),x&&(X>0?at<64||at===127||at>252?x=!1:X--:at===128||at===160||at>239?x=!1:at>160&&at<224?(re++,we=0,de++,de>Te&&(Te=de)):at>127?(X++,de=0,we++,we>Ne&&(Ne=we)):(de=0,we=0))}return _&&w>0&&(_=!1),x&&X>0&&(x=!1),_&&(dt||I+O+V>0)?M.UTF8:x&&(M.ASSUME_SHIFT_JIS||Te>=3||Ne>=3)?M.SHIFT_JIS:p&&x?Te===2&&re===2||He*10>=h?M.SHIFT_JIS:M.ISO88591:p?M.ISO88591:x?M.SHIFT_JIS:_?M.UTF8:M.PLATFORM_DEFAULT_ENCODING}static format(o,...u){let h=-1;function p(_,w,I,O,V,X){if(_==="%%")return"%";if(u[++h]===void 0)return;_=O?parseInt(O.substr(1)):void 0;let re=V?parseInt(V.substr(1)):void 0,de;switch(X){case"s":de=u[h];break;case"c":de=u[h][0];break;case"f":de=parseFloat(u[h]).toFixed(_);break;case"p":de=parseFloat(u[h]).toPrecision(_);break;case"e":de=parseFloat(u[h]).toExponential(_);break;case"x":de=parseInt(u[h]).toString(re||16);break;case"d":de=parseFloat(parseInt(u[h],re||10).toPrecision(_)).toFixed(0);break}de=typeof de=="object"?JSON.stringify(de):(+de).toString(re);let we=parseInt(I),Te=I&&I[0]+""=="0"?"0":" ";for(;de.length<we;)de=w!==void 0?de+Te:Te+de;return de}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(x,p)}static getBytes(o,u){return K.encode(o,u)}static getCharCode(o,u=0){return o.charCodeAt(u)}static getCharAt(o){return String.fromCharCode(o)}}M.SHIFT_JIS=U.SJIS.getName(),M.GB2312="GB2312",M.ISO88591=U.ISO8859_1.getName(),M.EUC_JP="EUC_JP",M.UTF8=U.UTF8.getName(),M.PLATFORM_DEFAULT_ENCODING=M.UTF8,M.ASSUME_SHIFT_JIS=!1;class Q{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=M.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,u,h){for(let p=u;u<u+h;p++)this.append(o[p]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+1)}substring(o,u){return this.value.substring(o,u)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,u){this.value=this.value.substr(0,o)+u+this.value.substr(o+u.length)}}class be{constructor(o,u,h,p){if(this.width=o,this.height=u,this.rowSize=h,this.bits=p,u==null&&(u=o),this.height=u,o<1||u<1)throw new E("Both dimensions must be greater than 0");h==null&&(h=Math.floor((o+31)/32)),this.rowSize=h,p==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const u=o.length,h=o[0].length,p=new be(h,u);for(let x=0;x<u;x++){const _=o[x];for(let w=0;w<h;w++)_[w]&&p.set(w,x)}return p}static parseFromString(o,u,h){if(o===null)throw new E("stringRepresentation cannot be null");const p=new Array(o.length);let x=0,_=0,w=-1,I=0,O=0;for(;O<o.length;)if(o.charAt(O)===`
`||o.charAt(O)==="\r"){if(x>_){if(w===-1)w=x-_;else if(x-_!==w)throw new E("row lengths do not match");_=x,I++}O++}else if(o.substring(O,O+u.length)===u)O+=u.length,p[x]=!0,x++;else if(o.substring(O,O+h.length)===h)O+=h.length,p[x]=!1,x++;else throw new E("illegal character encountered: "+o.substring(O));if(x>_){if(w===-1)w=x-_;else if(x-_!==w)throw new E("row lengths do not match");I++}const V=new be(w,I);for(let X=0;X<x;X++)p[X]&&V.set(Math.floor(X%w),Math.floor(X/w));return V}get(o,u){const h=u*this.rowSize+Math.floor(o/32);return(this.bits[h]>>>(o&31)&1)!==0}set(o,u){const h=u*this.rowSize+Math.floor(o/32);this.bits[h]|=1<<(o&31)&4294967295}unset(o,u){const h=u*this.rowSize+Math.floor(o/32);this.bits[h]&=~(1<<(o&31)&4294967295)}flip(o,u){const h=u*this.rowSize+Math.floor(o/32);this.bits[h]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new E("input matrix dimensions do not match");const u=new Y(Math.floor(this.width/32)+1),h=this.rowSize,p=this.bits;for(let x=0,_=this.height;x<_;x++){const w=x*h,I=o.getRow(x,u).getBitArray();for(let O=0;O<h;O++)p[w+O]^=I[O]}}clear(){const o=this.bits,u=o.length;for(let h=0;h<u;h++)o[h]=0}setRegion(o,u,h,p){if(u<0||o<0)throw new E("Left and top must be nonnegative");if(p<1||h<1)throw new E("Height and width must be at least 1");const x=o+h,_=u+p;if(_>this.height||x>this.width)throw new E("The region must fit inside the matrix");const w=this.rowSize,I=this.bits;for(let O=u;O<_;O++){const V=O*w;for(let X=o;X<x;X++)I[V+Math.floor(X/32)]|=1<<(X&31)&4294967295}}getRow(o,u){u==null||u.getSize()<this.width?u=new Y(this.width):u.clear();const h=this.rowSize,p=this.bits,x=o*h;for(let _=0;_<h;_++)u.setBulk(_*32,p[x+_]);return u}setRow(o,u){b.arraycopy(u.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),u=this.getHeight();let h=new Y(o),p=new Y(o);for(let x=0,_=Math.floor((u+1)/2);x<_;x++)h=this.getRow(x,h),p=this.getRow(u-1-x,p),h.reverse(),p.reverse(),this.setRow(x,p),this.setRow(u-1-x,h)}getEnclosingRectangle(){const o=this.width,u=this.height,h=this.rowSize,p=this.bits;let x=o,_=u,w=-1,I=-1;for(let O=0;O<u;O++)for(let V=0;V<h;V++){const X=p[O*h+V];if(X!==0){if(O<_&&(_=O),O>I&&(I=O),V*32<x){let re=0;for(;(X<<31-re&4294967295)===0;)re++;V*32+re<x&&(x=V*32+re)}if(V*32+31>w){let re=31;for(;!(X>>>re);)re--;V*32+re>w&&(w=V*32+re)}}}return w<x||I<_?null:Int32Array.from([x,_,w-x+1,I-_+1])}getTopLeftOnBit(){const o=this.rowSize,u=this.bits;let h=0;for(;h<u.length&&u[h]===0;)h++;if(h===u.length)return null;const p=h/o;let x=h%o*32;const _=u[h];let w=0;for(;(_<<31-w&4294967295)===0;)w++;return x+=w,Int32Array.from([x,p])}getBottomRightOnBit(){const o=this.rowSize,u=this.bits;let h=u.length-1;for(;h>=0&&u[h]===0;)h--;if(h<0)return null;const p=Math.floor(h/o);let x=Math.floor(h%o)*32;const _=u[h];let w=31;for(;!(_>>>w);)w--;return x+=w,Int32Array.from([x,p])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof be))return!1;const u=o;return this.width===u.width&&this.height===u.height&&this.rowSize===u.rowSize&&G.equals(this.bits,u.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+G.hashCode(this.bits),o}toString(o="X ",u="  ",h=`
`){return this.buildToString(o,u,h)}buildToString(o,u,h){let p=new Q;for(let x=0,_=this.height;x<_;x++){for(let w=0,I=this.width;w<I;w++)p.append(this.get(w,x)?o:u);p.append(h)}return p.toString()}clone(){return new be(this.width,this.height,this.rowSize,this.bits.slice())}}class xe extends g{static getNotFoundInstance(){return new xe}}xe.kind="NotFoundException";class _e extends N{constructor(o){super(o),this.luminances=_e.EMPTY,this.buckets=new Int32Array(_e.LUMINANCE_BUCKETS)}getBlackRow(o,u){const h=this.getLuminanceSource(),p=h.getWidth();u==null||u.getSize()<p?u=new Y(p):u.clear(),this.initArrays(p);const x=h.getRow(o,this.luminances),_=this.buckets;for(let I=0;I<p;I++)_[(x[I]&255)>>_e.LUMINANCE_SHIFT]++;const w=_e.estimateBlackPoint(_);if(p<3)for(let I=0;I<p;I++)(x[I]&255)<w&&u.set(I);else{let I=x[0]&255,O=x[1]&255;for(let V=1;V<p-1;V++){const X=x[V+1]&255;(O*4-I-X)/2<w&&u.set(V),I=O,O=X}}return u}getBlackMatrix(){const o=this.getLuminanceSource(),u=o.getWidth(),h=o.getHeight(),p=new be(u,h);this.initArrays(u);const x=this.buckets;for(let I=1;I<5;I++){const O=Math.floor(h*I/5),V=o.getRow(O,this.luminances),X=Math.floor(u*4/5);for(let re=Math.floor(u/5);re<X;re++){const de=V[re]&255;x[de>>_e.LUMINANCE_SHIFT]++}}const _=_e.estimateBlackPoint(x),w=o.getMatrix();for(let I=0;I<h;I++){const O=I*u;for(let V=0;V<u;V++)(w[O+V]&255)<_&&p.set(V,I)}return p}createBinarizer(o){return new _e(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const u=this.buckets;for(let h=0;h<_e.LUMINANCE_BUCKETS;h++)u[h]=0}static estimateBlackPoint(o){const u=o.length;let h=0,p=0,x=0;for(let V=0;V<u;V++)o[V]>x&&(p=V,x=o[V]),o[V]>h&&(h=o[V]);let _=0,w=0;for(let V=0;V<u;V++){const X=V-p,re=o[V]*X*X;re>w&&(_=V,w=re)}if(p>_){const V=p;p=_,_=V}if(_-p<=u/16)throw new xe;let I=_-1,O=-1;for(let V=_-1;V>p;V--){const X=V-p,re=X*X*(_-V)*(h-o[V]);re>O&&(I=V,O=re)}return I<<_e.LUMINANCE_SHIFT}}_e.LUMINANCE_BITS=5,_e.LUMINANCE_SHIFT=8-_e.LUMINANCE_BITS,_e.LUMINANCE_BUCKETS=1<<_e.LUMINANCE_BITS,_e.EMPTY=Uint8ClampedArray.from([0]);class Ae extends _e{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),u=o.getWidth(),h=o.getHeight();if(u>=Ae.MINIMUM_DIMENSION&&h>=Ae.MINIMUM_DIMENSION){const p=o.getMatrix();let x=u>>Ae.BLOCK_SIZE_POWER;(u&Ae.BLOCK_SIZE_MASK)!==0&&x++;let _=h>>Ae.BLOCK_SIZE_POWER;(h&Ae.BLOCK_SIZE_MASK)!==0&&_++;const w=Ae.calculateBlackPoints(p,x,_,u,h),I=new be(u,h);Ae.calculateThresholdForBlock(p,x,_,u,h,w,I),this.matrix=I}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new Ae(o)}static calculateThresholdForBlock(o,u,h,p,x,_,w){const I=x-Ae.BLOCK_SIZE,O=p-Ae.BLOCK_SIZE;for(let V=0;V<h;V++){let X=V<<Ae.BLOCK_SIZE_POWER;X>I&&(X=I);const re=Ae.cap(V,2,h-3);for(let de=0;de<u;de++){let we=de<<Ae.BLOCK_SIZE_POWER;we>O&&(we=O);const Te=Ae.cap(de,2,u-3);let Ne=0;for(let dt=-2;dt<=2;dt++){const ft=_[re+dt];Ne+=ft[Te-2]+ft[Te-1]+ft[Te]+ft[Te+1]+ft[Te+2]}const He=Ne/25;Ae.thresholdBlock(o,we,X,He,p,w)}}}static cap(o,u,h){return o<u?u:o>h?h:o}static thresholdBlock(o,u,h,p,x,_){for(let w=0,I=h*x+u;w<Ae.BLOCK_SIZE;w++,I+=x)for(let O=0;O<Ae.BLOCK_SIZE;O++)(o[I+O]&255)<=p&&_.set(u+O,h+w)}static calculateBlackPoints(o,u,h,p,x){const _=x-Ae.BLOCK_SIZE,w=p-Ae.BLOCK_SIZE,I=new Array(h);for(let O=0;O<h;O++){I[O]=new Int32Array(u);let V=O<<Ae.BLOCK_SIZE_POWER;V>_&&(V=_);for(let X=0;X<u;X++){let re=X<<Ae.BLOCK_SIZE_POWER;re>w&&(re=w);let de=0,we=255,Te=0;for(let He=0,dt=V*p+re;He<Ae.BLOCK_SIZE;He++,dt+=p){for(let ft=0;ft<Ae.BLOCK_SIZE;ft++){const at=o[dt+ft]&255;de+=at,at<we&&(we=at),at>Te&&(Te=at)}if(Te-we>Ae.MIN_DYNAMIC_RANGE)for(He++,dt+=p;He<Ae.BLOCK_SIZE;He++,dt+=p)for(let ft=0;ft<Ae.BLOCK_SIZE;ft++)de+=o[dt+ft]&255}let Ne=de>>Ae.BLOCK_SIZE_POWER*2;if(Te-we<=Ae.MIN_DYNAMIC_RANGE&&(Ne=we/2,O>0&&X>0)){const He=(I[O-1][X]+2*I[O][X-1]+I[O-1][X-1])/4;we<He&&(Ne=He)}I[O][X]=Ne}}return I}}Ae.BLOCK_SIZE_POWER=3,Ae.BLOCK_SIZE=1<<Ae.BLOCK_SIZE_POWER,Ae.BLOCK_SIZE_MASK=Ae.BLOCK_SIZE-1,Ae.MINIMUM_DIMENSION=Ae.BLOCK_SIZE*5,Ae.MIN_DYNAMIC_RANGE=24;class ot{constructor(o,u){this.width=o,this.height=u}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,u,h,p){throw new q("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new q("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new q("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let u=new Q;for(let h=0;h<this.height;h++){const p=this.getRow(h,o);for(let x=0;x<this.width;x++){const _=p[x]&255;let w;_<64?w="#":_<128?w="+":_<192?w=".":w=" ",u.append(w)}u.append(`
`)}return u.toString()}}class Ce extends ot{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,u){const h=this.delegate.getRow(o,u),p=this.getWidth();for(let x=0;x<p;x++)h[x]=255-(h[x]&255);return h}getMatrix(){const o=this.delegate.getMatrix(),u=this.getWidth()*this.getHeight(),h=new Uint8ClampedArray(u);for(let p=0;p<u;p++)h[p]=255-(o[p]&255);return h}isCropSupported(){return this.delegate.isCropSupported()}crop(o,u,h,p){return new Ce(this.delegate.crop(o,u,h,p))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ce(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ce(this.delegate.rotateCounterClockwise45())}}class ht extends ot{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=ht.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const u=o.getContext("2d").getImageData(0,0,o.width,o.height);return ht.toGrayscaleBuffer(u.data,o.width,o.height)}static toGrayscaleBuffer(o,u,h){const p=new Uint8ClampedArray(u*h);for(let x=0,_=0,w=o.length;x<w;x+=4,_++){let I;if(o[x+3]===0)I=255;else{const V=o[x],X=o[x+1],re=o[x+2];I=306*V+601*X+117*re+512>>10}p[_]=I}return p}getRow(o,u){if(o<0||o>=this.getHeight())throw new E("Requested row is outside the image: "+o);const h=this.getWidth(),p=o*h;return u===null?u=this.buffer.slice(p,p+h):(u.length<h&&(u=new Uint8ClampedArray(h)),u.set(this.buffer.slice(p,p+h))),u}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,u,h,p){return super.crop(o,u,h,p),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const u=this.getTempCanvasElement(),h=u.getContext("2d"),p=o*ht.DEGREE_TO_RADIANS,x=this.canvas.width,_=this.canvas.height,w=Math.ceil(Math.abs(Math.cos(p))*x+Math.abs(Math.sin(p))*_),I=Math.ceil(Math.abs(Math.sin(p))*x+Math.abs(Math.cos(p))*_);return u.width=w,u.height=I,h.translate(w/2,I/2),h.rotate(p),h.drawImage(this.canvas,x/-2,_/-2),this.buffer=ht.makeBufferFromCanvasImageData(u),this}invert(){return new Ce(this)}}ht.DEGREE_TO_RADIANS=Math.PI/180;class ve{constructor(o,u,h){this.deviceId=o,this.label=u,this.kind="videoinput",this.groupId=h||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Z=(globalThis||_g||self||window||void 0)&&(globalThis||_g||self||window||void 0).__awaiter||function(W,o,u,h){function p(x){return x instanceof u?x:new u(function(_){_(x)})}return new(u||(u=Promise))(function(x,_){function w(V){try{O(h.next(V))}catch(X){_(X)}}function I(V){try{O(h.throw(V))}catch(X){_(X)}}function O(V){V.done?x(V.value):p(V.value).then(w,I)}O((h=h.apply(W,o||[])).next())})};class he{constructor(o,u=500,h){this.reader=o,this.timeBetweenScansMillis=u,this._hints=h,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return Z(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),u=[];for(const h of o){const p=h.kind==="video"?"videoinput":h.kind;if(p!=="videoinput")continue;const x=h.deviceId||h.id,_=h.label||`Video device ${u.length+1}`,w=h.groupId,I={deviceId:x,label:_,kind:p,groupId:w};u.push(I)}return u})}getVideoInputDevices(){return Z(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(u=>new ve(u.deviceId,u.label))})}findDeviceById(o){return Z(this,void 0,void 0,function*(){const u=yield this.listVideoInputDevices();return u?u.find(h=>h.deviceId===o):null})}decodeFromInputVideoDevice(o,u){return Z(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,u)})}decodeOnceFromVideoDevice(o,u){return Z(this,void 0,void 0,function*(){this.reset();let h;o?h={deviceId:{exact:o}}:h={facingMode:"environment"};const p={video:h};return yield this.decodeOnceFromConstraints(p,u)})}decodeOnceFromConstraints(o,u){return Z(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(h,u)})}decodeOnceFromStream(o,u){return Z(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(o,u);return yield this.decodeOnce(h)})}decodeFromInputVideoDeviceContinuously(o,u,h){return Z(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,u,h)})}decodeFromVideoDevice(o,u,h){return Z(this,void 0,void 0,function*(){let p;o?p={deviceId:{exact:o}}:p={facingMode:"environment"};const x={video:p};return yield this.decodeFromConstraints(x,u,h)})}decodeFromConstraints(o,u,h){return Z(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(p,u,h)})}decodeFromStream(o,u,h){return Z(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(o,u);return yield this.decodeContinuously(p,h)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,u){return Z(this,void 0,void 0,function*(){const h=this.prepareVideoElement(u);return this.addVideoSource(h,o),this.videoElement=h,this.stream=o,yield this.playVideoOnLoadAsync(h),h})}playVideoOnLoadAsync(o){return new Promise((u,h)=>this.playVideoOnLoad(o,()=>u()))}playVideoOnLoad(o,u){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",u),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return Z(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,u){const h=document.getElementById(o);if(!h)throw new y(`element with id '${o}' not found`);if(h.nodeName.toLowerCase()!==u.toLowerCase())throw new y(`element with id '${o}' must be an ${u} element`);return h}decodeFromImage(o,u){if(!o&&!u)throw new y("either imageElement with a src set or an url must be provided");return u&&!o?this.decodeFromImageUrl(u):this.decodeFromImageElement(o)}decodeFromVideo(o,u){if(!o&&!u)throw new y("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrl(u):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,u,h){if(o===void 0&&u===void 0)throw new y("Either an element with a src set or an URL must be provided");return u&&!o?this.decodeFromVideoUrlContinuously(u,h):this.decodeFromVideoElementContinuously(o,h)}decodeFromImageElement(o){if(!o)throw new y("An image element must be provided.");this.reset();const u=this.prepareImageElement(o);this.imageElement=u;let h;return this.isImageLoaded(u)?h=this.decodeOnce(u,!1,!0):h=this._decodeOnLoadImage(u),h}decodeFromVideoElement(o){const u=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(u)}decodeFromVideoElementContinuously(o,u){const h=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(h,u)}_decodeFromVideoElementSetup(o){if(!o)throw new y("A video element must be provided.");this.reset();const u=this.prepareVideoElement(o);return this.videoElement=u,u}decodeFromImageUrl(o){if(!o)throw new y("An URL must be provided.");this.reset();const u=this.prepareImageElement();this.imageElement=u;const h=this._decodeOnLoadImage(u);return u.src=o,h}decodeFromVideoUrl(o){if(!o)throw new y("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),h=this.decodeFromVideoElement(u);return u.src=o,h}decodeFromVideoUrlContinuously(o,u){if(!o)throw new y("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),p=this.decodeFromVideoElementContinuously(h,u);return h.src=o,p}_decodeOnLoadImage(o){return new Promise((u,h)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(u,h),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return Z(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,u){return Z(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,u)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let u;return typeof o>"u"&&(u=document.createElement("img"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(u=o),u}prepareVideoElement(o){let u;return!o&&typeof document<"u"&&(u=document.createElement("video"),u.width=200,u.height=200),typeof o=="string"&&(u=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(u=o),u.setAttribute("autoplay","true"),u.setAttribute("muted","true"),u.setAttribute("playsinline","true"),u}decodeOnce(o,u=!0,h=!0){this._stopAsyncDecode=!1;const p=(x,_)=>{if(this._stopAsyncDecode){_(new xe("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const w=this.decode(o);x(w)}catch(w){const I=u&&w instanceof xe,V=(w instanceof C||w instanceof L)&&h;if(I||V)return setTimeout(p,this._timeBetweenDecodingAttempts,x,_);_(w)}};return new Promise((x,_)=>p(x,_))}decodeContinuously(o,u){this._stopContinuousDecode=!1;const h=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const p=this.decode(o);u(p,null),setTimeout(h,this.timeBetweenScansMillis)}catch(p){u(null,p);const x=p instanceof C||p instanceof L,_=p instanceof xe;(x||_)&&setTimeout(h,this._timeBetweenDecodingAttempts)}};h()}decode(o){const u=this.createBinaryBitmap(o);return this.decodeBitmap(u)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,u,h){u||(u={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}drawImageOnCanvas(o,u,h=this.captureCanvasContext){u||(u={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),h||(h=this.captureCanvasContext),h.drawImage(o,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const u=this.getCaptureCanvas(o),h=new ht(u),p=new Ae(h);return new A(p)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const h=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=h}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const u=this.createCaptureCanvas(o);this.captureCanvas=u}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const u=document.createElement("canvas");let h,p;return typeof o<"u"&&(o instanceof HTMLVideoElement?(h=o.videoWidth,p=o.videoHeight):o instanceof HTMLImageElement&&(h=o.naturalWidth||o.width,p=o.naturalHeight||o.height)),u.style.width=h+"px",u.style.height=p+"px",u.width=h,u.height=p,u}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,u){try{o.srcObject=u}catch{o.src=URL.createObjectURL(u)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class ie{constructor(o,u,h=u==null?0:8*u.length,p,x,_=b.currentTimeMillis()){this.text=o,this.rawBytes=u,this.numBits=h,this.resultPoints=p,this.format=x,this.timestamp=_,this.text=o,this.rawBytes=u,h==null?this.numBits=u==null?0:8*u.length:this.numBits=h,this.resultPoints=p,this.format=x,this.resultMetadata=null,_==null?this.timestamp=b.currentTimeMillis():this.timestamp=_}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,u){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,u)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const u=this.resultPoints;if(u===null)this.resultPoints=o;else if(o!==null&&o.length>0){const h=new Array(u.length+o.length);b.arraycopy(u,0,h,0,u.length),b.arraycopy(o,0,h,u.length,o.length),this.resultPoints=h}}getTimestamp(){return this.timestamp}toString(){return this.text}}var fe;(function(W){W[W.AZTEC=0]="AZTEC",W[W.CODABAR=1]="CODABAR",W[W.CODE_39=2]="CODE_39",W[W.CODE_93=3]="CODE_93",W[W.CODE_128=4]="CODE_128",W[W.DATA_MATRIX=5]="DATA_MATRIX",W[W.EAN_8=6]="EAN_8",W[W.EAN_13=7]="EAN_13",W[W.ITF=8]="ITF",W[W.MAXICODE=9]="MAXICODE",W[W.PDF_417=10]="PDF_417",W[W.QR_CODE=11]="QR_CODE",W[W.RSS_14=12]="RSS_14",W[W.RSS_EXPANDED=13]="RSS_EXPANDED",W[W.UPC_A=14]="UPC_A",W[W.UPC_E=15]="UPC_E",W[W.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(fe||(fe={}));var ye=fe,Ie;(function(W){W[W.OTHER=0]="OTHER",W[W.ORIENTATION=1]="ORIENTATION",W[W.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",W[W.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",W[W.ISSUE_NUMBER=4]="ISSUE_NUMBER",W[W.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",W[W.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",W[W.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",W[W.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",W[W.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",W[W.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ie||(Ie={}));var je=Ie;class Ve{constructor(o,u,h,p,x=-1,_=-1){this.rawBytes=o,this.text=u,this.byteSegments=h,this.ecLevel=p,this.structuredAppendSequenceNumber=x,this.structuredAppendParity=_,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class $e{exp(o){return this.expTable[o]}log(o){if(o===0)throw new E;return this.logTable[o]}static addOrSubtract(o,u){return o^u}}class _t{constructor(o,u){if(u.length===0)throw new E;this.field=o;const h=u.length;if(h>1&&u[0]===0){let p=1;for(;p<h&&u[p]===0;)p++;p===h?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(h-p),b.arraycopy(u,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const u=this.coefficients;let h;if(o===1){h=0;for(let _=0,w=u.length;_!==w;_++){const I=u[_];h=$e.addOrSubtract(h,I)}return h}h=u[0];const p=u.length,x=this.field;for(let _=1;_<p;_++)h=$e.addOrSubtract(x.multiply(o,h),u[_]);return h}addOrSubtract(o){if(!this.field.equals(o.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,h=o.coefficients;if(u.length>h.length){const _=u;u=h,h=_}let p=new Int32Array(h.length);const x=h.length-u.length;b.arraycopy(h,0,p,0,x);for(let _=x;_<h.length;_++)p[_]=$e.addOrSubtract(u[_-x],h[_]);return new _t(this.field,p)}multiply(o){if(!this.field.equals(o.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const u=this.coefficients,h=u.length,p=o.coefficients,x=p.length,_=new Int32Array(h+x-1),w=this.field;for(let I=0;I<h;I++){const O=u[I];for(let V=0;V<x;V++)_[I+V]=$e.addOrSubtract(_[I+V],w.multiply(O,p[V]))}return new _t(w,_)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const u=this.coefficients.length,h=this.field,p=new Int32Array(u),x=this.coefficients;for(let _=0;_<u;_++)p[_]=h.multiply(x[_],o);return new _t(h,p)}multiplyByMonomial(o,u){if(o<0)throw new E;if(u===0)return this.field.getZero();const h=this.coefficients,p=h.length,x=new Int32Array(p+o),_=this.field;for(let w=0;w<p;w++)x[w]=_.multiply(h[w],u);return new _t(_,x)}divide(o){if(!this.field.equals(o.field))throw new E("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new E("Divide by 0");const u=this.field;let h=u.getZero(),p=this;const x=o.getCoefficient(o.getDegree()),_=u.inverse(x);for(;p.getDegree()>=o.getDegree()&&!p.isZero();){const w=p.getDegree()-o.getDegree(),I=u.multiply(p.getCoefficient(p.getDegree()),_),O=o.multiplyByMonomial(w,I),V=u.buildMonomial(w,I);h=h.addOrSubtract(V),p=p.addOrSubtract(O)}return[h,p]}toString(){let o="";for(let u=this.getDegree();u>=0;u--){let h=this.getCoefficient(u);if(h!==0){if(h<0?(o+=" - ",h=-h):o.length>0&&(o+=" + "),u===0||h!==1){const p=this.field.log(h);p===0?o+="1":p===1?o+="a":(o+="a^",o+=p)}u!==0&&(u===1?o+="x":(o+="x^",o+=u))}}return o}}class me extends g{}me.kind="ArithmeticException";class wt extends $e{constructor(o,u,h){super(),this.primitive=o,this.size=u,this.generatorBase=h;const p=new Int32Array(u);let x=1;for(let w=0;w<u;w++)p[w]=x,x*=2,x>=u&&(x^=o,x&=u-1);this.expTable=p;const _=new Int32Array(u);for(let w=0;w<u-1;w++)_[p[w]]=w;this.logTable=_,this.zero=new _t(this,Int32Array.from([0])),this.one=new _t(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new E;if(u===0)return this.zero;const h=new Int32Array(o+1);return h[0]=u,new _t(this,h)}inverse(o){if(o===0)throw new me;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+B.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}wt.AZTEC_DATA_12=new wt(4201,4096,1),wt.AZTEC_DATA_10=new wt(1033,1024,1),wt.AZTEC_DATA_6=new wt(67,64,1),wt.AZTEC_PARAM=new wt(19,16,1),wt.QR_CODE_FIELD_256=new wt(285,256,0),wt.DATA_MATRIX_FIELD_256=new wt(301,256,1),wt.AZTEC_DATA_8=wt.DATA_MATRIX_FIELD_256,wt.MAXICODE_FIELD_64=wt.AZTEC_DATA_6;class kt extends g{}kt.kind="ReedSolomonException";class Wt extends g{}Wt.kind="IllegalStateException";class jt{constructor(o){this.field=o}decode(o,u){const h=this.field,p=new _t(h,o),x=new Int32Array(u);let _=!0;for(let de=0;de<u;de++){const we=p.evaluateAt(h.exp(de+h.getGeneratorBase()));x[x.length-1-de]=we,we!==0&&(_=!1)}if(_)return;const w=new _t(h,x),I=this.runEuclideanAlgorithm(h.buildMonomial(u,1),w,u),O=I[0],V=I[1],X=this.findErrorLocations(O),re=this.findErrorMagnitudes(V,X);for(let de=0;de<X.length;de++){const we=o.length-1-h.log(X[de]);if(we<0)throw new kt("Bad error location");o[we]=wt.addOrSubtract(o[we],re[de])}}runEuclideanAlgorithm(o,u,h){if(o.getDegree()<u.getDegree()){const de=o;o=u,u=de}const p=this.field;let x=o,_=u,w=p.getZero(),I=p.getOne();for(;_.getDegree()>=(h/2|0);){let de=x,we=w;if(x=_,w=I,x.isZero())throw new kt("r_{i-1} was zero");_=de;let Te=p.getZero();const Ne=x.getCoefficient(x.getDegree()),He=p.inverse(Ne);for(;_.getDegree()>=x.getDegree()&&!_.isZero();){const dt=_.getDegree()-x.getDegree(),ft=p.multiply(_.getCoefficient(_.getDegree()),He);Te=Te.addOrSubtract(p.buildMonomial(dt,ft)),_=_.addOrSubtract(x.multiplyByMonomial(dt,ft))}if(I=Te.multiply(w).addOrSubtract(we),_.getDegree()>=x.getDegree())throw new Wt("Division algorithm failed to reduce polynomial?")}const O=I.getCoefficient(0);if(O===0)throw new kt("sigmaTilde(0) was zero");const V=p.inverse(O),X=I.multiplyScalar(V),re=_.multiplyScalar(V);return[X,re]}findErrorLocations(o){const u=o.getDegree();if(u===1)return Int32Array.from([o.getCoefficient(1)]);const h=new Int32Array(u);let p=0;const x=this.field;for(let _=1;_<x.getSize()&&p<u;_++)o.evaluateAt(_)===0&&(h[p]=x.inverse(_),p++);if(p!==u)throw new kt("Error locator degree does not match number of roots");return h}findErrorMagnitudes(o,u){const h=u.length,p=new Int32Array(h),x=this.field;for(let _=0;_<h;_++){const w=x.inverse(u[_]);let I=1;for(let O=0;O<h;O++)if(_!==O){const V=x.multiply(u[O],w),X=(V&1)===0?V|1:V&-2;I=x.multiply(I,X)}p[_]=x.multiply(o.evaluateAt(w),x.inverse(I)),x.getGeneratorBase()!==0&&(p[_]=x.multiply(p[_],w))}return p}}var ct;(function(W){W[W.UPPER=0]="UPPER",W[W.LOWER=1]="LOWER",W[W.MIXED=2]="MIXED",W[W.DIGIT=3]="DIGIT",W[W.PUNCT=4]="PUNCT",W[W.BINARY=5]="BINARY"})(ct||(ct={}));class Ot{decode(o){this.ddata=o;let u=o.getBits(),h=this.extractBits(u),p=this.correctBits(h),x=Ot.convertBoolArrayToByteArray(p),_=Ot.getEncodedData(p),w=new Ve(x,_,null,null);return w.setNumBits(p.length),w}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let u=o.length,h=ct.UPPER,p=ct.UPPER,x="",_=0;for(;_<u;)if(p===ct.BINARY){if(u-_<5)break;let w=Ot.readCode(o,_,5);if(_+=5,w===0){if(u-_<11)break;w=Ot.readCode(o,_,11)+31,_+=11}for(let I=0;I<w;I++){if(u-_<8){_=u;break}const O=Ot.readCode(o,_,8);x+=M.castAsNonUtf8Char(O),_+=8}p=h}else{let w=p===ct.DIGIT?4:5;if(u-_<w)break;let I=Ot.readCode(o,_,w);_+=w;let O=Ot.getCharacter(p,I);O.startsWith("CTRL_")?(h=p,p=Ot.getTable(O.charAt(5)),O.charAt(6)==="L"&&(h=p)):(x+=O,p=h)}return x}static getTable(o){switch(o){case"L":return ct.LOWER;case"P":return ct.PUNCT;case"M":return ct.MIXED;case"D":return ct.DIGIT;case"B":return ct.BINARY;case"U":default:return ct.UPPER}}static getCharacter(o,u){switch(o){case ct.UPPER:return Ot.UPPER_TABLE[u];case ct.LOWER:return Ot.LOWER_TABLE[u];case ct.MIXED:return Ot.MIXED_TABLE[u];case ct.PUNCT:return Ot.PUNCT_TABLE[u];case ct.DIGIT:return Ot.DIGIT_TABLE[u];default:throw new Wt("Bad table")}}correctBits(o){let u,h;this.ddata.getNbLayers()<=2?(h=6,u=wt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(h=8,u=wt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(h=10,u=wt.AZTEC_DATA_10):(h=12,u=wt.AZTEC_DATA_12);let p=this.ddata.getNbDatablocks(),x=o.length/h;if(x<p)throw new L;let _=o.length%h,w=new Int32Array(x);for(let re=0;re<x;re++,_+=h)w[re]=Ot.readCode(o,_,h);try{new jt(u).decode(w,x-p)}catch(re){throw new L(re)}let I=(1<<h)-1,O=0;for(let re=0;re<p;re++){let de=w[re];if(de===0||de===I)throw new L;(de===1||de===I-1)&&O++}let V=new Array(p*h-O),X=0;for(let re=0;re<p;re++){let de=w[re];if(de===1||de===I-1)V.fill(de>1,X,X+h-1),X+=h-1;else for(let we=h-1;we>=0;--we)V[X++]=(de&1<<we)!==0}return V}extractBits(o){let u=this.ddata.isCompact(),h=this.ddata.getNbLayers(),p=(u?11:14)+h*4,x=new Int32Array(p),_=new Array(this.totalBitsInLayer(h,u));if(u)for(let w=0;w<x.length;w++)x[w]=w;else{let w=p+1+2*B.truncDivision(B.truncDivision(p,2)-1,15),I=p/2,O=B.truncDivision(w,2);for(let V=0;V<I;V++){let X=V+B.truncDivision(V,15);x[I-V-1]=O-X-1,x[I+V]=O+X+1}}for(let w=0,I=0;w<h;w++){let O=(h-w)*4+(u?9:12),V=w*2,X=p-1-V;for(let re=0;re<O;re++){let de=re*2;for(let we=0;we<2;we++)_[I+de+we]=o.get(x[V+we],x[V+re]),_[I+2*O+de+we]=o.get(x[V+re],x[X-we]),_[I+4*O+de+we]=o.get(x[X-we],x[X-re]),_[I+6*O+de+we]=o.get(x[X-re],x[V+we])}I+=O*8}return _}static readCode(o,u,h){let p=0;for(let x=u;x<u+h;x++)p<<=1,o[x]&&(p|=1);return p}static readByte(o,u){let h=o.length-u;return h>=8?Ot.readCode(o,u,8):Ot.readCode(o,u,h)<<8-h}static convertBoolArrayToByteArray(o){let u=new Uint8Array((o.length+7)/8);for(let h=0;h<u.length;h++)u[h]=Ot.readByte(o,8*h);return u}totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}Ot.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ot.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ot.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ot.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ot.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ct{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,u,h,p){const x=o-h,_=u-p;return Math.sqrt(x*x+_*_)}static sum(o){let u=0;for(let h=0,p=o.length;h!==p;h++){const x=o[h];u+=x}return u}}class ln{static floatToIntBits(o){return o}}ln.MAX_VALUE=Number.MAX_SAFE_INTEGER;class vt{constructor(o,u){this.x=o,this.y=u}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof vt){const u=o;return this.x===u.x&&this.y===u.y}return!1}hashCode(){return 31*ln.floatToIntBits(this.x)+ln.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const u=this.distance(o[0],o[1]),h=this.distance(o[1],o[2]),p=this.distance(o[0],o[2]);let x,_,w;if(h>=u&&h>=p?(_=o[0],x=o[1],w=o[2]):p>=h&&p>=u?(_=o[1],x=o[0],w=o[2]):(_=o[2],x=o[0],w=o[1]),this.crossProductZ(x,_,w)<0){const I=x;x=w,w=I}o[0]=x,o[1]=_,o[2]=w}static distance(o,u){return Ct.distance(o.x,o.y,u.x,u.y)}static crossProductZ(o,u,h){const p=u.x,x=u.y;return(h.x-p)*(o.y-x)-(h.y-x)*(o.x-p)}}class _i{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class Oi extends _i{constructor(o,u,h,p,x){super(o,u),this.compact=h,this.nbDatablocks=p,this.nbLayers=x}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class rr{constructor(o,u,h,p){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),u==null&&(u=rr.INIT_SIZE),h==null&&(h=o.getWidth()/2|0),p==null&&(p=o.getHeight()/2|0);const x=u/2|0;if(this.leftInit=h-x,this.rightInit=h+x,this.upInit=p-x,this.downInit=p+x,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new xe}detect(){let o=this.leftInit,u=this.rightInit,h=this.upInit,p=this.downInit,x=!1,_=!0,w=!1,I=!1,O=!1,V=!1,X=!1;const re=this.width,de=this.height;for(;_;){_=!1;let we=!0;for(;(we||!I)&&u<re;)we=this.containsBlackPoint(h,p,u,!1),we?(u++,_=!0,I=!0):I||u++;if(u>=re){x=!0;break}let Te=!0;for(;(Te||!O)&&p<de;)Te=this.containsBlackPoint(o,u,p,!0),Te?(p++,_=!0,O=!0):O||p++;if(p>=de){x=!0;break}let Ne=!0;for(;(Ne||!V)&&o>=0;)Ne=this.containsBlackPoint(h,p,o,!1),Ne?(o--,_=!0,V=!0):V||o--;if(o<0){x=!0;break}let He=!0;for(;(He||!X)&&h>=0;)He=this.containsBlackPoint(o,u,h,!0),He?(h--,_=!0,X=!0):X||h--;if(h<0){x=!0;break}_&&(w=!0)}if(!x&&w){const we=u-o;let Te=null;for(let ft=1;Te===null&&ft<we;ft++)Te=this.getBlackPointOnSegment(o,p-ft,o+ft,p);if(Te==null)throw new xe;let Ne=null;for(let ft=1;Ne===null&&ft<we;ft++)Ne=this.getBlackPointOnSegment(o,h+ft,o+ft,h);if(Ne==null)throw new xe;let He=null;for(let ft=1;He===null&&ft<we;ft++)He=this.getBlackPointOnSegment(u,h+ft,u-ft,h);if(He==null)throw new xe;let dt=null;for(let ft=1;dt===null&&ft<we;ft++)dt=this.getBlackPointOnSegment(u,p-ft,u-ft,p);if(dt==null)throw new xe;return this.centerEdges(dt,Te,He,Ne)}else throw new xe}getBlackPointOnSegment(o,u,h,p){const x=Ct.round(Ct.distance(o,u,h,p)),_=(h-o)/x,w=(p-u)/x,I=this.image;for(let O=0;O<x;O++){const V=Ct.round(o+O*_),X=Ct.round(u+O*w);if(I.get(V,X))return new vt(V,X)}return null}centerEdges(o,u,h,p){const x=o.getX(),_=o.getY(),w=u.getX(),I=u.getY(),O=h.getX(),V=h.getY(),X=p.getX(),re=p.getY(),de=rr.CORR;return x<this.width/2?[new vt(X-de,re+de),new vt(w+de,I+de),new vt(O-de,V-de),new vt(x+de,_-de)]:[new vt(X+de,re+de),new vt(w+de,I-de),new vt(O-de,V+de),new vt(x-de,_-de)]}containsBlackPoint(o,u,h,p){const x=this.image;if(p){for(let _=o;_<=u;_++)if(x.get(_,h))return!0}else for(let _=o;_<=u;_++)if(x.get(h,_))return!0;return!1}}rr.INIT_SIZE=10,rr.CORR=1;class ci{static checkAndNudgePoints(o,u){const h=o.getWidth(),p=o.getHeight();let x=!0;for(let _=0;_<u.length&&x;_+=2){const w=Math.floor(u[_]),I=Math.floor(u[_+1]);if(w<-1||w>h||I<-1||I>p)throw new xe;x=!1,w===-1?(u[_]=0,x=!0):w===h&&(u[_]=h-1,x=!0),I===-1?(u[_+1]=0,x=!0):I===p&&(u[_+1]=p-1,x=!0)}x=!0;for(let _=u.length-2;_>=0&&x;_-=2){const w=Math.floor(u[_]),I=Math.floor(u[_+1]);if(w<-1||w>h||I<-1||I>p)throw new xe;x=!1,w===-1?(u[_]=0,x=!0):w===h&&(u[_]=h-1,x=!0),I===-1?(u[_+1]=0,x=!0):I===p&&(u[_+1]=p-1,x=!0)}}}class or{constructor(o,u,h,p,x,_,w,I,O){this.a11=o,this.a21=u,this.a31=h,this.a12=p,this.a22=x,this.a32=_,this.a13=w,this.a23=I,this.a33=O}static quadrilateralToQuadrilateral(o,u,h,p,x,_,w,I,O,V,X,re,de,we,Te,Ne){const He=or.quadrilateralToSquare(o,u,h,p,x,_,w,I);return or.squareToQuadrilateral(O,V,X,re,de,we,Te,Ne).times(He)}transformPoints(o){const u=o.length,h=this.a11,p=this.a12,x=this.a13,_=this.a21,w=this.a22,I=this.a23,O=this.a31,V=this.a32,X=this.a33;for(let re=0;re<u;re+=2){const de=o[re],we=o[re+1],Te=x*de+I*we+X;o[re]=(h*de+_*we+O)/Te,o[re+1]=(p*de+w*we+V)/Te}}transformPointsWithValues(o,u){const h=this.a11,p=this.a12,x=this.a13,_=this.a21,w=this.a22,I=this.a23,O=this.a31,V=this.a32,X=this.a33,re=o.length;for(let de=0;de<re;de++){const we=o[de],Te=u[de],Ne=x*we+I*Te+X;o[de]=(h*we+_*Te+O)/Ne,u[de]=(p*we+w*Te+V)/Ne}}static squareToQuadrilateral(o,u,h,p,x,_,w,I){const O=o-h+x-w,V=u-p+_-I;if(O===0&&V===0)return new or(h-o,x-h,o,p-u,_-p,u,0,0,1);{const X=h-x,re=w-x,de=p-_,we=I-_,Te=X*we-re*de,Ne=(O*we-re*V)/Te,He=(X*V-O*de)/Te;return new or(h-o+Ne*h,w-o+He*w,o,p-u+Ne*p,I-u+He*I,u,Ne,He,1)}}static quadrilateralToSquare(o,u,h,p,x,_,w,I){return or.squareToQuadrilateral(o,u,h,p,x,_,w,I).buildAdjoint()}buildAdjoint(){return new or(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new or(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class Gr extends ci{sampleGrid(o,u,h,p,x,_,w,I,O,V,X,re,de,we,Te,Ne,He,dt,ft){const at=or.quadrilateralToQuadrilateral(p,x,_,w,I,O,V,X,re,de,we,Te,Ne,He,dt,ft);return this.sampleGridWithTransform(o,u,h,at)}sampleGridWithTransform(o,u,h,p){if(u<=0||h<=0)throw new xe;const x=new be(u,h),_=new Float32Array(2*u);for(let w=0;w<h;w++){const I=_.length,O=w+.5;for(let V=0;V<I;V+=2)_[V]=V/2+.5,_[V+1]=O;p.transformPoints(_),ci.checkAndNudgePoints(o,_);try{for(let V=0;V<I;V+=2)o.get(Math.floor(_[V]),Math.floor(_[V+1]))&&x.set(V/2,w)}catch{throw new xe}}return x}}class yr{static setGridSampler(o){yr.gridSampler=o}static getInstance(){return yr.gridSampler}}yr.gridSampler=new Gr;class Nr{constructor(o,u){this.x=o,this.y=u}toResultPoint(){return new vt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class It{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let u=this.getMatrixCenter(),h=this.getBullsEyeCorners(u);if(o){let _=h[0];h[0]=h[2],h[2]=_}this.extractParameters(h);let p=this.sampleGrid(this.image,h[this.shift%4],h[(this.shift+1)%4],h[(this.shift+2)%4],h[(this.shift+3)%4]),x=this.getMatrixCornerPoints(h);return new Oi(p,x,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new xe;let u=2*this.nbCenterLayers,h=new Int32Array([this.sampleLine(o[0],o[1],u),this.sampleLine(o[1],o[2],u),this.sampleLine(o[2],o[3],u),this.sampleLine(o[3],o[0],u)]);this.shift=this.getRotation(h,u);let p=0;for(let _=0;_<4;_++){let w=h[(this.shift+_)%4];this.compact?(p<<=7,p+=w>>1&127):(p<<=10,p+=(w>>2&992)+(w>>1&31))}let x=this.getCorrectedParameterData(p,this.compact);this.compact?(this.nbLayers=(x>>6)+1,this.nbDataBlocks=(x&63)+1):(this.nbLayers=(x>>11)+1,this.nbDataBlocks=(x&2047)+1)}getRotation(o,u){let h=0;o.forEach((p,x,_)=>{let w=(p>>u-2<<1)+(p&1);h=(h<<3)+w}),h=((h&1)<<11)+(h>>1);for(let p=0;p<4;p++)if(B.bitCount(h^this.EXPECTED_CORNER_BITS[p])<=2)return p;throw new xe}getCorrectedParameterData(o,u){let h,p;u?(h=7,p=2):(h=10,p=4);let x=h-p,_=new Int32Array(h);for(let I=h-1;I>=0;--I)_[I]=o&15,o>>=4;try{new jt(wt.AZTEC_PARAM).decode(_,x)}catch{throw new xe}let w=0;for(let I=0;I<p;I++)w=(w<<4)+_[I];return w}getBullsEyeCorners(o){let u=o,h=o,p=o,x=o,_=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let X=this.getFirstDifferent(u,_,1,-1),re=this.getFirstDifferent(h,_,1,1),de=this.getFirstDifferent(p,_,-1,1),we=this.getFirstDifferent(x,_,-1,-1);if(this.nbCenterLayers>2){let Te=this.distancePoint(we,X)*this.nbCenterLayers/(this.distancePoint(x,u)*(this.nbCenterLayers+2));if(Te<.75||Te>1.25||!this.isWhiteOrBlackRectangle(X,re,de,we))break}u=X,h=re,p=de,x=we,_=!_}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new xe;this.compact=this.nbCenterLayers===5;let w=new vt(u.getX()+.5,u.getY()-.5),I=new vt(h.getX()+.5,h.getY()+.5),O=new vt(p.getX()-.5,p.getY()+.5),V=new vt(x.getX()-.5,x.getY()-.5);return this.expandSquare([w,I,O,V],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,u,h,p;try{let w=new rr(this.image).detect();o=w[0],u=w[1],h=w[2],p=w[3]}catch{let I=this.image.getWidth()/2,O=this.image.getHeight()/2;o=this.getFirstDifferent(new Nr(I+7,O-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new Nr(I+7,O+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Nr(I-7,O+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new Nr(I-7,O-7),!1,-1,-1).toResultPoint()}let x=Ct.round((o.getX()+p.getX()+u.getX()+h.getX())/4),_=Ct.round((o.getY()+p.getY()+u.getY()+h.getY())/4);try{let w=new rr(this.image,15,x,_).detect();o=w[0],u=w[1],h=w[2],p=w[3]}catch{o=this.getFirstDifferent(new Nr(x+7,_-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new Nr(x+7,_+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new Nr(x-7,_+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new Nr(x-7,_-7),!1,-1,-1).toResultPoint()}return x=Ct.round((o.getX()+p.getX()+u.getX()+h.getX())/4),_=Ct.round((o.getY()+p.getY()+u.getY()+h.getY())/4),new Nr(x,_)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,u,h,p,x){let _=yr.getInstance(),w=this.getDimension(),I=w/2-this.nbCenterLayers,O=w/2+this.nbCenterLayers;return _.sampleGrid(o,w,w,I,I,O,I,O,O,I,O,u.getX(),u.getY(),h.getX(),h.getY(),p.getX(),p.getY(),x.getX(),x.getY())}sampleLine(o,u,h){let p=0,x=this.distanceResultPoint(o,u),_=x/h,w=o.getX(),I=o.getY(),O=_*(u.getX()-o.getX())/x,V=_*(u.getY()-o.getY())/x;for(let X=0;X<h;X++)this.image.get(Ct.round(w+X*O),Ct.round(I+X*V))&&(p|=1<<h-X-1);return p}isWhiteOrBlackRectangle(o,u,h,p){let x=3;o=new Nr(o.getX()-x,o.getY()+x),u=new Nr(u.getX()-x,u.getY()-x),h=new Nr(h.getX()+x,h.getY()-x),p=new Nr(p.getX()+x,p.getY()+x);let _=this.getColor(p,o);if(_===0)return!1;let w=this.getColor(o,u);return w!==_||(w=this.getColor(u,h),w!==_)?!1:(w=this.getColor(h,p),w===_)}getColor(o,u){let h=this.distancePoint(o,u),p=(u.getX()-o.getX())/h,x=(u.getY()-o.getY())/h,_=0,w=o.getX(),I=o.getY(),O=this.image.get(o.getX(),o.getY()),V=Math.ceil(h);for(let re=0;re<V;re++)w+=p,I+=x,this.image.get(Ct.round(w),Ct.round(I))!==O&&_++;let X=_/h;return X>.1&&X<.9?0:X<=.1===O?1:-1}getFirstDifferent(o,u,h,p){let x=o.getX()+h,_=o.getY()+p;for(;this.isValid(x,_)&&this.image.get(x,_)===u;)x+=h,_+=p;for(x-=h,_-=p;this.isValid(x,_)&&this.image.get(x,_)===u;)x+=h;for(x-=h;this.isValid(x,_)&&this.image.get(x,_)===u;)_+=p;return _-=p,new Nr(x,_)}expandSquare(o,u,h){let p=h/(2*u),x=o[0].getX()-o[2].getX(),_=o[0].getY()-o[2].getY(),w=(o[0].getX()+o[2].getX())/2,I=(o[0].getY()+o[2].getY())/2,O=new vt(w+p*x,I+p*_),V=new vt(w-p*x,I-p*_);x=o[1].getX()-o[3].getX(),_=o[1].getY()-o[3].getY(),w=(o[1].getX()+o[3].getX())/2,I=(o[1].getY()+o[3].getY())/2;let X=new vt(w+p*x,I+p*_),re=new vt(w-p*x,I-p*_);return[O,X,V,re]}isValid(o,u){return o>=0&&o<this.image.getWidth()&&u>0&&u<this.image.getHeight()}isValidPoint(o){let u=Ct.round(o.getX()),h=Ct.round(o.getY());return this.isValid(u,h)}distancePoint(o,u){return Ct.distance(o.getX(),o.getY(),u.getX(),u.getY())}distanceResultPoint(o,u){return Ct.distance(o.getX(),o.getY(),u.getX(),u.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(B.truncDivision(this.nbLayers-4,8)+1)+15}}class zt{decode(o,u=null){let h=null,p=new It(o.getBlackMatrix()),x=null,_=null;try{let V=p.detectMirror(!1);x=V.getPoints(),this.reportFoundResultPoints(u,x),_=new Ot().decode(V)}catch(V){h=V}if(_==null)try{let V=p.detectMirror(!0);x=V.getPoints(),this.reportFoundResultPoints(u,x),_=new Ot().decode(V)}catch(V){throw h??V}let w=new ie(_.getText(),_.getRawBytes(),_.getNumBits(),x,ye.AZTEC,b.currentTimeMillis()),I=_.getByteSegments();I!=null&&w.putMetadata(je.BYTE_SEGMENTS,I);let O=_.getECLevel();return O!=null&&w.putMetadata(je.ERROR_CORRECTION_LEVEL,O),w}reportFoundResultPoints(o,u){if(o!=null){let h=o.get(ee.NEED_RESULT_POINT_CALLBACK);h!=null&&u.forEach((p,x,_)=>{h.foundPossibleResultPoint(p)})}}reset(){}}class Wr extends he{constructor(o=500){super(new zt,o)}}class Nt{decode(o,u){try{return this.doDecode(o,u)}catch{if(u&&u.get(ee.TRY_HARDER)===!0&&o.isRotateSupported()){const x=o.rotateCounterClockwise(),_=this.doDecode(x,u),w=_.getResultMetadata();let I=270;w!==null&&w.get(je.ORIENTATION)===!0&&(I=I+w.get(je.ORIENTATION)%360),_.putMetadata(je.ORIENTATION,I);const O=_.getResultPoints();if(O!==null){const V=x.getHeight();for(let X=0;X<O.length;X++)O[X]=new vt(V-O[X].getY()-1,O[X].getX())}return _}else throw new xe}}reset(){}doDecode(o,u){const h=o.getWidth(),p=o.getHeight();let x=new Y(h);const _=u&&u.get(ee.TRY_HARDER)===!0,w=Math.max(1,p>>(_?8:5));let I;_?I=p:I=15;const O=Math.trunc(p/2);for(let V=0;V<I;V++){const X=Math.trunc((V+1)/2),re=(V&1)===0,de=O+w*(re?X:-X);if(de<0||de>=p)break;try{x=o.getBlackRow(de,x)}catch{continue}for(let we=0;we<2;we++){if(we===1&&(x.reverse(),u&&u.get(ee.NEED_RESULT_POINT_CALLBACK)===!0)){const Te=new Map;u.forEach((Ne,He)=>Te.set(He,Ne)),Te.delete(ee.NEED_RESULT_POINT_CALLBACK),u=Te}try{const Te=this.decodeRow(de,x,u);if(we===1){Te.putMetadata(je.ORIENTATION,180);const Ne=Te.getResultPoints();Ne!==null&&(Ne[0]=new vt(h-Ne[0].getX()-1,Ne[0].getY()),Ne[1]=new vt(h-Ne[1].getX()-1,Ne[1].getY()))}return Te}catch{}}}throw new xe}static recordPattern(o,u,h){const p=h.length;for(let O=0;O<p;O++)h[O]=0;const x=o.getSize();if(u>=x)throw new xe;let _=!o.get(u),w=0,I=u;for(;I<x;){if(o.get(I)!==_)h[w]++;else{if(++w===p)break;h[w]=1,_=!_}I++}if(!(w===p||w===p-1&&I===x))throw new xe}static recordPatternInReverse(o,u,h){let p=h.length,x=o.get(u);for(;u>0&&p>=0;)o.get(--u)!==x&&(p--,x=!x);if(p>=0)throw new xe;Nt.recordPattern(o,u+1,h)}static patternMatchVariance(o,u,h){const p=o.length;let x=0,_=0;for(let O=0;O<p;O++)x+=o[O],_+=u[O];if(x<_)return Number.POSITIVE_INFINITY;const w=x/_;h*=w;let I=0;for(let O=0;O<p;O++){const V=o[O],X=u[O]*w,re=V>X?V-X:X-V;if(re>h)return Number.POSITIVE_INFINITY;I+=re}return I/x}}class Je extends Nt{static findStartPattern(o){const u=o.getSize(),h=o.getNextSet(0);let p=0,x=Int32Array.from([0,0,0,0,0,0]),_=h,w=!1;const I=6;for(let O=h;O<u;O++)if(o.get(O)!==w)x[p]++;else{if(p===I-1){let V=Je.MAX_AVG_VARIANCE,X=-1;for(let re=Je.CODE_START_A;re<=Je.CODE_START_C;re++){const de=Nt.patternMatchVariance(x,Je.CODE_PATTERNS[re],Je.MAX_INDIVIDUAL_VARIANCE);de<V&&(V=de,X=re)}if(X>=0&&o.isRange(Math.max(0,_-(O-_)/2),_,!1))return Int32Array.from([_,O,X]);_+=x[0]+x[1],x=x.slice(2,x.length-1),x[p-1]=0,x[p]=0,p--}else p++;x[p]=1,w=!w}throw new xe}static decodeCode(o,u,h){Nt.recordPattern(o,h,u);let p=Je.MAX_AVG_VARIANCE,x=-1;for(let _=0;_<Je.CODE_PATTERNS.length;_++){const w=Je.CODE_PATTERNS[_],I=this.patternMatchVariance(u,w,Je.MAX_INDIVIDUAL_VARIANCE);I<p&&(p=I,x=_)}if(x>=0)return x;throw new xe}decodeRow(o,u,h){const p=h&&h.get(ee.ASSUME_GS1)===!0,x=Je.findStartPattern(u),_=x[2];let w=0;const I=new Uint8Array(20);I[w++]=_;let O;switch(_){case Je.CODE_START_A:O=Je.CODE_CODE_A;break;case Je.CODE_START_B:O=Je.CODE_CODE_B;break;case Je.CODE_START_C:O=Je.CODE_CODE_C;break;default:throw new L}let V=!1,X=!1,re="",de=x[0],we=x[1];const Te=Int32Array.from([0,0,0,0,0,0]);let Ne=0,He=0,dt=_,ft=0,at=!0,gr=!1,er=!1;for(;!V;){const yl=X;switch(X=!1,Ne=He,He=Je.decodeCode(u,Te,we),I[w++]=He,He!==Je.CODE_STOP&&(at=!0),He!==Je.CODE_STOP&&(ft++,dt+=ft*He),de=we,we+=Te.reduce((x1,Z0)=>x1+Z0,0),He){case Je.CODE_START_A:case Je.CODE_START_B:case Je.CODE_START_C:throw new L}switch(O){case Je.CODE_CODE_A:if(He<64)er===gr?re+=String.fromCharCode(32+He):re+=String.fromCharCode(32+He+128),er=!1;else if(He<96)er===gr?re+=String.fromCharCode(He-64):re+=String.fromCharCode(He+64),er=!1;else switch(He!==Je.CODE_STOP&&(at=!1),He){case Je.CODE_FNC_1:p&&(re.length===0?re+="]C1":re+="");break;case Je.CODE_FNC_2:case Je.CODE_FNC_3:break;case Je.CODE_FNC_4_A:!gr&&er?(gr=!0,er=!1):gr&&er?(gr=!1,er=!1):er=!0;break;case Je.CODE_SHIFT:X=!0,O=Je.CODE_CODE_B;break;case Je.CODE_CODE_B:O=Je.CODE_CODE_B;break;case Je.CODE_CODE_C:O=Je.CODE_CODE_C;break;case Je.CODE_STOP:V=!0;break}break;case Je.CODE_CODE_B:if(He<96)er===gr?re+=String.fromCharCode(32+He):re+=String.fromCharCode(32+He+128),er=!1;else switch(He!==Je.CODE_STOP&&(at=!1),He){case Je.CODE_FNC_1:p&&(re.length===0?re+="]C1":re+="");break;case Je.CODE_FNC_2:case Je.CODE_FNC_3:break;case Je.CODE_FNC_4_B:!gr&&er?(gr=!0,er=!1):gr&&er?(gr=!1,er=!1):er=!0;break;case Je.CODE_SHIFT:X=!0,O=Je.CODE_CODE_A;break;case Je.CODE_CODE_A:O=Je.CODE_CODE_A;break;case Je.CODE_CODE_C:O=Je.CODE_CODE_C;break;case Je.CODE_STOP:V=!0;break}break;case Je.CODE_CODE_C:if(He<100)He<10&&(re+="0"),re+=He;else switch(He!==Je.CODE_STOP&&(at=!1),He){case Je.CODE_FNC_1:p&&(re.length===0?re+="]C1":re+="");break;case Je.CODE_CODE_A:O=Je.CODE_CODE_A;break;case Je.CODE_CODE_B:O=Je.CODE_CODE_B;break;case Je.CODE_STOP:V=!0;break}break}yl&&(O=O===Je.CODE_CODE_A?Je.CODE_CODE_B:Je.CODE_CODE_A)}const $n=we-de;if(we=u.getNextUnset(we),!u.isRange(we,Math.min(u.getSize(),we+(we-de)/2),!1))throw new xe;if(dt-=ft*Ne,dt%103!==Ne)throw new C;const es=re.length;if(es===0)throw new xe;es>0&&at&&(O===Je.CODE_CODE_C?re=re.substring(0,es-2):re=re.substring(0,es-1));const ta=(x[1]+x[0])/2,Yr=de+$n/2,Fi=I.length,Ma=new Uint8Array(Fi);for(let yl=0;yl<Fi;yl++)Ma[yl]=I[yl];const oc=[new vt(ta,o),new vt(Yr,o)];return new ie(re,Ma,0,oc,ye.CODE_128,new Date().getTime())}}Je.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Je.MAX_AVG_VARIANCE=.25,Je.MAX_INDIVIDUAL_VARIANCE=.7,Je.CODE_SHIFT=98,Je.CODE_CODE_C=99,Je.CODE_CODE_B=100,Je.CODE_CODE_A=101,Je.CODE_FNC_1=102,Je.CODE_FNC_2=97,Je.CODE_FNC_3=96,Je.CODE_FNC_4_A=101,Je.CODE_FNC_4_B=100,Je.CODE_START_A=103,Je.CODE_START_B=104,Je.CODE_START_C=105,Je.CODE_STOP=106;class _r extends Nt{constructor(o=!1,u=!1){super(),this.usingCheckDigit=o,this.extendedMode=u,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,u,h){let p=this.counters;p.fill(0),this.decodeRowResult="";let x=_r.findAsteriskPattern(u,p),_=u.getNextSet(x[1]),w=u.getSize(),I,O;do{_r.recordPattern(u,_,p);let Te=_r.toNarrowWidePattern(p);if(Te<0)throw new xe;I=_r.patternToChar(Te),this.decodeRowResult+=I,O=_;for(let Ne of p)_+=Ne;_=u.getNextSet(_)}while(I!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let V=0;for(let Te of p)V+=Te;let X=_-O-V;if(_!==w&&X*2<V)throw new xe;if(this.usingCheckDigit){let Te=this.decodeRowResult.length-1,Ne=0;for(let He=0;He<Te;He++)Ne+=_r.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(He));if(this.decodeRowResult.charAt(Te)!==_r.ALPHABET_STRING.charAt(Ne%43))throw new C;this.decodeRowResult=this.decodeRowResult.substring(0,Te)}if(this.decodeRowResult.length===0)throw new xe;let re;this.extendedMode?re=_r.decodeExtended(this.decodeRowResult):re=this.decodeRowResult;let de=(x[1]+x[0])/2,we=O+V/2;return new ie(re,null,0,[new vt(de,o),new vt(we,o)],ye.CODE_39,new Date().getTime())}static findAsteriskPattern(o,u){let h=o.getSize(),p=o.getNextSet(0),x=0,_=p,w=!1,I=u.length;for(let O=p;O<h;O++)if(o.get(O)!==w)u[x]++;else{if(x===I-1){if(this.toNarrowWidePattern(u)===_r.ASTERISK_ENCODING&&o.isRange(Math.max(0,_-Math.floor((O-_)/2)),_,!1))return[_,O];_+=u[0]+u[1],u.copyWithin(0,2,2+x-1),u[x-1]=0,u[x]=0,x--}else x++;u[x]=1,w=!w}throw new xe}static toNarrowWidePattern(o){let u=o.length,h=0,p;do{let x=2147483647;for(let I of o)I<x&&I>h&&(x=I);h=x,p=0;let _=0,w=0;for(let I=0;I<u;I++){let O=o[I];O>h&&(w|=1<<u-1-I,p++,_+=O)}if(p===3){for(let I=0;I<u&&p>0;I++){let O=o[I];if(O>h&&(p--,O*2>=_))return-1}return w}}while(p>3);return-1}static patternToChar(o){for(let u=0;u<_r.CHARACTER_ENCODINGS.length;u++)if(_r.CHARACTER_ENCODINGS[u]===o)return _r.ALPHABET_STRING.charAt(u);if(o===_r.ASTERISK_ENCODING)return"*";throw new xe}static decodeExtended(o){let u=o.length,h="";for(let p=0;p<u;p++){let x=o.charAt(p);if(x==="+"||x==="$"||x==="%"||x==="/"){let _=o.charAt(p+1),w="\0";switch(x){case"+":if(_>="A"&&_<="Z")w=String.fromCharCode(_.charCodeAt(0)+32);else throw new L;break;case"$":if(_>="A"&&_<="Z")w=String.fromCharCode(_.charCodeAt(0)-64);else throw new L;break;case"%":if(_>="A"&&_<="E")w=String.fromCharCode(_.charCodeAt(0)-38);else if(_>="F"&&_<="J")w=String.fromCharCode(_.charCodeAt(0)-11);else if(_>="K"&&_<="O")w=String.fromCharCode(_.charCodeAt(0)+16);else if(_>="P"&&_<="T")w=String.fromCharCode(_.charCodeAt(0)+43);else if(_==="U")w="\0";else if(_==="V")w="@";else if(_==="W")w="`";else if(_==="X"||_==="Y"||_==="Z")w="";else throw new L;break;case"/":if(_>="A"&&_<="O")w=String.fromCharCode(_.charCodeAt(0)-32);else if(_==="Z")w=":";else throw new L;break}h+=w,p++}else h+=x}return h}}_r.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",_r.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],_r.ASTERISK_ENCODING=148;class Zt extends Nt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,u,h){let p=this.decodeStart(u),x=this.decodeEnd(u),_=new Q;Zt.decodeMiddle(u,p[1],x[0],_);let w=_.toString(),I=null;h!=null&&(I=h.get(ee.ALLOWED_LENGTHS)),I==null&&(I=Zt.DEFAULT_ALLOWED_LENGTHS);let O=w.length,V=!1,X=0;for(let we of I){if(O===we){V=!0;break}we>X&&(X=we)}if(!V&&O>X&&(V=!0),!V)throw new L;const re=[new vt(p[1],o),new vt(x[0],o)];return new ie(w,null,0,re,ye.ITF,new Date().getTime())}static decodeMiddle(o,u,h,p){let x=new Int32Array(10),_=new Int32Array(5),w=new Int32Array(5);for(x.fill(0),_.fill(0),w.fill(0);u<h;){Nt.recordPattern(o,u,x);for(let O=0;O<5;O++){let V=2*O;_[O]=x[V],w[O]=x[V+1]}let I=Zt.decodeDigit(_);p.append(I.toString()),I=this.decodeDigit(w),p.append(I.toString()),x.forEach(function(O){u+=O})}}decodeStart(o){let u=Zt.skipWhiteSpace(o),h=Zt.findGuardPattern(o,u,Zt.START_PATTERN);return this.narrowLineWidth=(h[1]-h[0])/4,this.validateQuietZone(o,h[0]),h}validateQuietZone(o,u){let h=this.narrowLineWidth*10;h=h<u?h:u;for(let p=u-1;h>0&&p>=0&&!o.get(p);p--)h--;if(h!==0)throw new xe}static skipWhiteSpace(o){const u=o.getSize(),h=o.getNextSet(0);if(h===u)throw new xe;return h}decodeEnd(o){o.reverse();try{let u=Zt.skipWhiteSpace(o),h;try{h=Zt.findGuardPattern(o,u,Zt.END_PATTERN_REVERSED[0])}catch(x){x instanceof xe&&(h=Zt.findGuardPattern(o,u,Zt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,h[0]);let p=h[0];return h[0]=o.getSize()-h[1],h[1]=o.getSize()-p,h}finally{o.reverse()}}static findGuardPattern(o,u,h){let p=h.length,x=new Int32Array(p),_=o.getSize(),w=!1,I=0,O=u;x.fill(0);for(let V=u;V<_;V++)if(o.get(V)!==w)x[I]++;else{if(I===p-1){if(Nt.patternMatchVariance(x,h,Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return[O,V];O+=x[0]+x[1],b.arraycopy(x,2,x,0,I-1),x[I-1]=0,x[I]=0,I--}else I++;x[I]=1,w=!w}throw new xe}static decodeDigit(o){let u=Zt.MAX_AVG_VARIANCE,h=-1,p=Zt.PATTERNS.length;for(let x=0;x<p;x++){let _=Zt.PATTERNS[x],w=Nt.patternMatchVariance(o,_,Zt.MAX_INDIVIDUAL_VARIANCE);w<u?(u=w,h=x):w===u&&(h=-1)}if(h>=0)return h%10;throw new xe}}Zt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Zt.MAX_AVG_VARIANCE=.38,Zt.MAX_INDIVIDUAL_VARIANCE=.5,Zt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Zt.START_PATTERN=Int32Array.from([1,1,1,1]),Zt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class cn extends Nt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let u=!1,h,p=0,x=Int32Array.from([0,0,0]);for(;!u;){x=Int32Array.from([0,0,0]),h=cn.findGuardPattern(o,p,!1,this.START_END_PATTERN,x);let _=h[0];p=h[1];let w=_-(p-_);w>=0&&(u=o.isRange(w,_,!1))}return h}static checkChecksum(o){return cn.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let h=parseInt(o.charAt(u-1),10);return cn.getStandardUPCEANChecksum(o.substring(0,u-1))===h}static getStandardUPCEANChecksum(o){let u=o.length,h=0;for(let p=u-1;p>=0;p-=2){let x=o.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new L;h+=x}h*=3;for(let p=u-2;p>=0;p-=2){let x=o.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new L;h+=x}return(1e3-h)%10}static decodeEnd(o,u){return cn.findGuardPattern(o,u,!1,cn.START_END_PATTERN,new Int32Array(cn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,u,h,p){return this.findGuardPattern(o,u,h,p,new Int32Array(p.length))}static findGuardPattern(o,u,h,p,x){let _=o.getSize();u=h?o.getNextUnset(u):o.getNextSet(u);let w=0,I=u,O=p.length,V=h;for(let X=u;X<_;X++)if(o.get(X)!==V)x[w]++;else{if(w===O-1){if(Nt.patternMatchVariance(x,p,cn.MAX_INDIVIDUAL_VARIANCE)<cn.MAX_AVG_VARIANCE)return Int32Array.from([I,X]);I+=x[0]+x[1];let re=x.slice(2,x.length-1);for(let de=0;de<w-1;de++)x[de]=re[de];x[w-1]=0,x[w]=0,w--}else w++;x[w]=1,V=!V}throw new xe}static decodeDigit(o,u,h,p){this.recordPattern(o,h,u);let x=this.MAX_AVG_VARIANCE,_=-1,w=p.length;for(let I=0;I<w;I++){let O=p[I],V=Nt.patternMatchVariance(u,O,cn.MAX_INDIVIDUAL_VARIANCE);V<x&&(x=V,_=I)}if(_>=0)return _;throw new xe}}cn.MAX_AVG_VARIANCE=.48,cn.MAX_INDIVIDUAL_VARIANCE=.7,cn.START_END_PATTERN=Int32Array.from([1,1,1]),cn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),cn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),cn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ha{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,h){let p=this.decodeRowStringBuffer,x=this.decodeMiddle(u,h,p),_=p.toString(),w=Ha.parseExtensionString(_),I=[new vt((h[0]+h[1])/2,o),new vt(x,o)],O=new ie(_,null,0,I,ye.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&O.putAllMetadata(w),O}decodeMiddle(o,u,h){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=o.getSize(),_=u[1],w=0;for(let O=0;O<5&&_<x;O++){let V=cn.decodeDigit(o,p,_,cn.L_AND_G_PATTERNS);h+=String.fromCharCode(48+V%10);for(let X of p)_+=X;V>=10&&(w|=1<<4-O),O!==4&&(_=o.getNextSet(_),_=o.getNextUnset(_))}if(h.length!==5)throw new xe;let I=this.determineCheckDigit(w);if(Ha.extensionChecksum(h.toString())!==I)throw new xe;return _}static extensionChecksum(o){let u=o.length,h=0;for(let p=u-2;p>=0;p-=2)h+=o.charAt(p).charCodeAt(0)-48;h*=3;for(let p=u-1;p>=0;p-=2)h+=o.charAt(p).charCodeAt(0)-48;return h*=3,h%10}determineCheckDigit(o){for(let u=0;u<10;u++)if(o===this.CHECK_DIGIT_ENCODINGS[u])return u;throw new xe}static parseExtensionString(o){if(o.length!==5)return null;let u=Ha.parseExtension5String(o);return u==null?null:new Map([[je.SUGGESTED_PRICE,u]])}static parseExtension5String(o){let u;switch(o.charAt(0)){case"0":u="";break;case"5":u="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}u="";break;default:u="";break}let h=parseInt(o.substring(1)),p=(h/100).toString(),x=h%100,_=x<10?"0"+x:x.toString();return u+p+"."+_}}class ho{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,u,h){let p=this.decodeRowStringBuffer,x=this.decodeMiddle(u,h,p),_=p.toString(),w=ho.parseExtensionString(_),I=[new vt((h[0]+h[1])/2,o),new vt(x,o)],O=new ie(_,null,0,I,ye.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&O.putAllMetadata(w),O}decodeMiddle(o,u,h){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=o.getSize(),_=u[1],w=0;for(let I=0;I<2&&_<x;I++){let O=cn.decodeDigit(o,p,_,cn.L_AND_G_PATTERNS);h+=String.fromCharCode(48+O%10);for(let V of p)_+=V;O>=10&&(w|=1<<1-I),I!==1&&(_=o.getNextSet(_),_=o.getNextUnset(_))}if(h.length!==2)throw new xe;if(parseInt(h.toString())%4!==w)throw new xe;return _}static parseExtensionString(o){return o.length!==2?null:new Map([[je.ISSUE_NUMBER,parseInt(o)]])}}class gs{static decodeRow(o,u,h){let p=cn.findGuardPattern(u,h,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ha().decodeRow(o,u,p)}catch{return new ho().decodeRow(o,u,p)}}}gs.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class nr extends cn{constructor(){super(),this.decodeRowStringBuffer="",nr.L_AND_G_PATTERNS=nr.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let u=nr.L_PATTERNS[o-10],h=new Int32Array(u.length);for(let p=0;p<u.length;p++)h[p]=u[u.length-p-1];nr.L_AND_G_PATTERNS[o]=h}}decodeRow(o,u,h){let p=nr.findStartGuardPattern(u),x=h==null?null:h.get(ee.NEED_RESULT_POINT_CALLBACK);if(x!=null){const at=new vt((p[0]+p[1])/2,o);x.foundPossibleResultPoint(at)}let _=this.decodeMiddle(u,p,this.decodeRowStringBuffer),w=_.rowOffset,I=_.resultString;if(x!=null){const at=new vt(w,o);x.foundPossibleResultPoint(at)}let O=this.decodeEnd(u,w);if(x!=null){const at=new vt((O[0]+O[1])/2,o);x.foundPossibleResultPoint(at)}let V=O[1],X=V+(V-O[0]);if(X>=u.getSize()||!u.isRange(V,X,!1))throw new xe;let re=I.toString();if(re.length<8)throw new L;if(!nr.checkChecksum(re))throw new C;let de=(p[1]+p[0])/2,we=(O[1]+O[0])/2,Te=this.getBarcodeFormat(),Ne=[new vt(de,o),new vt(we,o)],He=new ie(re,null,0,Ne,Te,new Date().getTime()),dt=0;try{let at=gs.decodeRow(o,u,O[1]);He.putMetadata(je.UPC_EAN_EXTENSION,at.getText()),He.putAllMetadata(at.getResultMetadata()),He.addResultPoints(at.getResultPoints()),dt=at.getText().length}catch{}let ft=h==null?null:h.get(ee.ALLOWED_EAN_EXTENSIONS);if(ft!=null){let at=!1;for(let gr in ft)if(dt.toString()===gr){at=!0;break}if(!at)throw new xe}return He}decodeEnd(o,u){return nr.findGuardPattern(o,u,!1,nr.START_END_PATTERN,new Int32Array(nr.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return nr.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let u=o.length;if(u===0)return!1;let h=parseInt(o.charAt(u-1),10);return nr.getStandardUPCEANChecksum(o.substring(0,u-1))===h}static getStandardUPCEANChecksum(o){let u=o.length,h=0;for(let p=u-1;p>=0;p-=2){let x=o.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new L;h+=x}h*=3;for(let p=u-2;p>=0;p-=2){let x=o.charAt(p).charCodeAt(0)-48;if(x<0||x>9)throw new L;h+=x}return(1e3-h)%10}}class zi extends nr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,h){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=o.getSize(),_=u[1],w=0;for(let O=0;O<6&&_<x;O++){let V=nr.decodeDigit(o,p,_,nr.L_AND_G_PATTERNS);h+=String.fromCharCode(48+V%10);for(let X of p)_+=X;V>=10&&(w|=1<<5-O)}h=zi.determineFirstDigit(h,w),_=nr.findGuardPattern(o,_,!0,nr.MIDDLE_PATTERN,new Int32Array(nr.MIDDLE_PATTERN.length).fill(0))[1];for(let O=0;O<6&&_<x;O++){let V=nr.decodeDigit(o,p,_,nr.L_PATTERNS);h+=String.fromCharCode(48+V);for(let X of p)_+=X}return{rowOffset:_,resultString:h}}getBarcodeFormat(){return ye.EAN_13}static determineFirstDigit(o,u){for(let h=0;h<10;h++)if(u===this.FIRST_DIGIT_ENCODINGS[h])return o=String.fromCharCode(48+h)+o,o;throw new xe}}zi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Mi extends nr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,u,h){const p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=o.getSize(),_=u[1];for(let I=0;I<4&&_<x;I++){let O=nr.decodeDigit(o,p,_,nr.L_PATTERNS);h+=String.fromCharCode(48+O);for(let V of p)_+=V}_=nr.findGuardPattern(o,_,!0,nr.MIDDLE_PATTERN,new Int32Array(nr.MIDDLE_PATTERN.length).fill(0))[1];for(let I=0;I<4&&_<x;I++){let O=nr.decodeDigit(o,p,_,nr.L_PATTERNS);h+=String.fromCharCode(48+O);for(let V of p)_+=V}return{rowOffset:_,resultString:h}}getBarcodeFormat(){return ye.EAN_8}}class $i extends nr{constructor(){super(...arguments),this.ean13Reader=new zi}getBarcodeFormat(){return ye.UPC_A}decode(o,u){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,u,h){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,u,h))}decodeMiddle(o,u,h){return this.ean13Reader.decodeMiddle(o,u,h)}maybeReturnResult(o){let u=o.getText();if(u.charAt(0)==="0"){let h=new ie(u.substring(1),null,null,o.getResultPoints(),ye.UPC_A);return o.getResultMetadata()!=null&&h.putAllMetadata(o.getResultMetadata()),h}else throw new xe}reset(){this.ean13Reader.reset()}}class Wn extends nr{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,u,h){const p=this.decodeMiddleCounters.map(O=>O);p[0]=0,p[1]=0,p[2]=0,p[3]=0;const x=o.getSize();let _=u[1],w=0;for(let O=0;O<6&&_<x;O++){const V=Wn.decodeDigit(o,p,_,Wn.L_AND_G_PATTERNS);h+=String.fromCharCode(48+V%10);for(let X of p)_+=X;V>=10&&(w|=1<<5-O)}let I=Wn.determineNumSysAndCheckDigit(h,w);return{rowOffset:_,resultString:I}}decodeEnd(o,u){return Wn.findGuardPatternWithoutCounters(o,u,!0,Wn.MIDDLE_END_PATTERN)}checkChecksum(o){return nr.checkChecksum(Wn.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,u){for(let h=0;h<=1;h++)for(let p=0;p<10;p++)if(u===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[h][p]){let x=String.fromCharCode(48+h),_=String.fromCharCode(48+p);return x+o+_}throw xe.getNotFoundInstance()}getBarcodeFormat(){return ye.UPC_E}static convertUPCEtoUPCA(o){const u=o.slice(1,7).split("").map(x=>x.charCodeAt(0)),h=new Q;h.append(o.charAt(0));let p=u[5];switch(p){case 0:case 1:case 2:h.appendChars(u,0,2),h.append(p),h.append("0000"),h.appendChars(u,2,3);break;case 3:h.appendChars(u,0,3),h.append("00000"),h.appendChars(u,3,2);break;case 4:h.appendChars(u,0,4),h.append("00000"),h.append(u[4]);break;default:h.appendChars(u,0,5),h.append("0000"),h.append(p);break}return o.length>=8&&h.append(o.charAt(7)),h.toString()}}Wn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Wn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Us extends Nt{constructor(o){super();let u=o==null?null:o.get(ee.POSSIBLE_FORMATS),h=[];n(u)?(h.push(new zi),h.push(new $i),h.push(new Mi),h.push(new Wn)):(u.indexOf(ye.EAN_13)>-1&&h.push(new zi),u.indexOf(ye.UPC_A)>-1&&h.push(new $i),u.indexOf(ye.EAN_8)>-1&&h.push(new Mi),u.indexOf(ye.UPC_E)>-1&&h.push(new Wn)),this.readers=h}decodeRow(o,u,h){for(let p of this.readers)try{const x=p.decodeRow(o,u,h),_=x.getBarcodeFormat()===ye.EAN_13&&x.getText().charAt(0)==="0",w=h==null?null:h.get(ee.POSSIBLE_FORMATS),I=w==null||w.includes(ye.UPC_A);if(_&&I){const O=x.getRawBytes(),V=new ie(x.getText().substring(1),O,O?O.length:null,x.getResultPoints(),ye.UPC_A);return V.putAllMetadata(x.getResultMetadata()),V}return x}catch{}throw new xe}reset(){for(let o of this.readers)o.reset()}}class On extends Nt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,u){for(let h=0;h<u.length;h++)if(Nt.patternMatchVariance(o,u[h],On.MAX_INDIVIDUAL_VARIANCE)<On.MAX_AVG_VARIANCE)return h;throw new xe}static count(o){return Ct.sum(new Int32Array(o))}static increment(o,u){let h=0,p=u[0];for(let x=1;x<o.length;x++)u[x]>p&&(p=u[x],h=x);o[h]++}static decrement(o,u){let h=0,p=u[0];for(let x=1;x<o.length;x++)u[x]<p&&(p=u[x],h=x);o[h]--}static isFinderPattern(o){let u=o[0]+o[1],h=u+o[2]+o[3],p=u/h;if(p>=On.MIN_FINDER_PATTERN_RATIO&&p<=On.MAX_FINDER_PATTERN_RATIO){let x=Number.MAX_SAFE_INTEGER,_=Number.MIN_SAFE_INTEGER;for(let w of o)w>_&&(_=w),w<x&&(x=w);return _<10*x}return!1}}On.MAX_AVG_VARIANCE=.2,On.MAX_INDIVIDUAL_VARIANCE=.45,On.MIN_FINDER_PATTERN_RATIO=9.5/12,On.MAX_FINDER_PATTERN_RATIO=12.5/14;class Hi{constructor(o,u){this.value=o,this.checksumPortion=u}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof Hi))return!1;const u=o;return this.value===u.value&&this.checksumPortion===u.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Na{constructor(o,u,h,p,x){this.value=o,this.startEnd=u,this.value=o,this.startEnd=u,this.resultPoints=new Array,this.resultPoints.push(new vt(h,x)),this.resultPoints.push(new vt(p,x))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof Na))return!1;const u=o;return this.value===u.value}hashCode(){return this.value}}class qr{constructor(){}static getRSSvalue(o,u,h){let p=0;for(let I of o)p+=I;let x=0,_=0,w=o.length;for(let I=0;I<w-1;I++){let O;for(O=1,_|=1<<I;O<o[I];O++,_&=~(1<<I)){let V=qr.combins(p-O-1,w-I-2);if(h&&_===0&&p-O-(w-I-1)>=w-I-1&&(V-=qr.combins(p-O-(w-I),w-I-2)),w-I-1>1){let X=0;for(let re=p-O-(w-I-2);re>u;re--)X+=qr.combins(p-O-re-1,w-I-3);V-=X*(w-1-I)}else p-O>u&&V--;x+=V}p-=O}return x}static combins(o,u){let h,p;o-u>u?(p=u,h=o-u):(p=o-u,h=u);let x=1,_=1;for(let w=o;w>h;w--)x*=w,_<=p&&(x/=_,_++);for(;_<=p;)x/=_,_++;return x}}class fl{static buildBitArray(o){let u=o.length*2-1;o[o.length-1].getRightChar()==null&&(u-=1);let h=12*u,p=new Y(h),x=0,w=o[0].getRightChar().getValue();for(let I=11;I>=0;--I)(w&1<<I)!=0&&p.set(x),x++;for(let I=1;I<o.length;++I){let O=o[I],V=O.getLeftChar().getValue();for(let X=11;X>=0;--X)(V&1<<X)!=0&&p.set(x),x++;if(O.getRightChar()!=null){let X=O.getRightChar().getValue();for(let re=11;re>=0;--re)(X&1<<re)!=0&&p.set(x),x++}}return p}}class Ei{constructor(o,u){u?this.decodedInformation=null:(this.finished=o,this.decodedInformation=u)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ga{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class qn extends Ga{constructor(o,u){super(o),this.value=u}getValue(){return this.value}isFNC1(){return this.value===qn.FNC1}}qn.FNC1="$";class ka extends Ga{constructor(o,u,h){super(o),h?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=u}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class J extends Ga{constructor(o,u,h){if(super(o),u<0||u>10||h<0||h>10)throw new L;this.firstDigit=u,this.secondDigit=h}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===J.FNC1}isSecondDigitFNC1(){return this.secondDigit===J.FNC1}isAnyFNC1(){return this.firstDigit===J.FNC1||this.secondDigit===J.FNC1}}J.FNC1=10;class ae{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new xe;let u=o.substring(0,2);for(let x of ae.TWO_DIGIT_DATA_LENGTH)if(x[0]===u)return x[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(2,x[2],o):ae.processFixedAI(2,x[1],o);if(o.length<3)throw new xe;let h=o.substring(0,3);for(let x of ae.THREE_DIGIT_DATA_LENGTH)if(x[0]===h)return x[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(3,x[2],o):ae.processFixedAI(3,x[1],o);for(let x of ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(x[0]===h)return x[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(4,x[2],o):ae.processFixedAI(4,x[1],o);if(o.length<4)throw new xe;let p=o.substring(0,4);for(let x of ae.FOUR_DIGIT_DATA_LENGTH)if(x[0]===p)return x[1]===ae.VARIABLE_LENGTH?ae.processVariableAI(4,x[2],o):ae.processFixedAI(4,x[1],o);throw new xe}static processFixedAI(o,u,h){if(h.length<o)throw new xe;let p=h.substring(0,o);if(h.length<o+u)throw new xe;let x=h.substring(o,o+u),_=h.substring(o+u),w="("+p+")"+x,I=ae.parseFieldsInGeneralPurpose(_);return I==null?w:w+I}static processVariableAI(o,u,h){let p=h.substring(0,o),x;h.length<o+u?x=h.length:x=o+u;let _=h.substring(o,x),w=h.substring(x),I="("+p+")"+_,O=ae.parseFieldsInGeneralPurpose(w);return O==null?I:I+O}}ae.VARIABLE_LENGTH=[],ae.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ae.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ae.VARIABLE_LENGTH,20],["22",ae.VARIABLE_LENGTH,29],["30",ae.VARIABLE_LENGTH,8],["37",ae.VARIABLE_LENGTH,8],["90",ae.VARIABLE_LENGTH,30],["91",ae.VARIABLE_LENGTH,30],["92",ae.VARIABLE_LENGTH,30],["93",ae.VARIABLE_LENGTH,30],["94",ae.VARIABLE_LENGTH,30],["95",ae.VARIABLE_LENGTH,30],["96",ae.VARIABLE_LENGTH,30],["97",ae.VARIABLE_LENGTH,3],["98",ae.VARIABLE_LENGTH,30],["99",ae.VARIABLE_LENGTH,30]],ae.THREE_DIGIT_DATA_LENGTH=[["240",ae.VARIABLE_LENGTH,30],["241",ae.VARIABLE_LENGTH,30],["242",ae.VARIABLE_LENGTH,6],["250",ae.VARIABLE_LENGTH,30],["251",ae.VARIABLE_LENGTH,30],["253",ae.VARIABLE_LENGTH,17],["254",ae.VARIABLE_LENGTH,20],["400",ae.VARIABLE_LENGTH,30],["401",ae.VARIABLE_LENGTH,30],["402",17],["403",ae.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ae.VARIABLE_LENGTH,20],["421",ae.VARIABLE_LENGTH,15],["422",3],["423",ae.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ae.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ae.VARIABLE_LENGTH,15],["391",ae.VARIABLE_LENGTH,18],["392",ae.VARIABLE_LENGTH,15],["393",ae.VARIABLE_LENGTH,18],["703",ae.VARIABLE_LENGTH,30]],ae.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ae.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ae.VARIABLE_LENGTH,20],["8003",ae.VARIABLE_LENGTH,30],["8004",ae.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ae.VARIABLE_LENGTH,30],["8008",ae.VARIABLE_LENGTH,12],["8018",18],["8020",ae.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ae.VARIABLE_LENGTH,70],["8200",ae.VARIABLE_LENGTH,70]];class oe{constructor(o){this.buffer=new Q,this.information=o}decodeAllCodes(o,u){let h=u,p=null;do{let x=this.decodeGeneralPurposeField(h,p),_=ae.parseFieldsInGeneralPurpose(x.getNewString());if(_!=null&&o.append(_),x.isRemaining()?p=""+x.getRemainingValue():p=null,h===x.getNewPosition())break;h=x.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let u=o;u<o+3;++u)if(this.information.get(u))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let x=this.extractNumericValueFromBitArray(o,4);return x===0?new J(this.information.getSize(),J.FNC1,J.FNC1):new J(this.information.getSize(),x-1,J.FNC1)}let u=this.extractNumericValueFromBitArray(o,7),h=(u-8)/11,p=(u-8)%11;return new J(o+7,h,p)}extractNumericValueFromBitArray(o,u){return oe.extractNumericValueFromBitArray(this.information,o,u)}static extractNumericValueFromBitArray(o,u,h){let p=0;for(let x=0;x<h;++x)o.get(u+x)&&(p|=1<<h-x-1);return p}decodeGeneralPurposeField(o,u){this.buffer.setLengthToZero(),u!=null&&this.buffer.append(u),this.current.setPosition(o);let h=this.parseBlocks();return h!=null&&h.isRemaining()?new ka(this.current.getPosition(),this.buffer.toString(),h.getRemainingValue()):new ka(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,u;do{let h=this.current.getPosition();if(this.current.isAlpha()?(u=this.parseAlphaBlock(),o=u.isFinished()):this.current.isIsoIec646()?(u=this.parseIsoIec646Block(),o=u.isFinished()):(u=this.parseNumericBlock(),o=u.isFinished()),!(h!==this.current.getPosition())&&!o)break}while(!o);return u.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let u;return o.isSecondDigitFNC1()?u=new ka(this.current.getPosition(),this.buffer.toString()):u=new ka(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new Ei(!0,u)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let u=new ka(this.current.getPosition(),this.buffer.toString());return new Ei(!0,u)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ei(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new ka(this.current.getPosition(),this.buffer.toString());return new Ei(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ei(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let u=new ka(this.current.getPosition(),this.buffer.toString());return new Ei(!0,u)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ei(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+7>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<116)return!0;if(o+8>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(o,8);return p>=232&&p<253}decodeIsoIec646(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new qn(o+5,qn.FNC1);if(u>=5&&u<15)return new qn(o+5,"0"+(u-5));let h=this.extractNumericValueFromBitArray(o,7);if(h>=64&&h<90)return new qn(o+7,""+(h+1));if(h>=90&&h<116)return new qn(o+7,""+(h+7));let p=this.extractNumericValueFromBitArray(o,8),x;switch(p){case 232:x="!";break;case 233:x='"';break;case 234:x="%";break;case 235:x="&";break;case 236:x="'";break;case 237:x="(";break;case 238:x=")";break;case 239:x="*";break;case 240:x="+";break;case 241:x=",";break;case 242:x="-";break;case 243:x=".";break;case 244:x="/";break;case 245:x=":";break;case 246:x=";";break;case 247:x="<";break;case 248:x="=";break;case 249:x=">";break;case 250:x="?";break;case 251:x="_";break;case 252:x=" ";break;default:throw new L}return new qn(o+8,x)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(o,5);if(u>=5&&u<16)return!0;if(o+6>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(o,6);return h>=16&&h<63}decodeAlphanumeric(o){let u=this.extractNumericValueFromBitArray(o,5);if(u===15)return new qn(o+5,qn.FNC1);if(u>=5&&u<15)return new qn(o+5,"0"+(u-5));let h=this.extractNumericValueFromBitArray(o,6);if(h>=32&&h<58)return new qn(o+6,""+(h+33));let p;switch(h){case 58:p="*";break;case 59:p=",";break;case 60:p="-";break;case 61:p=".";break;case 62:p="/";break;default:throw new Wt("Decoding invalid alphanumeric value: "+h)}return new qn(o+6,p)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<5&&u+o<this.information.getSize();++u)if(u===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+u))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let u=o;u<o+3;++u)if(this.information.get(u))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let u=0;u<4&&u+o<this.information.getSize();++u)if(this.information.get(o+u))return!1;return!0}}class le{constructor(o){this.information=o,this.generalDecoder=new oe(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ce extends le{constructor(o){super(o)}encodeCompressedGtin(o,u){o.append("(01)");let h=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,u,h)}encodeCompressedGtinWithoutAI(o,u,h){for(let p=0;p<4;++p){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(u+10*p,10);x/100===0&&o.append("0"),x/10===0&&o.append("0"),o.append(x)}ce.appendCheckDigit(o,h)}static appendCheckDigit(o,u){let h=0;for(let p=0;p<13;p++){let x=o.charAt(p+u).charCodeAt(0)-48;h+=(p&1)===0?3*x:x}h=10-h%10,h===10&&(h=0),o.append(h)}}ce.GTIN_SIZE=40;class ge extends ce{constructor(o){super(o)}parseInformation(){let o=new Q;o.append("(01)");let u=o.length(),h=this.getGeneralDecoder().extractNumericValueFromBitArray(ge.HEADER_SIZE,4);return o.append(h),this.encodeCompressedGtinWithoutAI(o,ge.HEADER_SIZE+4,u),this.getGeneralDecoder().decodeAllCodes(o,ge.HEADER_SIZE+44)}}ge.HEADER_SIZE=4;class Me extends le{constructor(o){super(o)}parseInformation(){let o=new Q;return this.getGeneralDecoder().decodeAllCodes(o,Me.HEADER_SIZE)}}Me.HEADER_SIZE=5;class qe extends ce{constructor(o){super(o)}encodeCompressedWeight(o,u,h){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(u,h);this.addWeightCode(o,p);let x=this.checkWeight(p),_=1e5;for(let w=0;w<5;++w)x/_===0&&o.append("0"),_/=10;o.append(x)}}class ke extends qe{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=ke.HEADER_SIZE+qe.GTIN_SIZE+ke.WEIGHT_SIZE)throw new xe;let o=new Q;return this.encodeCompressedGtin(o,ke.HEADER_SIZE),this.encodeCompressedWeight(o,ke.HEADER_SIZE+qe.GTIN_SIZE,ke.WEIGHT_SIZE),o.toString()}}ke.HEADER_SIZE=5,ke.WEIGHT_SIZE=15;class Pe extends ke{constructor(o){super(o)}addWeightCode(o,u){o.append("(3103)")}checkWeight(o){return o}}class Be extends ke{constructor(o){super(o)}addWeightCode(o,u){u<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class rt extends ce{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<rt.HEADER_SIZE+ce.GTIN_SIZE)throw new xe;let o=new Q;this.encodeCompressedGtin(o,rt.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(rt.HEADER_SIZE+ce.GTIN_SIZE,rt.LAST_DIGIT_SIZE);o.append("(392"),o.append(u),o.append(")");let h=this.getGeneralDecoder().decodeGeneralPurposeField(rt.HEADER_SIZE+ce.GTIN_SIZE+rt.LAST_DIGIT_SIZE,null);return o.append(h.getNewString()),o.toString()}}rt.HEADER_SIZE=8,rt.LAST_DIGIT_SIZE=2;class st extends ce{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<st.HEADER_SIZE+ce.GTIN_SIZE)throw new xe;let o=new Q;this.encodeCompressedGtin(o,st.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(st.HEADER_SIZE+ce.GTIN_SIZE,st.LAST_DIGIT_SIZE);o.append("(393"),o.append(u),o.append(")");let h=this.getGeneralDecoder().extractNumericValueFromBitArray(st.HEADER_SIZE+ce.GTIN_SIZE+st.LAST_DIGIT_SIZE,st.FIRST_THREE_DIGITS_SIZE);h/100==0&&o.append("0"),h/10==0&&o.append("0"),o.append(h);let p=this.getGeneralDecoder().decodeGeneralPurposeField(st.HEADER_SIZE+ce.GTIN_SIZE+st.LAST_DIGIT_SIZE+st.FIRST_THREE_DIGITS_SIZE,null);return o.append(p.getNewString()),o.toString()}}st.HEADER_SIZE=8,st.LAST_DIGIT_SIZE=2,st.FIRST_THREE_DIGITS_SIZE=10;class lt extends qe{constructor(o,u,h){super(o),this.dateCode=h,this.firstAIdigits=u}parseInformation(){if(this.getInformation().getSize()!=lt.HEADER_SIZE+lt.GTIN_SIZE+lt.WEIGHT_SIZE+lt.DATE_SIZE)throw new xe;let o=new Q;return this.encodeCompressedGtin(o,lt.HEADER_SIZE),this.encodeCompressedWeight(o,lt.HEADER_SIZE+lt.GTIN_SIZE,lt.WEIGHT_SIZE),this.encodeCompressedDate(o,lt.HEADER_SIZE+lt.GTIN_SIZE+lt.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(u,lt.DATE_SIZE);if(h==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let p=h%32;h/=32;let x=h%12+1;h/=12;let _=h;_/10==0&&o.append("0"),o.append(_),x/10==0&&o.append("0"),o.append(x),p/10==0&&o.append("0"),o.append(p)}addWeightCode(o,u){o.append("("),o.append(this.firstAIdigits),o.append(u/1e5),o.append(")")}checkWeight(o){return o%1e5}}lt.HEADER_SIZE=8,lt.WEIGHT_SIZE=20,lt.DATE_SIZE=16;function ut(W){try{if(W.get(1))return new ge(W);if(!W.get(2))return new Me(W);switch(oe.extractNumericValueFromBitArray(W,1,4)){case 4:return new Pe(W);case 5:return new Be(W)}switch(oe.extractNumericValueFromBitArray(W,1,5)){case 12:return new rt(W);case 13:return new st(W)}switch(oe.extractNumericValueFromBitArray(W,1,7)){case 56:return new lt(W,"310","11");case 57:return new lt(W,"320","11");case 58:return new lt(W,"310","13");case 59:return new lt(W,"320","13");case 60:return new lt(W,"310","15");case 61:return new lt(W,"320","15");case 62:return new lt(W,"310","17");case 63:return new lt(W,"320","17")}}catch(o){throw console.log(o),new Wt("unknown decoder: "+W)}}class gt{constructor(o,u,h,p){this.leftchar=o,this.rightchar=u,this.finderpattern=h,this.maybeLast=p}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,u){return o instanceof gt?gt.equalsOrNull(o.leftchar,u.leftchar)&&gt.equalsOrNull(o.rightchar,u.rightchar)&&gt.equalsOrNull(o.finderpattern,u.finderpattern):!1}static equalsOrNull(o,u){return o===null?u===null:gt.equals(o,u)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Tt{constructor(o,u,h){this.pairs=o,this.rowNumber=u,this.wasReversed=h}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,u){return o instanceof Tt?this.checkEqualitity(o,u)&&o.wasReversed===u.wasReversed:!1}checkEqualitity(o,u){if(!o||!u)return;let h;return o.forEach((p,x)=>{u.forEach(_=>{p.getLeftChar().getValue()===_.getLeftChar().getValue()&&p.getRightChar().getValue()===_.getRightChar().getValue()&&p.getFinderPatter().getValue()===_.getFinderPatter().getValue()&&(h=!0)})}),h}}class Xe extends On{constructor(o){super(...arguments),this.pairs=new Array(Xe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,u,h){this.pairs.length=0,this.startFromEven=!1;try{return Xe.constructResult(this.decodeRow2pairs(o,u))}catch(p){this.verbose&&console.log(p)}return this.pairs.length=0,this.startFromEven=!0,Xe.constructResult(this.decodeRow2pairs(o,u))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,u){let h=!1;for(;!h;)try{this.pairs.push(this.retrieveNextPair(u,this.pairs,o))}catch(x){if(x instanceof xe){if(!this.pairs.length)throw new xe;h=!0}}if(this.checkChecksum())return this.pairs;let p;if(this.rows.length?p=!0:p=!1,this.storeRow(o,!1),p){let x=this.checkRowsBoolean(!1);if(x!=null||(x=this.checkRowsBoolean(!0),x!=null))return x}throw new xe}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let u=null;try{u=this.checkRows(new Array,0)}catch(h){this.verbose&&console.log(h)}return o&&(this.rows=this.rows.reverse()),u}checkRows(o,u){for(let h=u;h<this.rows.length;h++){let p=this.rows[h];this.pairs.length=0;for(let _ of o)this.pairs.push(_.getPairs());if(this.pairs.push(p.getPairs()),!Xe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let x=new Array(o);x.push(p);try{return this.checkRows(x,h+1)}catch(_){this.verbose&&console.log(_)}}throw new xe}static isValidSequence(o){for(let u of Xe.FINDER_PATTERN_SEQUENCES){if(o.length>u.length)continue;let h=!0;for(let p=0;p<o.length;p++)if(o[p].getFinderPattern().getValue()!=u[p]){h=!1;break}if(h)return!0}return!1}storeRow(o,u){let h=0,p=!1,x=!1;for(;h<this.rows.length;){let _=this.rows[h];if(_.getRowNumber()>o){x=_.isEquivalent(this.pairs);break}p=_.isEquivalent(this.pairs),h++}x||p||Xe.isPartialRow(this.pairs,this.rows)||(this.rows.push(h,new Tt(this.pairs,o,u)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,u){for(let h of u)if(h.getPairs().length!==o.length){for(let p of h.getPairs())for(let x of o)if(gt.equals(p,x))break}}static isPartialRow(o,u){for(let h of u){let p=!0;for(let x of o){let _=!1;for(let w of h.getPairs())if(x.equals(w)){_=!0;break}if(!_){p=!1;break}}if(p)return!0}return!1}getRows(){return this.rows}static constructResult(o){let u=fl.buildBitArray(o),p=ut(u).parseInformation(),x=o[0].getFinderPattern().getResultPoints(),_=o[o.length-1].getFinderPattern().getResultPoints(),w=[x[0],x[1],_[0],_[1]];return new ie(p,null,null,w,ye.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),u=o.getLeftChar(),h=o.getRightChar();if(h==null)return!1;let p=h.getChecksumPortion(),x=2;for(let w=1;w<this.pairs.size();++w){let I=this.pairs.get(w);p+=I.getLeftChar().getChecksumPortion(),x++;let O=I.getRightChar();O!=null&&(p+=O.getChecksumPortion(),x++)}return p%=211,211*(x-4)+p==u.getValue()}static getNextSecondBar(o,u){let h;return o.get(u)?(h=o.getNextUnset(u),h=o.getNextSet(h)):(h=o.getNextSet(u),h=o.getNextUnset(h)),h}retrieveNextPair(o,u,h){let p=u.length%2==0;this.startFromEven&&(p=!p);let x,_=!0,w=-1;do this.findNextPair(o,u,w),x=this.parseFoundFinderPattern(o,h,p),x==null?w=Xe.getNextSecondBar(o,this.startEnd[0]):_=!1;while(_);let I=this.decodeDataCharacter(o,x,p,!0);if(!this.isEmptyPair(u)&&u[u.length-1].mustBeLast())throw new xe;let O;try{O=this.decodeDataCharacter(o,x,p,!1)}catch(V){O=null,this.verbose&&console.log(V)}return new gt(I,O,x,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,u,h){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let x=o.getSize(),_;h>=0?_=h:this.isEmptyPair(u)?_=0:_=u[u.length-1].getFinderPattern().getStartEnd()[1];let w=u.length%2!=0;this.startFromEven&&(w=!w);let I=!1;for(;_<x&&(I=!o.get(_),!!I);)_++;let O=0,V=_;for(let X=_;X<x;X++)if(o.get(X)!=I)p[O]++;else{if(O==3){if(w&&Xe.reverseCounters(p),Xe.isFinderPattern(p)){this.startEnd[0]=V,this.startEnd[1]=X;return}w&&Xe.reverseCounters(p),V+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,O--}else O++;p[O]=1,I=!I}throw new xe}static reverseCounters(o){let u=o.length;for(let h=0;h<u/2;++h){let p=o[h];o[h]=o[u-h-1],o[u-h-1]=p}}parseFoundFinderPattern(o,u,h){let p,x,_;if(h){let O=this.startEnd[0]-1;for(;O>=0&&!o.get(O);)O--;O++,p=this.startEnd[0]-O,x=O,_=this.startEnd[1]}else x=this.startEnd[0],_=o.getNextUnset(this.startEnd[1]+1),p=_-this.startEnd[1];let w=this.getDecodeFinderCounters();b.arraycopy(w,0,w,1,w.length-1),w[0]=p;let I;try{I=this.parseFinderValue(w,Xe.FINDER_PATTERNS)}catch{return null}return new Na(I,[x,_],x,_,u)}decodeDataCharacter(o,u,h,p){let x=this.getDataCharacterCounters();for(let Yr=0;Yr<x.length;Yr++)x[Yr]=0;if(p)Xe.recordPatternInReverse(o,u.getStartEnd()[0],x);else{Xe.recordPattern(o,u.getStartEnd()[1],x);for(let Yr=0,Fi=x.length-1;Yr<Fi;Yr++,Fi--){let Ma=x[Yr];x[Yr]=x[Fi],x[Fi]=Ma}}let _=17,w=Ct.sum(new Int32Array(x))/_,I=(u.getStartEnd()[1]-u.getStartEnd()[0])/15;if(Math.abs(w-I)/I>.3)throw new xe;let O=this.getOddCounts(),V=this.getEvenCounts(),X=this.getOddRoundingErrors(),re=this.getEvenRoundingErrors();for(let Yr=0;Yr<x.length;Yr++){let Fi=1*x[Yr]/w,Ma=Fi+.5;if(Ma<1){if(Fi<.3)throw new xe;Ma=1}else if(Ma>8){if(Fi>8.7)throw new xe;Ma=8}let oc=Yr/2;(Yr&1)==0?(O[oc]=Ma,X[oc]=Fi-Ma):(V[oc]=Ma,re[oc]=Fi-Ma)}this.adjustOddEvenCounts(_);let de=4*u.getValue()+(h?0:2)+(p?0:1)-1,we=0,Te=0;for(let Yr=O.length-1;Yr>=0;Yr--){if(Xe.isNotA1left(u,h,p)){let Fi=Xe.WEIGHTS[de][2*Yr];Te+=O[Yr]*Fi}we+=O[Yr]}let Ne=0;for(let Yr=V.length-1;Yr>=0;Yr--)if(Xe.isNotA1left(u,h,p)){let Fi=Xe.WEIGHTS[de][2*Yr+1];Ne+=V[Yr]*Fi}let He=Te+Ne;if((we&1)!=0||we>13||we<4)throw new xe;let dt=(13-we)/2,ft=Xe.SYMBOL_WIDEST[dt],at=9-ft,gr=qr.getRSSvalue(O,ft,!0),er=qr.getRSSvalue(V,at,!1),$n=Xe.EVEN_TOTAL_SUBSET[dt],es=Xe.GSUM[dt],ta=gr*$n+er+es;return new Hi(ta,He)}static isNotA1left(o,u,h){return!(o.getValue()==0&&u&&h)}adjustOddEvenCounts(o){let u=Ct.sum(new Int32Array(this.getOddCounts())),h=Ct.sum(new Int32Array(this.getEvenCounts())),p=!1,x=!1;u>13?x=!0:u<4&&(p=!0);let _=!1,w=!1;h>13?w=!0:h<4&&(_=!0);let I=u+h-o,O=(u&1)==1,V=(h&1)==0;if(I==1)if(O){if(V)throw new xe;x=!0}else{if(!V)throw new xe;w=!0}else if(I==-1)if(O){if(V)throw new xe;p=!0}else{if(!V)throw new xe;_=!0}else if(I==0){if(O){if(!V)throw new xe;u<h?(p=!0,w=!0):(x=!0,_=!0)}else if(V)throw new xe}else throw new xe;if(p){if(x)throw new xe;Xe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&Xe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),_){if(w)throw new xe;Xe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&Xe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Xe.SYMBOL_WIDEST=[7,5,4,3,1],Xe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Xe.GSUM=[0,348,1388,2948,3988],Xe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Xe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Xe.FINDER_PAT_A=0,Xe.FINDER_PAT_B=1,Xe.FINDER_PAT_C=2,Xe.FINDER_PAT_D=3,Xe.FINDER_PAT_E=4,Xe.FINDER_PAT_F=5,Xe.FINDER_PATTERN_SEQUENCES=[[Xe.FINDER_PAT_A,Xe.FINDER_PAT_A],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_B,Xe.FINDER_PAT_B],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_C,Xe.FINDER_PAT_B,Xe.FINDER_PAT_D],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_E,Xe.FINDER_PAT_B,Xe.FINDER_PAT_D,Xe.FINDER_PAT_C],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_E,Xe.FINDER_PAT_B,Xe.FINDER_PAT_D,Xe.FINDER_PAT_D,Xe.FINDER_PAT_F],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_E,Xe.FINDER_PAT_B,Xe.FINDER_PAT_D,Xe.FINDER_PAT_E,Xe.FINDER_PAT_F,Xe.FINDER_PAT_F],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_A,Xe.FINDER_PAT_B,Xe.FINDER_PAT_B,Xe.FINDER_PAT_C,Xe.FINDER_PAT_C,Xe.FINDER_PAT_D,Xe.FINDER_PAT_D],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_A,Xe.FINDER_PAT_B,Xe.FINDER_PAT_B,Xe.FINDER_PAT_C,Xe.FINDER_PAT_C,Xe.FINDER_PAT_D,Xe.FINDER_PAT_E,Xe.FINDER_PAT_E],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_A,Xe.FINDER_PAT_B,Xe.FINDER_PAT_B,Xe.FINDER_PAT_C,Xe.FINDER_PAT_C,Xe.FINDER_PAT_D,Xe.FINDER_PAT_E,Xe.FINDER_PAT_F,Xe.FINDER_PAT_F],[Xe.FINDER_PAT_A,Xe.FINDER_PAT_A,Xe.FINDER_PAT_B,Xe.FINDER_PAT_B,Xe.FINDER_PAT_C,Xe.FINDER_PAT_D,Xe.FINDER_PAT_D,Xe.FINDER_PAT_E,Xe.FINDER_PAT_E,Xe.FINDER_PAT_F,Xe.FINDER_PAT_F]],Xe.MAX_PAIRS=11;class kr extends Hi{constructor(o,u,h){super(o,u),this.count=0,this.finderPattern=h}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Lt extends On{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,u,h){const p=this.decodePair(u,!1,o,h);Lt.addOrTally(this.possibleLeftPairs,p),u.reverse();let x=this.decodePair(u,!0,o,h);Lt.addOrTally(this.possibleRightPairs,x),u.reverse();for(let _ of this.possibleLeftPairs)if(_.getCount()>1){for(let w of this.possibleRightPairs)if(w.getCount()>1&&Lt.checkChecksum(_,w))return Lt.constructResult(_,w)}throw new xe}static addOrTally(o,u){if(u==null)return;let h=!1;for(let p of o)if(p.getValue()===u.getValue()){p.incrementCount(),h=!0;break}h||o.push(u)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,u){let h=4537077*o.getValue()+u.getValue(),p=new String(h).toString(),x=new Q;for(let O=13-p.length;O>0;O--)x.append("0");x.append(p);let _=0;for(let O=0;O<13;O++){let V=x.charAt(O).charCodeAt(0)-48;_+=(O&1)===0?3*V:V}_=10-_%10,_===10&&(_=0),x.append(_.toString());let w=o.getFinderPattern().getResultPoints(),I=u.getFinderPattern().getResultPoints();return new ie(x.toString(),null,0,[w[0],w[1],I[0],I[1]],ye.RSS_14,new Date().getTime())}static checkChecksum(o,u){let h=(o.getChecksumPortion()+16*u.getChecksumPortion())%79,p=9*o.getFinderPattern().getValue()+u.getFinderPattern().getValue();return p>72&&p--,p>8&&p--,h===p}decodePair(o,u,h,p){try{let x=this.findFinderPattern(o,u),_=this.parseFoundFinderPattern(o,h,u,x),w=p==null?null:p.get(ee.NEED_RESULT_POINT_CALLBACK);if(w!=null){let V=(x[0]+x[1])/2;u&&(V=o.getSize()-1-V),w.foundPossibleResultPoint(new vt(V,h))}let I=this.decodeDataCharacter(o,_,!0),O=this.decodeDataCharacter(o,_,!1);return new kr(1597*I.getValue()+O.getValue(),I.getChecksumPortion()+4*O.getChecksumPortion(),_)}catch{return null}}decodeDataCharacter(o,u,h){let p=this.getDataCharacterCounters();for(let Ne=0;Ne<p.length;Ne++)p[Ne]=0;if(h)Nt.recordPatternInReverse(o,u.getStartEnd()[0],p);else{Nt.recordPattern(o,u.getStartEnd()[1]+1,p);for(let Ne=0,He=p.length-1;Ne<He;Ne++,He--){let dt=p[Ne];p[Ne]=p[He],p[He]=dt}}let x=h?16:15,_=Ct.sum(new Int32Array(p))/x,w=this.getOddCounts(),I=this.getEvenCounts(),O=this.getOddRoundingErrors(),V=this.getEvenRoundingErrors();for(let Ne=0;Ne<p.length;Ne++){let He=p[Ne]/_,dt=Math.floor(He+.5);dt<1?dt=1:dt>8&&(dt=8);let ft=Math.floor(Ne/2);(Ne&1)===0?(w[ft]=dt,O[ft]=He-dt):(I[ft]=dt,V[ft]=He-dt)}this.adjustOddEvenCounts(h,x);let X=0,re=0;for(let Ne=w.length-1;Ne>=0;Ne--)re*=9,re+=w[Ne],X+=w[Ne];let de=0,we=0;for(let Ne=I.length-1;Ne>=0;Ne--)de*=9,de+=I[Ne],we+=I[Ne];let Te=re+3*de;if(h){if((X&1)!==0||X>12||X<4)throw new xe;let Ne=(12-X)/2,He=Lt.OUTSIDE_ODD_WIDEST[Ne],dt=9-He,ft=qr.getRSSvalue(w,He,!1),at=qr.getRSSvalue(I,dt,!0),gr=Lt.OUTSIDE_EVEN_TOTAL_SUBSET[Ne],er=Lt.OUTSIDE_GSUM[Ne];return new Hi(ft*gr+at+er,Te)}else{if((we&1)!==0||we>10||we<4)throw new xe;let Ne=(10-we)/2,He=Lt.INSIDE_ODD_WIDEST[Ne],dt=9-He,ft=qr.getRSSvalue(w,He,!0),at=qr.getRSSvalue(I,dt,!1),gr=Lt.INSIDE_ODD_TOTAL_SUBSET[Ne],er=Lt.INSIDE_GSUM[Ne];return new Hi(at*gr+ft+er,Te)}}findFinderPattern(o,u){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=o.getSize(),x=!1,_=0;for(;_<p&&(x=!o.get(_),u!==x);)_++;let w=0,I=_;for(let O=_;O<p;O++)if(o.get(O)!==x)h[w]++;else{if(w===3){if(On.isFinderPattern(h))return[I,O];I+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,w--}else w++;h[w]=1,x=!x}throw new xe}parseFoundFinderPattern(o,u,h,p){let x=o.get(p[0]),_=p[0]-1;for(;_>=0&&x!==o.get(_);)_--;_++;const w=p[0]-_,I=this.getDecodeFinderCounters(),O=new Int32Array(I.length);b.arraycopy(I,0,O,1,I.length-1),O[0]=w;const V=this.parseFinderValue(O,Lt.FINDER_PATTERNS);let X=_,re=p[1];return h&&(X=o.getSize()-1-X,re=o.getSize()-1-re),new Na(V,[_,p[1]],X,re,u)}adjustOddEvenCounts(o,u){let h=Ct.sum(new Int32Array(this.getOddCounts())),p=Ct.sum(new Int32Array(this.getEvenCounts())),x=!1,_=!1,w=!1,I=!1;o?(h>12?_=!0:h<4&&(x=!0),p>12?I=!0:p<4&&(w=!0)):(h>11?_=!0:h<5&&(x=!0),p>10?I=!0:p<4&&(w=!0));let O=h+p-u,V=(h&1)===(o?1:0),X=(p&1)===1;if(O===1)if(V){if(X)throw new xe;_=!0}else{if(!X)throw new xe;I=!0}else if(O===-1)if(V){if(X)throw new xe;x=!0}else{if(!X)throw new xe;w=!0}else if(O===0){if(V){if(!X)throw new xe;h<p?(x=!0,I=!0):(_=!0,w=!0)}else if(X)throw new xe}else throw new xe;if(x){if(_)throw new xe;On.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(_&&On.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(I)throw new xe;On.increment(this.getEvenCounts(),this.getOddRoundingErrors())}I&&On.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Lt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Lt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Lt.OUTSIDE_GSUM=[0,161,961,2015,2715],Lt.INSIDE_GSUM=[0,336,1036,1516],Lt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Lt.INSIDE_ODD_WIDEST=[2,4,6,8],Lt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Un extends Nt{constructor(o,u){super(),this.readers=[],this.verbose=u===!0;const h=o?o.get(ee.POSSIBLE_FORMATS):null,p=o&&o.get(ee.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;h?((h.includes(ye.EAN_13)||h.includes(ye.UPC_A)||h.includes(ye.EAN_8)||h.includes(ye.UPC_E))&&this.readers.push(new Us(o)),h.includes(ye.CODE_39)&&this.readers.push(new _r(p)),h.includes(ye.CODE_128)&&this.readers.push(new Je),h.includes(ye.ITF)&&this.readers.push(new Zt),h.includes(ye.RSS_14)&&this.readers.push(new Lt),h.includes(ye.RSS_EXPANDED)&&this.readers.push(new Xe(this.verbose))):(this.readers.push(new Us(o)),this.readers.push(new _r),this.readers.push(new Us(o)),this.readers.push(new Je),this.readers.push(new Zt),this.readers.push(new Lt),this.readers.push(new Xe(this.verbose)))}decodeRow(o,u,h){for(let p=0;p<this.readers.length;p++)try{return this.readers[p].decodeRow(o,u,h)}catch{}throw new xe}reset(){this.readers.forEach(o=>o.reset())}}class go extends he{constructor(o=500,u){super(new Un(u),o,u)}}class lr{constructor(o,u,h){this.ecCodewords=o,this.ecBlocks=[u],h&&this.ecBlocks.push(h)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Jt{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ir{constructor(o,u,h,p,x,_){this.versionNumber=o,this.symbolSizeRows=u,this.symbolSizeColumns=h,this.dataRegionSizeRows=p,this.dataRegionSizeColumns=x,this.ecBlocks=_;let w=0;const I=_.getECCodewords(),O=_.getECBlocks();for(let V of O)w+=V.getCount()*(V.getDataCodewords()+I);this.totalCodewords=w}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,u){if((o&1)!==0||(u&1)!==0)throw new L;for(let h of ir.VERSIONS)if(h.symbolSizeRows===o&&h.symbolSizeColumns===u)return h;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new ir(1,10,10,8,8,new lr(5,new Jt(1,3))),new ir(2,12,12,10,10,new lr(7,new Jt(1,5))),new ir(3,14,14,12,12,new lr(10,new Jt(1,8))),new ir(4,16,16,14,14,new lr(12,new Jt(1,12))),new ir(5,18,18,16,16,new lr(14,new Jt(1,18))),new ir(6,20,20,18,18,new lr(18,new Jt(1,22))),new ir(7,22,22,20,20,new lr(20,new Jt(1,30))),new ir(8,24,24,22,22,new lr(24,new Jt(1,36))),new ir(9,26,26,24,24,new lr(28,new Jt(1,44))),new ir(10,32,32,14,14,new lr(36,new Jt(1,62))),new ir(11,36,36,16,16,new lr(42,new Jt(1,86))),new ir(12,40,40,18,18,new lr(48,new Jt(1,114))),new ir(13,44,44,20,20,new lr(56,new Jt(1,144))),new ir(14,48,48,22,22,new lr(68,new Jt(1,174))),new ir(15,52,52,24,24,new lr(42,new Jt(2,102))),new ir(16,64,64,14,14,new lr(56,new Jt(2,140))),new ir(17,72,72,16,16,new lr(36,new Jt(4,92))),new ir(18,80,80,18,18,new lr(48,new Jt(4,114))),new ir(19,88,88,20,20,new lr(56,new Jt(4,144))),new ir(20,96,96,22,22,new lr(68,new Jt(4,174))),new ir(21,104,104,24,24,new lr(56,new Jt(6,136))),new ir(22,120,120,18,18,new lr(68,new Jt(6,175))),new ir(23,132,132,20,20,new lr(62,new Jt(8,163))),new ir(24,144,144,22,22,new lr(62,new Jt(8,156),new Jt(2,155))),new ir(25,8,18,6,16,new lr(7,new Jt(1,5))),new ir(26,8,32,6,14,new lr(11,new Jt(1,10))),new ir(27,12,26,10,24,new lr(14,new Jt(1,16))),new ir(28,12,36,10,16,new lr(18,new Jt(1,22))),new ir(29,16,36,14,16,new lr(24,new Jt(1,32))),new ir(30,16,48,14,22,new lr(28,new Jt(1,49)))]}}ir.VERSIONS=ir.buildVersions();class Xn{constructor(o){const u=o.getHeight();if(u<8||u>144||(u&1)!==0)throw new L;this.version=Xn.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new be(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const u=o.getHeight(),h=o.getWidth();return ir.getVersionForDimensions(u,h)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let u=0,h=4,p=0;const x=this.mappingBitMatrix.getHeight(),_=this.mappingBitMatrix.getWidth();let w=!1,I=!1,O=!1,V=!1;do if(h===x&&p===0&&!w)o[u++]=this.readCorner1(x,_)&255,h-=2,p+=2,w=!0;else if(h===x-2&&p===0&&(_&3)!==0&&!I)o[u++]=this.readCorner2(x,_)&255,h-=2,p+=2,I=!0;else if(h===x+4&&p===2&&(_&7)===0&&!O)o[u++]=this.readCorner3(x,_)&255,h-=2,p+=2,O=!0;else if(h===x-2&&p===0&&(_&7)===4&&!V)o[u++]=this.readCorner4(x,_)&255,h-=2,p+=2,V=!0;else{do h<x&&p>=0&&!this.readMappingMatrix.get(p,h)&&(o[u++]=this.readUtah(h,p,x,_)&255),h-=2,p+=2;while(h>=0&&p<_);h+=1,p+=3;do h>=0&&p<_&&!this.readMappingMatrix.get(p,h)&&(o[u++]=this.readUtah(h,p,x,_)&255),h+=2,p-=2;while(h<x&&p>=0);h+=3,p+=1}while(h<x||p<_);if(u!==this.version.getTotalCodewords())throw new L;return o}readModule(o,u,h,p){return o<0&&(o+=h,u+=4-(h+4&7)),u<0&&(u+=p,o+=4-(p+4&7)),this.readMappingMatrix.set(u,o),this.mappingBitMatrix.get(u,o)}readUtah(o,u,h,p){let x=0;return this.readModule(o-2,u-2,h,p)&&(x|=1),x<<=1,this.readModule(o-2,u-1,h,p)&&(x|=1),x<<=1,this.readModule(o-1,u-2,h,p)&&(x|=1),x<<=1,this.readModule(o-1,u-1,h,p)&&(x|=1),x<<=1,this.readModule(o-1,u,h,p)&&(x|=1),x<<=1,this.readModule(o,u-2,h,p)&&(x|=1),x<<=1,this.readModule(o,u-1,h,p)&&(x|=1),x<<=1,this.readModule(o,u,h,p)&&(x|=1),x}readCorner1(o,u){let h=0;return this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,1,o,u)&&(h|=1),h<<=1,this.readModule(o-1,2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h<<=1,this.readModule(2,u-1,o,u)&&(h|=1),h<<=1,this.readModule(3,u-1,o,u)&&(h|=1),h}readCorner2(o,u){let h=0;return this.readModule(o-3,0,o,u)&&(h|=1),h<<=1,this.readModule(o-2,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(0,u-4,o,u)&&(h|=1),h<<=1,this.readModule(0,u-3,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h}readCorner3(o,u){let h=0;return this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,u-1,o,u)&&(h|=1),h<<=1,this.readModule(0,u-3,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-3,o,u)&&(h|=1),h<<=1,this.readModule(1,u-2,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h}readCorner4(o,u){let h=0;return this.readModule(o-3,0,o,u)&&(h|=1),h<<=1,this.readModule(o-2,0,o,u)&&(h|=1),h<<=1,this.readModule(o-1,0,o,u)&&(h|=1),h<<=1,this.readModule(0,u-2,o,u)&&(h|=1),h<<=1,this.readModule(0,u-1,o,u)&&(h|=1),h<<=1,this.readModule(1,u-1,o,u)&&(h|=1),h<<=1,this.readModule(2,u-1,o,u)&&(h|=1),h<<=1,this.readModule(3,u-1,o,u)&&(h|=1),h}extractDataRegion(o){const u=this.version.getSymbolSizeRows(),h=this.version.getSymbolSizeColumns();if(o.getHeight()!==u)throw new E("Dimension of bitMatrix must match the version size");const p=this.version.getDataRegionSizeRows(),x=this.version.getDataRegionSizeColumns(),_=u/p|0,w=h/x|0,I=_*p,O=w*x,V=new be(O,I);for(let X=0;X<_;++X){const re=X*p;for(let de=0;de<w;++de){const we=de*x;for(let Te=0;Te<p;++Te){const Ne=X*(p+2)+1+Te,He=re+Te;for(let dt=0;dt<x;++dt){const ft=de*(x+2)+1+dt;if(o.get(ft,Ne)){const at=we+dt;V.set(at,He)}}}}}return V}}class Vs{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u){const h=u.getECBlocks();let p=0;const x=h.getECBlocks();for(let Te of x)p+=Te.getCount();const _=new Array(p);let w=0;for(let Te of x)for(let Ne=0;Ne<Te.getCount();Ne++){const He=Te.getDataCodewords(),dt=h.getECCodewords()+He;_[w++]=new Vs(He,new Uint8Array(dt))}const O=_[0].codewords.length-h.getECCodewords(),V=O-1;let X=0;for(let Te=0;Te<V;Te++)for(let Ne=0;Ne<w;Ne++)_[Ne].codewords[Te]=o[X++];const re=u.getVersionNumber()===24,de=re?8:w;for(let Te=0;Te<de;Te++)_[Te].codewords[O-1]=o[X++];const we=_[0].codewords.length;for(let Te=O;Te<we;Te++)for(let Ne=0;Ne<w;Ne++){const He=re?(Ne+8)%w:Ne,dt=re&&He>7?Te-1:Te;_[He].codewords[dt]=o[X++]}if(X!==o.length)throw new E;return _}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class da{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new E(""+o);let u=0,h=this.bitOffset,p=this.byteOffset;const x=this.bytes;if(h>0){const _=8-h,w=o<_?o:_,I=_-w,O=255>>8-w<<I;u=(x[p]&O)>>I,o-=w,h+=w,h===8&&(h=0,p++)}if(o>0){for(;o>=8;)u=u<<8|x[p]&255,p++,o-=8;if(o>0){const _=8-o,w=255>>_<<_;u=u<<o|(x[p]&w)>>_,h+=o}}return this.bitOffset=h,this.byteOffset=p,u}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ir;(function(W){W[W.PAD_ENCODE=0]="PAD_ENCODE",W[W.ASCII_ENCODE=1]="ASCII_ENCODE",W[W.C40_ENCODE=2]="C40_ENCODE",W[W.TEXT_ENCODE=3]="TEXT_ENCODE",W[W.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",W[W.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",W[W.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ir||(Ir={}));class ms{static decode(o){const u=new da(o),h=new Q,p=new Q,x=new Array;let _=Ir.ASCII_ENCODE;do if(_===Ir.ASCII_ENCODE)_=this.decodeAsciiSegment(u,h,p);else{switch(_){case Ir.C40_ENCODE:this.decodeC40Segment(u,h);break;case Ir.TEXT_ENCODE:this.decodeTextSegment(u,h);break;case Ir.ANSIX12_ENCODE:this.decodeAnsiX12Segment(u,h);break;case Ir.EDIFACT_ENCODE:this.decodeEdifactSegment(u,h);break;case Ir.BASE256_ENCODE:this.decodeBase256Segment(u,h,x);break;default:throw new L}_=Ir.ASCII_ENCODE}while(_!==Ir.PAD_ENCODE&&u.available()>0);return p.length()>0&&h.append(p.toString()),new Ve(o,h.toString(),x.length===0?null:x,null)}static decodeAsciiSegment(o,u,h){let p=!1;do{let x=o.readBits(8);if(x===0)throw new L;if(x<=128)return p&&(x+=128),u.append(String.fromCharCode(x-1)),Ir.ASCII_ENCODE;if(x===129)return Ir.PAD_ENCODE;if(x<=229){const _=x-130;_<10&&u.append("0"),u.append(""+_)}else switch(x){case 230:return Ir.C40_ENCODE;case 231:return Ir.BASE256_ENCODE;case 232:u.append("");break;case 233:case 234:break;case 235:p=!0;break;case 236:u.append("[)>05"),h.insert(0,"");break;case 237:u.append("[)>06"),h.insert(0,"");break;case 238:return Ir.ANSIX12_ENCODE;case 239:return Ir.TEXT_ENCODE;case 240:return Ir.EDIFACT_ENCODE;case 241:break;default:if(x!==254||o.available()!==0)throw new L;break}}while(o.available()>0);return Ir.ASCII_ENCODE}static decodeC40Segment(o,u){let h=!1;const p=[];let x=0;do{if(o.available()===8)return;const _=o.readBits(8);if(_===254)return;this.parseTwoBytes(_,o.readBits(8),p);for(let w=0;w<3;w++){const I=p[w];switch(x){case 0:if(I<3)x=I+1;else if(I<this.C40_BASIC_SET_CHARS.length){const O=this.C40_BASIC_SET_CHARS[I];h?(u.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):u.append(O)}else throw new L;break;case 1:h?(u.append(String.fromCharCode(I+128)),h=!1):u.append(String.fromCharCode(I)),x=0;break;case 2:if(I<this.C40_SHIFT2_SET_CHARS.length){const O=this.C40_SHIFT2_SET_CHARS[I];h?(u.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):u.append(O)}else switch(I){case 27:u.append("");break;case 30:h=!0;break;default:throw new L}x=0;break;case 3:h?(u.append(String.fromCharCode(I+224)),h=!1):u.append(String.fromCharCode(I+96)),x=0;break;default:throw new L}}}while(o.available()>0)}static decodeTextSegment(o,u){let h=!1,p=[],x=0;do{if(o.available()===8)return;const _=o.readBits(8);if(_===254)return;this.parseTwoBytes(_,o.readBits(8),p);for(let w=0;w<3;w++){const I=p[w];switch(x){case 0:if(I<3)x=I+1;else if(I<this.TEXT_BASIC_SET_CHARS.length){const O=this.TEXT_BASIC_SET_CHARS[I];h?(u.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):u.append(O)}else throw new L;break;case 1:h?(u.append(String.fromCharCode(I+128)),h=!1):u.append(String.fromCharCode(I)),x=0;break;case 2:if(I<this.TEXT_SHIFT2_SET_CHARS.length){const O=this.TEXT_SHIFT2_SET_CHARS[I];h?(u.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):u.append(O)}else switch(I){case 27:u.append("");break;case 30:h=!0;break;default:throw new L}x=0;break;case 3:if(I<this.TEXT_SHIFT3_SET_CHARS.length){const O=this.TEXT_SHIFT3_SET_CHARS[I];h?(u.append(String.fromCharCode(O.charCodeAt(0)+128)),h=!1):u.append(O),x=0}else throw new L;break;default:throw new L}}}while(o.available()>0)}static decodeAnsiX12Segment(o,u){const h=[];do{if(o.available()===8)return;const p=o.readBits(8);if(p===254)return;this.parseTwoBytes(p,o.readBits(8),h);for(let x=0;x<3;x++){const _=h[x];switch(_){case 0:u.append("\r");break;case 1:u.append("*");break;case 2:u.append(">");break;case 3:u.append(" ");break;default:if(_<14)u.append(String.fromCharCode(_+44));else if(_<40)u.append(String.fromCharCode(_+51));else throw new L;break}}}while(o.available()>0)}static parseTwoBytes(o,u,h){let p=(o<<8)+u-1,x=Math.floor(p/1600);h[0]=x,p-=x*1600,x=Math.floor(p/40),h[1]=x,h[2]=p-x*40}static decodeEdifactSegment(o,u){do{if(o.available()<=16)return;for(let h=0;h<4;h++){let p=o.readBits(6);if(p===31){const x=8-o.getBitOffset();x!==8&&o.readBits(x);return}(p&32)===0&&(p|=64),u.append(String.fromCharCode(p))}}while(o.available()>0)}static decodeBase256Segment(o,u,h){let p=1+o.getByteOffset();const x=this.unrandomize255State(o.readBits(8),p++);let _;if(x===0?_=o.available()/8|0:x<250?_=x:_=250*(x-249)+this.unrandomize255State(o.readBits(8),p++),_<0)throw new L;const w=new Uint8Array(_);for(let I=0;I<_;I++){if(o.available()<8)throw new L;w[I]=this.unrandomize255State(o.readBits(8),p++)}h.push(w);try{u.append(K.decode(w,M.ISO88591))}catch(I){throw new Wt("Platform does not support required encoding: "+I.message)}}static unrandomize255State(o,u){const h=149*u%255+1,p=o-h;return p>=0?p:p+256}}ms.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ms.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ms.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ms.TEXT_SHIFT2_SET_CHARS=ms.C40_SHIFT2_SET_CHARS,ms.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Q0{constructor(){this.rsDecoder=new jt(wt.DATA_MATRIX_FIELD_256)}decode(o){const u=new Xn(o),h=u.getVersion(),p=u.readCodewords(),x=Vs.getDataBlocks(p,h);let _=0;for(let O of x)_+=O.getNumDataCodewords();const w=new Uint8Array(_),I=x.length;for(let O=0;O<I;O++){const V=x[O],X=V.getCodewords(),re=V.getNumDataCodewords();this.correctErrors(X,re);for(let de=0;de<re;de++)w[de*I+O]=X[de]}return ms.decode(w)}correctErrors(o,u){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-u)}catch{throw new C}for(let p=0;p<u;p++)o[p]=h[p]}}class un{constructor(o){this.image=o,this.rectangleDetector=new rr(this.image)}detect(){const o=this.rectangleDetector.detect();let u=this.detectSolid1(o);if(u=this.detectSolid2(u),u[3]=this.correctTopRight(u),!u[3])throw new xe;u=this.shiftToModuleCenter(u);const h=u[0],p=u[1],x=u[2],_=u[3];let w=this.transitionsBetween(h,_)+1,I=this.transitionsBetween(x,_)+1;(w&1)===1&&(w+=1),(I&1)===1&&(I+=1),4*w<7*I&&4*I<7*w&&(w=I=Math.max(w,I));let O=un.sampleGrid(this.image,h,p,x,_,w,I);return new _i(O,[h,p,x,_])}static shiftPoint(o,u,h){let p=(u.getX()-o.getX())/(h+1),x=(u.getY()-o.getY())/(h+1);return new vt(o.getX()+p,o.getY()+x)}static moveAway(o,u,h){let p=o.getX(),x=o.getY();return p<u?p-=1:p+=1,x<h?x-=1:x+=1,new vt(p,x)}detectSolid1(o){let u=o[0],h=o[1],p=o[3],x=o[2],_=this.transitionsBetween(u,h),w=this.transitionsBetween(h,p),I=this.transitionsBetween(p,x),O=this.transitionsBetween(x,u),V=_,X=[x,u,h,p];return V>w&&(V=w,X[0]=u,X[1]=h,X[2]=p,X[3]=x),V>I&&(V=I,X[0]=h,X[1]=p,X[2]=x,X[3]=u),V>O&&(X[0]=p,X[1]=x,X[2]=u,X[3]=h),X}detectSolid2(o){let u=o[0],h=o[1],p=o[2],x=o[3],_=this.transitionsBetween(u,x),w=un.shiftPoint(h,p,(_+1)*4),I=un.shiftPoint(p,h,(_+1)*4),O=this.transitionsBetween(w,u),V=this.transitionsBetween(I,x);return O<V?(o[0]=u,o[1]=h,o[2]=p,o[3]=x):(o[0]=h,o[1]=p,o[2]=x,o[3]=u),o}correctTopRight(o){let u=o[0],h=o[1],p=o[2],x=o[3],_=this.transitionsBetween(u,x),w=this.transitionsBetween(h,x),I=un.shiftPoint(u,h,(w+1)*4),O=un.shiftPoint(p,h,(_+1)*4);_=this.transitionsBetween(I,x),w=this.transitionsBetween(O,x);let V=new vt(x.getX()+(p.getX()-h.getX())/(_+1),x.getY()+(p.getY()-h.getY())/(_+1)),X=new vt(x.getX()+(u.getX()-h.getX())/(w+1),x.getY()+(u.getY()-h.getY())/(w+1));if(!this.isValid(V))return this.isValid(X)?X:null;if(!this.isValid(X))return V;let re=this.transitionsBetween(I,V)+this.transitionsBetween(O,V),de=this.transitionsBetween(I,X)+this.transitionsBetween(O,X);return re>de?V:X}shiftToModuleCenter(o){let u=o[0],h=o[1],p=o[2],x=o[3],_=this.transitionsBetween(u,x)+1,w=this.transitionsBetween(p,x)+1,I=un.shiftPoint(u,h,w*4),O=un.shiftPoint(p,h,_*4);_=this.transitionsBetween(I,x)+1,w=this.transitionsBetween(O,x)+1,(_&1)===1&&(_+=1),(w&1)===1&&(w+=1);let V=(u.getX()+h.getX()+p.getX()+x.getX())/4,X=(u.getY()+h.getY()+p.getY()+x.getY())/4;u=un.moveAway(u,V,X),h=un.moveAway(h,V,X),p=un.moveAway(p,V,X),x=un.moveAway(x,V,X);let re,de;return I=un.shiftPoint(u,h,w*4),I=un.shiftPoint(I,x,_*4),re=un.shiftPoint(h,u,w*4),re=un.shiftPoint(re,p,_*4),O=un.shiftPoint(p,x,w*4),O=un.shiftPoint(O,h,_*4),de=un.shiftPoint(x,p,w*4),de=un.shiftPoint(de,u,_*4),[I,re,O,de]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,u,h,p,x,_,w){return yr.getInstance().sampleGrid(o,_,w,.5,.5,_-.5,.5,_-.5,w-.5,.5,w-.5,u.getX(),u.getY(),x.getX(),x.getY(),p.getX(),p.getY(),h.getX(),h.getY())}transitionsBetween(o,u){let h=Math.trunc(o.getX()),p=Math.trunc(o.getY()),x=Math.trunc(u.getX()),_=Math.trunc(u.getY()),w=Math.abs(_-p)>Math.abs(x-h);if(w){let Te=h;h=p,p=Te,Te=x,x=_,_=Te}let I=Math.abs(x-h),O=Math.abs(_-p),V=-I/2,X=p<_?1:-1,re=h<x?1:-1,de=0,we=this.image.get(w?p:h,w?h:p);for(let Te=h,Ne=p;Te!==x;Te+=re){let He=this.image.get(w?Ne:Te,w?Te:Ne);if(He!==we&&(de++,we=He),V+=O,V>0){if(Ne===_)break;Ne+=X,V-=I}}return de}}class Wa{constructor(){this.decoder=new Q0}decode(o,u=null){let h,p;if(u!=null&&u.has(ee.PURE_BARCODE)){const O=Wa.extractPureBits(o.getBlackMatrix());h=this.decoder.decode(O),p=Wa.NO_POINTS}else{const O=new un(o.getBlackMatrix()).detect();h=this.decoder.decode(O.getBits()),p=O.getPoints()}const x=h.getRawBytes(),_=new ie(h.getText(),x,8*x.length,p,ye.DATA_MATRIX,b.currentTimeMillis()),w=h.getByteSegments();w!=null&&_.putMetadata(je.BYTE_SEGMENTS,w);const I=h.getECLevel();return I!=null&&_.putMetadata(je.ERROR_CORRECTION_LEVEL,I),_}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(u==null||h==null)throw new xe;const p=this.moduleSize(u,o);let x=u[1];const _=h[1];let w=u[0];const O=(h[0]-w+1)/p,V=(_-x+1)/p;if(O<=0||V<=0)throw new xe;const X=p/2;x+=X,w+=X;const re=new be(O,V);for(let de=0;de<V;de++){const we=x+de*p;for(let Te=0;Te<O;Te++)o.get(w+Te*p,we)&&re.set(Te,de)}return re}static moduleSize(o,u){const h=u.getWidth();let p=o[0];const x=o[1];for(;p<h&&u.get(p,x);)p++;if(p===h)throw new xe;const _=p-o[0];if(_===0)throw new xe;return _}}Wa.NO_POINTS=[];class ic extends he{constructor(o=500){super(new Wa,o)}}var ga;(function(W){W[W.L=0]="L",W[W.M=1]="M",W[W.Q=2]="Q",W[W.H=3]="H"})(ga||(ga={}));class qt{constructor(o,u,h){this.value=o,this.stringValue=u,this.bits=h,qt.FOR_BITS.set(h,this),qt.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return qt.L;case"M":return qt.M;case"Q":return qt.Q;case"H":return qt.H;default:throw new y(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof qt))return!1;const u=o;return this.value===u.value}static forBits(o){if(o<0||o>=qt.FOR_BITS.size)throw new E;return qt.FOR_BITS.get(o)}}qt.FOR_BITS=new Map,qt.FOR_VALUE=new Map,qt.L=new qt(ga.L,"L",1),qt.M=new qt(ga.M,"M",0),qt.Q=new qt(ga.Q,"Q",3),qt.H=new qt(ga.H,"H",2);class An{constructor(o){this.errorCorrectionLevel=qt.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,u){return B.bitCount(o^u)}static decodeFormatInformation(o,u){const h=An.doDecodeFormatInformation(o,u);return h!==null?h:An.doDecodeFormatInformation(o^An.FORMAT_INFO_MASK_QR,u^An.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,u){let h=Number.MAX_SAFE_INTEGER,p=0;for(const x of An.FORMAT_INFO_DECODE_LOOKUP){const _=x[0];if(_===o||_===u)return new An(x[1]);let w=An.numBitsDiffering(o,_);w<h&&(p=x[1],h=w),o!==u&&(w=An.numBitsDiffering(u,_),w<h&&(p=x[1],h=w))}return h<=3?new An(p):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof An))return!1;const u=o;return this.errorCorrectionLevel===u.errorCorrectionLevel&&this.dataMask===u.dataMask}}An.FORMAT_INFO_MASK_QR=21522,An.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Oe{constructor(o,...u){this.ecCodewordsPerBlock=o,this.ecBlocks=u}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const u=this.ecBlocks;for(const h of u)o+=h.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ue{constructor(o,u){this.count=o,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class mt{constructor(o,u,...h){this.versionNumber=o,this.alignmentPatternCenters=u,this.ecBlocks=h;let p=0;const x=h[0].getECCodewordsPerBlock(),_=h[0].getECBlocks();for(const w of _)p+=w.getCount()*(w.getDataCodewords()+x);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new L;try{return this.getVersionForNumber((o-17)/4)}catch{throw new L}}static getVersionForNumber(o){if(o<1||o>40)throw new E;return mt.VERSIONS[o-1]}static decodeVersionInformation(o){let u=Number.MAX_SAFE_INTEGER,h=0;for(let p=0;p<mt.VERSION_DECODE_INFO.length;p++){const x=mt.VERSION_DECODE_INFO[p];if(x===o)return mt.getVersionForNumber(p+7);const _=An.numBitsDiffering(o,x);_<u&&(h=p+7,u=_)}return u<=3?mt.getVersionForNumber(h):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),u=new be(o);u.setRegion(0,0,9,9),u.setRegion(o-8,0,8,9),u.setRegion(0,o-8,9,8);const h=this.alignmentPatternCenters.length;for(let p=0;p<h;p++){const x=this.alignmentPatternCenters[p]-2;for(let _=0;_<h;_++)p===0&&(_===0||_===h-1)||p===h-1&&_===0||u.setRegion(this.alignmentPatternCenters[_]-2,x,5,5)}return u.setRegion(6,9,1,o-17),u.setRegion(9,6,o-17,1),this.versionNumber>6&&(u.setRegion(o-11,0,3,6),u.setRegion(0,o-11,6,3)),u}toString(){return""+this.versionNumber}}mt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),mt.VERSIONS=[new mt(1,new Int32Array(0),new Oe(7,new ue(1,19)),new Oe(10,new ue(1,16)),new Oe(13,new ue(1,13)),new Oe(17,new ue(1,9))),new mt(2,Int32Array.from([6,18]),new Oe(10,new ue(1,34)),new Oe(16,new ue(1,28)),new Oe(22,new ue(1,22)),new Oe(28,new ue(1,16))),new mt(3,Int32Array.from([6,22]),new Oe(15,new ue(1,55)),new Oe(26,new ue(1,44)),new Oe(18,new ue(2,17)),new Oe(22,new ue(2,13))),new mt(4,Int32Array.from([6,26]),new Oe(20,new ue(1,80)),new Oe(18,new ue(2,32)),new Oe(26,new ue(2,24)),new Oe(16,new ue(4,9))),new mt(5,Int32Array.from([6,30]),new Oe(26,new ue(1,108)),new Oe(24,new ue(2,43)),new Oe(18,new ue(2,15),new ue(2,16)),new Oe(22,new ue(2,11),new ue(2,12))),new mt(6,Int32Array.from([6,34]),new Oe(18,new ue(2,68)),new Oe(16,new ue(4,27)),new Oe(24,new ue(4,19)),new Oe(28,new ue(4,15))),new mt(7,Int32Array.from([6,22,38]),new Oe(20,new ue(2,78)),new Oe(18,new ue(4,31)),new Oe(18,new ue(2,14),new ue(4,15)),new Oe(26,new ue(4,13),new ue(1,14))),new mt(8,Int32Array.from([6,24,42]),new Oe(24,new ue(2,97)),new Oe(22,new ue(2,38),new ue(2,39)),new Oe(22,new ue(4,18),new ue(2,19)),new Oe(26,new ue(4,14),new ue(2,15))),new mt(9,Int32Array.from([6,26,46]),new Oe(30,new ue(2,116)),new Oe(22,new ue(3,36),new ue(2,37)),new Oe(20,new ue(4,16),new ue(4,17)),new Oe(24,new ue(4,12),new ue(4,13))),new mt(10,Int32Array.from([6,28,50]),new Oe(18,new ue(2,68),new ue(2,69)),new Oe(26,new ue(4,43),new ue(1,44)),new Oe(24,new ue(6,19),new ue(2,20)),new Oe(28,new ue(6,15),new ue(2,16))),new mt(11,Int32Array.from([6,30,54]),new Oe(20,new ue(4,81)),new Oe(30,new ue(1,50),new ue(4,51)),new Oe(28,new ue(4,22),new ue(4,23)),new Oe(24,new ue(3,12),new ue(8,13))),new mt(12,Int32Array.from([6,32,58]),new Oe(24,new ue(2,92),new ue(2,93)),new Oe(22,new ue(6,36),new ue(2,37)),new Oe(26,new ue(4,20),new ue(6,21)),new Oe(28,new ue(7,14),new ue(4,15))),new mt(13,Int32Array.from([6,34,62]),new Oe(26,new ue(4,107)),new Oe(22,new ue(8,37),new ue(1,38)),new Oe(24,new ue(8,20),new ue(4,21)),new Oe(22,new ue(12,11),new ue(4,12))),new mt(14,Int32Array.from([6,26,46,66]),new Oe(30,new ue(3,115),new ue(1,116)),new Oe(24,new ue(4,40),new ue(5,41)),new Oe(20,new ue(11,16),new ue(5,17)),new Oe(24,new ue(11,12),new ue(5,13))),new mt(15,Int32Array.from([6,26,48,70]),new Oe(22,new ue(5,87),new ue(1,88)),new Oe(24,new ue(5,41),new ue(5,42)),new Oe(30,new ue(5,24),new ue(7,25)),new Oe(24,new ue(11,12),new ue(7,13))),new mt(16,Int32Array.from([6,26,50,74]),new Oe(24,new ue(5,98),new ue(1,99)),new Oe(28,new ue(7,45),new ue(3,46)),new Oe(24,new ue(15,19),new ue(2,20)),new Oe(30,new ue(3,15),new ue(13,16))),new mt(17,Int32Array.from([6,30,54,78]),new Oe(28,new ue(1,107),new ue(5,108)),new Oe(28,new ue(10,46),new ue(1,47)),new Oe(28,new ue(1,22),new ue(15,23)),new Oe(28,new ue(2,14),new ue(17,15))),new mt(18,Int32Array.from([6,30,56,82]),new Oe(30,new ue(5,120),new ue(1,121)),new Oe(26,new ue(9,43),new ue(4,44)),new Oe(28,new ue(17,22),new ue(1,23)),new Oe(28,new ue(2,14),new ue(19,15))),new mt(19,Int32Array.from([6,30,58,86]),new Oe(28,new ue(3,113),new ue(4,114)),new Oe(26,new ue(3,44),new ue(11,45)),new Oe(26,new ue(17,21),new ue(4,22)),new Oe(26,new ue(9,13),new ue(16,14))),new mt(20,Int32Array.from([6,34,62,90]),new Oe(28,new ue(3,107),new ue(5,108)),new Oe(26,new ue(3,41),new ue(13,42)),new Oe(30,new ue(15,24),new ue(5,25)),new Oe(28,new ue(15,15),new ue(10,16))),new mt(21,Int32Array.from([6,28,50,72,94]),new Oe(28,new ue(4,116),new ue(4,117)),new Oe(26,new ue(17,42)),new Oe(28,new ue(17,22),new ue(6,23)),new Oe(30,new ue(19,16),new ue(6,17))),new mt(22,Int32Array.from([6,26,50,74,98]),new Oe(28,new ue(2,111),new ue(7,112)),new Oe(28,new ue(17,46)),new Oe(30,new ue(7,24),new ue(16,25)),new Oe(24,new ue(34,13))),new mt(23,Int32Array.from([6,30,54,78,102]),new Oe(30,new ue(4,121),new ue(5,122)),new Oe(28,new ue(4,47),new ue(14,48)),new Oe(30,new ue(11,24),new ue(14,25)),new Oe(30,new ue(16,15),new ue(14,16))),new mt(24,Int32Array.from([6,28,54,80,106]),new Oe(30,new ue(6,117),new ue(4,118)),new Oe(28,new ue(6,45),new ue(14,46)),new Oe(30,new ue(11,24),new ue(16,25)),new Oe(30,new ue(30,16),new ue(2,17))),new mt(25,Int32Array.from([6,32,58,84,110]),new Oe(26,new ue(8,106),new ue(4,107)),new Oe(28,new ue(8,47),new ue(13,48)),new Oe(30,new ue(7,24),new ue(22,25)),new Oe(30,new ue(22,15),new ue(13,16))),new mt(26,Int32Array.from([6,30,58,86,114]),new Oe(28,new ue(10,114),new ue(2,115)),new Oe(28,new ue(19,46),new ue(4,47)),new Oe(28,new ue(28,22),new ue(6,23)),new Oe(30,new ue(33,16),new ue(4,17))),new mt(27,Int32Array.from([6,34,62,90,118]),new Oe(30,new ue(8,122),new ue(4,123)),new Oe(28,new ue(22,45),new ue(3,46)),new Oe(30,new ue(8,23),new ue(26,24)),new Oe(30,new ue(12,15),new ue(28,16))),new mt(28,Int32Array.from([6,26,50,74,98,122]),new Oe(30,new ue(3,117),new ue(10,118)),new Oe(28,new ue(3,45),new ue(23,46)),new Oe(30,new ue(4,24),new ue(31,25)),new Oe(30,new ue(11,15),new ue(31,16))),new mt(29,Int32Array.from([6,30,54,78,102,126]),new Oe(30,new ue(7,116),new ue(7,117)),new Oe(28,new ue(21,45),new ue(7,46)),new Oe(30,new ue(1,23),new ue(37,24)),new Oe(30,new ue(19,15),new ue(26,16))),new mt(30,Int32Array.from([6,26,52,78,104,130]),new Oe(30,new ue(5,115),new ue(10,116)),new Oe(28,new ue(19,47),new ue(10,48)),new Oe(30,new ue(15,24),new ue(25,25)),new Oe(30,new ue(23,15),new ue(25,16))),new mt(31,Int32Array.from([6,30,56,82,108,134]),new Oe(30,new ue(13,115),new ue(3,116)),new Oe(28,new ue(2,46),new ue(29,47)),new Oe(30,new ue(42,24),new ue(1,25)),new Oe(30,new ue(23,15),new ue(28,16))),new mt(32,Int32Array.from([6,34,60,86,112,138]),new Oe(30,new ue(17,115)),new Oe(28,new ue(10,46),new ue(23,47)),new Oe(30,new ue(10,24),new ue(35,25)),new Oe(30,new ue(19,15),new ue(35,16))),new mt(33,Int32Array.from([6,30,58,86,114,142]),new Oe(30,new ue(17,115),new ue(1,116)),new Oe(28,new ue(14,46),new ue(21,47)),new Oe(30,new ue(29,24),new ue(19,25)),new Oe(30,new ue(11,15),new ue(46,16))),new mt(34,Int32Array.from([6,34,62,90,118,146]),new Oe(30,new ue(13,115),new ue(6,116)),new Oe(28,new ue(14,46),new ue(23,47)),new Oe(30,new ue(44,24),new ue(7,25)),new Oe(30,new ue(59,16),new ue(1,17))),new mt(35,Int32Array.from([6,30,54,78,102,126,150]),new Oe(30,new ue(12,121),new ue(7,122)),new Oe(28,new ue(12,47),new ue(26,48)),new Oe(30,new ue(39,24),new ue(14,25)),new Oe(30,new ue(22,15),new ue(41,16))),new mt(36,Int32Array.from([6,24,50,76,102,128,154]),new Oe(30,new ue(6,121),new ue(14,122)),new Oe(28,new ue(6,47),new ue(34,48)),new Oe(30,new ue(46,24),new ue(10,25)),new Oe(30,new ue(2,15),new ue(64,16))),new mt(37,Int32Array.from([6,28,54,80,106,132,158]),new Oe(30,new ue(17,122),new ue(4,123)),new Oe(28,new ue(29,46),new ue(14,47)),new Oe(30,new ue(49,24),new ue(10,25)),new Oe(30,new ue(24,15),new ue(46,16))),new mt(38,Int32Array.from([6,32,58,84,110,136,162]),new Oe(30,new ue(4,122),new ue(18,123)),new Oe(28,new ue(13,46),new ue(32,47)),new Oe(30,new ue(48,24),new ue(14,25)),new Oe(30,new ue(42,15),new ue(32,16))),new mt(39,Int32Array.from([6,26,54,82,110,138,166]),new Oe(30,new ue(20,117),new ue(4,118)),new Oe(28,new ue(40,47),new ue(7,48)),new Oe(30,new ue(43,24),new ue(22,25)),new Oe(30,new ue(10,15),new ue(67,16))),new mt(40,Int32Array.from([6,30,58,86,114,142,170]),new Oe(30,new ue(19,118),new ue(6,119)),new Oe(28,new ue(18,47),new ue(31,48)),new Oe(30,new ue(34,24),new ue(34,25)),new Oe(30,new ue(20,15),new ue(61,16)))];var En;(function(W){W[W.DATA_MASK_000=0]="DATA_MASK_000",W[W.DATA_MASK_001=1]="DATA_MASK_001",W[W.DATA_MASK_010=2]="DATA_MASK_010",W[W.DATA_MASK_011=3]="DATA_MASK_011",W[W.DATA_MASK_100=4]="DATA_MASK_100",W[W.DATA_MASK_101=5]="DATA_MASK_101",W[W.DATA_MASK_110=6]="DATA_MASK_110",W[W.DATA_MASK_111=7]="DATA_MASK_111"})(En||(En={}));class ui{constructor(o,u){this.value=o,this.isMasked=u}unmaskBitMatrix(o,u){for(let h=0;h<u;h++)for(let p=0;p<u;p++)this.isMasked(h,p)&&o.flip(p,h)}}ui.values=new Map([[En.DATA_MASK_000,new ui(En.DATA_MASK_000,(W,o)=>(W+o&1)===0)],[En.DATA_MASK_001,new ui(En.DATA_MASK_001,(W,o)=>(W&1)===0)],[En.DATA_MASK_010,new ui(En.DATA_MASK_010,(W,o)=>o%3===0)],[En.DATA_MASK_011,new ui(En.DATA_MASK_011,(W,o)=>(W+o)%3===0)],[En.DATA_MASK_100,new ui(En.DATA_MASK_100,(W,o)=>(Math.floor(W/2)+Math.floor(o/3)&1)===0)],[En.DATA_MASK_101,new ui(En.DATA_MASK_101,(W,o)=>W*o%6===0)],[En.DATA_MASK_110,new ui(En.DATA_MASK_110,(W,o)=>W*o%6<3)],[En.DATA_MASK_111,new ui(En.DATA_MASK_111,(W,o)=>(W+o+W*o%3&1)===0)]]);class qa{constructor(o){const u=o.getHeight();if(u<21||(u&3)!==1)throw new L;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let x=0;x<6;x++)o=this.copyBit(x,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let x=5;x>=0;x--)o=this.copyBit(8,x,o);const u=this.bitMatrix.getHeight();let h=0;const p=u-7;for(let x=u-1;x>=p;x--)h=this.copyBit(8,x,h);for(let x=u-8;x<u;x++)h=this.copyBit(x,8,h);if(this.parsedFormatInfo=An.decodeFormatInformation(o,h),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),u=Math.floor((o-17)/4);if(u<=6)return mt.getVersionForNumber(u);let h=0;const p=o-11;for(let _=5;_>=0;_--)for(let w=o-9;w>=p;w--)h=this.copyBit(w,_,h);let x=mt.decodeVersionInformation(h);if(x!==null&&x.getDimensionForVersion()===o)return this.parsedVersion=x,x;h=0;for(let _=5;_>=0;_--)for(let w=o-9;w>=p;w--)h=this.copyBit(_,w,h);if(x=mt.decodeVersionInformation(h),x!==null&&x.getDimensionForVersion()===o)return this.parsedVersion=x,x;throw new L}copyBit(o,u,h){return(this.isMirror?this.bitMatrix.get(u,o):this.bitMatrix.get(o,u))?h<<1|1:h<<1}readCodewords(){const o=this.readFormatInformation(),u=this.readVersion(),h=ui.values.get(o.getDataMask()),p=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,p);const x=u.buildFunctionPattern();let _=!0;const w=new Uint8Array(u.getTotalCodewords());let I=0,O=0,V=0;for(let X=p-1;X>0;X-=2){X===6&&X--;for(let re=0;re<p;re++){const de=_?p-1-re:re;for(let we=0;we<2;we++)x.get(X-we,de)||(V++,O<<=1,this.bitMatrix.get(X-we,de)&&(O|=1),V===8&&(w[I++]=O,V=0,O=0))}_=!_}if(I!==u.getTotalCodewords())throw new L;return w}remask(){if(this.parsedFormatInfo===null)return;const o=ui.values[this.parsedFormatInfo.getDataMask()],u=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,u)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let u=0,h=o.getWidth();u<h;u++)for(let p=u+1,x=o.getHeight();p<x;p++)o.get(u,p)!==o.get(p,u)&&(o.flip(p,u),o.flip(u,p))}}class pu{constructor(o,u){this.numDataCodewords=o,this.codewords=u}static getDataBlocks(o,u,h){if(o.length!==u.getTotalCodewords())throw new E;const p=u.getECBlocksForLevel(h);let x=0;const _=p.getECBlocks();for(const we of _)x+=we.getCount();const w=new Array(x);let I=0;for(const we of _)for(let Te=0;Te<we.getCount();Te++){const Ne=we.getDataCodewords(),He=p.getECCodewordsPerBlock()+Ne;w[I++]=new pu(Ne,new Uint8Array(He))}const O=w[0].codewords.length;let V=w.length-1;for(;V>=0&&w[V].codewords.length!==O;)V--;V++;const X=O-p.getECCodewordsPerBlock();let re=0;for(let we=0;we<X;we++)for(let Te=0;Te<I;Te++)w[Te].codewords[we]=o[re++];for(let we=V;we<I;we++)w[we].codewords[X]=o[re++];const de=w[0].codewords.length;for(let we=X;we<de;we++)for(let Te=0;Te<I;Te++){const Ne=Te<V?we:we+1;w[Te].codewords[Ne]=o[re++]}return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Gi;(function(W){W[W.TERMINATOR=0]="TERMINATOR",W[W.NUMERIC=1]="NUMERIC",W[W.ALPHANUMERIC=2]="ALPHANUMERIC",W[W.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",W[W.BYTE=4]="BYTE",W[W.ECI=5]="ECI",W[W.KANJI=6]="KANJI",W[W.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",W[W.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",W[W.HANZI=9]="HANZI"})(Gi||(Gi={}));class Dt{constructor(o,u,h,p){this.value=o,this.stringValue=u,this.characterCountBitsForVersions=h,this.bits=p,Dt.FOR_BITS.set(p,this),Dt.FOR_VALUE.set(o,this)}static forBits(o){const u=Dt.FOR_BITS.get(o);if(u===void 0)throw new E;return u}getCharacterCountBits(o){const u=o.getVersionNumber();let h;return u<=9?h=0:u<=26?h=1:h=2,this.characterCountBitsForVersions[h]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof Dt))return!1;const u=o;return this.value===u.value}toString(){return this.stringValue}}Dt.FOR_BITS=new Map,Dt.FOR_VALUE=new Map,Dt.TERMINATOR=new Dt(Gi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Dt.NUMERIC=new Dt(Gi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Dt.ALPHANUMERIC=new Dt(Gi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Dt.STRUCTURED_APPEND=new Dt(Gi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Dt.BYTE=new Dt(Gi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Dt.ECI=new Dt(Gi.ECI,"ECI",Int32Array.from([0,0,0]),7),Dt.KANJI=new Dt(Gi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Dt.FNC1_FIRST_POSITION=new Dt(Gi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Dt.FNC1_SECOND_POSITION=new Dt(Gi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Dt.HANZI=new Dt(Gi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class $r{static decode(o,u,h,p){const x=new da(o);let _=new Q;const w=new Array;let I=-1,O=-1;try{let V=null,X=!1,re;do{if(x.available()<4)re=Dt.TERMINATOR;else{const de=x.readBits(4);re=Dt.forBits(de)}switch(re){case Dt.TERMINATOR:break;case Dt.FNC1_FIRST_POSITION:case Dt.FNC1_SECOND_POSITION:X=!0;break;case Dt.STRUCTURED_APPEND:if(x.available()<16)throw new L;I=x.readBits(8),O=x.readBits(8);break;case Dt.ECI:const de=$r.parseECIValue(x);if(V=U.getCharacterSetECIByValue(de),V===null)throw new L;break;case Dt.HANZI:const we=x.readBits(4),Te=x.readBits(re.getCharacterCountBits(u));we===$r.GB2312_SUBSET&&$r.decodeHanziSegment(x,_,Te);break;default:const Ne=x.readBits(re.getCharacterCountBits(u));switch(re){case Dt.NUMERIC:$r.decodeNumericSegment(x,_,Ne);break;case Dt.ALPHANUMERIC:$r.decodeAlphanumericSegment(x,_,Ne,X);break;case Dt.BYTE:$r.decodeByteSegment(x,_,Ne,V,w,p);break;case Dt.KANJI:$r.decodeKanjiSegment(x,_,Ne);break;default:throw new L}break}}while(re!==Dt.TERMINATOR)}catch{throw new L}return new Ve(o,_.toString(),w.length===0?null:w,h===null?null:h.toString(),I,O)}static decodeHanziSegment(o,u,h){if(h*13>o.available())throw new L;const p=new Uint8Array(2*h);let x=0;for(;h>0;){const _=o.readBits(13);let w=_/96<<8&4294967295|_%96;w<959?w+=41377:w+=42657,p[x]=w>>8&255,p[x+1]=w&255,x+=2,h--}try{u.append(K.decode(p,M.GB2312))}catch(_){throw new L(_)}}static decodeKanjiSegment(o,u,h){if(h*13>o.available())throw new L;const p=new Uint8Array(2*h);let x=0;for(;h>0;){const _=o.readBits(13);let w=_/192<<8&4294967295|_%192;w<7936?w+=33088:w+=49472,p[x]=w>>8,p[x+1]=w,x+=2,h--}try{u.append(K.decode(p,M.SHIFT_JIS))}catch(_){throw new L(_)}}static decodeByteSegment(o,u,h,p,x,_){if(8*h>o.available())throw new L;const w=new Uint8Array(h);for(let O=0;O<h;O++)w[O]=o.readBits(8);let I;p===null?I=M.guessEncoding(w,_):I=p.getName();try{u.append(K.decode(w,I))}catch(O){throw new L(O)}x.push(w)}static toAlphaNumericChar(o){if(o>=$r.ALPHANUMERIC_CHARS.length)throw new L;return $r.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,u,h,p){const x=u.length();for(;h>1;){if(o.available()<11)throw new L;const _=o.readBits(11);u.append($r.toAlphaNumericChar(Math.floor(_/45))),u.append($r.toAlphaNumericChar(_%45)),h-=2}if(h===1){if(o.available()<6)throw new L;u.append($r.toAlphaNumericChar(o.readBits(6)))}if(p)for(let _=x;_<u.length();_++)u.charAt(_)==="%"&&(_<u.length()-1&&u.charAt(_+1)==="%"?u.deleteCharAt(_+1):u.setCharAt(_,""))}static decodeNumericSegment(o,u,h){for(;h>=3;){if(o.available()<10)throw new L;const p=o.readBits(10);if(p>=1e3)throw new L;u.append($r.toAlphaNumericChar(Math.floor(p/100))),u.append($r.toAlphaNumericChar(Math.floor(p/10)%10)),u.append($r.toAlphaNumericChar(p%10)),h-=3}if(h===2){if(o.available()<7)throw new L;const p=o.readBits(7);if(p>=100)throw new L;u.append($r.toAlphaNumericChar(Math.floor(p/10))),u.append($r.toAlphaNumericChar(p%10))}else if(h===1){if(o.available()<4)throw new L;const p=o.readBits(4);if(p>=10)throw new L;u.append($r.toAlphaNumericChar(p))}}static parseECIValue(o){const u=o.readBits(8);if((u&128)===0)return u&127;if((u&192)===128){const h=o.readBits(8);return(u&63)<<8&4294967295|h}if((u&224)===192){const h=o.readBits(16);return(u&31)<<16&4294967295|h}throw new L}}$r.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",$r.GB2312_SUBSET=1;class Ef{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const u=o[0];o[0]=o[2],o[2]=u}}class $0{constructor(){this.rsDecoder=new jt(wt.QR_CODE_FIELD_256)}decodeBooleanArray(o,u){return this.decodeBitMatrix(be.parseFromBooleanArray(o),u)}decodeBitMatrix(o,u){const h=new qa(o);let p=null;try{return this.decodeBitMatrixParser(h,u)}catch(x){p=x}try{h.remask(),h.setMirror(!0),h.readVersion(),h.readFormatInformation(),h.mirror();const x=this.decodeBitMatrixParser(h,u);return x.setOther(new Ef(!0)),x}catch(x){throw p!==null?p:x}}decodeBitMatrixParser(o,u){const h=o.readVersion(),p=o.readFormatInformation().getErrorCorrectionLevel(),x=o.readCodewords(),_=pu.getDataBlocks(x,h,p);let w=0;for(const V of _)w+=V.getNumDataCodewords();const I=new Uint8Array(w);let O=0;for(const V of _){const X=V.getCodewords(),re=V.getNumDataCodewords();this.correctErrors(X,re);for(let de=0;de<re;de++)I[O++]=X[de]}return $r.decode(I,h,p,u)}correctErrors(o,u){const h=new Int32Array(o);try{this.rsDecoder.decode(h,o.length-u)}catch{throw new C}for(let p=0;p<u;p++)o[p]=h[p]}}class Xa extends vt{constructor(o,u,h){super(o,u),this.estimatedModuleSize=h}aboutEquals(o,u,h){if(Math.abs(u-this.getY())<=o&&Math.abs(h-this.getX())<=o){const p=Math.abs(o-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(o,u,h){const p=(this.getX()+u)/2,x=(this.getY()+o)/2,_=(this.estimatedModuleSize+h)/2;return new Xa(p,x,_)}}class Vn{constructor(o,u,h,p,x,_,w){this.image=o,this.startX=u,this.startY=h,this.width=p,this.height=x,this.moduleSize=_,this.resultPointCallback=w,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,u=this.height,h=this.width,p=o+h,x=this.startY+u/2,_=new Int32Array(3),w=this.image;for(let I=0;I<u;I++){const O=x+((I&1)===0?Math.floor((I+1)/2):-Math.floor((I+1)/2));_[0]=0,_[1]=0,_[2]=0;let V=o;for(;V<p&&!w.get(V,O);)V++;let X=0;for(;V<p;){if(w.get(V,O))if(X===1)_[1]++;else if(X===2){if(this.foundPatternCross(_)){const re=this.handlePossibleCenter(_,O,V);if(re!==null)return re}_[0]=_[2],_[1]=1,_[2]=0,X=1}else _[++X]++;else X===1&&X++,_[X]++;V++}if(this.foundPatternCross(_)){const re=this.handlePossibleCenter(_,O,p);if(re!==null)return re}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new xe}static centerFromEnd(o,u){return u-o[2]-o[1]/2}foundPatternCross(o){const u=this.moduleSize,h=u/2;for(let p=0;p<3;p++)if(Math.abs(u-o[p])>=h)return!1;return!0}crossCheckVertical(o,u,h,p){const x=this.image,_=x.getHeight(),w=this.crossCheckStateCount;w[0]=0,w[1]=0,w[2]=0;let I=o;for(;I>=0&&x.get(u,I)&&w[1]<=h;)w[1]++,I--;if(I<0||w[1]>h)return NaN;for(;I>=0&&!x.get(u,I)&&w[0]<=h;)w[0]++,I--;if(w[0]>h)return NaN;for(I=o+1;I<_&&x.get(u,I)&&w[1]<=h;)w[1]++,I++;if(I===_||w[1]>h)return NaN;for(;I<_&&!x.get(u,I)&&w[2]<=h;)w[2]++,I++;if(w[2]>h)return NaN;const O=w[0]+w[1]+w[2];return 5*Math.abs(O-p)>=2*p?NaN:this.foundPatternCross(w)?Vn.centerFromEnd(w,I):NaN}handlePossibleCenter(o,u,h){const p=o[0]+o[1]+o[2],x=Vn.centerFromEnd(o,h),_=this.crossCheckVertical(u,x,2*o[1],p);if(!isNaN(_)){const w=(o[0]+o[1]+o[2])/3;for(const O of this.possibleCenters)if(O.aboutEquals(w,_,x))return O.combineEstimate(_,x,w);const I=new Xa(x,_,w);this.possibleCenters.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return null}}class Do extends vt{constructor(o,u,h,p){super(o,u),this.estimatedModuleSize=h,this.count=p,p===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,u,h){if(Math.abs(u-this.getY())<=o&&Math.abs(h-this.getX())<=o){const p=Math.abs(o-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(o,u,h){const p=this.count+1,x=(this.count*this.getX()+u)/p,_=(this.count*this.getY()+o)/p,w=(this.count*this.estimatedModuleSize+h)/p;return new Do(x,_,w,p)}}class ac{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class fn{constructor(o,u){this.image=o,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=u}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const u=o!=null&&o.get(ee.TRY_HARDER)!==void 0,h=o!=null&&o.get(ee.PURE_BARCODE)!==void 0,p=this.image,x=p.getHeight(),_=p.getWidth();let w=Math.floor(3*x/(4*fn.MAX_MODULES));(w<fn.MIN_SKIP||u)&&(w=fn.MIN_SKIP);let I=!1;const O=new Int32Array(5);for(let X=w-1;X<x&&!I;X+=w){O[0]=0,O[1]=0,O[2]=0,O[3]=0,O[4]=0;let re=0;for(let de=0;de<_;de++)if(p.get(de,X))(re&1)===1&&re++,O[re]++;else if((re&1)===0)if(re===4)if(fn.foundPatternCross(O)){if(this.handlePossibleCenter(O,X,de,h)===!0)if(w=2,this.hasSkipped===!0)I=this.haveMultiplyConfirmedCenters();else{const Te=this.findRowSkip();Te>O[2]&&(X+=Te-O[2]-w,de=_-1)}else{O[0]=O[2],O[1]=O[3],O[2]=O[4],O[3]=1,O[4]=0,re=3;continue}re=0,O[0]=0,O[1]=0,O[2]=0,O[3]=0,O[4]=0}else O[0]=O[2],O[1]=O[3],O[2]=O[4],O[3]=1,O[4]=0,re=3;else O[++re]++;else O[re]++;fn.foundPatternCross(O)&&this.handlePossibleCenter(O,X,_,h)===!0&&(w=O[0],this.hasSkipped&&(I=this.haveMultiplyConfirmedCenters()))}const V=this.selectBestPatterns();return vt.orderBestPatterns(V),new ac(V)}static centerFromEnd(o,u){return u-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let u=0;for(let x=0;x<5;x++){const _=o[x];if(_===0)return!1;u+=_}if(u<7)return!1;const h=u/7,p=h/2;return Math.abs(h-o[0])<p&&Math.abs(h-o[1])<p&&Math.abs(3*h-o[2])<3*p&&Math.abs(h-o[3])<p&&Math.abs(h-o[4])<p}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,u,h,p){const x=this.getCrossCheckStateCount();let _=0;const w=this.image;for(;o>=_&&u>=_&&w.get(u-_,o-_);)x[2]++,_++;if(o<_||u<_)return!1;for(;o>=_&&u>=_&&!w.get(u-_,o-_)&&x[1]<=h;)x[1]++,_++;if(o<_||u<_||x[1]>h)return!1;for(;o>=_&&u>=_&&w.get(u-_,o-_)&&x[0]<=h;)x[0]++,_++;if(x[0]>h)return!1;const I=w.getHeight(),O=w.getWidth();for(_=1;o+_<I&&u+_<O&&w.get(u+_,o+_);)x[2]++,_++;if(o+_>=I||u+_>=O)return!1;for(;o+_<I&&u+_<O&&!w.get(u+_,o+_)&&x[3]<h;)x[3]++,_++;if(o+_>=I||u+_>=O||x[3]>=h)return!1;for(;o+_<I&&u+_<O&&w.get(u+_,o+_)&&x[4]<h;)x[4]++,_++;if(x[4]>=h)return!1;const V=x[0]+x[1]+x[2]+x[3]+x[4];return Math.abs(V-p)<2*p&&fn.foundPatternCross(x)}crossCheckVertical(o,u,h,p){const x=this.image,_=x.getHeight(),w=this.getCrossCheckStateCount();let I=o;for(;I>=0&&x.get(u,I);)w[2]++,I--;if(I<0)return NaN;for(;I>=0&&!x.get(u,I)&&w[1]<=h;)w[1]++,I--;if(I<0||w[1]>h)return NaN;for(;I>=0&&x.get(u,I)&&w[0]<=h;)w[0]++,I--;if(w[0]>h)return NaN;for(I=o+1;I<_&&x.get(u,I);)w[2]++,I++;if(I===_)return NaN;for(;I<_&&!x.get(u,I)&&w[3]<h;)w[3]++,I++;if(I===_||w[3]>=h)return NaN;for(;I<_&&x.get(u,I)&&w[4]<h;)w[4]++,I++;if(w[4]>=h)return NaN;const O=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(O-p)>=2*p?NaN:fn.foundPatternCross(w)?fn.centerFromEnd(w,I):NaN}crossCheckHorizontal(o,u,h,p){const x=this.image,_=x.getWidth(),w=this.getCrossCheckStateCount();let I=o;for(;I>=0&&x.get(I,u);)w[2]++,I--;if(I<0)return NaN;for(;I>=0&&!x.get(I,u)&&w[1]<=h;)w[1]++,I--;if(I<0||w[1]>h)return NaN;for(;I>=0&&x.get(I,u)&&w[0]<=h;)w[0]++,I--;if(w[0]>h)return NaN;for(I=o+1;I<_&&x.get(I,u);)w[2]++,I++;if(I===_)return NaN;for(;I<_&&!x.get(I,u)&&w[3]<h;)w[3]++,I++;if(I===_||w[3]>=h)return NaN;for(;I<_&&x.get(I,u)&&w[4]<h;)w[4]++,I++;if(w[4]>=h)return NaN;const O=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(O-p)>=p?NaN:fn.foundPatternCross(w)?fn.centerFromEnd(w,I):NaN}handlePossibleCenter(o,u,h,p){const x=o[0]+o[1]+o[2]+o[3]+o[4];let _=fn.centerFromEnd(o,h),w=this.crossCheckVertical(u,Math.floor(_),o[2],x);if(!isNaN(w)&&(_=this.crossCheckHorizontal(Math.floor(_),Math.floor(w),o[2],x),!isNaN(_)&&(!p||this.crossCheckDiagonal(Math.floor(w),Math.floor(_),o[2],x)))){const I=x/7;let O=!1;const V=this.possibleCenters;for(let X=0,re=V.length;X<re;X++){const de=V[X];if(de.aboutEquals(I,w,_)){V[X]=de.combineEstimate(w,_,I),O=!0;break}}if(!O){const X=new Do(_,w,I);V.push(X),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(X)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let u=null;for(const h of this.possibleCenters)if(h.getCount()>=fn.CENTER_QUORUM)if(u==null)u=h;else return this.hasSkipped=!0,Math.floor((Math.abs(u.getX()-h.getX())-Math.abs(u.getY()-h.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,u=0;const h=this.possibleCenters.length;for(const _ of this.possibleCenters)_.getCount()>=fn.CENTER_QUORUM&&(o++,u+=_.getEstimatedModuleSize());if(o<3)return!1;const p=u/h;let x=0;for(const _ of this.possibleCenters)x+=Math.abs(_.getEstimatedModuleSize()-p);return x<=.05*u}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new xe;const u=this.possibleCenters;let h;if(o>3){let p=0,x=0;for(const I of this.possibleCenters){const O=I.getEstimatedModuleSize();p+=O,x+=O*O}h=p/o;let _=Math.sqrt(x/o-h*h);u.sort((I,O)=>{const V=Math.abs(O.getEstimatedModuleSize()-h),X=Math.abs(I.getEstimatedModuleSize()-h);return V<X?-1:V>X?1:0});const w=Math.max(.2*h,_);for(let I=0;I<u.length&&u.length>3;I++){const O=u[I];Math.abs(O.getEstimatedModuleSize()-h)>w&&(u.splice(I,1),I--)}}if(u.length>3){let p=0;for(const x of u)p+=x.getEstimatedModuleSize();h=p/u.length,u.sort((x,_)=>{if(_.getCount()===x.getCount()){const w=Math.abs(_.getEstimatedModuleSize()-h),I=Math.abs(x.getEstimatedModuleSize()-h);return w<I?1:w>I?-1:0}else return _.getCount()-x.getCount()}),u.splice(3)}return[u[0],u[1],u[2]]}}fn.CENTER_QUORUM=2,fn.MIN_SKIP=3,fn.MAX_MODULES=57;class Li{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(ee.NEED_RESULT_POINT_CALLBACK);const h=new fn(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(h)}processFinderPatternInfo(o){const u=o.getTopLeft(),h=o.getTopRight(),p=o.getBottomLeft(),x=this.calculateModuleSize(u,h,p);if(x<1)throw new xe("No pattern found in proccess finder.");const _=Li.computeDimension(u,h,p,x),w=mt.getProvisionalVersionForDimension(_),I=w.getDimensionForVersion()-7;let O=null;if(w.getAlignmentPatternCenters().length>0){const de=h.getX()-u.getX()+p.getX(),we=h.getY()-u.getY()+p.getY(),Te=1-3/I,Ne=Math.floor(u.getX()+Te*(de-u.getX())),He=Math.floor(u.getY()+Te*(we-u.getY()));for(let dt=4;dt<=16;dt<<=1)try{O=this.findAlignmentInRegion(x,Ne,He,dt);break}catch(ft){if(!(ft instanceof xe))throw ft}}const V=Li.createTransform(u,h,p,O,_),X=Li.sampleGrid(this.image,V,_);let re;return O===null?re=[p,u,h]:re=[p,u,h,O],new _i(X,re)}static createTransform(o,u,h,p,x){const _=x-3.5;let w,I,O,V;return p!==null?(w=p.getX(),I=p.getY(),O=_-3,V=O):(w=u.getX()-o.getX()+h.getX(),I=u.getY()-o.getY()+h.getY(),O=_,V=_),or.quadrilateralToQuadrilateral(3.5,3.5,_,3.5,O,V,3.5,_,o.getX(),o.getY(),u.getX(),u.getY(),w,I,h.getX(),h.getY())}static sampleGrid(o,u,h){return yr.getInstance().sampleGridWithTransform(o,h,h,u)}static computeDimension(o,u,h,p){const x=Ct.round(vt.distance(o,u)/p),_=Ct.round(vt.distance(o,h)/p);let w=Math.floor((x+_)/2)+7;switch(w&3){case 0:w++;break;case 2:w--;break;case 3:throw new xe("Dimensions could be not found.")}return w}calculateModuleSize(o,u,h){return(this.calculateModuleSizeOneWay(o,u)+this.calculateModuleSizeOneWay(o,h))/2}calculateModuleSizeOneWay(o,u){const h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(u.getX()),Math.floor(u.getY())),p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(u.getX()),Math.floor(u.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(h)?p/7:isNaN(p)?h/7:(h+p)/14}sizeOfBlackWhiteBlackRunBothWays(o,u,h,p){let x=this.sizeOfBlackWhiteBlackRun(o,u,h,p),_=1,w=o-(h-o);w<0?(_=o/(o-w),w=0):w>=this.image.getWidth()&&(_=(this.image.getWidth()-1-o)/(w-o),w=this.image.getWidth()-1);let I=Math.floor(u-(p-u)*_);return _=1,I<0?(_=u/(u-I),I=0):I>=this.image.getHeight()&&(_=(this.image.getHeight()-1-u)/(I-u),I=this.image.getHeight()-1),w=Math.floor(o+(w-o)*_),x+=this.sizeOfBlackWhiteBlackRun(o,u,w,I),x-1}sizeOfBlackWhiteBlackRun(o,u,h,p){const x=Math.abs(p-u)>Math.abs(h-o);if(x){let de=o;o=u,u=de,de=h,h=p,p=de}const _=Math.abs(h-o),w=Math.abs(p-u);let I=-_/2;const O=o<h?1:-1,V=u<p?1:-1;let X=0;const re=h+O;for(let de=o,we=u;de!==re;de+=O){const Te=x?we:de,Ne=x?de:we;if(X===1===this.image.get(Te,Ne)){if(X===2)return Ct.distance(de,we,o,u);X++}if(I+=w,I>0){if(we===p)break;we+=V,I-=_}}return X===2?Ct.distance(h+O,p,o,u):NaN}findAlignmentInRegion(o,u,h,p){const x=Math.floor(p*o),_=Math.max(0,u-x),w=Math.min(this.image.getWidth()-1,u+x);if(w-_<o*3)throw new xe("Alignment top exceeds estimated module size.");const I=Math.max(0,h-x),O=Math.min(this.image.getHeight()-1,h+x);if(O-I<o*3)throw new xe("Alignment bottom exceeds estimated module size.");return new Vn(this.image,_,I,w-_,O-I,o,this.resultPointCallback).find()}}class ps{constructor(){this.decoder=new $0}getDecoder(){return this.decoder}decode(o,u){let h,p;if(u!=null&&u.get(ee.PURE_BARCODE)!==void 0){const I=ps.extractPureBits(o.getBlackMatrix());h=this.decoder.decodeBitMatrix(I,u),p=ps.NO_POINTS}else{const I=new Li(o.getBlackMatrix()).detect(u);h=this.decoder.decodeBitMatrix(I.getBits(),u),p=I.getPoints()}h.getOther()instanceof Ef&&h.getOther().applyMirroredCorrection(p);const x=new ie(h.getText(),h.getRawBytes(),void 0,p,ye.QR_CODE,void 0),_=h.getByteSegments();_!==null&&x.putMetadata(je.BYTE_SEGMENTS,_);const w=h.getECLevel();return w!==null&&x.putMetadata(je.ERROR_CORRECTION_LEVEL,w),h.hasStructuredAppend()&&(x.putMetadata(je.STRUCTURED_APPEND_SEQUENCE,h.getStructuredAppendSequenceNumber()),x.putMetadata(je.STRUCTURED_APPEND_PARITY,h.getStructuredAppendParity())),x}reset(){}static extractPureBits(o){const u=o.getTopLeftOnBit(),h=o.getBottomRightOnBit();if(u===null||h===null)throw new xe;const p=this.moduleSize(u,o);let x=u[1],_=h[1],w=u[0],I=h[0];if(w>=I||x>=_)throw new xe;if(_-x!==I-w&&(I=w+(_-x),I>=o.getWidth()))throw new xe;const O=Math.round((I-w+1)/p),V=Math.round((_-x+1)/p);if(O<=0||V<=0)throw new xe;if(V!==O)throw new xe;const X=Math.floor(p/2);x+=X,w+=X;const re=w+Math.floor((O-1)*p)-I;if(re>0){if(re>X)throw new xe;w-=re}const de=x+Math.floor((V-1)*p)-_;if(de>0){if(de>X)throw new xe;x-=de}const we=new be(O,V);for(let Te=0;Te<V;Te++){const Ne=x+Math.floor(Te*p);for(let He=0;He<O;He++)o.get(w+Math.floor(He*p),Ne)&&we.set(He,Te)}return we}static moduleSize(o,u){const h=u.getHeight(),p=u.getWidth();let x=o[0],_=o[1],w=!0,I=0;for(;x<p&&_<h;){if(w!==u.get(x,_)){if(++I===5)break;w=!w}x++,_++}if(x===p||_===h)throw new xe;return(x-o[0])/7}}ps.NO_POINTS=new Array;class Ft{PDF417Common(){}static getBitCountSum(o){return Ct.sum(o)}static toIntArray(o){if(o==null||!o.length)return Ft.EMPTY_INT_ARRAY;const u=new Int32Array(o.length);let h=0;for(const p of o)u[h++]=p;return u}static getCodeword(o){const u=G.binarySearch(Ft.SYMBOL_TABLE,o&262143);return u<0?-1:(Ft.CODEWORD_TABLE[u]-1)%Ft.NUMBER_OF_CODEWORDS}}Ft.NUMBER_OF_CODEWORDS=929,Ft.MAX_CODEWORDS_IN_BARCODE=Ft.NUMBER_OF_CODEWORDS-1,Ft.MIN_ROWS_IN_BARCODE=3,Ft.MAX_ROWS_IN_BARCODE=90,Ft.MODULES_IN_CODEWORD=17,Ft.MODULES_IN_STOP_PATTERN=18,Ft.BARS_IN_MODULE=8,Ft.EMPTY_INT_ARRAY=new Int32Array([]),Ft.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ft.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class wf{constructor(o,u){this.bits=o,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class Pt{static detectMultiple(o,u,h){let p=o.getBlackMatrix(),x=Pt.detect(h,p);return x.length||(p=p.clone(),p.rotate180(),x=Pt.detect(h,p)),new wf(p,x)}static detect(o,u){const h=new Array;let p=0,x=0,_=!1;for(;p<u.getHeight();){const w=Pt.findVertices(u,p,x);if(w[0]==null&&w[3]==null){if(!_)break;_=!1,x=0;for(const I of h)I[1]!=null&&(p=Math.trunc(Math.max(p,I[1].getY()))),I[3]!=null&&(p=Math.max(p,Math.trunc(I[3].getY())));p+=Pt.ROW_STEP;continue}if(_=!0,h.push(w),!o)break;w[2]!=null?(x=Math.trunc(w[2].getX()),p=Math.trunc(w[2].getY())):(x=Math.trunc(w[4].getX()),p=Math.trunc(w[4].getY()))}return h}static findVertices(o,u,h){const p=o.getHeight(),x=o.getWidth(),_=new Array(8);return Pt.copyToResult(_,Pt.findRowsWithPattern(o,p,x,u,h,Pt.START_PATTERN),Pt.INDEXES_START_PATTERN),_[4]!=null&&(h=Math.trunc(_[4].getX()),u=Math.trunc(_[4].getY())),Pt.copyToResult(_,Pt.findRowsWithPattern(o,p,x,u,h,Pt.STOP_PATTERN),Pt.INDEXES_STOP_PATTERN),_}static copyToResult(o,u,h){for(let p=0;p<h.length;p++)o[h[p]]=u[p]}static findRowsWithPattern(o,u,h,p,x,_){const w=new Array(4);let I=!1;const O=new Int32Array(_.length);for(;p<u;p+=Pt.ROW_STEP){let X=Pt.findGuardPattern(o,x,p,h,!1,_,O);if(X!=null){for(;p>0;){const re=Pt.findGuardPattern(o,x,--p,h,!1,_,O);if(re!=null)X=re;else{p++;break}}w[0]=new vt(X[0],p),w[1]=new vt(X[1],p),I=!0;break}}let V=p+1;if(I){let X=0,re=Int32Array.from([Math.trunc(w[0].getX()),Math.trunc(w[1].getX())]);for(;V<u;V++){const de=Pt.findGuardPattern(o,re[0],V,h,!1,_,O);if(de!=null&&Math.abs(re[0]-de[0])<Pt.MAX_PATTERN_DRIFT&&Math.abs(re[1]-de[1])<Pt.MAX_PATTERN_DRIFT)re=de,X=0;else{if(X>Pt.SKIPPED_ROW_COUNT_MAX)break;X++}}V-=X+1,w[2]=new vt(re[0],V),w[3]=new vt(re[1],V)}return V-p<Pt.BARCODE_MIN_HEIGHT&&G.fill(w,null),w}static findGuardPattern(o,u,h,p,x,_,w){G.fillWithin(w,0,w.length,0);let I=u,O=0;for(;o.get(I,h)&&I>0&&O++<Pt.MAX_PIXEL_DRIFT;)I--;let V=I,X=0,re=_.length;for(let de=x;V<p;V++)if(o.get(V,h)!==de)w[X]++;else{if(X===re-1){if(Pt.patternMatchVariance(w,_,Pt.MAX_INDIVIDUAL_VARIANCE)<Pt.MAX_AVG_VARIANCE)return new Int32Array([I,V]);I+=w[0]+w[1],b.arraycopy(w,2,w,0,X-1),w[X-1]=0,w[X]=0,X--}else X++;w[X]=1,de=!de}return X===re-1&&Pt.patternMatchVariance(w,_,Pt.MAX_INDIVIDUAL_VARIANCE)<Pt.MAX_AVG_VARIANCE?new Int32Array([I,V-1]):null}static patternMatchVariance(o,u,h){let p=o.length,x=0,_=0;for(let O=0;O<p;O++)x+=o[O],_+=u[O];if(x<_)return 1/0;let w=x/_;h*=w;let I=0;for(let O=0;O<p;O++){let V=o[O],X=u[O]*w,re=V>X?V-X:X-V;if(re>h)return 1/0;I+=re}return I/x}}Pt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Pt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Pt.MAX_AVG_VARIANCE=.42,Pt.MAX_INDIVIDUAL_VARIANCE=.8,Pt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Pt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Pt.MAX_PIXEL_DRIFT=3,Pt.MAX_PATTERN_DRIFT=5,Pt.SKIPPED_ROW_COUNT_MAX=25,Pt.ROW_STEP=5,Pt.BARCODE_MIN_HEIGHT=10;class Zr{constructor(o,u){if(u.length===0)throw new E;this.field=o;let h=u.length;if(h>1&&u[0]===0){let p=1;for(;p<h&&u[p]===0;)p++;p===h?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(h-p),b.arraycopy(u,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let p=0;for(let x of this.coefficients)p=this.field.add(p,x);return p}let u=this.coefficients[0],h=this.coefficients.length;for(let p=1;p<h;p++)u=this.field.add(this.field.multiply(o,u),this.coefficients[p]);return u}add(o){if(!this.field.equals(o.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let u=this.coefficients,h=o.coefficients;if(u.length>h.length){let _=u;u=h,h=_}let p=new Int32Array(h.length),x=h.length-u.length;b.arraycopy(h,0,p,0,x);for(let _=x;_<h.length;_++)p[_]=this.field.add(u[_-x],h[_]);return new Zr(this.field,p)}subtract(o){if(!this.field.equals(o.field))throw new E("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Zr?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Zr(this.field,new Int32Array([0]));let u=this.coefficients,h=u.length,p=o.coefficients,x=p.length,_=new Int32Array(h+x-1);for(let w=0;w<h;w++){let I=u[w];for(let O=0;O<x;O++)_[w+O]=this.field.add(_[w+O],this.field.multiply(I,p[O]))}return new Zr(this.field,_)}negative(){let o=this.coefficients.length,u=new Int32Array(o);for(let h=0;h<o;h++)u[h]=this.field.subtract(0,this.coefficients[h]);return new Zr(this.field,u)}multiplyScalar(o){if(o===0)return new Zr(this.field,new Int32Array([0]));if(o===1)return this;let u=this.coefficients.length,h=new Int32Array(u);for(let p=0;p<u;p++)h[p]=this.field.multiply(this.coefficients[p],o);return new Zr(this.field,h)}multiplyByMonomial(o,u){if(o<0)throw new E;if(u===0)return new Zr(this.field,new Int32Array([0]));let h=this.coefficients.length,p=new Int32Array(h+o);for(let x=0;x<h;x++)p[x]=this.field.multiply(this.coefficients[x],u);return new Zr(this.field,p)}toString(){let o=new Q;for(let u=this.getDegree();u>=0;u--){let h=this.getCoefficient(u);h!==0&&(h<0?(o.append(" - "),h=-h):o.length()>0&&o.append(" + "),(u===0||h!==1)&&o.append(h),u!==0&&(u===1?o.append("x"):(o.append("x^"),o.append(u))))}return o.toString()}}class xu{add(o,u){return(o+u)%this.modulus}subtract(o,u){return(this.modulus+o-u)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new E;return this.logTable[o]}inverse(o){if(o===0)throw new me;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,u){return o===0||u===0?0:this.expTable[(this.logTable[o]+this.logTable[u])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class Ya extends xu{constructor(o,u){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let h=1;for(let p=0;p<o;p++)this.expTable[p]=h,h=h*u%o;for(let p=0;p<o-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new Zr(this,new Int32Array([0])),this.one=new Zr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,u){if(o<0)throw new E;if(u===0)return this.zero;let h=new Int32Array(o+1);return h[0]=u,new Zr(this,h)}}Ya.PDF417_GF=new Ya(Ft.NUMBER_OF_CODEWORDS,3);class ma{constructor(){this.field=Ya.PDF417_GF}decode(o,u,h){let p=new Zr(this.field,o),x=new Int32Array(u),_=!1;for(let we=u;we>0;we--){let Te=p.evaluateAt(this.field.exp(we));x[u-we]=Te,Te!==0&&(_=!0)}if(!_)return 0;let w=this.field.getOne();if(h!=null)for(const we of h){let Te=this.field.exp(o.length-1-we),Ne=new Zr(this.field,new Int32Array([this.field.subtract(0,Te),1]));w=w.multiply(Ne)}let I=new Zr(this.field,x),O=this.runEuclideanAlgorithm(this.field.buildMonomial(u,1),I,u),V=O[0],X=O[1],re=this.findErrorLocations(V),de=this.findErrorMagnitudes(X,V,re);for(let we=0;we<re.length;we++){let Te=o.length-1-this.field.log(re[we]);if(Te<0)throw C.getChecksumInstance();o[Te]=this.field.subtract(o[Te],de[we])}return re.length}runEuclideanAlgorithm(o,u,h){if(o.getDegree()<u.getDegree()){let re=o;o=u,u=re}let p=o,x=u,_=this.field.getZero(),w=this.field.getOne();for(;x.getDegree()>=Math.round(h/2);){let re=p,de=_;if(p=x,_=w,p.isZero())throw C.getChecksumInstance();x=re;let we=this.field.getZero(),Te=p.getCoefficient(p.getDegree()),Ne=this.field.inverse(Te);for(;x.getDegree()>=p.getDegree()&&!x.isZero();){let He=x.getDegree()-p.getDegree(),dt=this.field.multiply(x.getCoefficient(x.getDegree()),Ne);we=we.add(this.field.buildMonomial(He,dt)),x=x.subtract(p.multiplyByMonomial(He,dt))}w=we.multiply(_).subtract(de).negative()}let I=w.getCoefficient(0);if(I===0)throw C.getChecksumInstance();let O=this.field.inverse(I),V=w.multiply(O),X=x.multiply(O);return[V,X]}findErrorLocations(o){let u=o.getDegree(),h=new Int32Array(u),p=0;for(let x=1;x<this.field.getSize()&&p<u;x++)o.evaluateAt(x)===0&&(h[p]=this.field.inverse(x),p++);if(p!==u)throw C.getChecksumInstance();return h}findErrorMagnitudes(o,u,h){let p=u.getDegree(),x=new Int32Array(p);for(let O=1;O<=p;O++)x[p-O]=this.field.multiply(O,u.getCoefficient(O));let _=new Zr(this.field,x),w=h.length,I=new Int32Array(w);for(let O=0;O<w;O++){let V=this.field.inverse(h[O]),X=this.field.subtract(0,o.evaluateAt(V)),re=this.field.inverse(_.evaluateAt(V));I[O]=this.field.multiply(X,re)}return I}}class Ka{constructor(o,u,h,p,x){o instanceof Ka?this.constructor_2(o):this.constructor_1(o,u,h,p,x)}constructor_1(o,u,h,p,x){const _=u==null||h==null,w=p==null||x==null;if(_&&w)throw new xe;_?(u=new vt(0,p.getY()),h=new vt(0,x.getY())):w&&(p=new vt(o.getWidth()-1,u.getY()),x=new vt(o.getWidth()-1,h.getY())),this.image=o,this.topLeft=u,this.bottomLeft=h,this.topRight=p,this.bottomRight=x,this.minX=Math.trunc(Math.min(u.getX(),h.getX())),this.maxX=Math.trunc(Math.max(p.getX(),x.getX())),this.minY=Math.trunc(Math.min(u.getY(),p.getY())),this.maxY=Math.trunc(Math.max(h.getY(),x.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,u){return o==null?u:u==null?o:new Ka(o.image,o.topLeft,o.bottomLeft,u.topRight,u.bottomRight)}addMissingRows(o,u,h){let p=this.topLeft,x=this.bottomLeft,_=this.topRight,w=this.bottomRight;if(o>0){let I=h?this.topLeft:this.topRight,O=Math.trunc(I.getY()-o);O<0&&(O=0);let V=new vt(I.getX(),O);h?p=V:_=V}if(u>0){let I=h?this.bottomLeft:this.bottomRight,O=Math.trunc(I.getY()+u);O>=this.image.getHeight()&&(O=this.image.getHeight()-1);let V=new vt(I.getX(),O);h?x=V:w=V}return new Ka(this.image,p,x,_,w)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class js{constructor(o,u,h,p){this.columnCount=o,this.errorCorrectionLevel=p,this.rowCountUpperPart=u,this.rowCountLowerPart=h,this.rowCount=u+h}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Qa{constructor(){this.buffer=""}static form(o,u){let h=-1;function p(_,w,I,O,V,X){if(_==="%%")return"%";if(u[++h]===void 0)return;_=O?parseInt(O.substr(1)):void 0;let re=V?parseInt(V.substr(1)):void 0,de;switch(X){case"s":de=u[h];break;case"c":de=u[h][0];break;case"f":de=parseFloat(u[h]).toFixed(_);break;case"p":de=parseFloat(u[h]).toPrecision(_);break;case"e":de=parseFloat(u[h]).toExponential(_);break;case"x":de=parseInt(u[h]).toString(re||16);break;case"d":de=parseFloat(parseInt(u[h],re||10).toPrecision(_)).toFixed(0);break}de=typeof de=="object"?JSON.stringify(de):(+de).toString(re);let we=parseInt(I),Te=I&&I[0]+""=="0"?"0":" ";for(;de.length<we;)de=w!==void 0?de+Te:Te+de;return de}let x=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(x,p)}format(o,...u){this.buffer+=Qa.form(o,u)}toString(){return this.buffer}}class xs{constructor(o){this.boundingBox=new Ka(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let u=this.getCodeword(o);if(u!=null)return u;for(let h=1;h<xs.MAX_NEARBY_DISTANCE;h++){let p=this.imageRowToCodewordIndex(o)-h;if(p>=0&&(u=this.codewords[p],u!=null)||(p=this.imageRowToCodewordIndex(o)+h,p<this.codewords.length&&(u=this.codewords[p],u!=null)))return u}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,u){this.codewords[this.imageRowToCodewordIndex(o)]=u}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new Qa;let u=0;for(const h of this.codewords){if(h==null){o.format("%3d:    |   %n",u++);continue}o.format("%3d: %3d|%3d%n",u++,h.getRowNumber(),h.getValue())}return o.toString()}}xs.MAX_NEARBY_DISTANCE=5;class $a{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let u=this.values.get(o);u==null&&(u=0),u++,this.values.set(o,u)}getValue(){let o=-1,u=new Array;for(const[h,p]of this.values.entries()){const x={getKey:()=>h,getValue:()=>p};x.getValue()>o?(o=x.getValue(),u=[],u.push(x.getKey())):x.getValue()===o&&u.push(x.getKey())}return Ft.toIntArray(u)}getConfidence(o){return this.values.get(o)}}class hn extends xs{constructor(o,u){super(o),this._isLeft=u}setRowNumbers(){for(let o of this.getCodewords())o!=null&&o.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let u=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(u,o);let h=this.getBoundingBox(),p=this._isLeft?h.getTopLeft():h.getTopRight(),x=this._isLeft?h.getBottomLeft():h.getBottomRight(),_=this.imageRowToCodewordIndex(Math.trunc(p.getY())),w=this.imageRowToCodewordIndex(Math.trunc(x.getY())),I=-1,O=1,V=0;for(let X=_;X<w;X++){if(u[X]==null)continue;let re=u[X],de=re.getRowNumber()-I;if(de===0)V++;else if(de===1)O=Math.max(O,V),V=1,I=re.getRowNumber();else if(de<0||re.getRowNumber()>=o.getRowCount()||de>X)u[X]=null;else{let we;O>2?we=(O-2)*de:we=de;let Te=we>=X;for(let Ne=1;Ne<=we&&!Te;Ne++)Te=u[X-Ne]!=null;Te?u[X]=null:(I=re.getRowNumber(),V=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let u=new Int32Array(o.getRowCount());for(let h of this.getCodewords())if(h!=null){let p=h.getRowNumber();if(p>=u.length)continue;u[p]++}return u}adjustIncompleteIndicatorColumnRowNumbers(o){let u=this.getBoundingBox(),h=this._isLeft?u.getTopLeft():u.getTopRight(),p=this._isLeft?u.getBottomLeft():u.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(h.getY())),_=this.imageRowToCodewordIndex(Math.trunc(p.getY())),w=this.getCodewords(),I=-1;for(let O=x;O<_;O++){if(w[O]==null)continue;let V=w[O];V.setRowNumberAsRowIndicatorColumn();let X=V.getRowNumber()-I;X===0||(X===1?I=V.getRowNumber():V.getRowNumber()>=o.getRowCount()?w[O]=null:I=V.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),u=new $a,h=new $a,p=new $a,x=new $a;for(let w of o){if(w==null)continue;w.setRowNumberAsRowIndicatorColumn();let I=w.getValue()%30,O=w.getRowNumber();switch(this._isLeft||(O+=2),O%3){case 0:h.setValue(I*3+1);break;case 1:x.setValue(I/3),p.setValue(I%3);break;case 2:u.setValue(I+1);break}}if(u.getValue().length===0||h.getValue().length===0||p.getValue().length===0||x.getValue().length===0||u.getValue()[0]<1||h.getValue()[0]+p.getValue()[0]<Ft.MIN_ROWS_IN_BARCODE||h.getValue()[0]+p.getValue()[0]>Ft.MAX_ROWS_IN_BARCODE)return null;let _=new js(u.getValue()[0],h.getValue()[0],p.getValue()[0],x.getValue()[0]);return this.removeIncorrectCodewords(o,_),_}removeIncorrectCodewords(o,u){for(let h=0;h<o.length;h++){let p=o[h];if(o[h]==null)continue;let x=p.getValue()%30,_=p.getRowNumber();if(_>u.getRowCount()){o[h]=null;continue}switch(this._isLeft||(_+=2),_%3){case 0:x*3+1!==u.getRowCountUpperPart()&&(o[h]=null);break;case 1:(Math.trunc(x/3)!==u.getErrorCorrectionLevel()||x%3!==u.getRowCountLowerPart())&&(o[h]=null);break;case 2:x+1!==u.getColumnCount()&&(o[h]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Yn{constructor(o,u){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=u,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=Ft.MAX_CODEWORDS_IN_BARCODE,u;do u=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<u);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o!=null&&o.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let u=1;u<this.barcodeColumnCount+1;u++){let h=this.detectionResultColumns[u].getCodewords();for(let p=0;p<h.length;p++)h[p]!=null&&(h[p].hasValidRowNumber()||this.adjustRowNumbers(u,p,h))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<o.length;h++)if(o[h]!=null&&u[h]!=null&&o[h].getRowNumber()===u[h].getRowNumber())for(let p=1;p<=this.barcodeColumnCount;p++){let x=this.detectionResultColumns[p].getCodewords()[h];x!=null&&(x.setRowNumber(o[h].getRowNumber()),x.hasValidRowNumber()||(this.detectionResultColumns[p].getCodewords()[h]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<u.length;h++){if(u[h]==null)continue;let p=u[h].getRowNumber(),x=0;for(let _=this.barcodeColumnCount+1;_>0&&x<this.ADJUST_ROW_NUMBER_SKIP;_--){let w=this.detectionResultColumns[_].getCodewords()[h];w!=null&&(x=Yn.adjustRowNumberIfValid(p,x,w),w.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,u=this.detectionResultColumns[0].getCodewords();for(let h=0;h<u.length;h++){if(u[h]==null)continue;let p=u[h].getRowNumber(),x=0;for(let _=1;_<this.barcodeColumnCount+1&&x<this.ADJUST_ROW_NUMBER_SKIP;_++){let w=this.detectionResultColumns[_].getCodewords()[h];w!=null&&(x=Yn.adjustRowNumberIfValid(p,x,w),w.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,u,h){return h==null||h.hasValidRowNumber()||(h.isValidRowNumber(o)?(h.setRowNumber(o),u=0):++u),u}adjustRowNumbers(o,u,h){if(!this.detectionResultColumns[o-1])return;let p=h[u],x=this.detectionResultColumns[o-1].getCodewords(),_=x;this.detectionResultColumns[o+1]!=null&&(_=this.detectionResultColumns[o+1].getCodewords());let w=new Array(14);w[2]=x[u],w[3]=_[u],u>0&&(w[0]=h[u-1],w[4]=x[u-1],w[5]=_[u-1]),u>1&&(w[8]=h[u-2],w[10]=x[u-2],w[11]=_[u-2]),u<h.length-1&&(w[1]=h[u+1],w[6]=x[u+1],w[7]=_[u+1]),u<h.length-2&&(w[9]=h[u+2],w[12]=x[u+2],w[13]=_[u+2]);for(let I of w)if(Yn.adjustRowNumber(p,I))return}static adjustRowNumber(o,u){return u==null?!1:u.hasValidRowNumber()&&u.getBucket()===o.getBucket()?(o.setRowNumber(u.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,u){this.detectionResultColumns[o]=u}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let u=new Qa;for(let h=0;h<o.getCodewords().length;h++){u.format("CW %3d:",h);for(let p=0;p<this.barcodeColumnCount+2;p++){if(this.detectionResultColumns[p]==null){u.format("    |   ");continue}let x=this.detectionResultColumns[p].getCodewords()[h];if(x==null){u.format("    |   ");continue}u.format(" %3d|%3d",x.getRowNumber(),x.getValue())}u.format("%n")}return u.toString()}}class Da{constructor(o,u,h,p){this.rowNumber=Da.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(u),this.bucket=Math.trunc(h),this.value=Math.trunc(p)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==Da.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}Da.BARCODE_ROW_UNKNOWN=-1;class Kn{static initialize(){for(let o=0;o<Ft.SYMBOL_TABLE.length;o++){let u=Ft.SYMBOL_TABLE[o],h=u&1;for(let p=0;p<Ft.BARS_IN_MODULE;p++){let x=0;for(;(u&1)===h;)x+=1,u>>=1;h=u&1,Kn.RATIOS_TABLE[o]||(Kn.RATIOS_TABLE[o]=new Array(Ft.BARS_IN_MODULE)),Kn.RATIOS_TABLE[o][Ft.BARS_IN_MODULE-p-1]=Math.fround(x/Ft.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let u=Kn.getDecodedCodewordValue(Kn.sampleBitCounts(o));return u!==-1?u:Kn.getClosestDecodedValue(o)}static sampleBitCounts(o){let u=Ct.sum(o),h=new Int32Array(Ft.BARS_IN_MODULE),p=0,x=0;for(let _=0;_<Ft.MODULES_IN_CODEWORD;_++){let w=u/(2*Ft.MODULES_IN_CODEWORD)+_*u/Ft.MODULES_IN_CODEWORD;x+o[p]<=w&&(x+=o[p],p++),h[p]++}return h}static getDecodedCodewordValue(o){let u=Kn.getBitValue(o);return Ft.getCodeword(u)===-1?-1:u}static getBitValue(o){let u=0;for(let h=0;h<o.length;h++)for(let p=0;p<o[h];p++)u=u<<1|(h%2===0?1:0);return Math.trunc(u)}static getClosestDecodedValue(o){let u=Ct.sum(o),h=new Array(Ft.BARS_IN_MODULE);if(u>1)for(let _=0;_<h.length;_++)h[_]=Math.fround(o[_]/u);let p=ln.MAX_VALUE,x=-1;this.bSymbolTableReady||Kn.initialize();for(let _=0;_<Kn.RATIOS_TABLE.length;_++){let w=0,I=Kn.RATIOS_TABLE[_];for(let O=0;O<Ft.BARS_IN_MODULE;O++){let V=Math.fround(I[O]-h[O]);if(w+=Math.fround(V*V),w>=p)break}w<p&&(p=w,x=Ft.SYMBOL_TABLE[_])}return x}}Kn.bSymbolTableReady=!1,Kn.RATIOS_TABLE=new Array(Ft.SYMBOL_TABLE.length).map(W=>new Array(Ft.BARS_IN_MODULE));class mo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class vu{static parseLong(o,u=void 0){return parseInt(o,u)}}class po extends g{}po.kind="NullPointerException";class sc{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,u,h){if(o==null)throw new po;if(u<0||u>o.length||h<0||u+h>o.length||u+h<0)throw new D;if(h===0)return;for(let p=0;p<h;p++)this.write(o[u+p])}flush(){}close(){}}class Zi extends g{}class hl extends sc{constructor(o=32){if(super(),this.count=0,o<0)throw new E("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let h=this.buf.length<<1;if(h-o<0&&(h=o),h<0){if(o<0)throw new Zi;h=B.MAX_VALUE}this.buf=G.copyOfUint8Array(this.buf,h)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,u,h){if(u<0||u>o.length||h<0||u+h-o.length>0)throw new D;this.ensureCapacity(this.count+h),b.arraycopy(o,u,this.buf,this.count,h),this.count+=h}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return G.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var Or;(function(W){W[W.ALPHA=0]="ALPHA",W[W.LOWER=1]="LOWER",W[W.MIXED=2]="MIXED",W[W.PUNCT=3]="PUNCT",W[W.ALPHA_SHIFT=4]="ALPHA_SHIFT",W[W.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Or||(Or={}));function Oo(){if(typeof window<"u")return window.BigInt||null;if(typeof _g<"u")return _g.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let dl;function Za(W){if(typeof dl>"u"&&(dl=Oo()),dl===null)throw new Error("BigInt is not supported!");return dl(W)}function Mo(){let W=[];W[0]=Za(1);let o=Za(900);W[1]=o;for(let u=2;u<16;u++)W[u]=W[u-1]*o;return W}class ze{static decode(o,u){let h=new Q(""),p=U.ISO8859_1;h.enableDecoding(p);let x=1,_=o[x++],w=new mo;for(;x<o[0];){switch(_){case ze.TEXT_COMPACTION_MODE_LATCH:x=ze.textCompaction(o,x,h);break;case ze.BYTE_COMPACTION_MODE_LATCH:case ze.BYTE_COMPACTION_MODE_LATCH_6:x=ze.byteCompaction(_,o,p,x,h);break;case ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(o[x++]);break;case ze.NUMERIC_COMPACTION_MODE_LATCH:x=ze.numericCompaction(o,x,h);break;case ze.ECI_CHARSET:U.getCharacterSetECIByValue(o[x++]);break;case ze.ECI_GENERAL_PURPOSE:x+=2;break;case ze.ECI_USER_DEFINED:x++;break;case ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:x=ze.decodeMacroBlock(o,x,w);break;case ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ze.MACRO_PDF417_TERMINATOR:throw new L;default:x--,x=ze.textCompaction(o,x,h);break}if(x<o.length)_=o[x++];else throw L.getFormatInstance()}if(h.length()===0)throw L.getFormatInstance();let I=new Ve(null,h.toString(),null,u);return I.setOther(w),I}static decodeMacroBlock(o,u,h){if(u+ze.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw L.getFormatInstance();let p=new Int32Array(ze.NUMBER_OF_SEQUENCE_CODEWORDS);for(let w=0;w<ze.NUMBER_OF_SEQUENCE_CODEWORDS;w++,u++)p[w]=o[u];h.setSegmentIndex(B.parseInt(ze.decodeBase900toBase10(p,ze.NUMBER_OF_SEQUENCE_CODEWORDS)));let x=new Q;u=ze.textCompaction(o,u,x),h.setFileId(x.toString());let _=-1;for(o[u]===ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(_=u+1);u<o[0];)switch(o[u]){case ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(u++,o[u]){case ze.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let w=new Q;u=ze.textCompaction(o,u+1,w),h.setFileName(w.toString());break;case ze.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let I=new Q;u=ze.textCompaction(o,u+1,I),h.setSender(I.toString());break;case ze.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let O=new Q;u=ze.textCompaction(o,u+1,O),h.setAddressee(O.toString());break;case ze.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let V=new Q;u=ze.numericCompaction(o,u+1,V),h.setSegmentCount(B.parseInt(V.toString()));break;case ze.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let X=new Q;u=ze.numericCompaction(o,u+1,X),h.setTimestamp(vu.parseLong(X.toString()));break;case ze.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let re=new Q;u=ze.numericCompaction(o,u+1,re),h.setChecksum(B.parseInt(re.toString()));break;case ze.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let de=new Q;u=ze.numericCompaction(o,u+1,de),h.setFileSize(vu.parseLong(de.toString()));break;default:throw L.getFormatInstance()}break;case ze.MACRO_PDF417_TERMINATOR:u++,h.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(_!==-1){let w=u-_;h.isLastSegment()&&w--,h.setOptionalData(G.copyOfRange(o,_,_+w))}return u}static textCompaction(o,u,h){let p=new Int32Array((o[0]-u)*2),x=new Int32Array((o[0]-u)*2),_=0,w=!1;for(;u<o[0]&&!w;){let I=o[u++];if(I<ze.TEXT_COMPACTION_MODE_LATCH)p[_]=I/30,p[_+1]=I%30,_+=2;else switch(I){case ze.TEXT_COMPACTION_MODE_LATCH:p[_++]=ze.TEXT_COMPACTION_MODE_LATCH;break;case ze.BYTE_COMPACTION_MODE_LATCH:case ze.BYTE_COMPACTION_MODE_LATCH_6:case ze.NUMERIC_COMPACTION_MODE_LATCH:case ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ze.MACRO_PDF417_TERMINATOR:u--,w=!0;break;case ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p[_]=ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,I=o[u++],x[_]=I,_++;break}}return ze.decodeTextCompaction(p,x,_,h),u}static decodeTextCompaction(o,u,h,p){let x=Or.ALPHA,_=Or.ALPHA,w=0;for(;w<h;){let I=o[w],O="";switch(x){case Or.ALPHA:if(I<26)O=String.fromCharCode(65+I);else switch(I){case 26:O=" ";break;case ze.LL:x=Or.LOWER;break;case ze.ML:x=Or.MIXED;break;case ze.PS:_=x,x=Or.PUNCT_SHIFT;break;case ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[w]);break;case ze.TEXT_COMPACTION_MODE_LATCH:x=Or.ALPHA;break}break;case Or.LOWER:if(I<26)O=String.fromCharCode(97+I);else switch(I){case 26:O=" ";break;case ze.AS:_=x,x=Or.ALPHA_SHIFT;break;case ze.ML:x=Or.MIXED;break;case ze.PS:_=x,x=Or.PUNCT_SHIFT;break;case ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[w]);break;case ze.TEXT_COMPACTION_MODE_LATCH:x=Or.ALPHA;break}break;case Or.MIXED:if(I<ze.PL)O=ze.MIXED_CHARS[I];else switch(I){case ze.PL:x=Or.PUNCT;break;case 26:O=" ";break;case ze.LL:x=Or.LOWER;break;case ze.AL:x=Or.ALPHA;break;case ze.PS:_=x,x=Or.PUNCT_SHIFT;break;case ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[w]);break;case ze.TEXT_COMPACTION_MODE_LATCH:x=Or.ALPHA;break}break;case Or.PUNCT:if(I<ze.PAL)O=ze.PUNCT_CHARS[I];else switch(I){case ze.PAL:x=Or.ALPHA;break;case ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[w]);break;case ze.TEXT_COMPACTION_MODE_LATCH:x=Or.ALPHA;break}break;case Or.ALPHA_SHIFT:if(x=_,I<26)O=String.fromCharCode(65+I);else switch(I){case 26:O=" ";break;case ze.TEXT_COMPACTION_MODE_LATCH:x=Or.ALPHA;break}break;case Or.PUNCT_SHIFT:if(x=_,I<ze.PAL)O=ze.PUNCT_CHARS[I];else switch(I){case ze.PAL:x=Or.ALPHA;break;case ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[w]);break;case ze.TEXT_COMPACTION_MODE_LATCH:x=Or.ALPHA;break}break}O!==""&&p.append(O),w++}}static byteCompaction(o,u,h,p,x){let _=new hl,w=0,I=0,O=!1;switch(o){case ze.BYTE_COMPACTION_MODE_LATCH:let V=new Int32Array(6),X=u[p++];for(;p<u[0]&&!O;)switch(V[w++]=X,I=900*I+X,X=u[p++],X){case ze.TEXT_COMPACTION_MODE_LATCH:case ze.BYTE_COMPACTION_MODE_LATCH:case ze.NUMERIC_COMPACTION_MODE_LATCH:case ze.BYTE_COMPACTION_MODE_LATCH_6:case ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ze.MACRO_PDF417_TERMINATOR:p--,O=!0;break;default:if(w%5===0&&w>0){for(let re=0;re<6;++re)_.write(Number(Za(I)>>Za(8*(5-re))));I=0,w=0}break}p===u[0]&&X<ze.TEXT_COMPACTION_MODE_LATCH&&(V[w++]=X);for(let re=0;re<w;re++)_.write(V[re]);break;case ze.BYTE_COMPACTION_MODE_LATCH_6:for(;p<u[0]&&!O;){let re=u[p++];if(re<ze.TEXT_COMPACTION_MODE_LATCH)w++,I=900*I+re;else switch(re){case ze.TEXT_COMPACTION_MODE_LATCH:case ze.BYTE_COMPACTION_MODE_LATCH:case ze.NUMERIC_COMPACTION_MODE_LATCH:case ze.BYTE_COMPACTION_MODE_LATCH_6:case ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ze.MACRO_PDF417_TERMINATOR:p--,O=!0;break}if(w%5===0&&w>0){for(let de=0;de<6;++de)_.write(Number(Za(I)>>Za(8*(5-de))));I=0,w=0}}break}return x.append(K.decode(_.toByteArray(),h)),p}static numericCompaction(o,u,h){let p=0,x=!1,_=new Int32Array(ze.MAX_NUMERIC_CODEWORDS);for(;u<o[0]&&!x;){let w=o[u++];if(u===o[0]&&(x=!0),w<ze.TEXT_COMPACTION_MODE_LATCH)_[p]=w,p++;else switch(w){case ze.TEXT_COMPACTION_MODE_LATCH:case ze.BYTE_COMPACTION_MODE_LATCH:case ze.BYTE_COMPACTION_MODE_LATCH_6:case ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ze.MACRO_PDF417_TERMINATOR:u--,x=!0;break}(p%ze.MAX_NUMERIC_CODEWORDS===0||w===ze.NUMERIC_COMPACTION_MODE_LATCH||x)&&p>0&&(h.append(ze.decodeBase900toBase10(_,p)),p=0)}return u}static decodeBase900toBase10(o,u){let h=Za(0);for(let x=0;x<u;x++)h+=ze.EXP900[u-x-1]*Za(o[x]);let p=h.toString();if(p.charAt(0)!=="1")throw new L;return p.substring(1)}}ze.TEXT_COMPACTION_MODE_LATCH=900,ze.BYTE_COMPACTION_MODE_LATCH=901,ze.NUMERIC_COMPACTION_MODE_LATCH=902,ze.BYTE_COMPACTION_MODE_LATCH_6=924,ze.ECI_USER_DEFINED=925,ze.ECI_GENERAL_PURPOSE=926,ze.ECI_CHARSET=927,ze.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ze.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ze.MACRO_PDF417_TERMINATOR=922,ze.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ze.MAX_NUMERIC_CODEWORDS=15,ze.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ze.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ze.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ze.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ze.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ze.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ze.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ze.PL=25,ze.LL=27,ze.AS=27,ze.ML=28,ze.AL=28,ze.PS=29,ze.PAL=29,ze.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ze.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ze.EXP900=Oo()?Mo():[],ze.NUMBER_OF_SEQUENCE_CODEWORDS=2;class $t{constructor(){}static decode(o,u,h,p,x,_,w){let I=new Ka(o,u,h,p,x),O=null,V=null,X;for(let we=!0;;we=!1){if(u!=null&&(O=$t.getRowIndicatorColumn(o,I,u,!0,_,w)),p!=null&&(V=$t.getRowIndicatorColumn(o,I,p,!1,_,w)),X=$t.merge(O,V),X==null)throw xe.getNotFoundInstance();let Te=X.getBoundingBox();if(we&&Te!=null&&(Te.getMinY()<I.getMinY()||Te.getMaxY()>I.getMaxY()))I=Te;else break}X.setBoundingBox(I);let re=X.getBarcodeColumnCount()+1;X.setDetectionResultColumn(0,O),X.setDetectionResultColumn(re,V);let de=O!=null;for(let we=1;we<=re;we++){let Te=de?we:re-we;if(X.getDetectionResultColumn(Te)!==void 0)continue;let Ne;Te===0||Te===re?Ne=new hn(I,Te===0):Ne=new xs(I),X.setDetectionResultColumn(Te,Ne);let He=-1,dt=He;for(let ft=I.getMinY();ft<=I.getMaxY();ft++){if(He=$t.getStartColumn(X,Te,ft,de),He<0||He>I.getMaxX()){if(dt===-1)continue;He=dt}let at=$t.detectCodeword(o,I.getMinX(),I.getMaxX(),de,He,ft,_,w);at!=null&&(Ne.setCodeword(ft,at),dt=He,_=Math.min(_,at.getWidth()),w=Math.max(w,at.getWidth()))}}return $t.createDecoderResult(X)}static merge(o,u){if(o==null&&u==null)return null;let h=$t.getBarcodeMetadata(o,u);if(h==null)return null;let p=Ka.merge($t.adjustBoundingBox(o),$t.adjustBoundingBox(u));return new Yn(h,p)}static adjustBoundingBox(o){if(o==null)return null;let u=o.getRowHeights();if(u==null)return null;let h=$t.getMax(u),p=0;for(let w of u)if(p+=h-w,w>0)break;let x=o.getCodewords();for(let w=0;p>0&&x[w]==null;w++)p--;let _=0;for(let w=u.length-1;w>=0&&(_+=h-u[w],!(u[w]>0));w--);for(let w=x.length-1;_>0&&x[w]==null;w--)_--;return o.getBoundingBox().addMissingRows(p,_,o.isLeft())}static getMax(o){let u=-1;for(let h of o)u=Math.max(u,h);return u}static getBarcodeMetadata(o,u){let h;if(o==null||(h=o.getBarcodeMetadata())==null)return u==null?null:u.getBarcodeMetadata();let p;return u==null||(p=u.getBarcodeMetadata())==null?h:h.getColumnCount()!==p.getColumnCount()&&h.getErrorCorrectionLevel()!==p.getErrorCorrectionLevel()&&h.getRowCount()!==p.getRowCount()?null:h}static getRowIndicatorColumn(o,u,h,p,x,_){let w=new hn(u,p);for(let I=0;I<2;I++){let O=I===0?1:-1,V=Math.trunc(Math.trunc(h.getX()));for(let X=Math.trunc(Math.trunc(h.getY()));X<=u.getMaxY()&&X>=u.getMinY();X+=O){let re=$t.detectCodeword(o,0,o.getWidth(),p,V,X,x,_);re!=null&&(w.setCodeword(X,re),p?V=re.getStartX():V=re.getEndX())}}return w}static adjustCodewordCount(o,u){let h=u[0][1],p=h.getValue(),x=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-$t.getNumberOfECCodeWords(o.getBarcodeECLevel());if(p.length===0){if(x<1||x>Ft.MAX_CODEWORDS_IN_BARCODE)throw xe.getNotFoundInstance();h.setValue(x)}else p[0]!==x&&h.setValue(x)}static createDecoderResult(o){let u=$t.createBarcodeMatrix(o);$t.adjustCodewordCount(o,u);let h=new Array,p=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),x=[],_=new Array;for(let I=0;I<o.getBarcodeRowCount();I++)for(let O=0;O<o.getBarcodeColumnCount();O++){let V=u[I][O+1].getValue(),X=I*o.getBarcodeColumnCount()+O;V.length===0?h.push(X):V.length===1?p[X]=V[0]:(_.push(X),x.push(V))}let w=new Array(x.length);for(let I=0;I<w.length;I++)w[I]=x[I];return $t.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),p,Ft.toIntArray(h),Ft.toIntArray(_),w)}static createDecoderResultFromAmbiguousValues(o,u,h,p,x){let _=new Int32Array(p.length),w=100;for(;w-- >0;){for(let I=0;I<_.length;I++)u[p[I]]=x[I][_[I]];try{return $t.decodeCodewords(u,o,h)}catch(I){if(!(I instanceof C))throw I}if(_.length===0)throw C.getChecksumInstance();for(let I=0;I<_.length;I++)if(_[I]<x[I].length-1){_[I]++;break}else if(_[I]=0,I===_.length-1)throw C.getChecksumInstance()}throw C.getChecksumInstance()}static createBarcodeMatrix(o){let u=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let p=0;p<u.length;p++)for(let x=0;x<u[p].length;x++)u[p][x]=new $a;let h=0;for(let p of o.getDetectionResultColumns()){if(p!=null){for(let x of p.getCodewords())if(x!=null){let _=x.getRowNumber();if(_>=0){if(_>=u.length)continue;u[_][h].setValue(x.getValue())}}}h++}return u}static isValidBarcodeColumn(o,u){return u>=0&&u<=o.getBarcodeColumnCount()+1}static getStartColumn(o,u,h,p){let x=p?1:-1,_=null;if($t.isValidBarcodeColumn(o,u-x)&&(_=o.getDetectionResultColumn(u-x).getCodeword(h)),_!=null)return p?_.getEndX():_.getStartX();if(_=o.getDetectionResultColumn(u).getCodewordNearby(h),_!=null)return p?_.getStartX():_.getEndX();if($t.isValidBarcodeColumn(o,u-x)&&(_=o.getDetectionResultColumn(u-x).getCodewordNearby(h)),_!=null)return p?_.getEndX():_.getStartX();let w=0;for(;$t.isValidBarcodeColumn(o,u-x);){u-=x;for(let I of o.getDetectionResultColumn(u).getCodewords())if(I!=null)return(p?I.getEndX():I.getStartX())+x*w*(I.getEndX()-I.getStartX());w++}return p?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,u,h,p,x,_,w,I){x=$t.adjustCodewordStartColumn(o,u,h,p,x,_);let O=$t.getModuleBitCount(o,u,h,p,x,_);if(O==null)return null;let V,X=Ct.sum(O);if(p)V=x+X;else{for(let we=0;we<O.length/2;we++){let Te=O[we];O[we]=O[O.length-1-we],O[O.length-1-we]=Te}V=x,x=V-X}if(!$t.checkCodewordSkew(X,w,I))return null;let re=Kn.getDecodedValue(O),de=Ft.getCodeword(re);return de===-1?null:new Da(x,V,$t.getCodewordBucketNumber(re),de)}static getModuleBitCount(o,u,h,p,x,_){let w=x,I=new Int32Array(8),O=0,V=p?1:-1,X=p;for(;(p?w<h:w>=u)&&O<I.length;)o.get(w,_)===X?(I[O]++,w+=V):(O++,X=!X);return O===I.length||w===(p?h:u)&&O===I.length-1?I:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,u,h,p,x,_){let w=x,I=p?-1:1;for(let O=0;O<2;O++){for(;(p?w>=u:w<h)&&p===o.get(w,_);){if(Math.abs(x-w)>$t.CODEWORD_SKEW_SIZE)return x;w+=I}I=-I,p=!p}return w}static checkCodewordSkew(o,u,h){return u-$t.CODEWORD_SKEW_SIZE<=o&&o<=h+$t.CODEWORD_SKEW_SIZE}static decodeCodewords(o,u,h){if(o.length===0)throw L.getFormatInstance();let p=1<<u+1,x=$t.correctErrors(o,h,p);$t.verifyCodewordCount(o,p);let _=ze.decode(o,""+u);return _.setErrorsCorrected(x),_.setErasures(h.length),_}static correctErrors(o,u,h){if(u!=null&&u.length>h/2+$t.MAX_ERRORS||h<0||h>$t.MAX_EC_CODEWORDS)throw C.getChecksumInstance();return $t.errorCorrection.decode(o,h,u)}static verifyCodewordCount(o,u){if(o.length<4)throw L.getFormatInstance();let h=o[0];if(h>o.length)throw L.getFormatInstance();if(h===0)if(u<o.length)o[0]=o.length-u;else throw L.getFormatInstance()}static getBitCountForCodeword(o){let u=new Int32Array(8),h=0,p=u.length-1;for(;!((o&1)!==h&&(h=o&1,p--,p<0));)u[p]++,o>>=1;return u}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return $t.getCodewordBucketNumber($t.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let u=new Qa;for(let h=0;h<o.length;h++){u.format("Row %2d: ",h);for(let p=0;p<o[h].length;p++){let x=o[h][p];x.getValue().length===0?u.format("        ",null):u.format("%4d(%2d)",x.getValue()[0],x.getConfidence(x.getValue()[0]))}u.format("%n")}return u.toString()}}$t.CODEWORD_SKEW_SIZE=2,$t.MAX_ERRORS=3,$t.MAX_EC_CODEWORDS=512,$t.errorCorrection=new ma;class fi{decode(o,u=null){let h=fi.decode(o,u,!1);if(h==null||h.length===0||h[0]==null)throw xe.getNotFoundInstance();return h[0]}decodeMultiple(o,u=null){try{return fi.decode(o,u,!0)}catch(h){throw h instanceof L||h instanceof C?xe.getNotFoundInstance():h}}static decode(o,u,h){const p=new Array,x=Pt.detectMultiple(o,u,h);for(const _ of x.getPoints()){const w=$t.decode(x.getBits(),_[4],_[5],_[6],_[7],fi.getMinCodewordWidth(_),fi.getMaxCodewordWidth(_)),I=new ie(w.getText(),w.getRawBytes(),void 0,_,ye.PDF_417);I.putMetadata(je.ERROR_CORRECTION_LEVEL,w.getECLevel());const O=w.getOther();O!=null&&I.putMetadata(je.PDF417_EXTRA_METADATA,O),p.push(I)}return p.map(_=>_)}static getMaxWidth(o,u){return o==null||u==null?0:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMinWidth(o,u){return o==null||u==null?B.MAX_VALUE:Math.trunc(Math.abs(o.getX()-u.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(fi.getMaxWidth(o[0],o[4]),fi.getMaxWidth(o[6],o[2])*Ft.MODULES_IN_CODEWORD/Ft.MODULES_IN_STOP_PATTERN),Math.max(fi.getMaxWidth(o[1],o[5]),fi.getMaxWidth(o[7],o[3])*Ft.MODULES_IN_CODEWORD/Ft.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(fi.getMinWidth(o[0],o[4]),fi.getMinWidth(o[6],o[2])*Ft.MODULES_IN_CODEWORD/Ft.MODULES_IN_STOP_PATTERN),Math.min(fi.getMinWidth(o[1],o[5]),fi.getMinWidth(o[7],o[3])*Ft.MODULES_IN_CODEWORD/Ft.MODULES_IN_STOP_PATTERN)))}reset(){}}class gl extends g{}gl.kind="ReaderException";class Lo{constructor(o,u){this.verbose=o===!0,u&&this.setHints(u)}decode(o,u){return u&&this.setHints(u),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const u=!n(o)&&o.get(ee.TRY_HARDER)===!0,h=n(o)?null:o.get(ee.POSSIBLE_FORMATS),p=new Array;if(!n(h)){const x=h.some(_=>_===ye.UPC_A||_===ye.UPC_E||_===ye.EAN_13||_===ye.EAN_8||_===ye.CODABAR||_===ye.CODE_39||_===ye.CODE_93||_===ye.CODE_128||_===ye.ITF||_===ye.RSS_14||_===ye.RSS_EXPANDED);x&&!u&&p.push(new Un(o,this.verbose)),h.includes(ye.QR_CODE)&&p.push(new ps),h.includes(ye.DATA_MATRIX)&&p.push(new Wa),h.includes(ye.AZTEC)&&p.push(new zt),h.includes(ye.PDF_417)&&p.push(new fi),x&&u&&p.push(new Un(o,this.verbose))}p.length===0&&(u||p.push(new Un(o,this.verbose)),p.push(new ps),p.push(new Wa),p.push(new zt),p.push(new fi),u&&p.push(new Un(o,this.verbose))),this.readers=p}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new gl("No readers where selected, nothing can be read.");for(const u of this.readers)try{return u.decode(o,this.hints)}catch(h){if(h instanceof gl)continue}throw new xe("No MultiFormat Readers were able to detect the code.")}}class yu extends he{constructor(o=null,u=500){const h=new Lo;h.setHints(o),super(h,u)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class Tf extends he{constructor(o=500){super(new fi,o)}}class _u extends he{constructor(o=500){super(new ps,o)}}var ml;(function(W){W[W.ERROR_CORRECTION=0]="ERROR_CORRECTION",W[W.CHARACTER_SET=1]="CHARACTER_SET",W[W.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",W[W.MIN_SIZE=3]="MIN_SIZE",W[W.MAX_SIZE=4]="MAX_SIZE",W[W.MARGIN=5]="MARGIN",W[W.PDF417_COMPACT=6]="PDF417_COMPACT",W[W.PDF417_COMPACTION=7]="PDF417_COMPACTION",W[W.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",W[W.AZTEC_LAYERS=9]="AZTEC_LAYERS",W[W.QR_VERSION=10]="QR_VERSION"})(ml||(ml={}));var Mn=ml;class zs{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new _t(o,Int32Array.from([1])))}buildGenerator(o){const u=this.cachedGenerators;if(o>=u.length){let h=u[u.length-1];const p=this.field;for(let x=u.length;x<=o;x++){const _=h.multiply(new _t(p,Int32Array.from([1,p.exp(x-1+p.getGeneratorBase())])));u.push(_),h=_}}return u[o]}encode(o,u){if(u===0)throw new E("No error correction bytes");const h=o.length-u;if(h<=0)throw new E("No data bytes provided");const p=this.buildGenerator(u),x=new Int32Array(h);b.arraycopy(o,0,x,0,h);let _=new _t(this.field,x);_=_.multiplyByMonomial(u,1);const I=_.divide(p)[1].getCoefficients(),O=u-I.length;for(let V=0;V<O;V++)o[h+V]=0;b.arraycopy(I,0,o,h+O,I.length)}}class vn{constructor(){}static applyMaskPenaltyRule1(o){return vn.applyMaskPenaltyRule1Internal(o,!0)+vn.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let u=0;const h=o.getArray(),p=o.getWidth(),x=o.getHeight();for(let _=0;_<x-1;_++){const w=h[_];for(let I=0;I<p-1;I++){const O=w[I];O===w[I+1]&&O===h[_+1][I]&&O===h[_+1][I+1]&&u++}}return vn.N2*u}static applyMaskPenaltyRule3(o){let u=0;const h=o.getArray(),p=o.getWidth(),x=o.getHeight();for(let _=0;_<x;_++)for(let w=0;w<p;w++){const I=h[_];w+6<p&&I[w]===1&&I[w+1]===0&&I[w+2]===1&&I[w+3]===1&&I[w+4]===1&&I[w+5]===0&&I[w+6]===1&&(vn.isWhiteHorizontal(I,w-4,w)||vn.isWhiteHorizontal(I,w+7,w+11))&&u++,_+6<x&&h[_][w]===1&&h[_+1][w]===0&&h[_+2][w]===1&&h[_+3][w]===1&&h[_+4][w]===1&&h[_+5][w]===0&&h[_+6][w]===1&&(vn.isWhiteVertical(h,w,_-4,_)||vn.isWhiteVertical(h,w,_+7,_+11))&&u++}return u*vn.N3}static isWhiteHorizontal(o,u,h){u=Math.max(u,0),h=Math.min(h,o.length);for(let p=u;p<h;p++)if(o[p]===1)return!1;return!0}static isWhiteVertical(o,u,h,p){h=Math.max(h,0),p=Math.min(p,o.length);for(let x=h;x<p;x++)if(o[x][u]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let u=0;const h=o.getArray(),p=o.getWidth(),x=o.getHeight();for(let I=0;I<x;I++){const O=h[I];for(let V=0;V<p;V++)O[V]===1&&u++}const _=o.getHeight()*o.getWidth();return Math.floor(Math.abs(u*2-_)*10/_)*vn.N4}static getDataMaskBit(o,u,h){let p,x;switch(o){case 0:p=h+u&1;break;case 1:p=h&1;break;case 2:p=u%3;break;case 3:p=(h+u)%3;break;case 4:p=Math.floor(h/2)+Math.floor(u/3)&1;break;case 5:x=h*u,p=(x&1)+x%3;break;case 6:x=h*u,p=(x&1)+x%3&1;break;case 7:x=h*u,p=x%3+(h+u&1)&1;break;default:throw new E("Invalid mask pattern: "+o)}return p===0}static applyMaskPenaltyRule1Internal(o,u){let h=0;const p=u?o.getHeight():o.getWidth(),x=u?o.getWidth():o.getHeight(),_=o.getArray();for(let w=0;w<p;w++){let I=0,O=-1;for(let V=0;V<x;V++){const X=u?_[w][V]:_[V][w];X===O?I++:(I>=5&&(h+=vn.N1+(I-5)),I=1,O=X)}I>=5&&(h+=vn.N1+(I-5))}return h}}vn.N1=3,vn.N2=3,vn.N3=40,vn.N4=10;class pl{constructor(o,u){this.width=o,this.height=u;const h=new Array(u);for(let p=0;p!==u;p++)h[p]=new Uint8Array(o);this.bytes=h}getHeight(){return this.height}getWidth(){return this.width}get(o,u){return this.bytes[u][o]}getArray(){return this.bytes}setNumber(o,u,h){this.bytes[u][o]=h}setBoolean(o,u,h){this.bytes[u][o]=h?1:0}clear(o){for(const u of this.bytes)G.fill(u,o)}equals(o){if(!(o instanceof pl))return!1;const u=o;if(this.width!==u.width||this.height!==u.height)return!1;for(let h=0,p=this.height;h<p;++h){const x=this.bytes[h],_=u.bytes[h];for(let w=0,I=this.width;w<I;++w)if(x[w]!==_[w])return!1}return!0}toString(){const o=new Q;for(let u=0,h=this.height;u<h;++u){const p=this.bytes[u];for(let x=0,_=this.width;x<_;++x)switch(p[x]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class Ji{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new Q;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<Ji.NUM_MASK_PATTERNS}}Ji.NUM_MASK_PATTERNS=8;class Mr extends g{}Mr.kind="WriterException";class Mt{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,u,h,p,x){Mt.clearMatrix(x),Mt.embedBasicPatterns(h,x),Mt.embedTypeInfo(u,p,x),Mt.maybeEmbedVersionInfo(h,x),Mt.embedDataBits(o,p,x)}static embedBasicPatterns(o,u){Mt.embedPositionDetectionPatternsAndSeparators(u),Mt.embedDarkDotAtLeftBottomCorner(u),Mt.maybeEmbedPositionAdjustmentPatterns(o,u),Mt.embedTimingPatterns(u)}static embedTypeInfo(o,u,h){const p=new Y;Mt.makeTypeInfoBits(o,u,p);for(let x=0,_=p.getSize();x<_;++x){const w=p.get(p.getSize()-1-x),I=Mt.TYPE_INFO_COORDINATES[x],O=I[0],V=I[1];if(h.setBoolean(O,V,w),x<8){const X=h.getWidth()-x-1;h.setBoolean(X,8,w)}else{const re=h.getHeight()-7+(x-8);h.setBoolean(8,re,w)}}}static maybeEmbedVersionInfo(o,u){if(o.getVersionNumber()<7)return;const h=new Y;Mt.makeVersionInfoBits(o,h);let p=17;for(let x=0;x<6;++x)for(let _=0;_<3;++_){const w=h.get(p);p--,u.setBoolean(x,u.getHeight()-11+_,w),u.setBoolean(u.getHeight()-11+_,x,w)}}static embedDataBits(o,u,h){let p=0,x=-1,_=h.getWidth()-1,w=h.getHeight()-1;for(;_>0;){for(_===6&&(_-=1);w>=0&&w<h.getHeight();){for(let I=0;I<2;++I){const O=_-I;if(!Mt.isEmpty(h.get(O,w)))continue;let V;p<o.getSize()?(V=o.get(p),++p):V=!1,u!==255&&vn.getDataMaskBit(u,O,w)&&(V=!V),h.setBoolean(O,w,V)}w+=x}x=-x,w+=x,_-=2}if(p!==o.getSize())throw new Mr("Not all bits consumed: "+p+"/"+o.getSize())}static findMSBSet(o){return 32-B.numberOfLeadingZeros(o)}static calculateBCHCode(o,u){if(u===0)throw new E("0 polynomial");const h=Mt.findMSBSet(u);for(o<<=h-1;Mt.findMSBSet(o)>=h;)o^=u<<Mt.findMSBSet(o)-h;return o}static makeTypeInfoBits(o,u,h){if(!Ji.isValidMaskPattern(u))throw new Mr("Invalid mask pattern");const p=o.getBits()<<3|u;h.appendBits(p,5);const x=Mt.calculateBCHCode(p,Mt.TYPE_INFO_POLY);h.appendBits(x,10);const _=new Y;if(_.appendBits(Mt.TYPE_INFO_MASK_PATTERN,15),h.xor(_),h.getSize()!==15)throw new Mr("should not happen but we got: "+h.getSize())}static makeVersionInfoBits(o,u){u.appendBits(o.getVersionNumber(),6);const h=Mt.calculateBCHCode(o.getVersionNumber(),Mt.VERSION_INFO_POLY);if(u.appendBits(h,12),u.getSize()!==18)throw new Mr("should not happen but we got: "+u.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let u=8;u<o.getWidth()-8;++u){const h=(u+1)%2;Mt.isEmpty(o.get(u,6))&&o.setNumber(u,6,h),Mt.isEmpty(o.get(6,u))&&o.setNumber(6,u,h)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new Mr;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,u,h){for(let p=0;p<8;++p){if(!Mt.isEmpty(h.get(o+p,u)))throw new Mr;h.setNumber(o+p,u,0)}}static embedVerticalSeparationPattern(o,u,h){for(let p=0;p<7;++p){if(!Mt.isEmpty(h.get(o,u+p)))throw new Mr;h.setNumber(o,u+p,0)}}static embedPositionAdjustmentPattern(o,u,h){for(let p=0;p<5;++p){const x=Mt.POSITION_ADJUSTMENT_PATTERN[p];for(let _=0;_<5;++_)h.setNumber(o+_,u+p,x[_])}}static embedPositionDetectionPattern(o,u,h){for(let p=0;p<7;++p){const x=Mt.POSITION_DETECTION_PATTERN[p];for(let _=0;_<7;++_)h.setNumber(o+_,u+p,x[_])}}static embedPositionDetectionPatternsAndSeparators(o){const u=Mt.POSITION_DETECTION_PATTERN[0].length;Mt.embedPositionDetectionPattern(0,0,o),Mt.embedPositionDetectionPattern(o.getWidth()-u,0,o),Mt.embedPositionDetectionPattern(0,o.getWidth()-u,o);const h=8;Mt.embedHorizontalSeparationPattern(0,h-1,o),Mt.embedHorizontalSeparationPattern(o.getWidth()-h,h-1,o),Mt.embedHorizontalSeparationPattern(0,o.getWidth()-h,o);const p=7;Mt.embedVerticalSeparationPattern(p,0,o),Mt.embedVerticalSeparationPattern(o.getHeight()-p-1,0,o),Mt.embedVerticalSeparationPattern(p,o.getHeight()-p,o)}static maybeEmbedPositionAdjustmentPatterns(o,u){if(o.getVersionNumber()<2)return;const h=o.getVersionNumber()-1,p=Mt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[h];for(let x=0,_=p.length;x!==_;x++){const w=p[x];if(w>=0)for(let I=0;I!==_;I++){const O=p[I];O>=0&&Mt.isEmpty(u.get(O,w))&&Mt.embedPositionAdjustmentPattern(O-2,w-2,u)}}}}Mt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Mt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Mt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Mt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Mt.VERSION_INFO_POLY=7973,Mt.TYPE_INFO_POLY=1335,Mt.TYPE_INFO_MASK_PATTERN=21522;class Af{constructor(o,u){this.dataBytes=o,this.errorCorrectionBytes=u}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Xr{constructor(){}static calculateMaskPenalty(o){return vn.applyMaskPenaltyRule1(o)+vn.applyMaskPenaltyRule2(o)+vn.applyMaskPenaltyRule3(o)+vn.applyMaskPenaltyRule4(o)}static encode(o,u,h=null){let p=Xr.DEFAULT_BYTE_MODE_ENCODING;const x=h!==null&&h.get(Mn.CHARACTER_SET)!==void 0;x&&(p=h.get(Mn.CHARACTER_SET).toString());const _=this.chooseMode(o,p),w=new Y;if(_===Dt.BYTE&&(x||Xr.DEFAULT_BYTE_MODE_ENCODING!==p)){const ft=U.getCharacterSetECIByName(p);ft!==void 0&&this.appendECI(ft,w)}this.appendModeInfo(_,w);const I=new Y;this.appendBytes(o,_,I,p);let O;if(h!==null&&h.get(Mn.QR_VERSION)!==void 0){const ft=Number.parseInt(h.get(Mn.QR_VERSION).toString(),10);O=mt.getVersionForNumber(ft);const at=this.calculateBitsNeeded(_,w,I,O);if(!this.willFit(at,O,u))throw new Mr("Data too big for requested version")}else O=this.recommendVersion(u,_,w,I);const V=new Y;V.appendBitArray(w);const X=_===Dt.BYTE?I.getSizeInBytes():o.length;this.appendLengthInfo(X,O,_,V),V.appendBitArray(I);const re=O.getECBlocksForLevel(u),de=O.getTotalCodewords()-re.getTotalECCodewords();this.terminateBits(de,V);const we=this.interleaveWithECBytes(V,O.getTotalCodewords(),de,re.getNumBlocks()),Te=new Ji;Te.setECLevel(u),Te.setMode(_),Te.setVersion(O);const Ne=O.getDimensionForVersion(),He=new pl(Ne,Ne),dt=this.chooseMaskPattern(we,u,O,He);return Te.setMaskPattern(dt),Mt.buildMatrix(we,u,O,dt,He),Te.setMatrix(He),Te}static recommendVersion(o,u,h,p){const x=this.calculateBitsNeeded(u,h,p,mt.getVersionForNumber(1)),_=this.chooseVersion(x,o),w=this.calculateBitsNeeded(u,h,p,_);return this.chooseVersion(w,o)}static calculateBitsNeeded(o,u,h,p){return u.getSize()+o.getCharacterCountBits(p)+h.getSize()}static getAlphanumericCode(o){return o<Xr.ALPHANUMERIC_TABLE.length?Xr.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,u=null){if(U.SJIS.getName()===u&&this.isOnlyDoubleByteKanji(o))return Dt.KANJI;let h=!1,p=!1;for(let x=0,_=o.length;x<_;++x){const w=o.charAt(x);if(Xr.isDigit(w))h=!0;else if(this.getAlphanumericCode(w.charCodeAt(0))!==-1)p=!0;else return Dt.BYTE}return p?Dt.ALPHANUMERIC:h?Dt.NUMERIC:Dt.BYTE}static isOnlyDoubleByteKanji(o){let u;try{u=K.encode(o,U.SJIS)}catch{return!1}const h=u.length;if(h%2!==0)return!1;for(let p=0;p<h;p+=2){const x=u[p]&255;if((x<129||x>159)&&(x<224||x>235))return!1}return!0}static chooseMaskPattern(o,u,h,p){let x=Number.MAX_SAFE_INTEGER,_=-1;for(let w=0;w<Ji.NUM_MASK_PATTERNS;w++){Mt.buildMatrix(o,u,h,w,p);let I=this.calculateMaskPenalty(p);I<x&&(x=I,_=w)}return _}static chooseVersion(o,u){for(let h=1;h<=40;h++){const p=mt.getVersionForNumber(h);if(Xr.willFit(o,p,u))return p}throw new Mr("Data too big")}static willFit(o,u,h){const p=u.getTotalCodewords(),_=u.getECBlocksForLevel(h).getTotalECCodewords(),w=p-_,I=(o+7)/8;return w>=I}static terminateBits(o,u){const h=o*8;if(u.getSize()>h)throw new Mr("data bits cannot fit in the QR Code"+u.getSize()+" > "+h);for(let _=0;_<4&&u.getSize()<h;++_)u.appendBit(!1);const p=u.getSize()&7;if(p>0)for(let _=p;_<8;_++)u.appendBit(!1);const x=o-u.getSizeInBytes();for(let _=0;_<x;++_)u.appendBits((_&1)===0?236:17,8);if(u.getSize()!==h)throw new Mr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,u,h,p,x,_){if(p>=h)throw new Mr("Block ID too large");const w=o%h,I=h-w,O=Math.floor(o/h),V=O+1,X=Math.floor(u/h),re=X+1,de=O-X,we=V-re;if(de!==we)throw new Mr("EC bytes mismatch");if(h!==I+w)throw new Mr("RS blocks mismatch");if(o!==(X+de)*I+(re+we)*w)throw new Mr("Total bytes mismatch");p<I?(x[0]=X,_[0]=de):(x[0]=re,_[0]=we)}static interleaveWithECBytes(o,u,h,p){if(o.getSizeInBytes()!==h)throw new Mr("Number of bits and data bytes does not match");let x=0,_=0,w=0;const I=new Array;for(let V=0;V<p;++V){const X=new Int32Array(1),re=new Int32Array(1);Xr.getNumDataBytesAndNumECBytesForBlockID(u,h,p,V,X,re);const de=X[0],we=new Uint8Array(de);o.toBytes(8*x,we,0,de);const Te=Xr.generateECBytes(we,re[0]);I.push(new Af(we,Te)),_=Math.max(_,de),w=Math.max(w,Te.length),x+=X[0]}if(h!==x)throw new Mr("Data bytes does not match offset");const O=new Y;for(let V=0;V<_;++V)for(const X of I){const re=X.getDataBytes();V<re.length&&O.appendBits(re[V],8)}for(let V=0;V<w;++V)for(const X of I){const re=X.getErrorCorrectionBytes();V<re.length&&O.appendBits(re[V],8)}if(u!==O.getSizeInBytes())throw new Mr("Interleaving error: "+u+" and "+O.getSizeInBytes()+" differ.");return O}static generateECBytes(o,u){const h=o.length,p=new Int32Array(h+u);for(let _=0;_<h;_++)p[_]=o[_]&255;new zs(wt.QR_CODE_FIELD_256).encode(p,u);const x=new Uint8Array(u);for(let _=0;_<u;_++)x[_]=p[h+_];return x}static appendModeInfo(o,u){u.appendBits(o.getBits(),4)}static appendLengthInfo(o,u,h,p){const x=h.getCharacterCountBits(u);if(o>=1<<x)throw new Mr(o+" is bigger than "+((1<<x)-1));p.appendBits(o,x)}static appendBytes(o,u,h,p){switch(u){case Dt.NUMERIC:Xr.appendNumericBytes(o,h);break;case Dt.ALPHANUMERIC:Xr.appendAlphanumericBytes(o,h);break;case Dt.BYTE:Xr.append8BitBytes(o,h,p);break;case Dt.KANJI:Xr.appendKanjiBytes(o,h);break;default:throw new Mr("Invalid mode: "+u)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const u=Xr.getDigit(o);return u>=0&&u<=9}static appendNumericBytes(o,u){const h=o.length;let p=0;for(;p<h;){const x=Xr.getDigit(o.charAt(p));if(p+2<h){const _=Xr.getDigit(o.charAt(p+1)),w=Xr.getDigit(o.charAt(p+2));u.appendBits(x*100+_*10+w,10),p+=3}else if(p+1<h){const _=Xr.getDigit(o.charAt(p+1));u.appendBits(x*10+_,7),p+=2}else u.appendBits(x,4),p++}}static appendAlphanumericBytes(o,u){const h=o.length;let p=0;for(;p<h;){const x=Xr.getAlphanumericCode(o.charCodeAt(p));if(x===-1)throw new Mr;if(p+1<h){const _=Xr.getAlphanumericCode(o.charCodeAt(p+1));if(_===-1)throw new Mr;u.appendBits(x*45+_,11),p+=2}else u.appendBits(x,6),p++}}static append8BitBytes(o,u,h){let p;try{p=K.encode(o,h)}catch(x){throw new Mr(x)}for(let x=0,_=p.length;x!==_;x++){const w=p[x];u.appendBits(w,8)}}static appendKanjiBytes(o,u){let h;try{h=K.encode(o,U.SJIS)}catch(x){throw new Mr(x)}const p=h.length;for(let x=0;x<p;x+=2){const _=h[x]&255,w=h[x+1]&255,I=_<<8&4294967295|w;let O=-1;if(I>=33088&&I<=40956?O=I-33088:I>=57408&&I<=60351&&(O=I-49472),O===-1)throw new Mr("Invalid byte sequence");const V=(O>>8)*192+(O&255);u.appendBits(V,13)}}static appendECI(o,u){u.appendBits(Dt.ECI.getBits(),4),u.appendBits(o.getValue(),8)}}Xr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Xr.DEFAULT_BYTE_MODE_ENCODING=U.UTF8.getName();class Ja{write(o,u,h,p=null){if(o.length===0)throw new E("Found empty contents");if(u<0||h<0)throw new E("Requested dimensions are too small: "+u+"x"+h);let x=qt.L,_=Ja.QUIET_ZONE_SIZE;p!==null&&(p.get(Mn.ERROR_CORRECTION)!==void 0&&(x=qt.fromString(p.get(Mn.ERROR_CORRECTION).toString())),p.get(Mn.MARGIN)!==void 0&&(_=Number.parseInt(p.get(Mn.MARGIN).toString(),10)));const w=Xr.encode(o,x,p);return this.renderResult(w,u,h,_)}writeToDom(o,u,h,p,x=null){typeof o=="string"&&(o=document.querySelector(o));const _=this.write(u,h,p,x);o&&o.appendChild(_)}renderResult(o,u,h,p){const x=o.getMatrix();if(x===null)throw new Wt;const _=x.getWidth(),w=x.getHeight(),I=_+p*2,O=w+p*2,V=Math.max(u,I),X=Math.max(h,O),re=Math.min(Math.floor(V/I),Math.floor(X/O)),de=Math.floor((V-_*re)/2),we=Math.floor((X-w*re)/2),Te=this.createSVGElement(V,X);for(let Ne=0,He=we;Ne<w;Ne++,He+=re)for(let dt=0,ft=de;dt<_;dt++,ft+=re)if(x.get(dt,Ne)===1){const at=this.createSvgRectElement(ft,He,re,re);Te.appendChild(at)}return Te}createSVGElement(o,u){const h=document.createElementNS(Ja.SVG_NS,"svg");return h.setAttributeNS(null,"height",o.toString()),h.setAttributeNS(null,"width",u.toString()),h}createSvgRectElement(o,u,h,p){const x=document.createElementNS(Ja.SVG_NS,"rect");return x.setAttributeNS(null,"x",o.toString()),x.setAttributeNS(null,"y",u.toString()),x.setAttributeNS(null,"height",h.toString()),x.setAttributeNS(null,"width",p.toString()),x.setAttributeNS(null,"fill","#000000"),x}}Ja.QUIET_ZONE_SIZE=4,Ja.SVG_NS="http://www.w3.org/2000/svg";class Qn{encode(o,u,h,p,x){if(o.length===0)throw new E("Found empty contents");if(u!==ye.QR_CODE)throw new E("Can only encode QR_CODE, but got "+u);if(h<0||p<0)throw new E(`Requested dimensions are too small: ${h}x${p}`);let _=qt.L,w=Qn.QUIET_ZONE_SIZE;x!==null&&(x.get(Mn.ERROR_CORRECTION)!==void 0&&(_=qt.fromString(x.get(Mn.ERROR_CORRECTION).toString())),x.get(Mn.MARGIN)!==void 0&&(w=Number.parseInt(x.get(Mn.MARGIN).toString(),10)));const I=Xr.encode(o,_,x);return Qn.renderResult(I,h,p,w)}static renderResult(o,u,h,p){const x=o.getMatrix();if(x===null)throw new Wt;const _=x.getWidth(),w=x.getHeight(),I=_+p*2,O=w+p*2,V=Math.max(u,I),X=Math.max(h,O),re=Math.min(Math.floor(V/I),Math.floor(X/O)),de=Math.floor((V-_*re)/2),we=Math.floor((X-w*re)/2),Te=new be(V,X);for(let Ne=0,He=we;Ne<w;Ne++,He+=re)for(let dt=0,ft=de;dt<_;dt++,ft+=re)x.get(dt,Ne)===1&&Te.setRegion(ft,He,re,re);return Te}}Qn.QUIET_ZONE_SIZE=4;class Sf{encode(o,u,h,p,x){let _;switch(u){case ye.QR_CODE:_=new Qn;break;default:throw new E("No encoder available for format "+u)}return _.encode(o,u,h,p,x)}}class Oa extends ot{constructor(o,u,h,p,x,_,w,I){if(super(_,w),this.yuvData=o,this.dataWidth=u,this.dataHeight=h,this.left=p,this.top=x,p+_>u||x+w>h)throw new E("Crop rectangle does not fit within image data.");I&&this.reverseHorizontal(_,w)}getRow(o,u){if(o<0||o>=this.getHeight())throw new E("Requested row is outside the image: "+o);const h=this.getWidth();(u==null||u.length<h)&&(u=new Uint8ClampedArray(h));const p=(o+this.top)*this.dataWidth+this.left;return b.arraycopy(this.yuvData,p,u,0,h),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.yuvData;const h=o*u,p=new Uint8ClampedArray(h);let x=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return b.arraycopy(this.yuvData,x,p,0,h),p;for(let _=0;_<u;_++){const w=_*o;b.arraycopy(this.yuvData,x,p,w,o),x+=this.dataWidth}return p}isCropSupported(){return!0}crop(o,u,h,p){return new Oa(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+u,h,p,!1)}renderThumbnail(){const o=this.getWidth()/Oa.THUMBNAIL_SCALE_FACTOR,u=this.getHeight()/Oa.THUMBNAIL_SCALE_FACTOR,h=new Int32Array(o*u),p=this.yuvData;let x=this.top*this.dataWidth+this.left;for(let _=0;_<u;_++){const w=_*o;for(let I=0;I<o;I++){const O=p[x+I*Oa.THUMBNAIL_SCALE_FACTOR]&255;h[w+I]=4278190080|O*65793}x+=this.dataWidth*Oa.THUMBNAIL_SCALE_FACTOR}return h}getThumbnailWidth(){return this.getWidth()/Oa.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Oa.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,u){const h=this.yuvData;for(let p=0,x=this.top*this.dataWidth+this.left;p<u;p++,x+=this.dataWidth){const _=x+o/2;for(let w=x,I=x+o-1;w<_;w++,I--){const O=h[w];h[w]=h[I],h[I]=O}}}invert(){return new Ce(this)}}Oa.THUMBNAIL_SCALE_FACTOR=2;class Hs extends ot{constructor(o,u,h,p,x,_,w){if(super(u,h),this.dataWidth=p,this.dataHeight=x,this.left=_,this.top=w,o.BYTES_PER_ELEMENT===4){const I=u*h,O=new Uint8ClampedArray(I);for(let V=0;V<I;V++){const X=o[V],re=X>>16&255,de=X>>7&510,we=X&255;O[V]=(re+de+we)/4&255}this.luminances=O}else this.luminances=o;if(p===void 0&&(this.dataWidth=u),x===void 0&&(this.dataHeight=h),_===void 0&&(this.left=0),w===void 0&&(this.top=0),this.left+u>this.dataWidth||this.top+h>this.dataHeight)throw new E("Crop rectangle does not fit within image data.")}getRow(o,u){if(o<0||o>=this.getHeight())throw new E("Requested row is outside the image: "+o);const h=this.getWidth();(u==null||u.length<h)&&(u=new Uint8ClampedArray(h));const p=(o+this.top)*this.dataWidth+this.left;return b.arraycopy(this.luminances,p,u,0,h),u}getMatrix(){const o=this.getWidth(),u=this.getHeight();if(o===this.dataWidth&&u===this.dataHeight)return this.luminances;const h=o*u,p=new Uint8ClampedArray(h);let x=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return b.arraycopy(this.luminances,x,p,0,h),p;for(let _=0;_<u;_++){const w=_*o;b.arraycopy(this.luminances,x,p,w,o),x+=this.dataWidth}return p}isCropSupported(){return!0}crop(o,u,h,p){return new Hs(this.luminances,h,p,this.dataWidth,this.dataHeight,this.left+o,this.top+u)}invert(){return new Ce(this)}}class T extends U{static forName(o){return this.getCharacterSetECIByName(o)}}class F{}F.ISO_8859_1=U.ISO8859_1;class H{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class se{static singletonList(o){return[o]}static min(o,u){return o.sort(u)[0]}}class De{constructor(o){this.previous=o}getPrevious(){return this.previous}}class Ge extends De{constructor(o,u,h){super(o),this.value=u,this.bitCount=h}appendTo(o,u){o.appendBits(this.value,this.bitCount)}add(o,u){return new Ge(this,o,u)}addBinaryShift(o,u){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ge(this,o,u)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+B.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class pt extends Ge{constructor(o,u,h){super(o,0,0),this.binaryShiftStart=u,this.binaryShiftByteCount=h}appendTo(o,u){for(let h=0;h<this.binaryShiftByteCount;h++)(h===0||h===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):h===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(u[this.binaryShiftStart+h],8)}addBinaryShift(o,u){return new pt(this,o,u)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Pr(W,o,u){return new pt(W,o,u)}function wn(W,o,u){return new Ge(W,o,u)}const fr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],yn=0,jn=1,hi=2,ea=3,Wi=4,xo=new Ge(null,0,0),xl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Wp(W){for(let o of W)G.fill(o,-1);return W[yn][Wi]=0,W[jn][Wi]=0,W[jn][yn]=28,W[ea][Wi]=0,W[hi][Wi]=0,W[hi][yn]=15,W}const Eu=Wp(G.createInt32Array(6,6));class vs{constructor(o,u,h,p){this.token=o,this.mode=u,this.binaryShiftByteCount=h,this.bitCount=p}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,u){let h=this.bitCount,p=this.token;if(o!==this.mode){let _=xl[this.mode][o];p=wn(p,_&65535,_>>16),h+=_>>16}let x=o===hi?4:5;return p=wn(p,u,x),new vs(p,o,0,h+x)}shiftAndAppend(o,u){let h=this.token,p=this.mode===hi?4:5;return h=wn(h,Eu[this.mode][o],p),h=wn(h,u,5),new vs(h,this.mode,0,this.bitCount+p+5)}addBinaryShiftChar(o){let u=this.token,h=this.mode,p=this.bitCount;if(this.mode===Wi||this.mode===hi){let w=xl[h][yn];u=wn(u,w&65535,w>>16),p+=w>>16,h=yn}let x=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,_=new vs(u,h,this.binaryShiftByteCount+1,p+x);return _.binaryShiftByteCount===2078&&(_=_.endBinaryShift(o+1)),_}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let u=this.token;return u=Pr(u,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new vs(u,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let u=this.bitCount+(xl[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?u+=vs.calculateBinaryShiftCost(o)-vs.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(u+=10),u<=o.bitCount}toBitArray(o){let u=[];for(let p=this.endBinaryShift(o.length).token;p!==null;p=p.getPrevious())u.unshift(p);let h=new Y;for(const p of u)p.appendTo(h,o);return h}toString(){return M.format("%s bits=%d bytes=%d",fr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}vs.INITIAL_STATE=new vs(xo,yn,0,0);function p1(W){const o=M.getCharCode(" "),u=M.getCharCode("."),h=M.getCharCode(",");W[yn][o]=1;const p=M.getCharCode("Z"),x=M.getCharCode("A");for(let re=x;re<=p;re++)W[yn][re]=re-x+2;W[jn][o]=1;const _=M.getCharCode("z"),w=M.getCharCode("a");for(let re=w;re<=_;re++)W[jn][re]=re-w+2;W[hi][o]=1;const I=M.getCharCode("9"),O=M.getCharCode("0");for(let re=O;re<=I;re++)W[hi][re]=re-O+2;W[hi][h]=12,W[hi][u]=13;const V=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let re=0;re<V.length;re++)W[ea][M.getCharCode(V[re])]=re;const X=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let re=0;re<X.length;re++)M.getCharCode(X[re])>0&&(W[Wi][M.getCharCode(X[re])]=re);return W}const wu=p1(G.createInt32Array(5,256));class vl{constructor(o){this.text=o}encode(){const o=M.getCharCode(" "),u=M.getCharCode(`
`);let h=se.singletonList(vs.INITIAL_STATE);for(let x=0;x<this.text.length;x++){let _,w=x+1<this.text.length?this.text[x+1]:0;switch(this.text[x]){case M.getCharCode("\r"):_=w===u?2:0;break;case M.getCharCode("."):_=w===o?3:0;break;case M.getCharCode(","):_=w===o?4:0;break;case M.getCharCode(":"):_=w===o?5:0;break;default:_=0}_>0?(h=vl.updateStateListForPair(h,x,_),x++):h=this.updateStateListForChar(h,x)}return se.min(h,(x,_)=>x.getBitCount()-_.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,u){const h=[];for(let p of o)this.updateStateForChar(p,u,h);return vl.simplifyStates(h)}updateStateForChar(o,u,h){let p=this.text[u]&255,x=wu[o.getMode()][p]>0,_=null;for(let w=0;w<=Wi;w++){let I=wu[w][p];if(I>0){if(_==null&&(_=o.endBinaryShift(u)),!x||w===o.getMode()||w===hi){const O=_.latchAndAppend(w,I);h.push(O)}if(!x&&Eu[o.getMode()][w]>=0){const O=_.shiftAndAppend(w,I);h.push(O)}}}if(o.getBinaryShiftByteCount()>0||wu[o.getMode()][p]===0){let w=o.addBinaryShiftChar(u);h.push(w)}}static updateStateListForPair(o,u,h){const p=[];for(let x of o)this.updateStateForPair(x,u,h,p);return this.simplifyStates(p)}static updateStateForPair(o,u,h,p){let x=o.endBinaryShift(u);if(p.push(x.latchAndAppend(Wi,h)),o.getMode()!==Wi&&p.push(x.shiftAndAppend(Wi,h)),h===3||h===4){let _=x.latchAndAppend(hi,16-h).latchAndAppend(hi,1);p.push(_)}if(o.getBinaryShiftByteCount()>0){let _=o.addBinaryShiftChar(u).addBinaryShiftChar(u+1);p.push(_)}}static simplifyStates(o){let u=[];for(const h of o){let p=!0;for(const x of u){if(x.isBetterThanOrEqualTo(h)){p=!1;break}h.isBetterThanOrEqualTo(x)&&(u=u.filter(_=>_!==x))}p&&u.push(h)}return u}}class Tr{constructor(){}static encodeBytes(o){return Tr.encode(o,Tr.DEFAULT_EC_PERCENT,Tr.DEFAULT_AZTEC_LAYERS)}static encode(o,u,h){let p=new vl(o).encode(),x=B.truncDivision(p.getSize()*u,100)+11,_=p.getSize()+x,w,I,O,V,X;if(h!==Tr.DEFAULT_AZTEC_LAYERS){if(w=h<0,I=Math.abs(h),I>(w?Tr.MAX_NB_BITS_COMPACT:Tr.MAX_NB_BITS))throw new E(M.format("Illegal value %s for layers",h));O=Tr.totalBitsInLayer(I,w),V=Tr.WORD_SIZE[I];let at=O-O%V;if(X=Tr.stuffBits(p,V),X.getSize()+x>at)throw new E("Data to large for user specified layer");if(w&&X.getSize()>V*64)throw new E("Data to large for user specified layer")}else{V=0,X=null;for(let at=0;;at++){if(at>Tr.MAX_NB_BITS)throw new E("Data too large for an Aztec code");if(w=at<=3,I=w?at+1:at,O=Tr.totalBitsInLayer(I,w),_>O)continue;(X==null||V!==Tr.WORD_SIZE[I])&&(V=Tr.WORD_SIZE[I],X=Tr.stuffBits(p,V));let gr=O-O%V;if(!(w&&X.getSize()>V*64)&&X.getSize()+x<=gr)break}}let re=Tr.generateCheckWords(X,O,V),de=X.getSize()/V,we=Tr.generateModeMessage(w,I,de),Te=(w?11:14)+I*4,Ne=new Int32Array(Te),He;if(w){He=Te;for(let at=0;at<Ne.length;at++)Ne[at]=at}else{He=Te+1+2*B.truncDivision(B.truncDivision(Te,2)-1,15);let at=B.truncDivision(Te,2),gr=B.truncDivision(He,2);for(let er=0;er<at;er++){let $n=er+B.truncDivision(er,15);Ne[at-er-1]=gr-$n-1,Ne[at+er]=gr+$n+1}}let dt=new be(He);for(let at=0,gr=0;at<I;at++){let er=(I-at)*4+(w?9:12);for(let $n=0;$n<er;$n++){let es=$n*2;for(let ta=0;ta<2;ta++)re.get(gr+es+ta)&&dt.set(Ne[at*2+ta],Ne[at*2+$n]),re.get(gr+er*2+es+ta)&&dt.set(Ne[at*2+$n],Ne[Te-1-at*2-ta]),re.get(gr+er*4+es+ta)&&dt.set(Ne[Te-1-at*2-ta],Ne[Te-1-at*2-$n]),re.get(gr+er*6+es+ta)&&dt.set(Ne[Te-1-at*2-$n],Ne[at*2+ta])}gr+=er*8}if(Tr.drawModeMessage(dt,w,He,we),w)Tr.drawBullsEye(dt,B.truncDivision(He,2),5);else{Tr.drawBullsEye(dt,B.truncDivision(He,2),7);for(let at=0,gr=0;at<B.truncDivision(Te,2)-1;at+=15,gr+=16)for(let er=B.truncDivision(He,2)&1;er<He;er+=2)dt.set(B.truncDivision(He,2)-gr,er),dt.set(B.truncDivision(He,2)+gr,er),dt.set(er,B.truncDivision(He,2)-gr),dt.set(er,B.truncDivision(He,2)+gr)}let ft=new H;return ft.setCompact(w),ft.setSize(He),ft.setLayers(I),ft.setCodeWords(de),ft.setMatrix(dt),ft}static drawBullsEye(o,u,h){for(let p=0;p<h;p+=2)for(let x=u-p;x<=u+p;x++)o.set(x,u-p),o.set(x,u+p),o.set(u-p,x),o.set(u+p,x);o.set(u-h,u-h),o.set(u-h+1,u-h),o.set(u-h,u-h+1),o.set(u+h,u-h),o.set(u+h,u-h+1),o.set(u+h,u+h-1)}static generateModeMessage(o,u,h){let p=new Y;return o?(p.appendBits(u-1,2),p.appendBits(h-1,6),p=Tr.generateCheckWords(p,28,4)):(p.appendBits(u-1,5),p.appendBits(h-1,11),p=Tr.generateCheckWords(p,40,4)),p}static drawModeMessage(o,u,h,p){let x=B.truncDivision(h,2);if(u)for(let _=0;_<7;_++){let w=x-3+_;p.get(_)&&o.set(w,x-5),p.get(_+7)&&o.set(x+5,w),p.get(20-_)&&o.set(w,x+5),p.get(27-_)&&o.set(x-5,w)}else for(let _=0;_<10;_++){let w=x-5+_+B.truncDivision(_,5);p.get(_)&&o.set(w,x-7),p.get(_+10)&&o.set(x+7,w),p.get(29-_)&&o.set(w,x+7),p.get(39-_)&&o.set(x-7,w)}}static generateCheckWords(o,u,h){let p=o.getSize()/h,x=new zs(Tr.getGF(h)),_=B.truncDivision(u,h),w=Tr.bitsToWords(o,h,_);x.encode(w,_-p);let I=u%h,O=new Y;O.appendBits(0,I);for(const V of Array.from(w))O.appendBits(V,h);return O}static bitsToWords(o,u,h){let p=new Int32Array(h),x,_;for(x=0,_=o.getSize()/u;x<_;x++){let w=0;for(let I=0;I<u;I++)w|=o.get(x*u+I)?1<<u-I-1:0;p[x]=w}return p}static getGF(o){switch(o){case 4:return wt.AZTEC_PARAM;case 6:return wt.AZTEC_DATA_6;case 8:return wt.AZTEC_DATA_8;case 10:return wt.AZTEC_DATA_10;case 12:return wt.AZTEC_DATA_12;default:throw new E("Unsupported word size "+o)}}static stuffBits(o,u){let h=new Y,p=o.getSize(),x=(1<<u)-2;for(let _=0;_<p;_+=u){let w=0;for(let I=0;I<u;I++)(_+I>=p||o.get(_+I))&&(w|=1<<u-1-I);(w&x)===x?(h.appendBits(w&x,u),_--):(w&x)===0?(h.appendBits(w|1,u),_--):h.appendBits(w,u)}return h}static totalBitsInLayer(o,u){return((u?88:112)+16*o)*o}}Tr.DEFAULT_EC_PERCENT=33,Tr.DEFAULT_AZTEC_LAYERS=0,Tr.MAX_NB_BITS=32,Tr.MAX_NB_BITS_COMPACT=4,Tr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Tu{encode(o,u,h,p){return this.encodeWithHints(o,u,h,p,null)}encodeWithHints(o,u,h,p,x){let _=F.ISO_8859_1,w=Tr.DEFAULT_EC_PERCENT,I=Tr.DEFAULT_AZTEC_LAYERS;return x!=null&&(x.has(Mn.CHARACTER_SET)&&(_=T.forName(x.get(Mn.CHARACTER_SET).toString())),x.has(Mn.ERROR_CORRECTION)&&(w=B.parseInt(x.get(Mn.ERROR_CORRECTION).toString())),x.has(Mn.AZTEC_LAYERS)&&(I=B.parseInt(x.get(Mn.AZTEC_LAYERS).toString()))),Tu.encodeLayers(o,u,h,p,_,w,I)}static encodeLayers(o,u,h,p,x,_,w){if(u!==ye.AZTEC)throw new E("Can only encode AZTEC, but got "+u);let I=Tr.encode(M.getBytes(o,x),_,w);return Tu.renderResult(I,h,p)}static renderResult(o,u,h){let p=o.getMatrix();if(p==null)throw new Wt;let x=p.getWidth(),_=p.getHeight(),w=Math.max(u,x),I=Math.max(h,_),O=Math.min(w/x,I/_),V=(w-x*O)/2,X=(I-_*O)/2,re=new be(w,I);for(let de=0,we=X;de<_;de++,we+=O)for(let Te=0,Ne=V;Te<x;Te++,Ne+=O)p.get(Te,de)&&re.setRegion(Ne,we,O,O);return re}}r.AbstractExpandedDecoder=le,r.ArgumentException=y,r.ArithmeticException=me,r.AztecCode=H,r.AztecCodeReader=zt,r.AztecCodeWriter=Tu,r.AztecDecoder=Ot,r.AztecDetector=It,r.AztecDetectorResult=Oi,r.AztecEncoder=Tr,r.AztecHighLevelEncoder=vl,r.AztecPoint=Nr,r.BarcodeFormat=ye,r.Binarizer=N,r.BinaryBitmap=A,r.BitArray=Y,r.BitMatrix=be,r.BitSource=da,r.BrowserAztecCodeReader=Wr,r.BrowserBarcodeReader=go,r.BrowserCodeReader=he,r.BrowserDatamatrixCodeReader=ic,r.BrowserMultiFormatReader=yu,r.BrowserPDF417Reader=Tf,r.BrowserQRCodeReader=_u,r.BrowserQRCodeSvgWriter=Ja,r.CharacterSetECI=U,r.ChecksumException=C,r.Code128Reader=Je,r.Code39Reader=_r,r.DataMatrixDecodedBitStreamParser=ms,r.DataMatrixReader=Wa,r.DecodeHintType=ee,r.DecoderResult=Ve,r.DefaultGridSampler=Gr,r.DetectorResult=_i,r.EAN13Reader=zi,r.EncodeHintType=Mn,r.Exception=g,r.FormatException=L,r.GenericGF=wt,r.GenericGFPoly=_t,r.GlobalHistogramBinarizer=_e,r.GridSampler=ci,r.GridSamplerInstance=yr,r.HTMLCanvasElementLuminanceSource=ht,r.HybridBinarizer=Ae,r.ITFReader=Zt,r.IllegalArgumentException=E,r.IllegalStateException=Wt,r.InvertedLuminanceSource=Ce,r.LuminanceSource=ot,r.MathUtils=Ct,r.MultiFormatOneDReader=Un,r.MultiFormatReader=Lo,r.MultiFormatWriter=Sf,r.NotFoundException=xe,r.OneDReader=Nt,r.PDF417DecodedBitStreamParser=ze,r.PDF417DecoderErrorCorrection=ma,r.PDF417Reader=fi,r.PDF417ResultMetadata=mo,r.PerspectiveTransform=or,r.PlanarYUVLuminanceSource=Oa,r.QRCodeByteMatrix=pl,r.QRCodeDataMask=ui,r.QRCodeDecodedBitStreamParser=$r,r.QRCodeDecoderErrorCorrectionLevel=qt,r.QRCodeDecoderFormatInformation=An,r.QRCodeEncoder=Xr,r.QRCodeEncoderQRCode=Ji,r.QRCodeMaskUtil=vn,r.QRCodeMatrixUtil=Mt,r.QRCodeMode=Dt,r.QRCodeReader=ps,r.QRCodeVersion=mt,r.QRCodeWriter=Qn,r.RGBLuminanceSource=Hs,r.RSS14Reader=Lt,r.RSSExpandedReader=Xe,r.ReaderException=gl,r.ReedSolomonDecoder=jt,r.ReedSolomonEncoder=zs,r.ReedSolomonException=kt,r.Result=ie,r.ResultMetadataType=je,r.ResultPoint=vt,r.StringUtils=M,r.UnsupportedOperationException=q,r.VideoInputDevice=ve,r.WhiteRectangleDetector=rr,r.WriterException=Mr,r.ZXingArrays=G,r.ZXingCharset=T,r.ZXingInteger=B,r.ZXingStandardCharsets=F,r.ZXingStringBuilder=Q,r.ZXingStringEncoding=K,r.ZXingSystem=b,r.createAbstractExpandedDecoder=ut,Object.defineProperty(r,"__esModule",{value:!0})}))})(Xh,Xh.exports)),Xh.exports}var bn=yH();const _H=Dy(bn),EH=yb({__proto__:null,default:_H},[bn]);var j4=(function(){function t(e,r,n){if(this.formatMap=new Map([[St.QR_CODE,bn.BarcodeFormat.QR_CODE],[St.AZTEC,bn.BarcodeFormat.AZTEC],[St.CODABAR,bn.BarcodeFormat.CODABAR],[St.CODE_39,bn.BarcodeFormat.CODE_39],[St.CODE_93,bn.BarcodeFormat.CODE_93],[St.CODE_128,bn.BarcodeFormat.CODE_128],[St.DATA_MATRIX,bn.BarcodeFormat.DATA_MATRIX],[St.MAXICODE,bn.BarcodeFormat.MAXICODE],[St.ITF,bn.BarcodeFormat.ITF],[St.EAN_13,bn.BarcodeFormat.EAN_13],[St.EAN_8,bn.BarcodeFormat.EAN_8],[St.PDF_417,bn.BarcodeFormat.PDF_417],[St.RSS_14,bn.BarcodeFormat.RSS_14],[St.RSS_EXPANDED,bn.BarcodeFormat.RSS_EXPANDED],[St.UPC_A,bn.BarcodeFormat.UPC_A],[St.UPC_E,bn.BarcodeFormat.UPC_E],[St.UPC_EAN_EXTENSION,bn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!EH)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(e),a=new Map;a.set(bn.DecodeHintType.POSSIBLE_FORMATS,i),a.set(bn.DecodeHintType.TRY_HARDER,!1),this.hints=a}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,i){try{n(r.decode(e))}catch(a){i(a)}})},t.prototype.decode=function(e){var r=new bn.MultiFormatReader(this.verbose,this.hints),n=new bn.HTMLCanvasElementLuminanceSource(e),i=new bn.BinaryBitmap(new bn.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:l8.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),wH=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function f(y){try{g(n.next(y))}catch(E){l(E)}}function m(y){try{g(n.throw(y))}catch(E){l(E)}}function g(y){y.done?a(y.value):i(y.value).then(f,m)}g((n=n.apply(t,e||[])).next())})},TH=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(g){return function(y){return m([g,y])}}function m(g){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,g[0]&&(r=0)),r;)try{if(n=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){r.label=g[1];break}if(g[0]===6&&r.label<a[1]){r.label=a[1],a=g;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(g);break}a[2]&&r.ops.pop(),r.trys.pop();continue}g=e.call(t,r)}catch(y){g=[6,y],i=0}finally{n=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},z4=(function(){function t(e,r,n){if(this.formatMap=new Map([[St.QR_CODE,"qr_code"],[St.AZTEC,"aztec"],[St.CODABAR,"codabar"],[St.CODE_39,"code_39"],[St.CODE_93,"code_93"],[St.CODE_128,"code_128"],[St.DATA_MATRIX,"data_matrix"],[St.ITF,"itf"],[St.EAN_13,"ean_13"],[St.EAN_8,"ean_8"],[St.PDF_417,"pdf417"],[St.UPC_A,"upc_a"],[St.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return wH(this,void 0,void 0,function(){var r,n;return TH(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:l8.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,i=0,a=e;i<a.length;i++){var l=a[i],f=l.boundingBox.width*l.boundingBox.height;f>n&&(n=f,r=l)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),H4=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function f(y){try{g(n.next(y))}catch(E){l(E)}}function m(y){try{g(n.throw(y))}catch(E){l(E)}}function g(y){y.done?a(y.value):i(y.value).then(f,m)}g((n=n.apply(t,e||[])).next())})},G4=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(g){return function(y){return m([g,y])}}function m(g){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,g[0]&&(r=0)),r;)try{if(n=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){r.label=g[1];break}if(g[0]===6&&r.label<a[1]){r.label=a[1],a=g;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(g);break}a[2]&&r.ops.pop(),r.trys.pop();continue}g=e.call(t,r)}catch(y){g=[6,y],i=0}finally{n=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},AH=(function(){function t(e,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&z4.isSupported()?(this.primaryDecoder=new z4(e,n,i),this.secondaryDecoder=new j4(e,n,i)):this.primaryDecoder=new j4(e,n,i)}return t.prototype.decodeAsync=function(e){return H4(this,void 0,void 0,function(){var r;return G4(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return H4(this,void 0,void 0,function(){var r,n;return G4(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];e+=i}var a=e/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),oE=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Nm=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function f(y){try{g(n.next(y))}catch(E){l(E)}}function m(y){try{g(n.throw(y))}catch(E){l(E)}}function g(y){y.done?a(y.value):i(y.value).then(f,m)}g((n=n.apply(t,e||[])).next())})},km=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(g){return function(y){return m([g,y])}}function m(g){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,g[0]&&(r=0)),r;)try{if(n=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){r.label=g[1];break}if(g[0]===6&&r.label<a[1]){r.label=a[1],a=g;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(g);break}a[2]&&r.ops.pop(),r.trys.pop();continue}g=e.call(t,r)}catch(y){g=[6,y],i=0}finally{n=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},h8=(function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t})(),SH=(function(t){oE(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(h8),CH=(function(t){oE(e,t);function e(r){return t.call(this,"zoom",r)||this}return e})(SH),bH=(function(t){oE(e,t);function e(r){return t.call(this,"torch",r)||this}return e})(h8),IH=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new CH(this.track)},t.prototype.torchFeature=function(){return new bH(this.track)},t})(),RH=(function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,i),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,i){return Nm(this,void 0,void 0,function(){var a,l;return km(this,function(f){switch(f.label){case 0:return a=new t(e,r,i),n.aspectRatio?(l={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(l)]):[3,2];case 1:f.sent(),f.label=2;case 2:return a.setupSurface(),[2,a]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Nm(this,void 0,void 0,function(){return km(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var i=e.mediaStream.getVideoTracks(),a=i.length,l=0;e.mediaStream.getVideoTracks().forEach(function(f){e.mediaStream.removeTrack(f),f.stop(),++l,l>=a&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new IH(this.getFirstTrackOrFail())},t})(),NH=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return Nm(this,void 0,void 0,function(){return km(this,function(i){return[2,RH.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return Nm(this,void 0,void 0,function(){var r,n;return km(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new t(n)]}})})},t})(),W4=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function f(y){try{g(n.next(y))}catch(E){l(E)}}function m(y){try{g(n.throw(y))}catch(E){l(E)}}function g(y){y.done?a(y.value):i(y.value).then(f,m)}g((n=n.apply(t,e||[])).next())})},q4=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(g){return function(y){return m([g,y])}}function m(g){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,g[0]&&(r=0)),r;)try{if(n=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){r.label=g[1];break}if(g[0]===6&&r.label<a[1]){r.label=a[1],a=g;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(g);break}a[2]&&r.ops.pop(),r.trys.pop();continue}g=e.call(t,r)}catch(y){g=[6,y],i=0}finally{n=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},kH=(function(){function t(){}return t.failIfNotSupported=function(){return W4(this,void 0,void 0,function(){return q4(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return W4(this,void 0,void 0,function(){return q4(this,function(r){return[2,NH.create(e)]})})},t})(),DH=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function f(y){try{g(n.next(y))}catch(E){l(E)}}function m(y){try{g(n.throw(y))}catch(E){l(E)}}function g(y){y.done?a(y.value):i(y.value).then(f,m)}g((n=n.apply(t,e||[])).next())})},OH=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(g){return function(y){return m([g,y])}}function m(g){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,g[0]&&(r=0)),r;)try{if(n=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){r.label=g[1];break}if(g[0]===6&&r.label<a[1]){r.label=a[1],a=g;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(g);break}a[2]&&r.ops.pop(),r.trys.pop();continue}g=e.call(t,r)}catch(y){g=[6,y],i=0}finally{n=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},MH=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=d0.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=d0.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return DH(this,void 0,void 0,function(){var e,r,n,i,a,l,f;return OH(this,function(m){switch(m.label){case 0:return e=function(g){for(var y=g.getVideoTracks(),E=0,A=y;E<A.length;E++){var C=A[E];C.enabled=!1,C.stop(),g.removeTrack(C)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=m.sent(),i=[],a=0,l=n;a<l.length;a++)f=l[a],f.kind==="videoinput"&&i.push({id:f.deviceId,label:f.label});return e(r),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(a){for(var l=[],f=0,m=a;f<m.length;f++){var g=m[f];g.kind==="video"&&l.push({id:g.id,label:g.label})}e(l)},i=MediaStreamTrack;i.getSources(n)})},t})(),ri;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(ri||(ri={}));var LH=(function(){function t(){this.state=ri.NOT_STARTED,this.onGoingTransactionNewState=ri.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===ri.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ri.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===ri.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ri.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ri.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case ri.UNKNOWN:throw"Transition from unknown is not allowed";case ri.NOT_STARTED:this.failIfNewStateIs(e,[ri.PAUSED]);break;case ri.SCANNING:break;case ri.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(e===a)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),FH=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===ri.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==ri.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ri.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===ri.PAUSED},t})(),PH=(function(){function t(){}return t.create=function(){return new FH(new LH)},t})(),BH=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),Ss=(function(t){BH(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(wo),UH=(function(){function t(e,r){this.logger=r,this.fps=Ss.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Ss.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?f8.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Wo(this.qrbox)},t.create=function(e,r){return new t(e,r)},t})(),vy=(function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new u8(this.verbose),this.qrcode=new AH(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=PH.create()}return t.prototype.start=function(e,r,n,i){var a=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var l;i?l=i:l=this.verbose?this.logger.log:function(){};var f=UH.create(r,this.logger);this.clearElement();var m=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=m,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:Ss.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var E=this,A=this.stateManagerProxy.startTransition(ri.SCANNING);return new Promise(function(C,N){var b=g?f.videoConstraints:E.createVideoConstraints(e);if(!b){A.cancel(),N("videoConstraints should be defined");return}var D={};(!g||f.aspectRatio)&&(D.aspectRatio=f.aspectRatio);var P={onRenderSurfaceReady:function(G,B){E.setupUi(G,B,f),E.isScanning=!0,E.foreverScan(f,n,l)}};kH.failIfNotSupported().then(function(G){G.create(b).then(function(B){return B.render(a.element,D,P).then(function(Y){E.renderedCamera=Y,A.execute(),C(null)}).catch(function(Y){A.cancel(),N(Y)})}).catch(function(B){A.cancel(),N(d0.errorGettingUserMedia(B))})}).catch(function(G){A.cancel(),N(d0.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ri.PAUSED),this.showPausedState(),(Wo(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(ri.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(ri.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var a=document.getElementById(Ss.SHADED_REGION_ELEMENT_ID);a&&e.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Wo(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var l=new Image;l.onload=function(){var f=l.width,m=l.height,g=document.getElementById(n.elementId),y=g.clientWidth?g.clientWidth:Ss.DEFAULT_WIDTH,E=Math.max(g.clientHeight?g.clientHeight:m,Ss.FILE_SCAN_MIN_HEIGHT),A=n.computeCanvasDrawConfig(f,m,y,E);if(r){var C=n.createCanvasElement(y,E,"qr-canvas-visible");C.style.display="inline-block",g.appendChild(C);var N=C.getContext("2d");if(!N)throw"Unable to get 2d context from canvas";N.canvas.width=y,N.canvas.height=E,N.drawImage(l,0,0,f,m,A.x,A.y,A.width,A.height)}var b=Ss.FILE_SCAN_HIDDEN_CANVAS_PADDING,D=Math.max(l.width,A.width),P=Math.max(l.height,A.height),G=D+2*b,B=P+2*b,Y=n.createCanvasElement(G,B);g.appendChild(Y);var te=Y.getContext("2d");if(!te)throw"Unable to get 2d context from canvas";te.canvas.width=G,te.canvas.height=B,te.drawImage(l,0,0,f,m,b,b,D,P);try{n.qrcode.decodeRobustlyAsync(Y).then(function(ee){i(B4.createFromQrcodeResult(ee))}).catch(a)}catch(ee){a("QR code parse error, error = ".concat(ee))}},l.onerror=a,l.onabort=a,l.onstalled=a,l.onsuspend=a,l.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return MH.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!f8.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[St.QR_CODE,St.AZTEC,St.CODABAR,St.CODE_39,St.CODE_93,St.CODE_128,St.DATA_MATRIX,St.MAXICODE,St.ITF,St.EAN_13,St.EAN_8,St.PDF_417,St.RSS_14,St.RSS_EXPANDED,St.UPC_A,St.UPC_E,St.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=e.formatsToSupport;i<a.length;i++){var l=a[i];pH(l)?n.push(l):this.logger.warn("Invalid format: ".concat(l," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Wo(e))return!0;if(!Wo(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Wo(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return Wo(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(e,r,a),f=function(g){if(g<Ss.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ss.MIN_QR_BOX_SIZE,"px.")},m=function(g){return g>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=e),g};f(l.width),f(l.height),l.width=m(l.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var i=Wo(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(e,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var l=n.isShadedBoxEnabled()&&a.height<=r,f={x:0,y:0,width:e,height:r},m=l?this.getShadedRegionBounds(e,r,a):f,g=this.createCanvasElement(m.width,m.height),y={willReadFrequently:!0},E=g.getContext("2d",y);E.canvas.width=m.width,E.canvas.height=m.height,this.element.append(g),l&&this.possiblyInsertShadingElement(this.element,e,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=E,this.canvasElement=g},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=d0.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,B4.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=d0.codeParseError(i);return r(a,c8.createFrom(a)),!1})},t.prototype.foreverScan=function(e,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),l=a.videoWidth/a.clientWidth,f=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*l,g=this.qrRegion.height*f,y=this.qrRegion.x*l,E=this.qrRegion.y*f;this.context.drawImage(a,y,E,m,g,0,0,this.qrRegion.width,this.qrRegion.height);var A=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,r,n)},i.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(C){!C&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){A()})):A()}).catch(function(C){i.logger.logError("Error happend while scanning context",C),A()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",l=function(N){if(N in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(N,"'")},f=Object.keys(e);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var m=Object.keys(e)[0];if(m!==r&&m!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(m===r){var g=e.facingMode;if(typeof g=="string"){if(l(g))return{facingMode:g}}else if(typeof g=="object")if(a in g){if(l(g["".concat(a)]))return{facingMode:{exact:g["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var y=typeof g;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var E=e.deviceId;if(typeof E=="string")return{deviceId:E};if(typeof E=="object"){if(a in E)return{deviceId:{exact:E["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var A=typeof E;throw"Invalid type of 'deviceId' = ".concat(A)}}}var C=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(C)},t.prototype.computeCanvasDrawConfig=function(e,r,n,i){if(e<=n&&r<=i){var a=(n-e)/2,l=(i-r)/2;return{x:a,y:l,width:e,height:r}}else{var f=e,m=r;return e>n&&(r=n/e*r,e=n),r>i&&(e=i/r*e,r=i),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(m)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?Ss.BORDER_SHADER_MATCH_COLOR:Ss.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var i=e,a=r,l=document.createElement("canvas");return l.style.width="".concat(i,"px"),l.style.height="".concat(a,"px"),l.style.display="none",l.id=Wo(n)?"qr-canvas":n,l},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var l=(r-i.width)/2,f=(n-i.height)/2;if(a.style.borderLeft="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Ss.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var m=5,g=40;this.insertShaderBorders(a,g,m,-m,null,0,!0),this.insertShaderBorders(a,g,m,-m,null,0,!1),this.insertShaderBorders(a,g,m,null,-m,0,!0),this.insertShaderBorders(a,g,m,null,-m,0,!1),this.insertShaderBorders(a,m,g+m,-m,null,-m,!0),this.insertShaderBorders(a,m,g+m,null,-m,-m,!0),this.insertShaderBorders(a,m,g+m,-m,null,-m,!1),this.insertShaderBorders(a,m,g+m,null,-m,-m,!1),this.hasBorderShaders=!0}e.append(a)}},t.prototype.insertShaderBorders=function(e,r,n,i,a,l,f){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=Ss.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(r,"px"),m.style.height="".concat(n,"px"),i!==null&&(m.style.top="".concat(i,"px")),a!==null&&(m.style.bottom="".concat(a,"px")),f?m.style.left="".concat(l,"px"):m.style.right="".concat(l,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),e.appendChild(m)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),lE="data:image/svg+xml;base64,",VH=lE+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",jH=lE+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",X4=lE+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",zH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Y4=(function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t})(),HH=(function(){function t(){this.data=Y4.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=Y4.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t})(),GH=(function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=U4.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var n=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=U4.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t})(),WH=(function(){function t(e,r){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=r,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=X4,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return r.onHoverIn()},this.infoIcon.onmouseout=function(n){return r.onHoverOut()},this.infoIcon.onclick=function(n){return r.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=zH,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=X4,this.infoIcon.style.opacity="0.6")},t})(),qH=(function(){function t(){var e=this;this.infoDiv=new GH,this.infoIcon=new WH(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t})(),XH=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function f(y){try{g(n.next(y))}catch(E){l(E)}}function m(y){try{g(n.throw(y))}catch(E){l(E)}}function g(y){y.done?a(y.value):i(y.value).then(f,m)}g((n=n.apply(t,e||[])).next())})},YH=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(g){return function(y){return m([g,y])}}function m(g){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,g[0]&&(r=0)),r;)try{if(n=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){r.label=g[1];break}if(g[0]===6&&r.label<a[1]){r.label=a[1],a=g;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(g);break}a[2]&&r.ops.pop(),r.trys.pop();continue}g=e.call(t,r)}catch(y){g=[6,y],i=0}finally{n=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},K4=(function(){function t(){}return t.hasPermissions=function(){return XH(this,void 0,void 0,function(){var e,r,n,i;return YH(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=a.sent(),r=0,n=e;r<n.length;r++)if(i=n[r],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},t})(),kc=(function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,r=this.supportedScanTypes;e<r.length;e++){var n=r[e];if(t.isCameraScanType(n))return!0}return!1},t.isCameraScanType=function(e){return e===ru.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===ru.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return wo.DEFAULT_SUPPORTED_SCAN_TYPE;var r=wo.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var n=0,i=e;n<i.length;n++){var a=i[n];if(!wo.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return e},t})(),ks=(function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t})(),Bl=(function(){function t(){}return t.createElement=function(e,r){var n=document.createElement(e);return n.id=r,n.classList.add(ks.ALL_ELEMENT_CLASS),e==="button"&&n.setAttribute("type","button"),n},t})(),d8=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function f(y){try{g(n.next(y))}catch(E){l(E)}}function m(y){try{g(n.throw(y))}catch(E){l(E)}}function g(y){y.done?a(y.value):i(y.value).then(f,m)}g((n=n.apply(t,e||[])).next())})},g8=function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,l;return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(g){return function(y){return m([g,y])}}function m(g){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,g[0]&&(r=0)),r;)try{if(n=1,i&&(a=g[0]&2?i.return:g[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,g[1])).done)return a;switch(i=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){r.label=g[1];break}if(g[0]===6&&r.label<a[1]){r.label=a[1],a=g;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(g);break}a[2]&&r.ops.pop(),r.trys.pop();continue}g=e.call(t,r)}catch(y){g=[6,y],i=0}finally{n=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Q4=(function(){function t(e,r,n){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=r,this.onTorchActionFailureCallback=n}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return d8(this,void 0,void 0,function(){var e,r;return g8(this,function(n){switch(n.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return r=n.sent(),this.propagateFailure(e,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,r){e===r?(this.buttonController.setText(r?an.torchOffButton():an.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},t.prototype.propagateFailure=function(e,r){var n=e?an.torchOnFailedMessage():an.torchOffFailedMessage();r&&(n+="; Error = "+r),this.onTorchActionFailureCallback(n)},t.prototype.reset=function(){this.isTorchOn=!1},t})(),KH=(function(){function t(e,r){this.onTorchActionFailureCallback=r,this.torchButton=Bl.createElement("button",ks.TORCH_BUTTON_ID),this.torchController=new Q4(e,this,r)}return t.prototype.render=function(e,r){var n=this;this.torchButton.innerText=an.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return d8(n,void 0,void 0,function(){return g8(this,function(l){switch(l.label){case 0:return[4,i.torchController.flipState()];case 1:return l.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(ks.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(ks.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(ks.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(ks.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new Q4(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=an.torchOnButton(),this.torchController.reset()},t.create=function(e,r,n,i){var a=new t(r,i);return a.render(e,n),a},t})(),QH=(function(){function t(e,r,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",e.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=Bl.createElement("button",ks.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(f){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=Bl.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(f){if(!(f==null||f.target==null)){var m=f.target;if(!(m.files&&m.files.length===0)){var g=m.files,y=g[0],E=y.name;a.setImageNameToButton(E),n(y)}}});var l=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(l),this.fileBasedScanRegion.addEventListener("dragenter",function(f){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(f){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(f){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(f){f.stopPropagation(),f.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var m=f.dataTransfer;if(m){var g=m.files;if(!g||g.length===0)return;for(var y=!1,E=0;E<g.length;++E){var A=g.item(E);if(A){var C=/image.*/;if(A.type.match(C)){y=!0;var N=A.name;a.setImageNameToButton(N),n(A),l.innerText=an.dragAndDropMessage();break}}}y||(l.innerText=an.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=an.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var r=20;if(e.length>r){var n=e.substring(0,8),i=e.length,a=e.substring(i-8,i);e="".concat(n,"....").concat(a)}var l=an.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=l},t.prototype.setInitialValueToButton=function(){var e=an.fileSelectionChooseImage()+" - "+an.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,r,n){var i=new t(e,r,n);return i},t})(),$H=(function(){function t(e){this.selectElement=Bl.createElement("select",ks.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var r=document.createElement("span");r.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)r.style.display="none";else{var i=an.selectCamera();r.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,l=0,f=this.cameras;l<f.length;l++){var m=f[l],g=m.id,y=m.label==null?g:m.label;(!y||y==="")&&(y=[an.anonymousCameraPrefix(),a++].join(" "));var E=document.createElement("option");E.value=g,E.innerText=y,this.options.push(E),this.selectElement.appendChild(E)}r.appendChild(this.selectElement),e.appendChild(r)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var r=0,n=this.options;r<n.length;r++){var i=n[r];if(i.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,r){var n=new t(r);return n.render(e),n},t})(),ZH=(function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Bl.createElement("input",ks.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=an.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=an.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,r,n,i){this.rangeInput.min=e.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,r){var n=new t;return n.render(e,r),n},t})(),Cs;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Cs||(Cs={}));function JH(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function eG(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var m8=(function(){function t(e,r,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(r),this.verbose=n===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new kc(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new u8(this.verbose),this.persistedDataManager=new HH,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,r){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,l){if(e)e(a,l);else{if(n.lastMatchFound===a)return;n.lastMatchFound=a,n.setHeaderMessage(an.lastMatch(a),Cs.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,l){r&&r(a,l)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new vy(this.getScanRegionId(),eG(this.config,this.verbose))},t.prototype.pause=function(e){(Wo(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,r=function(){var n=document.getElementById(e.elementId);n&&(n.innerHTML="",e.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,i){if(!e.html5Qrcode){n();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(a){if(!e.html5Qrcode){n();return}e.html5Qrcode.clear(),r(),n()}).catch(function(a){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(e.html5Qrcode.clear(),r(),n())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=wo.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!wo.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=wo.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=wo.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:wo.SCAN_DEFAULT_FPS,rememberLastUsedCamera:wo.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:wo.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var r=document.createElement("div"),n=this.getScanRegionId();r.id=n,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",e.appendChild(r),kc.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",e.appendChild(i),this.setupInitialDashboard(i)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",e.appendChild(r);var n=new qH;n.renderInto(r);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",r.appendChild(i)},t.prototype.createSection=function(e){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",e.appendChild(r)},t.prototype.createCameraListUi=function(e,r,n){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(an.cameraPermissionRequesting());var a=function(){n||i.createPermissionButton(e,r)};vy.getCameras().then(function(l){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),l&&l.length>0?(e.removeChild(r),i.renderCameraSelection(l)):(i.setHeaderMessage(an.noCameraFound(),Cs.STATUS_WARNING),a())}).catch(function(l){i.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:a(),i.setHeaderMessage(l,Cs.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,r){var n=this,i=Bl.createElement("button",this.getCameraPermissionButtonId());i.innerText=an.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,n.createCameraListUi(e,r,i)}),r.appendChild(i)},t.prototype.createPermissionsUi=function(e,r){var n=this;if(kc.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){K4.hasPermissions().then(function(i){i?n.createCameraListUi(e,r):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,r))}).catch(function(i){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,r)});return}this.createPermissionButton(e,r)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");e.appendChild(r);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=kc.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(n);var i=document.createElement("div");i.style.textAlign="center",n.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,i),this.renderFileScanUi(r)},t.prototype.renderFileScanUi=function(e){var r=kc.isFileScanType(this.currentScanType),n=this,i=function(a){if(!n.html5Qrcode)throw"html5Qrcode not defined";kc.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(an.loadingImage()),n.html5Qrcode.scanFileV2(a,!0).then(function(l){n.resetHeaderMessage(),n.qrCodeSuccessCallback(l.decodedText,l)}).catch(function(l){n.setHeaderMessage(l,Cs.STATUS_WARNING),n.qrCodeErrorCallback(l,c8.createFrom(l))}))};this.fileSelectionUi=QH.create(e,r,i)},t.prototype.renderCameraSelection=function(e){var r=this,n=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=ZH.create(i,!1),l=function(b){var D=b.zoomFeature();if(D.isSupported()){a.setOnCameraZoomValueChangeCallback(function(G){D.apply(G)});var P=1;r.config.defaultZoomValueIfSupported&&(P=r.config.defaultZoomValueIfSupported),P=xH(P,D.min(),D.max()),a.setValues(D.min(),D.max(),P,D.step()),a.show()}},f=$H.create(i,e),m=document.createElement("span"),g=Bl.createElement("button",ks.CAMERA_START_BUTTON_ID);g.innerText=an.scanButtonStartScanningText(),m.appendChild(g);var y=Bl.createElement("button",ks.CAMERA_STOP_BUTTON_ID);y.innerText=an.scanButtonStopScanningText(),y.style.display="none",y.disabled=!0,m.appendChild(y);var E,A=function(b){if(!b.torchFeature().isSupported()){E&&E.hide();return}E?E.updateTorchCapability(b.torchFeature()):E=KH.create(m,b.torchFeature(),{display:"none",marginLeft:"5px"},function(D){n.setHeaderMessage(D,Cs.STATUS_WARNING)}),E.show()};i.appendChild(m);var C=function(b){b||(g.style.display="none"),g.innerText=an.scanButtonStartScanningText(),g.style.opacity="1",g.disabled=!1,b&&(g.style.display="inline-block")};if(g.addEventListener("click",function(b){g.innerText=an.scanButtonScanningStarting(),f.disable(),g.disabled=!0,g.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var D=f.getValue();n.persistedDataManager.setLastUsedCameraId(D),n.html5Qrcode.start(D,JH(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(P){y.disabled=!1,y.style.display="inline-block",C(!1);var G=n.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&A(G),r.config.showZoomSliderIfSupported===!0&&l(G)}).catch(function(P){n.showHideScanTypeSwapLink(!0),f.enable(),C(!0),n.setHeaderMessage(P,Cs.STATUS_WARNING)})}),f.hasSingleItem()&&g.click(),y.addEventListener("click",function(b){if(!n.html5Qrcode)throw"html5Qrcode not defined";y.disabled=!0,n.html5Qrcode.stop().then(function(D){r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),f.enable(),g.disabled=!1,y.style.display="none",g.style.display="inline-block",E&&(E.reset(),E.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(D){y.disabled=!1,n.setHeaderMessage(D,Cs.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var N=n.persistedDataManager.getLastUsedCameraId();f.hasValue(N)?(f.setValue(N),g.click()):n.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,r=an.textIfCameraScanSelected(),n=an.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var l=Bl.createElement("span",this.getDashboardSectionSwapLinkId());l.style.textDecoration="underline",l.style.cursor="pointer",l.innerText=kc.isCameraScanType(this.currentScanType)?r:n,l.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,kc.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),l.innerText=n,e.currentScanType=ru.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),l.innerText=r,e.currentScanType=ru.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),a.appendChild(l),i.appendChild(a)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){K4.hasPermissions().then(function(n){if(n){var i=document.getElementById(r.getCameraPermissionButtonId());if(!i)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(n){r.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,r){r||(r=Cs.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=e,n.style.display="block",r){case Cs.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case Cs.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case Cs.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=VH,this.cameraScanImage.alt=an.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=jH,this.fileScanImage.alt=an.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return ks.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return ks.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t})();const p8="/ScanIn-Attendance/assets/qr-code-BQBNos88.png";class tG{constructor(){this.data={users:{user1:{uid:"user1",email:"member@example.com",displayName:"John Doe",role:"member",phone:"+1234567890",photoURL:null,emailVerified:!0},user2:{uid:"user2",email:"member2@example.com",displayName:"Jane Smith",role:"member",phone:"+1987654321",photoURL:null,emailVerified:!0},admin1:{uid:"admin1",email:"admin@example.com",displayName:"Admin User",role:"admin",phone:"+1555123456",photoURL:null,emailVerified:!0}},scanHistory:[{id:"scan1",userId:"user1",memberId:"user1",adminId:"admin1",result:"Event A Check-in",timestamp:new Date(Date.now()-864e5),status:"clock-in"},{id:"scan2",userId:"user1",memberId:"user1",adminId:"admin1",result:"Event A Check-out",timestamp:new Date(Date.now()-828e5),status:"clock-out"},{id:"scan3",userId:"user1",memberId:"user1",adminId:"admin1",result:"Event B Check-in",timestamp:new Date(Date.now()-36e5),status:"clock-in"},{id:"scan4",userId:"user2",memberId:"user2",adminId:"admin1",result:"Event C Check-in",timestamp:new Date(Date.now()-72e5),status:"clock-in"}],customQRCodes:[{id:"qr1",qrId:"event-a-2024",adminId:"admin1",name:"Event A",description:"Annual Company Meeting",location:"Main Conference Room",eventType:"Meeting",fields:["name","email","phone"],requiresForm:!0,isActive:!0,validFrom:"",validUntil:"",createdAt:new Date(Date.now()-6048e5),scanCount:15},{id:"qr2",qrId:"event-b-2024",adminId:"admin1",name:"Event B",description:"Team Building Workshop",location:"Auditorium",eventType:"Workshop",fields:["name","email"],requiresForm:!0,isActive:!0,validFrom:"",validUntil:"",createdAt:new Date(Date.now()-2592e5),scanCount:8}],attendanceRecords:[],formSubmitData:[],formSubmitCheck:[]},this.listeners={},this.currentUser=null}async signInWithEmailAndPassword(e,r){const n=Object.values(this.data.users).find(i=>i.email===e);if(!n)throw new Error("auth/user-not-found");return this.currentUser=n,{user:n}}async createUserWithEmailAndPassword(e,r){const n=`user${Date.now()}`,i={uid:n,email:e,displayName:e.split("@")[0],role:"member",photoURL:null,emailVerified:!1};return this.data.users[n]=i,this.currentUser=i,{user:i}}async signOut(){this.currentUser=null}onAuthStateChanged(e){return setTimeout(()=>e(this.currentUser),100),()=>{}}collection(e){return{addDoc:r=>this.addDoc(e,r),doc:r=>this.doc(e,r),where:(...r)=>this.where(e,...r),orderBy:(...r)=>this.orderBy(e,...r),onSnapshot:r=>this.onSnapshot(e,r)}}doc(e,r){return{setDoc:n=>this.setDoc(e,r,n),getDoc:()=>this.getDoc(e,r),updateDoc:n=>this.updateDoc(e,r,n)}}async addDoc(e,r){const n=`${e}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,i={...r,id:n};return e==="scanHistory"?(this.data.scanHistory.push(i),this.notifyListeners("scanHistory")):e==="customQRCodes"?(this.data.customQRCodes.push(i),this.notifyListeners("customQRCodes")):e==="attendanceRecords"?(this.data.attendanceRecords.push(i),this.notifyListeners("attendanceRecords")):e==="formSubmitData"?(this.data.formSubmitData.push(i),this.notifyListeners("formSubmitData")):e==="formSubmitCheck"&&(this.data.formSubmitCheck.push(i),this.notifyListeners("formSubmitCheck")),{id:n}}async setDoc(e,r,n){if(e==="users")this.data.users[r]={...this.data.users[r],...n};else if(e==="formSubmitData"){const i=this.data.formSubmitData.findIndex(a=>a.id===r);i!==-1?this.data.formSubmitData[i]={...this.data.formSubmitData[i],...n}:this.data.formSubmitData.push({...n,id:r}),this.notifyListeners("formSubmitData")}else if(e==="formSubmitCheck"){const i=this.data.formSubmitCheck.findIndex(a=>a.id===r);i!==-1?this.data.formSubmitCheck[i]={...this.data.formSubmitCheck[i],...n}:this.data.formSubmitCheck.push({...n,id:r}),this.notifyListeners("formSubmitCheck")}this.notifyListeners(e)}async getDoc(e,r){let n=null;return e==="users"?n=this.data.users[r]:e==="formSubmitCheck"&&(n=this.data.formSubmitCheck.find(i=>i.id===r)),{exists:()=>!!n,data:()=>n}}async updateDoc(e,r,n){if(e==="users")this.data.users[r]={...this.data.users[r],...n};else if(e==="customQRCodes"){const i=this.data.customQRCodes.findIndex(a=>a.id===r);i!==-1&&(this.data.customQRCodes[i]={...this.data.customQRCodes[i],...n})}this.notifyListeners(e)}where(e,r,n,i){return{orderBy:(...a)=>this.orderBy(e,...a,{field:r,operator:n,value:i}),onSnapshot:a=>this.onSnapshot(e,a,{field:r,operator:n,value:i})}}orderBy(e,r,n="asc",i=null){return{onSnapshot:a=>this.onSnapshot(e,a,i,{field:r,direction:n})}}onSnapshot(e,r,n=null,i=null){const a=`${e}_${Date.now()}_${Math.random()}`,l=()=>{let f=[];return e==="scanHistory"?f=this.data.scanHistory.filter(m=>n&&n.field==="userId"&&n.operator==="=="?m.userId===n.value:!0):e==="customQRCodes"?f=this.data.customQRCodes:e==="attendanceRecords"?f=this.data.attendanceRecords:e==="formSubmitData"?f=this.data.formSubmitData:e==="formSubmitCheck"&&(f=this.data.formSubmitCheck),i&&i.field==="timestamp"&&f.sort((m,g)=>{var A,C;const y=(A=m.timestamp)!=null&&A.toDate?m.timestamp.toDate():new Date(m.timestamp),E=(C=g.timestamp)!=null&&C.toDate?g.timestamp.toDate():new Date(g.timestamp);return i.direction==="desc"?E-y:y-E}),f};return this.listeners[a]={collectionName:e,callback:r,filter:n,orderBy:i},setTimeout(()=>{const f=l();r({docs:f.map(m=>({id:m.id,data:()=>m}))})},10),()=>{delete this.listeners[a]}}notifyListeners(e){Object.values(this.listeners).forEach(r=>{if(r.collectionName===e){const n=this.getFilteredDataForListener(r);r.callback({docs:n.map(i=>({id:i.id,data:()=>i}))})}})}getFilteredDataForListener(e){let r=[];return e.collectionName==="scanHistory"?r=this.data.scanHistory.filter(n=>e.filter&&e.filter.field==="userId"&&e.filter.operator==="=="?n.userId===e.filter.value:!0):e.collectionName==="customQRCodes"?r=this.data.customQRCodes:e.collectionName==="attendanceRecords"?r=this.data.attendanceRecords:e.collectionName==="formSubmitData"?r=this.data.formSubmitData:e.collectionName==="formSubmitCheck"&&(r=this.data.formSubmitCheck),e.orderBy&&e.orderBy.field==="timestamp"&&r.sort((n,i)=>{var f,m;const a=(f=n.timestamp)!=null&&f.toDate?n.timestamp.toDate():new Date(n.timestamp),l=(m=i.timestamp)!=null&&m.toDate?i.timestamp.toDate():new Date(i.timestamp);return e.orderBy.direction==="desc"?l-a:a-l}),r}ref(e,r){return{put:n=>({on:(i,a)=>{i==="state_changed"&&setTimeout(()=>a({bytesTransferred:n.size,totalBytes:n.size}),500)},then:i=>{setTimeout(()=>i({ref:{getDownloadURL:()=>Promise.resolve(`https://mock-storage.example.com/${r}`)}}),1e3)}})}}getDownloadURL(e){return Promise.resolve(`https://mock-storage.example.com/${e.fullPath}`)}}const Uu=new tG,$4=({currentUser:t})=>{const[e,r]=pe.useState(null),[n,i]=pe.useState(!1),a=pe.useRef(!1),l=pe.useRef(null),f=ol(),{useMock:m}=ds();pe.useEffect(()=>{if(!n)return;const y=new vy("reader",{fps:7});l.current=y,y.render(E,A);async function E(C){if(!a.current){if(a.current=!0,r(C),y.clear(),C.includes("/scan-form/")){const N=C.split("/scan-form/")[1];if(N){f(`/scan-form/${N}`);return}}if(t)try{if(m){const N={id:Date.now().toString(),memberId:t.uid,adminId:C,result:C,timestamp:new Date,status:"clock-in"};Uu.data.attendanceRecords.push(N)}else await tu(Rn(pr,"attendanceRecords"),{memberId:t.uid,adminId:C,result:C,timestamp:Xj(),status:"clock-in"})}catch(N){console.error("Failed to save attendance record:",N)}}}function A(C){console.warn(C)}return()=>{y.clear().catch(()=>{})}},[n,t,f]);const g=()=>{r(null),a.current=!1,i(!0)};return k.jsxs("div",{className:"clockin-container",children:[k.jsx("h1",{className:"member-title",children:"Attendid"}),k.jsx("p",{className:"member-desc",children:"Scan your QR code to clock in or out."}),k.jsx("img",{src:p8,alt:"QR Code Icon",className:"qr-code-icon"}),e?k.jsxs("div",{className:"scan-result success",children:[k.jsx("span",{children:"Success:"})," ",k.jsx("a",{href:"http://"+e,children:e})]}):k.jsxs(k.Fragment,{children:[!n&&k.jsx("button",{className:"scan-btn",onClick:g,children:"Start Scanning"}),n&&k.jsx("div",{id:"reader",className:"qr-reader-box"})]})]})},rG=({currentUser:t})=>{const[e,r]=pe.useState([]),{useMock:n}=ds();return pe.useEffect(()=>{if(t)if(n){const i=Uu.data.scanHistory.filter(a=>a.userId===t.uid).sort((a,l)=>new Date(l.timestamp)-new Date(a.timestamp));r(i)}else{const i=Ua(Rn(pr,"scanHistory"),Bi("userId","==",t.uid),Gj("timestamp","desc"));return jR(i,l=>{const f=[];l.forEach(m=>{f.push({id:m.id,...m.data()})}),r(f)})}},[t,n]),k.jsxs("div",{className:"member-container-history",children:[k.jsx("h1",{className:"member-title",children:"Attendance History"}),k.jsx("p",{className:"member-desc",children:"Your recent clock-in and clock-out records will appear here."}),k.jsx("ul",{className:"history-list",children:e.length===0?k.jsx("li",{className:"history-item",children:"No scan history found."}):e.map(i=>k.jsxs("li",{className:"history-item",children:[k.jsx("span",{style:{fontWeight:600},children:n?new Date(i.timestamp).toLocaleString():i.timestamp&&i.timestamp.toDate?i.timestamp.toDate().toLocaleString():"Unknown time"}),k.jsx("span",{style:{marginTop:"0.3rem"},children:i.result})]},i.id))})]})},nG=({currentUser:t})=>{const[e,r]=pe.useState(!1),[n,i]=pe.useState(!1),[a,l]=pe.useState(""),[f,m]=pe.useState(!1),[g,y]=pe.useState(""),E=pe.useRef(),{updateUserProfile:A,updateUserData:C,getUserData:N,useMock:b}=ds();pe.useEffect(()=>{(async()=>{if(t!=null&&t.uid)try{if(b){const Y=Uu.data.users.find(te=>te.uid===t.uid);Y&&l(Y.phone||"")}else{const Y=await N();Y&&l(Y.phone||"")}}catch(Y){console.error("Error loading user data:",Y)}})()},[t,b,N]);const D=async B=>{const Y=B.target.files[0];if(Y){m(!0),y("");try{if(b){const te=Uu.data.users.findIndex(ee=>ee.uid===t.uid);te!==-1&&(Uu.data.users[te].profilePhotoURL=`mock-photo-${Date.now()}`)}else{const te=aH(fH,`profile-photos/${t.uid}/${Y.name}`);await nH(te,Y);const ee=await iH(te);await A({photoURL:ee}),await C({profilePhotoURL:ee})}m(!1)}catch(te){console.error("Error uploading photo:",te),y("Failed to upload photo. Please try again."),m(!1)}}},P=async B=>{m(!0),y("");try{if(b){const Y=Uu.data.users.findIndex(te=>te.uid===t.uid);Y!==-1&&(Uu.data.users[Y].phone=B)}else await C({phone:B});l(B),i(!1),m(!1)}catch(Y){console.error("Error updating phone:",Y),y("Failed to update phone number. Please try again."),m(!1)}},G=()=>{console.log("Password change requires additional UI")};return k.jsxs("div",{className:"member-container",children:[k.jsx("h1",{className:"member-title",children:"Profile Details"}),k.jsx("p",{className:"member-desc",children:"Your personal and account details will be shown here."}),k.jsxs("div",{className:"profile-details-card",children:[g&&k.jsx("div",{className:"error-message",children:g}),k.jsxs("div",{className:"profile-photo-section",children:[k.jsxs("div",{className:"profile-photo",children:[t!=null&&t.photoURL?k.jsx("img",{src:t.photoURL,alt:(t==null?void 0:t.displayName)||"Profile",className:"profile-photo-img"}):k.jsx("div",{className:"profile-photo-placeholder",children:((t==null?void 0:t.displayName)||"U")[0].toUpperCase()}),f&&k.jsx("div",{className:"photo-loading-overlay",children:"Uploading..."})]}),k.jsx("input",{type:"file",ref:E,onChange:D,accept:"image/*",style:{display:"none"}}),k.jsx("button",{className:"photo-upload-btn",onClick:()=>E.current.click(),disabled:f,children:f?"Uploading...":"Change Photo"})]}),k.jsxs("div",{className:"profile-info-section",children:[k.jsxs("div",{className:"profile-details-row",children:[k.jsx("span",{className:"detail-label",children:"Name"}),k.jsx("span",{className:"detail-value",children:(t==null?void 0:t.displayName)||"John Doe"})]}),k.jsxs("div",{className:"profile-details-row",children:[k.jsx("span",{className:"detail-label",children:"Email"}),k.jsx("span",{className:"detail-value",children:(t==null?void 0:t.email)||"johndoe@email.com"})]}),k.jsxs("div",{className:"profile-details-row",children:[k.jsx("span",{className:"detail-label",children:"Phone"}),n?k.jsxs("div",{className:"phone-edit-actions",children:[k.jsx("input",{type:"tel",value:a,onChange:B=>l(B.target.value),className:"phone-input",placeholder:"Enter phone number",disabled:f}),k.jsx("button",{className:"save-btn",onClick:()=>P(a),disabled:f,children:f?"Saving...":"Save"}),k.jsx("button",{className:"cancel-btn",onClick:()=>i(!1),disabled:f,children:"Cancel"})]}):k.jsxs("div",{className:"phone-display",children:[k.jsx("span",{className:"detail-value",children:a||"Not set"}),k.jsx("button",{className:"edit-btn",onClick:()=>i(!0),children:"Edit"})]})]}),k.jsxs("div",{className:"profile-details-row password-row",children:[k.jsx("span",{className:"detail-label",children:"Password"}),k.jsxs("div",{className:"password-actions",children:[k.jsx("span",{className:"detail-value password",children:e?"********":""}),k.jsx("button",{className:"password-toggle",onClick:()=>r(!e),children:e?"Hide":"Show"}),k.jsx("button",{className:"change-password-btn",onClick:G,children:"Change"})]})]})]})]})]})},iG=({currentUser:t,setActiveSection:e})=>{const{updateUserProfile:r}=ds(),[n,i]=pe.useState({name:(t==null?void 0:t.displayName)||"",email:(t==null?void 0:t.email)||"",phone:"",notifications:{email:!0,push:!0,sms:!1},privacy:{shareData:!1,showProfile:!0},preferences:{theme:"light",language:"en"}}),[a,l]=pe.useState("");pe.useEffect(()=>{i(A=>({...A,name:(t==null?void 0:t.displayName)||"",email:(t==null?void 0:t.email)||""}))},[t]);const f=A=>{const{name:C,value:N,type:b,checked:D}=A.target;i(P=>({...P,[C]:b==="checkbox"?D:N}))},m=A=>{i(C=>({...C,notifications:{...C.notifications,[A]:!C.notifications[A]}}))},g=A=>{i(C=>({...C,privacy:{...C.privacy,[A]:!C.privacy[A]}}))},y=(A,C)=>{i(N=>({...N,preferences:{...N.preferences,[A]:C}}))},E=async()=>{try{n.name!==(t==null?void 0:t.displayName)&&await r({displayName:n.name}),l("Settings saved successfully!"),setTimeout(()=>l(""),3e3)}catch(A){console.error("Error updating profile:",A),l("Error saving settings. Please try again."),setTimeout(()=>l(""),3e3)}};return k.jsxs("div",{className:"member-container-settings",children:[k.jsx("h1",{className:"member-title",children:"Settings"}),k.jsx("p",{className:"member-desc",children:"Update your preferences and account settings here."}),a&&k.jsx("div",{className:`settings-notification ${a.includes("success")?"success":"error"}`,children:a}),k.jsxs("div",{className:"settings-section",children:[k.jsx("div",{className:"settings-section-title",children:"Profile Information"}),k.jsxs("div",{className:"settings-form-group",children:[k.jsx("label",{children:"Full Name"}),k.jsx("input",{type:"text",name:"name",value:n.name,onChange:f,className:"settings-form-input",placeholder:"Enter your full name"})]}),k.jsxs("div",{className:"settings-form-group",children:[k.jsx("label",{children:"Email Address"}),k.jsx("input",{type:"email",name:"email",value:n.email,onChange:f,className:"settings-form-input",placeholder:"Enter your email"})]}),k.jsxs("div",{className:"settings-form-group",children:[k.jsx("label",{children:"Phone Number"}),k.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:f,className:"settings-form-input",placeholder:"Enter your phone number"})]})]}),k.jsxs("div",{className:"settings-section",children:[k.jsx("div",{className:"settings-section-title",children:"Notifications"}),k.jsxs("div",{className:"settings-checkbox-group",children:[k.jsx("input",{type:"checkbox",checked:n.notifications.email,onChange:()=>m("email")}),k.jsx("label",{children:"Email Notifications"})]}),k.jsxs("div",{className:"settings-checkbox-group",children:[k.jsx("input",{type:"checkbox",checked:n.notifications.push,onChange:()=>m("push")}),k.jsx("label",{children:"Push Notifications"})]}),k.jsxs("div",{className:"settings-checkbox-group",children:[k.jsx("input",{type:"checkbox",checked:n.notifications.sms,onChange:()=>m("sms")}),k.jsx("label",{children:"SMS Notifications"})]})]}),k.jsxs("div",{className:"settings-section",children:[k.jsx("div",{className:"settings-section-title",children:"Privacy"}),k.jsxs("div",{className:"settings-checkbox-group",children:[k.jsx("input",{type:"checkbox",checked:n.privacy.shareData,onChange:()=>g("shareData")}),k.jsx("label",{children:"Share attendance data with admins"})]}),k.jsxs("div",{className:"settings-checkbox-group",children:[k.jsx("input",{type:"checkbox",checked:n.privacy.showProfile,onChange:()=>g("showProfile")}),k.jsx("label",{children:"Show profile to other members"})]})]}),k.jsxs("div",{className:"settings-section",children:[k.jsx("div",{className:"settings-section-title",children:"Preferences"}),k.jsxs("div",{className:"settings-form-group",children:[k.jsx("label",{children:"Theme"}),k.jsxs("select",{value:n.preferences.theme,onChange:A=>y("theme",A.target.value),className:"settings-form-select",children:[k.jsx("option",{value:"light",children:"Light"}),k.jsx("option",{value:"dark",children:"Dark"}),k.jsx("option",{value:"auto",children:"Auto"})]})]}),k.jsxs("div",{className:"settings-form-group",children:[k.jsx("label",{children:"Language"}),k.jsxs("select",{value:n.preferences.language,onChange:A=>y("language",A.target.value),className:"settings-form-select",children:[k.jsx("option",{value:"en",children:"English"}),k.jsx("option",{value:"es",children:"Spanish"}),k.jsx("option",{value:"fr",children:"French"})]})]})]}),k.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[k.jsx("button",{className:"settings-btn settings-btn-save",onClick:E,children:"Save Settings"}),k.jsx("button",{className:"settings-btn settings-btn-cancel",onClick:()=>e("clockin"),children:"Cancel"})]})]})},x8=({activeSection:t,onNavClick:e,logoText:r="Admin Panel",navItems:n=[],userDisplay:i="User",logoutLink:a})=>{const[l,f]=pe.useState(!1),[m,g]=pe.useState(!1),y=ol(),E=P=>{e(P),f(!1)},A=()=>{f(!l)},C=()=>{f(!1)},N=()=>{g(!0)},b=()=>{g(!1)},D=async()=>{await e6(qh),localStorage.clear(),y("/")};return pe.useEffect(()=>{const P=G=>{l&&!G.target.closest(".mobile-menu")&&!G.target.closest(".mobile-menu-button")&&f(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[l]),k.jsxs("header",{className:"responsive-header",children:[k.jsxs("nav",{className:"responsive-navbar",children:[k.jsx("img",{src:o8,alt:"App-Logo",className:"NavbarLogo"}),k.jsx("div",{className:"desktop-nav-container",children:k.jsx("ul",{className:"nav-links desktop-nav",children:n.map(P=>k.jsx("li",{children:k.jsx("a",{href:"#",onClick:G=>{G.preventDefault(),E(P.key)},className:`nav-link ${t===P.key?"active":""}`,children:P.label})},P.key))})}),k.jsxs("div",{className:"login-section desktop-login",children:[k.jsx("span",{className:"user-email",children:i}),k.jsx("button",{className:"logout-button",onClick:N,children:"Logout"})]}),k.jsxs("button",{className:"mobile-menu-button",onClick:A,"aria-label":"Toggle mobile menu","aria-expanded":l,children:[k.jsx("span",{className:"hamburger-line"}),k.jsx("span",{className:"hamburger-line"}),k.jsx("span",{className:"hamburger-line"})]})]}),k.jsxs("div",{className:`mobile-menu ${l?"open":""}`,children:[k.jsxs("button",{className:"mobile-menu-close",onClick:C,"aria-label":"Close mobile menu",children:[k.jsx("span",{className:"close-line"}),k.jsx("span",{className:"close-line"})]}),k.jsx("div",{className:"mobile-menu-logo",children:k.jsx("h2",{children:r})}),k.jsxs("ul",{className:"mobile-nav-links",children:[n.map(P=>k.jsx("li",{className:"mobile-nav-item",children:k.jsxs("a",{href:"#",onClick:G=>{G.preventDefault(),E(P.key)},className:`mobile-nav-link ${t===P.key?"active":""}`,children:[k.jsx("span",{className:"nav-icon",children:P.icon}),k.jsx("span",{className:"nav-text",children:P.label})]})},P.key)),a&&k.jsx("li",{className:"mobile-nav-item",children:k.jsxs("a",{href:"#",onClick:P=>{P.preventDefault(),N()},className:"mobile-nav-link logout-link",children:[k.jsx("span",{className:"nav-icon",children:""}),k.jsx("span",{className:"nav-text",children:"Logout"})]})})]})]}),m&&k.jsx("div",{className:"qr-modal-overlay",onClick:b,children:k.jsxs("div",{className:"qr-modal-content",onClick:P=>P.stopPropagation(),children:[k.jsxs("div",{className:"qr-modal-header",children:[k.jsx("h2",{children:"Confirm Logout"}),k.jsx("button",{className:"qr-modal-close",onClick:b,children:""})]}),k.jsx("div",{className:"qr-modal-body",children:k.jsxs("div",{className:"delete-confirmation",children:[k.jsx("p",{children:k.jsx("strong",{children:"Are you sure you want to logout?"})}),k.jsx("div",{className:"delete-warning",children:k.jsx("p",{children:"You will be redirected to the login page and will need to sign in again to access your account."})}),k.jsxs("div",{className:"admin-db-btns",style:{marginTop:"20px"},children:[k.jsx("button",{onClick:b,className:"admin-db-open-btn",children:"Cancel"}),k.jsx("button",{onClick:D,className:"admin-db-delete-btn",children:"Logout"})]})]})})]})})]})},aG=[{key:"clockin",label:"Clock-in/Clock-out",icon:""},{key:"history",label:"History",icon:""},{key:"details",label:"Details",icon:""},{key:"settings",label:"Settings",icon:""}];function sG(){const[t,e]=pe.useState("clockin"),[r,n]=pe.useState(!1),{currentUser:i}=ds(),a=f=>{e(f)},l=()=>{switch(t){case"clockin":return k.jsx($4,{currentUser:i});case"history":return k.jsx(rG,{currentUser:i});case"details":return k.jsx(nG,{currentUser:i});case"settings":return k.jsx(iG,{currentUser:i,setActiveSection:e});default:return k.jsx($4,{currentUser:i})}};return k.jsxs("div",{className:"member-bg",children:[k.jsx(x8,{activeSection:t,onNavClick:a,logoText:"Member Panel",navItems:aG,userDisplay:(i==null?void 0:i.displayName)||"Member",logoutLink:"/"}),k.jsxs("main",{className:"Member-main",children:[k.jsxs("header",{className:"Header-container",children:[k.jsx("h1",{children:t.charAt(0).toUpperCase()+t.slice(1)}),k.jsx("div",{className:"MemberUser",children:k.jsx("span",{children:"Member"})})]}),k.jsx("section",{className:"MemberContent",children:l()})]})]})}function Z4(){return k.jsxs("div",{className:"dashboard-container",children:[k.jsx("h2",{children:"Admin Dashboard"}),k.jsx("p",{children:"Welcome to the admin panel. "}),k.jsxs("div",{className:"dashboard-stats",children:[k.jsxs("div",{className:"dashboard-stat",children:[k.jsx("h3",{children:"Active QR Codes"}),k.jsx("p",{children:"0"})]}),k.jsxs("div",{className:"dashboard-stat",children:[k.jsx("h3",{children:"Today's Scans"}),k.jsx("p",{children:"0"})]}),k.jsxs("div",{className:"dashboard-stat",children:[k.jsx("h3",{children:"Total Reports"}),k.jsx("p",{children:"0"})]})]})]})}var n0={},uv,J4;function v8(){return J4||(J4=1,uv={L:1,M:0,Q:3,H:2}),uv}var fv,e3;function y8(){return e3||(e3=1,fv={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),fv}var hv,t3;function oG(){if(t3)return hv;t3=1;var t=y8();function e(r){this.mode=t.MODE_8BIT_BYTE,this.data=r}return e.prototype={getLength:function(r){return this.data.length},write:function(r){for(var n=0;n<this.data.length;n++)r.put(this.data.charCodeAt(n),8)}},hv=e,hv}var dv,r3;function lG(){if(r3)return dv;r3=1;var t=v8();function e(r,n){this.totalCount=r,this.dataCount=n}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(r,n){var i=e.getRsBlockTable(r,n);if(i==null)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+n);for(var a=i.length/3,l=new Array,f=0;f<a;f++)for(var m=i[f*3+0],g=i[f*3+1],y=i[f*3+2],E=0;E<m;E++)l.push(new e(g,y));return l},e.getRsBlockTable=function(r,n){switch(n){case t.L:return e.RS_BLOCK_TABLE[(r-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(r-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(r-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(r-1)*4+3];default:return}},dv=e,dv}var gv,n3;function cG(){if(n3)return gv;n3=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)==1},put:function(e,r){for(var n=0;n<r;n++)this.putBit((e>>>r-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},gv=t,gv}var mv,i3;function _8(){if(i3)return mv;i3=1;for(var t={glog:function(r){if(r<1)throw new Error("glog("+r+")");return t.LOG_TABLE[r]},gexp:function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return t.EXP_TABLE[r]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return mv=t,mv}var pv,a3;function E8(){if(a3)return pv;a3=1;var t=_8();function e(r,n){if(r.length==null)throw new Error(r.length+"/"+n);for(var i=0;i<r.length&&r[i]==0;)i++;this.num=new Array(r.length-i+n);for(var a=0;a<r.length-i;a++)this.num[a]=r[a+i]}return e.prototype={get:function(r){return this.num[r]},getLength:function(){return this.num.length},multiply:function(r){for(var n=new Array(this.getLength()+r.getLength()-1),i=0;i<this.getLength();i++)for(var a=0;a<r.getLength();a++)n[i+a]^=t.gexp(t.glog(this.get(i))+t.glog(r.get(a)));return new e(n,0)},mod:function(r){if(this.getLength()-r.getLength()<0)return this;for(var n=t.glog(this.get(0))-t.glog(r.get(0)),i=new Array(this.getLength()),a=0;a<this.getLength();a++)i[a]=this.get(a);for(var a=0;a<r.getLength();a++)i[a]^=t.gexp(t.glog(r.get(a))+n);return new e(i,0).mod(r)}},pv=e,pv}var xv,s3;function uG(){if(s3)return xv;s3=1;var t=y8(),e=E8(),r=_8(),n={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var l=a<<10;i.getBCHDigit(l)-i.getBCHDigit(i.G15)>=0;)l^=i.G15<<i.getBCHDigit(l)-i.getBCHDigit(i.G15);return(a<<10|l)^i.G15_MASK},getBCHTypeNumber:function(a){for(var l=a<<12;i.getBCHDigit(l)-i.getBCHDigit(i.G18)>=0;)l^=i.G18<<i.getBCHDigit(l)-i.getBCHDigit(i.G18);return a<<12|l},getBCHDigit:function(a){for(var l=0;a!=0;)l++,a>>>=1;return l},getPatternPosition:function(a){return i.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,l,f){switch(a){case n.PATTERN000:return(l+f)%2==0;case n.PATTERN001:return l%2==0;case n.PATTERN010:return f%3==0;case n.PATTERN011:return(l+f)%3==0;case n.PATTERN100:return(Math.floor(l/2)+Math.floor(f/3))%2==0;case n.PATTERN101:return l*f%2+l*f%3==0;case n.PATTERN110:return(l*f%2+l*f%3)%2==0;case n.PATTERN111:return(l*f%3+(l+f)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var l=new e([1],0),f=0;f<a;f++)l=l.multiply(new e([1,r.gexp(f)],0));return l},getLengthInBits:function(a,l){if(1<=l&&l<10)switch(a){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(l<27)switch(a){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else if(l<41)switch(a){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}else throw new Error("type:"+l)},getLostPoint:function(a){for(var l=a.getModuleCount(),f=0,m=0;m<l;m++)for(var g=0;g<l;g++){for(var y=0,E=a.isDark(m,g),A=-1;A<=1;A++)if(!(m+A<0||l<=m+A))for(var C=-1;C<=1;C++)g+C<0||l<=g+C||A==0&&C==0||E==a.isDark(m+A,g+C)&&y++;y>5&&(f+=3+y-5)}for(var m=0;m<l-1;m++)for(var g=0;g<l-1;g++){var N=0;a.isDark(m,g)&&N++,a.isDark(m+1,g)&&N++,a.isDark(m,g+1)&&N++,a.isDark(m+1,g+1)&&N++,(N==0||N==4)&&(f+=3)}for(var m=0;m<l;m++)for(var g=0;g<l-6;g++)a.isDark(m,g)&&!a.isDark(m,g+1)&&a.isDark(m,g+2)&&a.isDark(m,g+3)&&a.isDark(m,g+4)&&!a.isDark(m,g+5)&&a.isDark(m,g+6)&&(f+=40);for(var g=0;g<l;g++)for(var m=0;m<l-6;m++)a.isDark(m,g)&&!a.isDark(m+1,g)&&a.isDark(m+2,g)&&a.isDark(m+3,g)&&a.isDark(m+4,g)&&!a.isDark(m+5,g)&&a.isDark(m+6,g)&&(f+=40);for(var b=0,g=0;g<l;g++)for(var m=0;m<l;m++)a.isDark(m,g)&&b++;var D=Math.abs(100*b/l/l-50)/5;return f+=D*10,f}};return xv=i,xv}var vv,o3;function fG(){if(o3)return vv;o3=1;var t=oG(),e=lG(),r=cG(),n=uG(),i=E8();function a(f,m){this.typeNumber=f,this.errorCorrectLevel=m,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var l=a.prototype;return l.addData=function(f){var m=new t(f);this.dataList.push(m),this.dataCache=null},l.isDark=function(f,m){if(f<0||this.moduleCount<=f||m<0||this.moduleCount<=m)throw new Error(f+","+m);return this.modules[f][m]},l.getModuleCount=function(){return this.moduleCount},l.make=function(){if(this.typeNumber<1){var f=1;for(f=1;f<40;f++){for(var m=e.getRSBlocks(f,this.errorCorrectLevel),g=new r,y=0,E=0;E<m.length;E++)y+=m[E].dataCount;for(var E=0;E<this.dataList.length;E++){var A=this.dataList[E];g.put(A.mode,4),g.put(A.getLength(),n.getLengthInBits(A.mode,f)),A.write(g)}if(g.getLengthInBits()<=y*8)break}this.typeNumber=f}this.makeImpl(!1,this.getBestMaskPattern())},l.makeImpl=function(f,m){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var g=0;g<this.moduleCount;g++){this.modules[g]=new Array(this.moduleCount);for(var y=0;y<this.moduleCount;y++)this.modules[g][y]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(f,m),this.typeNumber>=7&&this.setupTypeNumber(f),this.dataCache==null&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,m)},l.setupPositionProbePattern=function(f,m){for(var g=-1;g<=7;g++)if(!(f+g<=-1||this.moduleCount<=f+g))for(var y=-1;y<=7;y++)m+y<=-1||this.moduleCount<=m+y||(0<=g&&g<=6&&(y==0||y==6)||0<=y&&y<=6&&(g==0||g==6)||2<=g&&g<=4&&2<=y&&y<=4?this.modules[f+g][m+y]=!0:this.modules[f+g][m+y]=!1)},l.getBestMaskPattern=function(){for(var f=0,m=0,g=0;g<8;g++){this.makeImpl(!0,g);var y=n.getLostPoint(this);(g==0||f>y)&&(f=y,m=g)}return m},l.createMovieClip=function(f,m,g){var y=f.createEmptyMovieClip(m,g),E=1;this.make();for(var A=0;A<this.modules.length;A++)for(var C=A*E,N=0;N<this.modules[A].length;N++){var b=N*E,D=this.modules[A][N];D&&(y.beginFill(0,100),y.moveTo(b,C),y.lineTo(b+E,C),y.lineTo(b+E,C+E),y.lineTo(b,C+E),y.endFill())}return y},l.setupTimingPattern=function(){for(var f=8;f<this.moduleCount-8;f++)this.modules[f][6]==null&&(this.modules[f][6]=f%2==0);for(var m=8;m<this.moduleCount-8;m++)this.modules[6][m]==null&&(this.modules[6][m]=m%2==0)},l.setupPositionAdjustPattern=function(){for(var f=n.getPatternPosition(this.typeNumber),m=0;m<f.length;m++)for(var g=0;g<f.length;g++){var y=f[m],E=f[g];if(this.modules[y][E]==null)for(var A=-2;A<=2;A++)for(var C=-2;C<=2;C++)A==-2||A==2||C==-2||C==2||A==0&&C==0?this.modules[y+A][E+C]=!0:this.modules[y+A][E+C]=!1}},l.setupTypeNumber=function(f){for(var m=n.getBCHTypeNumber(this.typeNumber),g=0;g<18;g++){var y=!f&&(m>>g&1)==1;this.modules[Math.floor(g/3)][g%3+this.moduleCount-8-3]=y}for(var g=0;g<18;g++){var y=!f&&(m>>g&1)==1;this.modules[g%3+this.moduleCount-8-3][Math.floor(g/3)]=y}},l.setupTypeInfo=function(f,m){for(var g=this.errorCorrectLevel<<3|m,y=n.getBCHTypeInfo(g),E=0;E<15;E++){var A=!f&&(y>>E&1)==1;E<6?this.modules[E][8]=A:E<8?this.modules[E+1][8]=A:this.modules[this.moduleCount-15+E][8]=A}for(var E=0;E<15;E++){var A=!f&&(y>>E&1)==1;E<8?this.modules[8][this.moduleCount-E-1]=A:E<9?this.modules[8][15-E-1+1]=A:this.modules[8][15-E-1]=A}this.modules[this.moduleCount-8][8]=!f},l.mapData=function(f,m){for(var g=-1,y=this.moduleCount-1,E=7,A=0,C=this.moduleCount-1;C>0;C-=2)for(C==6&&C--;;){for(var N=0;N<2;N++)if(this.modules[y][C-N]==null){var b=!1;A<f.length&&(b=(f[A]>>>E&1)==1);var D=n.getMask(m,y,C-N);D&&(b=!b),this.modules[y][C-N]=b,E--,E==-1&&(A++,E=7)}if(y+=g,y<0||this.moduleCount<=y){y-=g,g=-g;break}}},a.PAD0=236,a.PAD1=17,a.createData=function(f,m,g){for(var y=e.getRSBlocks(f,m),E=new r,A=0;A<g.length;A++){var C=g[A];E.put(C.mode,4),E.put(C.getLength(),n.getLengthInBits(C.mode,f)),C.write(E)}for(var N=0,A=0;A<y.length;A++)N+=y[A].dataCount;if(E.getLengthInBits()>N*8)throw new Error("code length overflow. ("+E.getLengthInBits()+">"+N*8+")");for(E.getLengthInBits()+4<=N*8&&E.put(0,4);E.getLengthInBits()%8!=0;)E.putBit(!1);for(;!(E.getLengthInBits()>=N*8||(E.put(a.PAD0,8),E.getLengthInBits()>=N*8));)E.put(a.PAD1,8);return a.createBytes(E,y)},a.createBytes=function(f,m){for(var g=0,y=0,E=0,A=new Array(m.length),C=new Array(m.length),N=0;N<m.length;N++){var b=m[N].dataCount,D=m[N].totalCount-b;y=Math.max(y,b),E=Math.max(E,D),A[N]=new Array(b);for(var P=0;P<A[N].length;P++)A[N][P]=255&f.buffer[P+g];g+=b;var G=n.getErrorCorrectPolynomial(D),B=new i(A[N],G.getLength()-1),Y=B.mod(G);C[N]=new Array(G.getLength()-1);for(var P=0;P<C[N].length;P++){var te=P+Y.getLength()-C[N].length;C[N][P]=te>=0?Y.get(te):0}}for(var ee=0,P=0;P<m.length;P++)ee+=m[P].totalCount;for(var L=new Array(ee),j=0,P=0;P<y;P++)for(var N=0;N<m.length;N++)P<A[N].length&&(L[j++]=A[N][P]);for(var P=0;P<E;P++)for(var N=0;N<m.length;N++)P<C[N].length&&(L[j++]=C[N][P]);return L},vv=a,vv}var Og={},l3;function hG(){if(l3)return Og;l3=1,Object.defineProperty(Og,"__esModule",{value:!0});var t=Object.assign||function(g){for(var y=1;y<arguments.length;y++){var E=arguments[y];for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(g[A]=E[A])}return g},e=Kb(),r=a(e),n=zd(),i=a(n);function a(g){return g&&g.__esModule?g:{default:g}}function l(g,y){var E={};for(var A in g)y.indexOf(A)>=0||Object.prototype.hasOwnProperty.call(g,A)&&(E[A]=g[A]);return E}var f={bgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,bgD:r.default.string.isRequired,fgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,fgD:r.default.string.isRequired,size:r.default.number.isRequired,title:r.default.string,viewBoxSize:r.default.number.isRequired,xmlns:r.default.string},m=(0,n.forwardRef)(function(g,y){var E=g.bgColor,A=g.bgD,C=g.fgD,N=g.fgColor,b=g.size,D=g.title,P=g.viewBoxSize,G=g.xmlns,B=G===void 0?"http://www.w3.org/2000/svg":G,Y=l(g,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",t({},Y,{height:b,ref:y,viewBox:"0 0 "+P+" "+P,width:b,xmlns:B}),D?i.default.createElement("title",null,D):null,i.default.createElement("path",{d:A,fill:E}),i.default.createElement("path",{d:C,fill:N}))});return m.displayName="QRCodeSvg",m.propTypes=f,Og.default=m,Og}var c3;function dG(){if(c3)return n0;c3=1,Object.defineProperty(n0,"__esModule",{value:!0}),n0.QRCode=void 0;var t=Object.assign||function(b){for(var D=1;D<arguments.length;D++){var P=arguments[D];for(var G in P)Object.prototype.hasOwnProperty.call(P,G)&&(b[G]=P[G])}return b},e=Kb(),r=E(e),n=v8(),i=E(n),a=fG(),l=E(a),f=zd(),m=E(f),g=hG(),y=E(g);function E(b){return b&&b.__esModule?b:{default:b}}function A(b,D){var P={};for(var G in b)D.indexOf(G)>=0||Object.prototype.hasOwnProperty.call(b,G)&&(P[G]=b[G]);return P}var C={bgColor:r.default.oneOfType([r.default.object,r.default.string]),fgColor:r.default.oneOfType([r.default.object,r.default.string]),level:r.default.string,size:r.default.number,value:r.default.string.isRequired},N=(0,f.forwardRef)(function(b,D){var P=b.bgColor,G=P===void 0?"#FFFFFF":P,B=b.fgColor,Y=B===void 0?"#000000":B,te=b.level,ee=te===void 0?"L":te,L=b.size,j=L===void 0?256:L,U=b.value,q=A(b,["bgColor","fgColor","level","size","value"]),K=new l.default(-1,i.default[ee]);K.addData(U),K.make();var M=K.modules;return m.default.createElement(y.default,t({},q,{bgColor:G,bgD:M.map(function(Q,be){return Q.map(function(xe,_e){return xe?"":"M "+_e+" "+be+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:Y,fgD:M.map(function(Q,be){return Q.map(function(xe,_e){return xe?"M "+_e+" "+be+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:D,size:j,viewBoxSize:M.length}))});return n0.QRCode=N,N.displayName="QRCode",N.propTypes=C,n0.default=N,n0}var gG=dG();const w8=Dy(gG),mG=()=>{const{currentUser:t}=ds(),[e,r]=pe.useState(!1),[n,i]=pe.useState([]),[a,l]=pe.useState(!1),[f,m]=pe.useState(!1),[g,y]=pe.useState(null),E="https://Chris-Xander.github.io/ScanIn-Attendance",[A,C]=pe.useState({name:"",description:"",location:"",eventType:"",validFrom:"",validUntil:"",requiresForm:!1,formFields:[],isActive:!0}),[N,b]=pe.useState("");pe.useEffect(()=>{console.log("Current user:",t),D()},[t]);const D=async()=>{try{if(!t){console.log("No current user; skipping fetch."),i([]);return}console.log("Fetching QR codes for adminId:",t.uid);const q=Rn(pr,"customQRCodes"),K=Ua(q,Bi("adminId","==",t.uid)),Q=(await Va(K)).docs.map(be=>({id:be.id,...be.data()}));i(Q),console.log(`Fetched ${Q.length} QR codes.`)}catch(q){console.error("Error fetching QR codes:",q)}},P=q=>{const{name:K,value:M,type:Q,checked:be}=q.target;C(xe=>({...xe,[K]:Q==="checkbox"?be:M}))},G=()=>{const q=N.trim();q&&!A.formFields.includes(q)&&C(K=>({...K,formFields:[...K.formFields,q]})),b("")},B=q=>{C(K=>({...K,formFields:K.formFields.filter(M=>M!==q)}))},Y=()=>`qr_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,te=async q=>{q.preventDefault(),l(!0);try{const K=Y(),M={...A,qrId:K,adminId:t.uid,createdAt:new Date().toISOString(),scanCount:0},Q=await tu(Rn(pr,"customQRCodes"),M),be={qrCodeId:K,qrCodeDocId:Q.id,name:A.name,description:A.description,location:A.location,eventType:A.eventType,validFrom:A.validFrom,validUntil:A.validUntil,requiresForm:A.requiresForm,formFields:A.formFields,isActive:A.isActive,adminId:t.uid,createdAt:new Date().toISOString(),scanCount:0,totalScans:0,lastScanAt:null};await tu(Rn(pr,"qrGateReports"),be),C({name:"",description:"",location:"",eventType:"",validFrom:"",validUntil:"",requiresForm:!1,formFields:[],isActive:!0}),b(""),r(!1),D()}catch(K){console.error("Error creating QR code:",K),alert("Failed to create QR code. Please try again.")}finally{l(!1)}},ee=async(q,K)=>{try{await eE(ja(pr,"customQRCodes",q),{isActive:!K}),D()}catch(M){console.error("Error updating QR code:",M)}},L=async q=>{if(window.confirm("Are you sure you want to delete this QR code?"))try{await Rm(ja(pr,"customQRCodes",q)),D()}catch(K){console.error("Error deleting QR code:",K)}},j=q=>{y(q),m(!0)},U=()=>{m(!1),y(null)};return k.jsxs("div",{className:"admin-qr-main",children:[k.jsx("h1",{className:"admin-qr-title",children:"QR Code Management"}),k.jsx("p",{className:"admin-qr-desc",children:"Welcome to the QR Code Management Dashboard  create, customize, and manage QR codes to track attendance and collect participant details for your events or programs."}),k.jsxs("div",{className:"admin-qr-actions",children:[k.jsx("button",{className:"admin-qr-action-btn",onClick:()=>r(!e),children:"+ Create New QR Code"}),k.jsx("button",{className:"admin-qr-action-btn",disabled:!0,children:"View Reports"})]}),e&&k.jsxs("div",{className:"create-qr-form",children:[k.jsx("h2",{children:"Create New QR Code"}),k.jsxs("form",{onSubmit:te,children:[k.jsxs("div",{className:"form-group",children:[k.jsx("label",{children:"Name *"}),k.jsx("input",{type:"text",name:"name",value:A.name,onChange:P,required:!0,placeholder:"Event name"})]}),k.jsxs("div",{className:"form-group",children:[k.jsx("label",{children:"Description"}),k.jsx("textarea",{name:"description",value:A.description,onChange:P,placeholder:"Event description"})]}),k.jsxs("div",{className:"form-group",children:[k.jsx("label",{children:"Location"}),k.jsx("input",{type:"text",name:"location",value:A.location,onChange:P,placeholder:"Event location"})]}),k.jsxs("div",{className:"form-group",children:[k.jsx("label",{children:"Event Type"}),k.jsxs("select",{name:"eventType",value:A.eventType,onChange:P,children:[k.jsx("option",{value:"",children:"Select type"}),k.jsx("option",{value:"meeting",children:"Meeting"}),k.jsx("option",{value:"conference",children:"Conference"}),k.jsx("option",{value:"workshop",children:"Workshop"}),k.jsx("option",{value:"training",children:"Training"}),k.jsx("option",{value:"other",children:"Other"})]})]}),k.jsxs("div",{className:"form-row",children:[k.jsxs("div",{className:"form-group",children:[k.jsx("label",{children:"Valid From"}),k.jsx("input",{type:"datetime-local",name:"validFrom",value:A.validFrom,onChange:P})]}),k.jsxs("div",{className:"form-group",children:[k.jsx("label",{children:"Valid Until"}),k.jsx("input",{type:"datetime-local",name:"validUntil",value:A.validUntil,onChange:P})]})]}),k.jsx("div",{className:"form-group",children:k.jsxs("label",{children:[k.jsx("input",{type:"checkbox",name:"requiresForm",checked:A.requiresForm,onChange:P}),"Require form submission"]})}),k.jsx("div",{className:"form-group",children:k.jsxs("label",{children:[k.jsx("input",{type:"checkbox",name:"AllowMultipleSubmissions",checked:A.AllowMultipleSubmissions||!1,onChange:P}),"Allow Multiple Responses Per User Device?"]})}),A.requiresForm&&k.jsxs("div",{className:"form-group",children:[k.jsx("label",{children:"Add Form Fields"}),k.jsxs("div",{className:"field-input",children:[k.jsx("input",{type:"text",value:N,onChange:q=>b(q.target.value),placeholder:"Enter field name"}),k.jsx("button",{type:"button",onClick:G,children:"+ Add Field"})]}),k.jsx("ul",{className:"form-fields-list",children:A.formFields.map(q=>k.jsxs("li",{children:[q," ",k.jsx("button",{type:"button",onClick:()=>B(q),children:"x"})]},q))})]}),k.jsx("div",{className:"form-group",children:k.jsxs("label",{children:[k.jsx("input",{type:"checkbox",name:"isActive",checked:A.isActive,onChange:P}),"Active"]})}),k.jsxs("div",{className:"form-actions",children:[k.jsx("button",{type:"submit",disabled:a,children:a?"Creating...":"Create QR Code"}),k.jsx("button",{type:"button",onClick:()=>r(!1),children:"Cancel"})]})]})]}),k.jsx("div",{className:"admin-qr-list",children:n.length===0?k.jsx("div",{className:"admin-qr-empty",children:k.jsx("p",{children:'No QR codes found. Click "Create New QR Code" to get started.'})}):n.map(q=>k.jsxs("div",{className:"qr-code-item",children:[k.jsxs("div",{className:"qr-code-info",children:[k.jsx("h3",{children:q.name}),k.jsx("p",{children:q.description}),k.jsxs("p",{children:["Location: ",q.location]}),k.jsxs("p",{children:["Scans: ",q.scanCount||0]}),k.jsxs("p",{children:["Status: ",q.isActive?"Active":"Inactive"]})]}),k.jsxs("div",{className:"qr-code-actions",children:[k.jsx("button",{onClick:()=>j(q),children:"View"}),k.jsx("button",{onClick:()=>ee(q.id,q.isActive),children:q.isActive?"Deactivate":"Activate"}),k.jsx("button",{onClick:()=>L(q.id),children:"Delete"})]})]},q.id))}),f&&g&&k.jsx("div",{className:"qr-modal-overlay",onClick:U,children:k.jsxs("div",{className:"qr-modal-content",onClick:q=>q.stopPropagation(),children:[k.jsxs("div",{className:"qr-modal-header",children:[k.jsx("h2",{children:g.name}),k.jsx("button",{className:"qr-modal-close",onClick:U,children:""})]}),k.jsxs("div",{className:"qr-modal-body",children:[k.jsx("div",{className:"qr-code-display",children:k.jsx(w8,{value:`${E}/scan-form/${g.qrId}`,size:200})}),k.jsxs("div",{className:"qr-details",children:[k.jsxs("p",{children:[k.jsx("strong",{children:"URL:"})," ",k.jsx("a",{href:`${E}/scan-form/${g.qrId}`,target:"_blank",rel:"noopener noreferrer",children:`${E}/scan-form/${g.qrId}`})]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Description:"})," ",g.description]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Location:"})," ",g.location]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Event Type:"})," ",g.eventType]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Status:"})," ",g.isActive?"Active":"Inactive"]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Scans:"})," ",g.scanCount||0]}),g.requiresForm&&g.formFields.length>0&&k.jsxs("div",{children:[k.jsx("strong",{children:"Form Fields:"}),k.jsx("ul",{children:g.formFields.map(q=>k.jsx("li",{children:q},q))})]})]})]})]})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Dm={};Dm.version="0.18.5";var T8=1252,pG=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],cE={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},uE=function(t){pG.indexOf(t)!=-1&&(T8=cE[0]=t)};function xG(){uE(1252)}var Ao=function(t){uE(t)};function fE(){Ao(1200),xG()}function u3(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function vG(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function A8(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var Yh=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?vG(t.slice(2)):e==254&&r==255?A8(t.slice(2)):e==65279?t.slice(1):t},Mg=function(e){return String.fromCharCode(e)},f3=function(e){return String.fromCharCode(e)},Id,Vc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Rd(t){for(var e="",r=0,n=0,i=0,a=0,l=0,f=0,m=0,g=0;g<t.length;)r=t.charCodeAt(g++),a=r>>2,n=t.charCodeAt(g++),l=(r&3)<<4|n>>4,i=t.charCodeAt(g++),f=(n&15)<<2|i>>6,m=i&63,isNaN(n)?f=m=64:isNaN(i)&&(m=64),e+=Vc.charAt(a)+Vc.charAt(l)+Vc.charAt(f)+Vc.charAt(m);return e}function Bs(t){var e="",r=0,n=0,i=0,a=0,l=0,f=0,m=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var g=0;g<t.length;)a=Vc.indexOf(t.charAt(g++)),l=Vc.indexOf(t.charAt(g++)),r=a<<2|l>>4,e+=String.fromCharCode(r),f=Vc.indexOf(t.charAt(g++)),n=(l&15)<<4|f>>2,f!==64&&(e+=String.fromCharCode(n)),m=Vc.indexOf(t.charAt(g++)),i=(f&3)<<6|m,m!==64&&(e+=String.fromCharCode(i));return e}var xr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),tc=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function nu(t){return xr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function h3(t){return xr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Ds=function(e){return xr?tc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Fp(t){if(typeof ArrayBuffer>"u")return Ds(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function du(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function yG(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function hE(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return hE(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var Ki=xr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:tc(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function _G(t){for(var e=[],r=0,n=t.length+250,i=nu(t.length+255),a=0;a<t.length;++a){var l=t.charCodeAt(a);if(l<128)i[r++]=l;else if(l<2048)i[r++]=192|l>>6&31,i[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var f=t.charCodeAt(++a)&1023;i[r++]=240|l>>8&7,i[r++]=128|l>>2&63,i[r++]=128|f>>6&15|(l&3)<<4,i[r++]=128|f&63}else i[r++]=224|l>>12&15,i[r++]=128|l>>6&63,i[r++]=128|l&63;r>n&&(e.push(i.slice(0,r)),r=0,i=nu(65535),n=65530)}return e.push(i.slice(0,r)),Ki(e)}var za=/\u0000/g,Kh=/[\u0001-\u0006]/g;function w0(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function So(t,e){var r=""+t;return r.length>=e?r:ni("0",e-r.length)+r}function dE(t,e){var r=""+t;return r.length>=e?r:ni(" ",e-r.length)+r}function Om(t,e){var r=""+t;return r.length>=e?r:r+ni(" ",e-r.length)}function EG(t,e){var r=""+Math.round(t);return r.length>=e?r:ni("0",e-r.length)+r}function wG(t,e){var r=""+t;return r.length>=e?r:ni("0",e-r.length)+r}var d3=Math.pow(2,32);function i0(t,e){if(t>d3||t<-d3)return EG(t,e);var r=Math.round(t);return wG(r,e)}function Mm(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var g3=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],yv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function TG(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Gt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},m3={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},AG={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Lm(t,e,r){for(var n=t<0?-1:1,i=t*n,a=0,l=1,f=0,m=1,g=0,y=0,E=Math.floor(i);g<e&&(E=Math.floor(i),f=E*l+a,y=E*g+m,!(i-E<5e-8));)i=1/(i-E),a=l,l=f,m=g,g=y;if(y>e&&(g>e?(y=m,f=a):(y=g,f=l)),!r)return[0,n*f,y];var A=Math.floor(n*f/y);return[A,n*f-A*y,y]}function zu(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),a=0,l=[],f={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(f.u)<1e-6&&(f.u=0),e&&e.date1904&&(n+=1462),f.u>.9999&&(f.u=0,++i==86400&&(f.T=i=0,++n,++f.D)),n===60)l=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var m=new Date(1900,0,1);m.setDate(m.getDate()+n-1),l=[m.getFullYear(),m.getMonth()+1,m.getDate()],a=m.getDay(),n<60&&(a=(a+6)%7),r&&(a=NG(m,l))}return f.y=l[0],f.m=l[1],f.d=l[2],f.S=i%60,i=Math.floor(i/60),f.M=i%60,i=Math.floor(i/60),f.H=i,f.q=a,f}var S8=new Date(1899,11,31,0,0,0),SG=S8.getTime(),CG=new Date(1900,2,1,0,0,0);function C8(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=CG&&(r+=1440*60*1e3),(r-(SG+(t.getTimezoneOffset()-S8.getTimezoneOffset())*6e4))/(1440*60*1e3)}function gE(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function bG(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function IG(t){var e=t<0?12:11,r=gE(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function RG(t){var e=gE(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Nd(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=IG(t):e===10?r=t.toFixed(10).substr(0,12):r=RG(t),gE(bG(r.toUpperCase()))}function af(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Nd(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return co(14,C8(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function NG(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function kG(t,e,r,n){var i="",a=0,l=0,f=r.y,m,g=0;switch(t){case 98:f=r.y+543;case 121:switch(e.length){case 1:case 2:m=f%100,g=2;break;default:m=f%1e4,g=4;break}break;case 109:switch(e.length){case 1:case 2:m=r.m,g=e.length;break;case 3:return yv[r.m-1][1];case 5:return yv[r.m-1][0];default:return yv[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:m=r.d,g=e.length;break;case 3:return g3[r.q][0];default:return g3[r.q][1]}break;case 104:switch(e.length){case 1:case 2:m=1+(r.H+11)%12,g=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:m=r.H,g=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:m=r.M,g=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?So(r.S,e.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,a=Math.round(l*(r.S+r.u)),a>=60*l&&(a=0),e==="s"?a===0?"0":""+a/l:(i=So(a,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":m=r.D*24+r.H;break;case"[m]":case"[mm]":m=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":m=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}g=e.length===3?1:2;break;case 101:m=f,g=1;break}var y=g>0?So(m,g):"";return y}function jc(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var b8=/%/g;function DG(t,e,r){var n=e.replace(b8,""),i=e.length-n.length;return Hl(t,n,r*Math.pow(10,2*i))+ni("%",i)}function OG(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Hl(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function I8(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+I8(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,m,g,y){return m+g+y.substr(0,(i+a)%i)+"."+y.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var R8=/# (\?+)( ?)\/( ?)(\d+)/;function MG(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),a=Math.floor(i/n),l=i-a*n,f=n;return r+(a===0?"":""+a)+" "+(l===0?ni(" ",t[1].length+1+t[4].length):dE(l,t[1].length)+t[2]+"/"+t[3]+So(f,t[4].length))}function LG(t,e,r){return r+(e===0?"":""+e)+ni(" ",t[1].length+2+t[4].length)}var N8=/^#*0*\.([0#]+)/,k8=/\).*[0#]/,D8=/\(###\) ###\\?-####/;function Pa(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function p3(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function x3(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function FG(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function PG(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Js(t,e,r){if(t.charCodeAt(0)===40&&!e.match(k8)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Js("n",n,r):"("+Js("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return OG(t,e,r);if(e.indexOf("%")!==-1)return DG(t,e,r);if(e.indexOf("E")!==-1)return I8(e,r);if(e.charCodeAt(0)===36)return"$"+Js(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,l,f,m=Math.abs(r),g=r<0?"-":"";if(e.match(/^00+$/))return g+i0(m,e.length);if(e.match(/^[#?]+$/))return i=i0(r,0),i==="0"&&(i=""),i.length>e.length?i:Pa(e.substr(0,e.length-i.length))+i;if(a=e.match(R8))return MG(a,m,g);if(e.match(/^#+0+$/))return g+i0(m,e.length-e.indexOf("0"));if(a=e.match(N8))return i=p3(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Pa(a[1])).replace(/\.$/,"."+Pa(a[1])).replace(/\.(\d*)$/,function(N,b){return"."+b+ni("0",Pa(a[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return g+p3(m,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return g+jc(i0(m,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Js(t,e,-r):jc(""+(Math.floor(r)+FG(r,a[1].length)))+"."+So(x3(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return Js(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=w0(Js(t,e.replace(/[\\-]/g,""),r)),l=0,w0(w0(e.replace(/\\/g,"")).replace(/[0#]/g,function(N){return l<i.length?i.charAt(l++):N==="0"?"0":""}));if(e.match(D8))return i=Js(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var y="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),f=Lm(m,Math.pow(10,l)-1,!1),i=""+g,y=Hl("n",a[1],f[1]),y.charAt(y.length-1)==" "&&(y=y.substr(0,y.length-1)+"0"),i+=y+a[2]+"/"+a[3],y=Om(f[2],l),y.length<a[4].length&&(y=Pa(a[4].substr(a[4].length-y.length))+y),i+=y,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),f=Lm(m,Math.pow(10,l)-1,!0),g+(f[0]||(f[1]?"":"0"))+" "+(f[1]?dE(f[1],l)+a[2]+"/"+a[3]+Om(f[2],l):ni(" ",2*l+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=i0(r,0),e.length<=i.length?i:Pa(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var E=e.indexOf(".")-l,A=e.length-i.length-E;return Pa(e.substr(0,E)+i+e.substr(e.length-A))}if(a=e.match(/^00,000\.([#0]*0)$/))return l=x3(r,a[1].length),r<0?"-"+Js(t,e,-r):jc(PG(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(N){return"00,"+(N.length<3?So(0,3-N.length):"")+N})+"."+So(l,a[1].length);switch(e){case"###,##0.00":return Js(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var C=jc(i0(m,0));return C!=="0"?g+C:"";case"###,###.00":return Js(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Js(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function BG(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Hl(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function UG(t,e,r){var n=e.replace(b8,""),i=e.length-n.length;return Hl(t,n,r*Math.pow(10,2*i))+ni("%",i)}function O8(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+O8(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+a):r+="E+"+(l-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,m,g,y){return m+g+y.substr(0,(i+a)%i)+"."+y.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ho(t,e,r){if(t.charCodeAt(0)===40&&!e.match(k8)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ho("n",n,r):"("+Ho("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return BG(t,e,r);if(e.indexOf("%")!==-1)return UG(t,e,r);if(e.indexOf("E")!==-1)return O8(e,r);if(e.charCodeAt(0)===36)return"$"+Ho(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,l,f,m=Math.abs(r),g=r<0?"-":"";if(e.match(/^00+$/))return g+So(m,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Pa(e.substr(0,e.length-i.length))+i;if(a=e.match(R8))return LG(a,m,g);if(e.match(/^#+0+$/))return g+So(m,e.length-e.indexOf("0"));if(a=e.match(N8))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Pa(a[1])).replace(/\.$/,"."+Pa(a[1])),i=i.replace(/\.(\d*)$/,function(N,b){return"."+b+ni("0",Pa(a[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return g+(""+m).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return g+jc(""+m);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ho(t,e,-r):jc(""+r)+"."+ni("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Ho(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=w0(Ho(t,e.replace(/[\\-]/g,""),r)),l=0,w0(w0(e.replace(/\\/g,"")).replace(/[0#]/g,function(N){return l<i.length?i.charAt(l++):N==="0"?"0":""}));if(e.match(D8))return i=Ho(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var y="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(a[4].length,7),f=Lm(m,Math.pow(10,l)-1,!1),i=""+g,y=Hl("n",a[1],f[1]),y.charAt(y.length-1)==" "&&(y=y.substr(0,y.length-1)+"0"),i+=y+a[2]+"/"+a[3],y=Om(f[2],l),y.length<a[4].length&&(y=Pa(a[4].substr(a[4].length-y.length))+y),i+=y,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(a[1].length,a[4].length),7),f=Lm(m,Math.pow(10,l)-1,!0),g+(f[0]||(f[1]?"":"0"))+" "+(f[1]?dE(f[1],l)+a[2]+"/"+a[3]+Om(f[2],l):ni(" ",2*l+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Pa(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var E=e.indexOf(".")-l,A=e.length-i.length-E;return Pa(e.substr(0,E)+i+e.substr(e.length-A))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ho(t,e,-r):jc(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(N){return"00,"+(N.length<3?So(0,3-N.length):"")+N})+"."+So(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var C=jc(""+m);return C!=="0"?g+C:"";default:if(e.match(/\.[0#?]*$/))return Ho(t,e.slice(0,e.lastIndexOf(".")),r)+Pa(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Hl(t,e,r){return(r|0)===r?Ho(t,e,r):Js(t,e,r)}function VG(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var M8=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function q0(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Mm(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(M8))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function jG(t,e,r,n){for(var i=[],a="",l=0,f="",m="t",g,y,E,A="H";l<t.length;)switch(f=t.charAt(l)){case"G":if(!Mm(t,l))throw new Error("unrecognized character "+f+" in "+t);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(a="";(E=t.charCodeAt(++l))!==34&&l<t.length;)a+=String.fromCharCode(E);i[i.length]={t:"t",v:a},++l;break;case"\\":var C=t.charAt(++l),N=C==="("||C===")"?C:"t";i[i.length]={t:N,v:C},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:e},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(g==null&&(g=zu(e,r,t.charAt(l+1)==="2"),g==null))return"";i[i.length]={t:"X",v:t.substr(l,2)},m=f,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":f=f.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||g==null&&(g=zu(e,r),g==null))return"";for(a=f;++l<t.length&&t.charAt(l).toLowerCase()===f;)a+=f;f==="m"&&m.toLowerCase()==="h"&&(f="M"),f==="h"&&(f=A),i[i.length]={t:f,v:a},m=f;break;case"A":case"a":case"":var b={t:f,v:f};if(g==null&&(g=zu(e,r)),t.substr(l,3).toUpperCase()==="A/P"?(g!=null&&(b.v=g.H>=12?"P":"A"),b.t="T",A="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(g!=null&&(b.v=g.H>=12?"PM":"AM"),b.t="T",l+=5,A="h"):t.substr(l,5).toUpperCase()==="/"?(g!=null&&(b.v=g.H>=12?"":""),b.t="T",l+=5,A="h"):(b.t="t",++l),g==null&&b.t==="T")return"";i[i.length]=b,m=f;break;case"[":for(a=f;t.charAt(l++)!=="]"&&l<t.length;)a+=t.charAt(l);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(M8)){if(g==null&&(g=zu(e,r),g==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},m=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",q0(t)||(i[i.length]={t:"t",v:a}));break;case".":if(g!=null){for(a=f;++l<t.length&&(f=t.charAt(l))==="0";)a+=f;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=f;++l<t.length&&"0#?.,E+-%".indexOf(f=t.charAt(l))>-1;)a+=f;i[i.length]={t:"n",v:a};break;case"?":for(a=f;t.charAt(++l)===f;)a+=f;i[i.length]={t:f,v:a},m=f;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:n===1?"t":f,v:f},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=f;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)a+=t.charAt(l);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:f,v:f},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(f)===-1)throw new Error("unrecognized character "+f+" in "+t);i[i.length]={t:"t",v:f},++l;break}var D=0,P=0,G;for(l=i.length-1,m="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=A,m="h",D<1&&(D=1);break;case"s":(G=i[l].v.match(/\.0+$/))&&(P=Math.max(P,G[0].length-1)),D<3&&(D=3);case"d":case"y":case"M":case"e":m=i[l].t;break;case"m":m==="s"&&(i[l].t="M",D<2&&(D=2));break;case"X":break;case"Z":D<1&&i[l].v.match(/[Hh]/)&&(D=1),D<2&&i[l].v.match(/[Mm]/)&&(D=2),D<3&&i[l].v.match(/[Ss]/)&&(D=3)}switch(D){case 0:break;case 1:g.u>=.5&&(g.u=0,++g.S),g.S>=60&&(g.S=0,++g.M),g.M>=60&&(g.M=0,++g.H);break;case 2:g.u>=.5&&(g.u=0,++g.S),g.S>=60&&(g.S=0,++g.M);break}var B="",Y;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=kG(i[l].t.charCodeAt(0),i[l].v,g,P),i[l].t="t";break;case"n":case"?":for(Y=l+1;i[Y]!=null&&((f=i[Y].t)==="?"||f==="D"||(f===" "||f==="t")&&i[Y+1]!=null&&(i[Y+1].t==="?"||i[Y+1].t==="t"&&i[Y+1].v==="/")||i[l].t==="("&&(f===" "||f==="n"||f===")")||f==="t"&&(i[Y].v==="/"||i[Y].v===" "&&i[Y+1]!=null&&i[Y+1].t=="?"));)i[l].v+=i[Y].v,i[Y]={v:"",t:";"},++Y;B+=i[l].v,l=Y-1;break;case"G":i[l].t="t",i[l].v=af(e,r);break}var te="",ee,L;if(B.length>0){B.charCodeAt(0)==40?(ee=e<0&&B.charCodeAt(0)===45?-e:e,L=Hl("n",B,ee)):(ee=e<0&&n>1?-e:e,L=Hl("n",B,ee),ee<0&&i[0]&&i[0].t=="t"&&(L=L.substr(1),i[0].v="-"+i[0].v)),Y=L.length-1;var j=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){j=l;break}var U=i.length;if(j===i.length&&L.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(Y>=i[l].v.length-1?(Y-=i[l].v.length,i[l].v=L.substr(Y+1,i[l].v.length)):Y<0?i[l].v="":(i[l].v=L.substr(0,Y+1),Y=-1),i[l].t="t",U=l);Y>=0&&U<i.length&&(i[U].v=L.substr(0,Y+1)+i[U].v)}else if(j!==i.length&&L.indexOf("E")===-1){for(Y=L.indexOf(".")-1,l=j;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(y=i[l].v.indexOf(".")>-1&&l===j?i[l].v.indexOf(".")-1:i[l].v.length-1,te=i[l].v.substr(y+1);y>=0;--y)Y>=0&&(i[l].v.charAt(y)==="0"||i[l].v.charAt(y)==="#")&&(te=L.charAt(Y--)+te);i[l].v=te,i[l].t="t",U=l}for(Y>=0&&U<i.length&&(i[U].v=L.substr(0,Y+1)+i[U].v),Y=L.indexOf(".")+1,l=j;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==j)){for(y=i[l].v.indexOf(".")>-1&&l===j?i[l].v.indexOf(".")+1:0,te=i[l].v.substr(0,y);y<i[l].v.length;++y)Y<L.length&&(te+=L.charAt(Y++));i[l].v=te,i[l].t="t",U=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(ee=n>1&&e<0&&l>0&&i[l-1].v==="-"?-e:e,i[l].v=Hl(i[l].t,i[l].v,ee),i[l].t="t");var q="";for(l=0;l!==i.length;++l)i[l]!=null&&(q+=i[l].v);return q}var v3=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function y3(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function zG(t,e){var r=VG(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(v3),f=r[1].match(v3);return y3(e,l)?[n,r[0]]:y3(e,f)?[n,r[1]]:[n,r[l!=null&&f!=null?2:1]]}return[n,a]}function co(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Gt)[t],n==null&&(n=r.table&&r.table[m3[t]]||Gt[m3[t]]),n==null&&(n=AG[t]||"General");break}if(Mm(n,0))return af(e,r);e instanceof Date&&(e=C8(e,r.date1904));var i=zG(n,e);if(Mm(i[1]))return af(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return jG(i[1],e,r,i[0])}function Gl(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Gt[r]==null){e<0&&(e=r);continue}if(Gt[r]==t){e=r;break}}e<0&&(e=391)}return Gt[e]=t,e}function Pp(t){for(var e=0;e!=392;++e)t[e]!==void 0&&Gl(t[e],e)}function X0(){Gt=TG()}var HG={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},L8=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function GG(t){var e=typeof t=="number"?Gt[t]:t;return e=e.replace(L8,"(\\d+)"),new RegExp("^"+e+"$")}function WG(t,e,r){var n=-1,i=-1,a=-1,l=-1,f=-1,m=-1;(e.match(L8)||[]).forEach(function(E,A){var C=parseInt(r[A+1],10);switch(E.toLowerCase().charAt(0)){case"y":n=C;break;case"d":a=C;break;case"h":l=C;break;case"s":m=C;break;case"m":l>=0?f=C:i=C;break}}),m>=0&&f==-1&&i>=0&&(f=i,i=-1);var g=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);g.length==7&&(g="0"+g),g.length==8&&(g="20"+g);var y=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2)+":"+("00"+(m>=0?m:0)).slice(-2);return l==-1&&f==-1&&m==-1?g:n==-1&&i==-1&&a==-1?y:g+"T"+y}var qG=(function(){var t={};t.version="1.2.0";function e(){for(var L=0,j=new Array(256),U=0;U!=256;++U)L=U,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,L=L&1?-306674912^L>>>1:L>>>1,j[U]=L;return typeof Int32Array<"u"?new Int32Array(j):j}var r=e();function n(L){var j=0,U=0,q=0,K=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(q=0;q!=256;++q)K[q]=L[q];for(q=0;q!=256;++q)for(U=L[q],j=256+q;j<4096;j+=256)U=K[j]=U>>>8^L[U&255];var M=[];for(q=1;q!=16;++q)M[q-1]=typeof Int32Array<"u"?K.subarray(q*256,q*256+256):K.slice(q*256,q*256+256);return M}var i=n(r),a=i[0],l=i[1],f=i[2],m=i[3],g=i[4],y=i[5],E=i[6],A=i[7],C=i[8],N=i[9],b=i[10],D=i[11],P=i[12],G=i[13],B=i[14];function Y(L,j){for(var U=j^-1,q=0,K=L.length;q<K;)U=U>>>8^r[(U^L.charCodeAt(q++))&255];return~U}function te(L,j){for(var U=j^-1,q=L.length-15,K=0;K<q;)U=B[L[K++]^U&255]^G[L[K++]^U>>8&255]^P[L[K++]^U>>16&255]^D[L[K++]^U>>>24]^b[L[K++]]^N[L[K++]]^C[L[K++]]^A[L[K++]]^E[L[K++]]^y[L[K++]]^g[L[K++]]^m[L[K++]]^f[L[K++]]^l[L[K++]]^a[L[K++]]^r[L[K++]];for(q+=15;K<q;)U=U>>>8^r[(U^L[K++])&255];return~U}function ee(L,j){for(var U=j^-1,q=0,K=L.length,M=0,Q=0;q<K;)M=L.charCodeAt(q++),M<128?U=U>>>8^r[(U^M)&255]:M<2048?(U=U>>>8^r[(U^(192|M>>6&31))&255],U=U>>>8^r[(U^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,Q=L.charCodeAt(q++)&1023,U=U>>>8^r[(U^(240|M>>8&7))&255],U=U>>>8^r[(U^(128|M>>2&63))&255],U=U>>>8^r[(U^(128|Q>>6&15|(M&3)<<4))&255],U=U>>>8^r[(U^(128|Q&63))&255]):(U=U>>>8^r[(U^(224|M>>12&15))&255],U=U>>>8^r[(U^(128|M>>6&63))&255],U=U>>>8^r[(U^(128|M&63))&255]);return~U}return t.table=r,t.bstr=Y,t.buf=te,t.str=ee,t})(),Ut=(function(){var e={};e.version="1.2.1";function r(J,ae){for(var oe=J.split("/"),le=ae.split("/"),ce=0,ge=0,Me=Math.min(oe.length,le.length);ce<Me;++ce){if(ge=oe[ce].length-le[ce].length)return ge;if(oe[ce]!=le[ce])return oe[ce]<le[ce]?-1:1}return oe.length-le.length}function n(J){if(J.charAt(J.length-1)=="/")return J.slice(0,-1).indexOf("/")===-1?J:n(J.slice(0,-1));var ae=J.lastIndexOf("/");return ae===-1?J:J.slice(0,ae+1)}function i(J){if(J.charAt(J.length-1)=="/")return i(J.slice(0,-1));var ae=J.lastIndexOf("/");return ae===-1?J:J.slice(ae+1)}function a(J,ae){typeof ae=="string"&&(ae=new Date(ae));var oe=ae.getHours();oe=oe<<6|ae.getMinutes(),oe=oe<<5|ae.getSeconds()>>>1,J.write_shift(2,oe);var le=ae.getFullYear()-1980;le=le<<4|ae.getMonth()+1,le=le<<5|ae.getDate(),J.write_shift(2,le)}function l(J){var ae=J.read_shift(2)&65535,oe=J.read_shift(2)&65535,le=new Date,ce=oe&31;oe>>>=5;var ge=oe&15;oe>>>=4,le.setMilliseconds(0),le.setFullYear(oe+1980),le.setMonth(ge-1),le.setDate(ce);var Me=ae&31;ae>>>=5;var qe=ae&63;return ae>>>=6,le.setHours(ae),le.setMinutes(qe),le.setSeconds(Me<<1),le}function f(J){ca(J,0);for(var ae={},oe=0;J.l<=J.length-4;){var le=J.read_shift(2),ce=J.read_shift(2),ge=J.l+ce,Me={};switch(le){case 21589:oe=J.read_shift(1),oe&1&&(Me.mtime=J.read_shift(4)),ce>5&&(oe&2&&(Me.atime=J.read_shift(4)),oe&4&&(Me.ctime=J.read_shift(4))),Me.mtime&&(Me.mt=new Date(Me.mtime*1e3));break}J.l=ge,ae[le]=Me}return ae}var m;function g(){return m||(m={})}function y(J,ae){if(J[0]==80&&J[1]==75)return gs(J,ae);if((J[0]|32)==109&&(J[1]|32)==105)return Na(J,ae);if(J.length<512)throw new Error("CFB file size "+J.length+" < 512");var oe=3,le=512,ce=0,ge=0,Me=0,qe=0,ke=0,Pe=[],Be=J.slice(0,512);ca(Be,0);var rt=E(Be);switch(oe=rt[0],oe){case 3:le=512;break;case 4:le=4096;break;case 0:if(rt[1]==0)return gs(J,ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+oe)}le!==512&&(Be=J.slice(0,le),ca(Be,28));var st=J.slice(0,le);A(Be,oe);var lt=Be.read_shift(4,"i");if(oe===3&&lt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+lt);Be.l+=4,Me=Be.read_shift(4,"i"),Be.l+=4,Be.chk("00100000","Mini Stream Cutoff Size: "),qe=Be.read_shift(4,"i"),ce=Be.read_shift(4,"i"),ke=Be.read_shift(4,"i"),ge=Be.read_shift(4,"i");for(var ut=-1,gt=0;gt<109&&(ut=Be.read_shift(4,"i"),!(ut<0));++gt)Pe[gt]=ut;var Tt=C(J,le);D(ke,ge,Tt,le,Pe);var Xe=G(Tt,Me,Pe,le);Xe[Me].name="!Directory",ce>0&&qe!==Q&&(Xe[qe].name="!MiniFAT"),Xe[Pe[0]].name="!FAT",Xe.fat_addrs=Pe,Xe.ssz=le;var kr={},Lt=[],Un=[],go=[];B(Me,Xe,Tt,Lt,ce,kr,Un,qe),N(Un,go,Lt),Lt.shift();var lr={FileIndex:Un,FullPaths:go};return ae&&ae.raw&&(lr.raw={header:st,sectors:Tt}),lr}function E(J){if(J[J.l]==80&&J[J.l+1]==75)return[0,0];J.chk(be,"Header Signature: "),J.l+=16;var ae=J.read_shift(2,"u");return[J.read_shift(2,"u"),ae]}function A(J,ae){var oe=9;switch(J.l+=2,oe=J.read_shift(2)){case 9:if(ae!=3)throw new Error("Sector Shift: Expected 9 saw "+oe);break;case 12:if(ae!=4)throw new Error("Sector Shift: Expected 12 saw "+oe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+oe)}J.chk("0600","Mini Sector Shift: "),J.chk("000000000000","Reserved: ")}function C(J,ae){for(var oe=Math.ceil(J.length/ae)-1,le=[],ce=1;ce<oe;++ce)le[ce-1]=J.slice(ce*ae,(ce+1)*ae);return le[oe-1]=J.slice(oe*ae),le}function N(J,ae,oe){for(var le=0,ce=0,ge=0,Me=0,qe=0,ke=oe.length,Pe=[],Be=[];le<ke;++le)Pe[le]=Be[le]=le,ae[le]=oe[le];for(;qe<Be.length;++qe)le=Be[qe],ce=J[le].L,ge=J[le].R,Me=J[le].C,Pe[le]===le&&(ce!==-1&&Pe[ce]!==ce&&(Pe[le]=Pe[ce]),ge!==-1&&Pe[ge]!==ge&&(Pe[le]=Pe[ge])),Me!==-1&&(Pe[Me]=le),ce!==-1&&le!=Pe[le]&&(Pe[ce]=Pe[le],Be.lastIndexOf(ce)<qe&&Be.push(ce)),ge!==-1&&le!=Pe[le]&&(Pe[ge]=Pe[le],Be.lastIndexOf(ge)<qe&&Be.push(ge));for(le=1;le<ke;++le)Pe[le]===le&&(ge!==-1&&Pe[ge]!==ge?Pe[le]=Pe[ge]:ce!==-1&&Pe[ce]!==ce&&(Pe[le]=Pe[ce]));for(le=1;le<ke;++le)if(J[le].type!==0){if(qe=le,qe!=Pe[qe])do qe=Pe[qe],ae[le]=ae[qe]+"/"+ae[le];while(qe!==0&&Pe[qe]!==-1&&qe!=Pe[qe]);Pe[le]=-1}for(ae[0]+="/",le=1;le<ke;++le)J[le].type!==2&&(ae[le]+="/")}function b(J,ae,oe){for(var le=J.start,ce=J.size,ge=[],Me=le;oe&&ce>0&&Me>=0;)ge.push(ae.slice(Me*M,Me*M+M)),ce-=M,Me=Vu(oe,Me*4);return ge.length===0?Ye(0):Ki(ge).slice(0,J.size)}function D(J,ae,oe,le,ce){var ge=Q;if(J===Q){if(ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(J!==-1){var Me=oe[J],qe=(le>>>2)-1;if(!Me)return;for(var ke=0;ke<qe&&(ge=Vu(Me,ke*4))!==Q;++ke)ce.push(ge);D(Vu(Me,le-4),ae-1,oe,le,ce)}}function P(J,ae,oe,le,ce){var ge=[],Me=[];ce||(ce=[]);var qe=le-1,ke=0,Pe=0;for(ke=ae;ke>=0;){ce[ke]=!0,ge[ge.length]=ke,Me.push(J[ke]);var Be=oe[Math.floor(ke*4/le)];if(Pe=ke*4&qe,le<4+Pe)throw new Error("FAT boundary crossed: "+ke+" 4 "+le);if(!J[Be])break;ke=Vu(J[Be],Pe)}return{nodes:ge,data:k3([Me])}}function G(J,ae,oe,le){var ce=J.length,ge=[],Me=[],qe=[],ke=[],Pe=le-1,Be=0,rt=0,st=0,lt=0;for(Be=0;Be<ce;++Be)if(qe=[],st=Be+ae,st>=ce&&(st-=ce),!Me[st]){ke=[];var ut=[];for(rt=st;rt>=0;){ut[rt]=!0,Me[rt]=!0,qe[qe.length]=rt,ke.push(J[rt]);var gt=oe[Math.floor(rt*4/le)];if(lt=rt*4&Pe,le<4+lt)throw new Error("FAT boundary crossed: "+rt+" 4 "+le);if(!J[gt]||(rt=Vu(J[gt],lt),ut[rt]))break}ge[st]={nodes:qe,data:k3([ke])}}return ge}function B(J,ae,oe,le,ce,ge,Me,qe){for(var ke=0,Pe=le.length?2:0,Be=ae[J].data,rt=0,st=0,lt;rt<Be.length;rt+=128){var ut=Be.slice(rt,rt+128);ca(ut,64),st=ut.read_shift(2),lt=EE(ut,0,st-Pe),le.push(lt);var gt={name:lt,type:ut.read_shift(1),color:ut.read_shift(1),L:ut.read_shift(4,"i"),R:ut.read_shift(4,"i"),C:ut.read_shift(4,"i"),clsid:ut.read_shift(16),state:ut.read_shift(4,"i"),start:0,size:0},Tt=ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2);Tt!==0&&(gt.ct=Y(ut,ut.l-8));var Xe=ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2)+ut.read_shift(2);Xe!==0&&(gt.mt=Y(ut,ut.l-8)),gt.start=ut.read_shift(4,"i"),gt.size=ut.read_shift(4,"i"),gt.size<0&&gt.start<0&&(gt.size=gt.type=0,gt.start=Q,gt.name=""),gt.type===5?(ke=gt.start,ce>0&&ke!==Q&&(ae[ke].name="!StreamData")):gt.size>=4096?(gt.storage="fat",ae[gt.start]===void 0&&(ae[gt.start]=P(oe,gt.start,ae.fat_addrs,ae.ssz)),ae[gt.start].name=gt.name,gt.content=ae[gt.start].data.slice(0,gt.size)):(gt.storage="minifat",gt.size<0?gt.size=0:ke!==Q&&gt.start!==Q&&ae[ke]&&(gt.content=b(gt,ae[ke].data,(ae[qe]||{}).data))),gt.content&&ca(gt.content,0),ge[lt]=gt,Me.push(gt)}}function Y(J,ae){return new Date((Is(J,ae+4)/1e7*Math.pow(2,32)+Is(J,ae)/1e7-11644473600)*1e3)}function te(J,ae){return g(),y(m.readFileSync(J),ae)}function ee(J,ae){var oe=ae&&ae.type;switch(oe||xr&&Buffer.isBuffer(J)&&(oe="buffer"),oe||"base64"){case"file":return te(J,ae);case"base64":return y(Ds(Bs(J)),ae);case"binary":return y(Ds(J),ae)}return y(J,ae)}function L(J,ae){var oe=ae||{},le=oe.root||"Root Entry";if(J.FullPaths||(J.FullPaths=[]),J.FileIndex||(J.FileIndex=[]),J.FullPaths.length!==J.FileIndex.length)throw new Error("inconsistent CFB structure");J.FullPaths.length===0&&(J.FullPaths[0]=le+"/",J.FileIndex[0]={name:le,type:5}),oe.CLSID&&(J.FileIndex[0].clsid=oe.CLSID),j(J)}function j(J){var ae="Sh33tJ5";if(!Ut.find(J,"/"+ae)){var oe=Ye(4);oe[0]=55,oe[1]=oe[3]=50,oe[2]=54,J.FileIndex.push({name:ae,type:2,content:oe,size:4,L:69,R:69,C:69}),J.FullPaths.push(J.FullPaths[0]+ae),U(J)}}function U(J,ae){L(J);for(var oe=!1,le=!1,ce=J.FullPaths.length-1;ce>=0;--ce){var ge=J.FileIndex[ce];switch(ge.type){case 0:le?oe=!0:(J.FileIndex.pop(),J.FullPaths.pop());break;case 1:case 2:case 5:le=!0,isNaN(ge.R*ge.L*ge.C)&&(oe=!0),ge.R>-1&&ge.L>-1&&ge.R==ge.L&&(oe=!0);break;default:oe=!0;break}}if(!(!oe&&!ae)){var Me=new Date(1987,1,19),qe=0,ke=Object.create?Object.create(null):{},Pe=[];for(ce=0;ce<J.FullPaths.length;++ce)ke[J.FullPaths[ce]]=!0,J.FileIndex[ce].type!==0&&Pe.push([J.FullPaths[ce],J.FileIndex[ce]]);for(ce=0;ce<Pe.length;++ce){var Be=n(Pe[ce][0]);le=ke[Be],le||(Pe.push([Be,{name:i(Be).replace("/",""),type:1,clsid:_e,ct:Me,mt:Me,content:null}]),ke[Be]=!0)}for(Pe.sort(function(lt,ut){return r(lt[0],ut[0])}),J.FullPaths=[],J.FileIndex=[],ce=0;ce<Pe.length;++ce)J.FullPaths[ce]=Pe[ce][0],J.FileIndex[ce]=Pe[ce][1];for(ce=0;ce<Pe.length;++ce){var rt=J.FileIndex[ce],st=J.FullPaths[ce];if(rt.name=i(st).replace("/",""),rt.L=rt.R=rt.C=-(rt.color=1),rt.size=rt.content?rt.content.length:0,rt.start=0,rt.clsid=rt.clsid||_e,ce===0)rt.C=Pe.length>1?1:-1,rt.size=0,rt.type=5;else if(st.slice(-1)=="/"){for(qe=ce+1;qe<Pe.length&&n(J.FullPaths[qe])!=st;++qe);for(rt.C=qe>=Pe.length?-1:qe,qe=ce+1;qe<Pe.length&&n(J.FullPaths[qe])!=n(st);++qe);rt.R=qe>=Pe.length?-1:qe,rt.type=1}else n(J.FullPaths[ce+1]||"")==n(st)&&(rt.R=ce+1),rt.type=2}}}function q(J,ae){var oe=ae||{};if(oe.fileType=="mad")return qr(J,oe);switch(U(J),oe.fileType){case"zip":return zi(J,oe)}var le=(function(lt){for(var ut=0,gt=0,Tt=0;Tt<lt.FileIndex.length;++Tt){var Xe=lt.FileIndex[Tt];if(Xe.content){var kr=Xe.content.length;kr>0&&(kr<4096?ut+=kr+63>>6:gt+=kr+511>>9)}}for(var Lt=lt.FullPaths.length+3>>2,Un=ut+7>>3,go=ut+127>>7,lr=Un+gt+Lt+go,Jt=lr+127>>7,ir=Jt<=109?0:Math.ceil((Jt-109)/127);lr+Jt+ir+127>>7>Jt;)ir=++Jt<=109?0:Math.ceil((Jt-109)/127);var Xn=[1,ir,Jt,go,Lt,gt,ut,0];return lt.FileIndex[0].size=ut<<6,Xn[7]=(lt.FileIndex[0].start=Xn[0]+Xn[1]+Xn[2]+Xn[3]+Xn[4]+Xn[5])+(Xn[6]+7>>3),Xn})(J),ce=Ye(le[7]<<9),ge=0,Me=0;{for(ge=0;ge<8;++ge)ce.write_shift(1,xe[ge]);for(ge=0;ge<8;++ge)ce.write_shift(2,0);for(ce.write_shift(2,62),ce.write_shift(2,3),ce.write_shift(2,65534),ce.write_shift(2,9),ce.write_shift(2,6),ge=0;ge<3;++ge)ce.write_shift(2,0);for(ce.write_shift(4,0),ce.write_shift(4,le[2]),ce.write_shift(4,le[0]+le[1]+le[2]+le[3]-1),ce.write_shift(4,0),ce.write_shift(4,4096),ce.write_shift(4,le[3]?le[0]+le[1]+le[2]-1:Q),ce.write_shift(4,le[3]),ce.write_shift(-4,le[1]?le[0]-1:Q),ce.write_shift(4,le[1]),ge=0;ge<109;++ge)ce.write_shift(-4,ge<le[2]?le[1]+ge:-1)}if(le[1])for(Me=0;Me<le[1];++Me){for(;ge<236+Me*127;++ge)ce.write_shift(-4,ge<le[2]?le[1]+ge:-1);ce.write_shift(-4,Me===le[1]-1?Q:Me+1)}var qe=function(lt){for(Me+=lt;ge<Me-1;++ge)ce.write_shift(-4,ge+1);lt&&(++ge,ce.write_shift(-4,Q))};for(Me=ge=0,Me+=le[1];ge<Me;++ge)ce.write_shift(-4,Ae.DIFSECT);for(Me+=le[2];ge<Me;++ge)ce.write_shift(-4,Ae.FATSECT);qe(le[3]),qe(le[4]);for(var ke=0,Pe=0,Be=J.FileIndex[0];ke<J.FileIndex.length;++ke)Be=J.FileIndex[ke],Be.content&&(Pe=Be.content.length,!(Pe<4096)&&(Be.start=Me,qe(Pe+511>>9)));for(qe(le[6]+7>>3);ce.l&511;)ce.write_shift(-4,Ae.ENDOFCHAIN);for(Me=ge=0,ke=0;ke<J.FileIndex.length;++ke)Be=J.FileIndex[ke],Be.content&&(Pe=Be.content.length,!(!Pe||Pe>=4096)&&(Be.start=Me,qe(Pe+63>>6)));for(;ce.l&511;)ce.write_shift(-4,Ae.ENDOFCHAIN);for(ge=0;ge<le[4]<<2;++ge){var rt=J.FullPaths[ge];if(!rt||rt.length===0){for(ke=0;ke<17;++ke)ce.write_shift(4,0);for(ke=0;ke<3;++ke)ce.write_shift(4,-1);for(ke=0;ke<12;++ke)ce.write_shift(4,0);continue}Be=J.FileIndex[ge],ge===0&&(Be.start=Be.size?Be.start-1:Q);var st=ge===0&&oe.root||Be.name;if(Pe=2*(st.length+1),ce.write_shift(64,st,"utf16le"),ce.write_shift(2,Pe),ce.write_shift(1,Be.type),ce.write_shift(1,Be.color),ce.write_shift(-4,Be.L),ce.write_shift(-4,Be.R),ce.write_shift(-4,Be.C),Be.clsid)ce.write_shift(16,Be.clsid,"hex");else for(ke=0;ke<4;++ke)ce.write_shift(4,0);ce.write_shift(4,Be.state||0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,Be.start),ce.write_shift(4,Be.size),ce.write_shift(4,0)}for(ge=1;ge<J.FileIndex.length;++ge)if(Be=J.FileIndex[ge],Be.size>=4096)if(ce.l=Be.start+1<<9,xr&&Buffer.isBuffer(Be.content))Be.content.copy(ce,ce.l,0,Be.size),ce.l+=Be.size+511&-512;else{for(ke=0;ke<Be.size;++ke)ce.write_shift(1,Be.content[ke]);for(;ke&511;++ke)ce.write_shift(1,0)}for(ge=1;ge<J.FileIndex.length;++ge)if(Be=J.FileIndex[ge],Be.size>0&&Be.size<4096)if(xr&&Buffer.isBuffer(Be.content))Be.content.copy(ce,ce.l,0,Be.size),ce.l+=Be.size+63&-64;else{for(ke=0;ke<Be.size;++ke)ce.write_shift(1,Be.content[ke]);for(;ke&63;++ke)ce.write_shift(1,0)}if(xr)ce.l=ce.length;else for(;ce.l<ce.length;)ce.write_shift(1,0);return ce}function K(J,ae){var oe=J.FullPaths.map(function(ke){return ke.toUpperCase()}),le=oe.map(function(ke){var Pe=ke.split("/");return Pe[Pe.length-(ke.slice(-1)=="/"?2:1)]}),ce=!1;ae.charCodeAt(0)===47?(ce=!0,ae=oe[0].slice(0,-1)+ae):ce=ae.indexOf("/")!==-1;var ge=ae.toUpperCase(),Me=ce===!0?oe.indexOf(ge):le.indexOf(ge);if(Me!==-1)return J.FileIndex[Me];var qe=!ge.match(Kh);for(ge=ge.replace(za,""),qe&&(ge=ge.replace(Kh,"!")),Me=0;Me<oe.length;++Me)if((qe?oe[Me].replace(Kh,"!"):oe[Me]).replace(za,"")==ge||(qe?le[Me].replace(Kh,"!"):le[Me]).replace(za,"")==ge)return J.FileIndex[Me];return null}var M=64,Q=-2,be="d0cf11e0a1b11ae1",xe=[208,207,17,224,161,177,26,225],_e="00000000000000000000000000000000",Ae={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Q,FREESECT:-1,HEADER_SIGNATURE:be,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:_e,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ot(J,ae,oe){g();var le=q(J,oe);m.writeFileSync(ae,le)}function Ce(J){for(var ae=new Array(J.length),oe=0;oe<J.length;++oe)ae[oe]=String.fromCharCode(J[oe]);return ae.join("")}function ht(J,ae){var oe=q(J,ae);switch(ae&&ae.type||"buffer"){case"file":return g(),m.writeFileSync(ae.filename,oe),oe;case"binary":return typeof oe=="string"?oe:Ce(oe);case"base64":return Rd(typeof oe=="string"?oe:Ce(oe));case"buffer":if(xr)return Buffer.isBuffer(oe)?oe:tc(oe);case"array":return typeof oe=="string"?Ds(oe):oe}return oe}var ve;function Z(J){try{var ae=J.InflateRaw,oe=new ae;if(oe._processChunk(new Uint8Array([3,0]),oe._finishFlushFlag),oe.bytesRead)ve=J;else throw new Error("zlib does not expose bytesRead")}catch(le){console.error("cannot use native zlib: "+(le.message||le))}}function he(J,ae){if(!ve)return Ha(J,ae);var oe=ve.InflateRaw,le=new oe,ce=le._processChunk(J.slice(J.l),le._finishFlushFlag);return J.l+=le.bytesRead,ce}function ie(J){return ve?ve.deflateRawSync(J):It(J)}var fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ye=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ie=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function je(J){var ae=(J<<1|J<<11)&139536|(J<<5|J<<15)&558144;return(ae>>16|ae>>8|ae)&255}for(var Ve=typeof Uint8Array<"u",$e=Ve?new Uint8Array(256):[],_t=0;_t<256;++_t)$e[_t]=je(_t);function me(J,ae){var oe=$e[J&255];return ae<=8?oe>>>8-ae:(oe=oe<<8|$e[J>>8&255],ae<=16?oe>>>16-ae:(oe=oe<<8|$e[J>>16&255],oe>>>24-ae))}function wt(J,ae){var oe=ae&7,le=ae>>>3;return(J[le]|(oe<=6?0:J[le+1]<<8))>>>oe&3}function kt(J,ae){var oe=ae&7,le=ae>>>3;return(J[le]|(oe<=5?0:J[le+1]<<8))>>>oe&7}function Wt(J,ae){var oe=ae&7,le=ae>>>3;return(J[le]|(oe<=4?0:J[le+1]<<8))>>>oe&15}function jt(J,ae){var oe=ae&7,le=ae>>>3;return(J[le]|(oe<=3?0:J[le+1]<<8))>>>oe&31}function ct(J,ae){var oe=ae&7,le=ae>>>3;return(J[le]|(oe<=1?0:J[le+1]<<8))>>>oe&127}function Ot(J,ae,oe){var le=ae&7,ce=ae>>>3,ge=(1<<oe)-1,Me=J[ce]>>>le;return oe<8-le||(Me|=J[ce+1]<<8-le,oe<16-le)||(Me|=J[ce+2]<<16-le,oe<24-le)||(Me|=J[ce+3]<<24-le),Me&ge}function Ct(J,ae,oe){var le=ae&7,ce=ae>>>3;return le<=5?J[ce]|=(oe&7)<<le:(J[ce]|=oe<<le&255,J[ce+1]=(oe&7)>>8-le),ae+3}function ln(J,ae,oe){var le=ae&7,ce=ae>>>3;return oe=(oe&1)<<le,J[ce]|=oe,ae+1}function vt(J,ae,oe){var le=ae&7,ce=ae>>>3;return oe<<=le,J[ce]|=oe&255,oe>>>=8,J[ce+1]=oe,ae+8}function _i(J,ae,oe){var le=ae&7,ce=ae>>>3;return oe<<=le,J[ce]|=oe&255,oe>>>=8,J[ce+1]=oe&255,J[ce+2]=oe>>>8,ae+16}function Oi(J,ae){var oe=J.length,le=2*oe>ae?2*oe:ae+5,ce=0;if(oe>=ae)return J;if(xr){var ge=h3(le);if(J.copy)J.copy(ge);else for(;ce<J.length;++ce)ge[ce]=J[ce];return ge}else if(Ve){var Me=new Uint8Array(le);if(Me.set)Me.set(J);else for(;ce<oe;++ce)Me[ce]=J[ce];return Me}return J.length=le,J}function rr(J){for(var ae=new Array(J),oe=0;oe<J;++oe)ae[oe]=0;return ae}function ci(J,ae,oe){var le=1,ce=0,ge=0,Me=0,qe=0,ke=J.length,Pe=Ve?new Uint16Array(32):rr(32);for(ge=0;ge<32;++ge)Pe[ge]=0;for(ge=ke;ge<oe;++ge)J[ge]=0;ke=J.length;var Be=Ve?new Uint16Array(ke):rr(ke);for(ge=0;ge<ke;++ge)Pe[ce=J[ge]]++,le<ce&&(le=ce),Be[ge]=0;for(Pe[0]=0,ge=1;ge<=le;++ge)Pe[ge+16]=qe=qe+Pe[ge-1]<<1;for(ge=0;ge<ke;++ge)qe=J[ge],qe!=0&&(Be[ge]=Pe[qe+16]++);var rt=0;for(ge=0;ge<ke;++ge)if(rt=J[ge],rt!=0)for(qe=me(Be[ge],le)>>le-rt,Me=(1<<le+4-rt)-1;Me>=0;--Me)ae[qe|Me<<rt]=rt&15|ge<<4;return le}var or=Ve?new Uint16Array(512):rr(512),Gr=Ve?new Uint16Array(32):rr(32);if(!Ve){for(var yr=0;yr<512;++yr)or[yr]=0;for(yr=0;yr<32;++yr)Gr[yr]=0}(function(){for(var J=[],ae=0;ae<32;ae++)J.push(5);ci(J,Gr,32);var oe=[];for(ae=0;ae<=143;ae++)oe.push(8);for(;ae<=255;ae++)oe.push(9);for(;ae<=279;ae++)oe.push(7);for(;ae<=287;ae++)oe.push(8);ci(oe,or,288)})();var Nr=(function(){for(var ae=Ve?new Uint8Array(32768):[],oe=0,le=0;oe<Ie.length-1;++oe)for(;le<Ie[oe+1];++le)ae[le]=oe;for(;le<32768;++le)ae[le]=29;var ce=Ve?new Uint8Array(259):[];for(oe=0,le=0;oe<ye.length-1;++oe)for(;le<ye[oe+1];++le)ce[le]=oe;function ge(qe,ke){for(var Pe=0;Pe<qe.length;){var Be=Math.min(65535,qe.length-Pe),rt=Pe+Be==qe.length;for(ke.write_shift(1,+rt),ke.write_shift(2,Be),ke.write_shift(2,~Be&65535);Be-- >0;)ke[ke.l++]=qe[Pe++]}return ke.l}function Me(qe,ke){for(var Pe=0,Be=0,rt=Ve?new Uint16Array(32768):[];Be<qe.length;){var st=Math.min(65535,qe.length-Be);if(st<10){for(Pe=Ct(ke,Pe,+(Be+st==qe.length)),Pe&7&&(Pe+=8-(Pe&7)),ke.l=Pe/8|0,ke.write_shift(2,st),ke.write_shift(2,~st&65535);st-- >0;)ke[ke.l++]=qe[Be++];Pe=ke.l*8;continue}Pe=Ct(ke,Pe,+(Be+st==qe.length)+2);for(var lt=0;st-- >0;){var ut=qe[Be];lt=(lt<<5^ut)&32767;var gt=-1,Tt=0;if((gt=rt[lt])&&(gt|=Be&-32768,gt>Be&&(gt-=32768),gt<Be))for(;qe[gt+Tt]==qe[Be+Tt]&&Tt<250;)++Tt;if(Tt>2){ut=ce[Tt],ut<=22?Pe=vt(ke,Pe,$e[ut+1]>>1)-1:(vt(ke,Pe,3),Pe+=5,vt(ke,Pe,$e[ut-23]>>5),Pe+=3);var Xe=ut<8?0:ut-4>>2;Xe>0&&(_i(ke,Pe,Tt-ye[ut]),Pe+=Xe),ut=ae[Be-gt],Pe=vt(ke,Pe,$e[ut]>>3),Pe-=3;var kr=ut<4?0:ut-2>>1;kr>0&&(_i(ke,Pe,Be-gt-Ie[ut]),Pe+=kr);for(var Lt=0;Lt<Tt;++Lt)rt[lt]=Be&32767,lt=(lt<<5^qe[Be])&32767,++Be;st-=Tt-1}else ut<=143?ut=ut+48:Pe=ln(ke,Pe,1),Pe=vt(ke,Pe,$e[ut]),rt[lt]=Be&32767,++Be}Pe=vt(ke,Pe,0)-1}return ke.l=(Pe+7)/8|0,ke.l}return function(ke,Pe){return ke.length<8?ge(ke,Pe):Me(ke,Pe)}})();function It(J){var ae=Ye(50+Math.floor(J.length*1.1)),oe=Nr(J,ae);return ae.slice(0,oe)}var zt=Ve?new Uint16Array(32768):rr(32768),Wr=Ve?new Uint16Array(32768):rr(32768),Nt=Ve?new Uint16Array(128):rr(128),Je=1,_r=1;function Zt(J,ae){var oe=jt(J,ae)+257;ae+=5;var le=jt(J,ae)+1;ae+=5;var ce=Wt(J,ae)+4;ae+=4;for(var ge=0,Me=Ve?new Uint8Array(19):rr(19),qe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ke=1,Pe=Ve?new Uint8Array(8):rr(8),Be=Ve?new Uint8Array(8):rr(8),rt=Me.length,st=0;st<ce;++st)Me[fe[st]]=ge=kt(J,ae),ke<ge&&(ke=ge),Pe[ge]++,ae+=3;var lt=0;for(Pe[0]=0,st=1;st<=ke;++st)Be[st]=lt=lt+Pe[st-1]<<1;for(st=0;st<rt;++st)(lt=Me[st])!=0&&(qe[st]=Be[lt]++);var ut=0;for(st=0;st<rt;++st)if(ut=Me[st],ut!=0){lt=$e[qe[st]]>>8-ut;for(var gt=(1<<7-ut)-1;gt>=0;--gt)Nt[lt|gt<<ut]=ut&7|st<<3}var Tt=[];for(ke=1;Tt.length<oe+le;)switch(lt=Nt[ct(J,ae)],ae+=lt&7,lt>>>=3){case 16:for(ge=3+wt(J,ae),ae+=2,lt=Tt[Tt.length-1];ge-- >0;)Tt.push(lt);break;case 17:for(ge=3+kt(J,ae),ae+=3;ge-- >0;)Tt.push(0);break;case 18:for(ge=11+ct(J,ae),ae+=7;ge-- >0;)Tt.push(0);break;default:Tt.push(lt),ke<lt&&(ke=lt);break}var Xe=Tt.slice(0,oe),kr=Tt.slice(oe);for(st=oe;st<286;++st)Xe[st]=0;for(st=le;st<30;++st)kr[st]=0;return Je=ci(Xe,zt,286),_r=ci(kr,Wr,30),ae}function cn(J,ae){if(J[0]==3&&!(J[1]&3))return[nu(ae),2];for(var oe=0,le=0,ce=h3(ae||1<<18),ge=0,Me=ce.length>>>0,qe=0,ke=0;(le&1)==0;){if(le=kt(J,oe),oe+=3,le>>>1)le>>1==1?(qe=9,ke=5):(oe=Zt(J,oe),qe=Je,ke=_r);else{oe&7&&(oe+=8-(oe&7));var Pe=J[oe>>>3]|J[(oe>>>3)+1]<<8;if(oe+=32,Pe>0)for(!ae&&Me<ge+Pe&&(ce=Oi(ce,ge+Pe),Me=ce.length);Pe-- >0;)ce[ge++]=J[oe>>>3],oe+=8;continue}for(;;){!ae&&Me<ge+32767&&(ce=Oi(ce,ge+32767),Me=ce.length);var Be=Ot(J,oe,qe),rt=le>>>1==1?or[Be]:zt[Be];if(oe+=rt&15,rt>>>=4,(rt>>>8&255)===0)ce[ge++]=rt;else{if(rt==256)break;rt-=257;var st=rt<8?0:rt-4>>2;st>5&&(st=0);var lt=ge+ye[rt];st>0&&(lt+=Ot(J,oe,st),oe+=st),Be=Ot(J,oe,ke),rt=le>>>1==1?Gr[Be]:Wr[Be],oe+=rt&15,rt>>>=4;var ut=rt<4?0:rt-2>>1,gt=Ie[rt];for(ut>0&&(gt+=Ot(J,oe,ut),oe+=ut),!ae&&Me<lt&&(ce=Oi(ce,lt+100),Me=ce.length);ge<lt;)ce[ge]=ce[ge-gt],++ge}}}return ae?[ce,oe+7>>>3]:[ce.slice(0,ge),oe+7>>>3]}function Ha(J,ae){var oe=J.slice(J.l||0),le=cn(oe,ae);return J.l+=le[1],le[0]}function ho(J,ae){if(J)typeof console<"u"&&console.error(ae);else throw new Error(ae)}function gs(J,ae){var oe=J;ca(oe,0);var le=[],ce=[],ge={FileIndex:le,FullPaths:ce};L(ge,{root:ae.root});for(var Me=oe.length-4;(oe[Me]!=80||oe[Me+1]!=75||oe[Me+2]!=5||oe[Me+3]!=6)&&Me>=0;)--Me;oe.l=Me+4,oe.l+=4;var qe=oe.read_shift(2);oe.l+=6;var ke=oe.read_shift(4);for(oe.l=ke,Me=0;Me<qe;++Me){oe.l+=20;var Pe=oe.read_shift(4),Be=oe.read_shift(4),rt=oe.read_shift(2),st=oe.read_shift(2),lt=oe.read_shift(2);oe.l+=8;var ut=oe.read_shift(4),gt=f(oe.slice(oe.l+rt,oe.l+rt+st));oe.l+=rt+st+lt;var Tt=oe.l;oe.l=ut+4,nr(oe,Pe,Be,ge,gt),oe.l=Tt}return ge}function nr(J,ae,oe,le,ce){J.l+=2;var ge=J.read_shift(2),Me=J.read_shift(2),qe=l(J);if(ge&8257)throw new Error("Unsupported ZIP encryption");for(var ke=J.read_shift(4),Pe=J.read_shift(4),Be=J.read_shift(4),rt=J.read_shift(2),st=J.read_shift(2),lt="",ut=0;ut<rt;++ut)lt+=String.fromCharCode(J[J.l++]);if(st){var gt=f(J.slice(J.l,J.l+st));(gt[21589]||{}).mt&&(qe=gt[21589].mt),((ce||{})[21589]||{}).mt&&(qe=ce[21589].mt)}J.l+=st;var Tt=J.slice(J.l,J.l+Pe);switch(Me){case 8:Tt=he(J,Be);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Me)}var Xe=!1;ge&8&&(ke=J.read_shift(4),ke==134695760&&(ke=J.read_shift(4),Xe=!0),Pe=J.read_shift(4),Be=J.read_shift(4)),Pe!=ae&&ho(Xe,"Bad compressed size: "+ae+" != "+Pe),Be!=oe&&ho(Xe,"Bad uncompressed size: "+oe+" != "+Be),Ei(le,lt,Tt,{unsafe:!0,mt:qe})}function zi(J,ae){var oe=ae||{},le=[],ce=[],ge=Ye(1),Me=oe.compression?8:0,qe=0,ke=0,Pe=0,Be=0,rt=0,st=J.FullPaths[0],lt=st,ut=J.FileIndex[0],gt=[],Tt=0;for(ke=1;ke<J.FullPaths.length;++ke)if(lt=J.FullPaths[ke].slice(st.length),ut=J.FileIndex[ke],!(!ut.size||!ut.content||lt=="Sh33tJ5")){var Xe=Be,kr=Ye(lt.length);for(Pe=0;Pe<lt.length;++Pe)kr.write_shift(1,lt.charCodeAt(Pe)&127);kr=kr.slice(0,kr.l),gt[rt]=qG.buf(ut.content,0);var Lt=ut.content;Me==8&&(Lt=ie(Lt)),ge=Ye(30),ge.write_shift(4,67324752),ge.write_shift(2,20),ge.write_shift(2,qe),ge.write_shift(2,Me),ut.mt?a(ge,ut.mt):ge.write_shift(4,0),ge.write_shift(-4,gt[rt]),ge.write_shift(4,Lt.length),ge.write_shift(4,ut.content.length),ge.write_shift(2,kr.length),ge.write_shift(2,0),Be+=ge.length,le.push(ge),Be+=kr.length,le.push(kr),Be+=Lt.length,le.push(Lt),ge=Ye(46),ge.write_shift(4,33639248),ge.write_shift(2,0),ge.write_shift(2,20),ge.write_shift(2,qe),ge.write_shift(2,Me),ge.write_shift(4,0),ge.write_shift(-4,gt[rt]),ge.write_shift(4,Lt.length),ge.write_shift(4,ut.content.length),ge.write_shift(2,kr.length),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(4,0),ge.write_shift(4,Xe),Tt+=ge.l,ce.push(ge),Tt+=kr.length,ce.push(kr),++rt}return ge=Ye(22),ge.write_shift(4,101010256),ge.write_shift(2,0),ge.write_shift(2,0),ge.write_shift(2,rt),ge.write_shift(2,rt),ge.write_shift(4,Tt),ge.write_shift(4,Be),ge.write_shift(2,0),Ki([Ki(le),Ki(ce),ge])}var Mi={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function $i(J,ae){if(J.ctype)return J.ctype;var oe=J.name||"",le=oe.match(/\.([^\.]+)$/);return le&&Mi[le[1]]||ae&&(le=(oe=ae).match(/[\.\\]([^\.\\])+$/),le&&Mi[le[1]])?Mi[le[1]]:"application/octet-stream"}function Wn(J){for(var ae=Rd(J),oe=[],le=0;le<ae.length;le+=76)oe.push(ae.slice(le,le+76));return oe.join(`\r
`)+`\r
`}function Us(J){var ae=J.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Pe){var Be=Pe.charCodeAt(0).toString(16).toUpperCase();return"="+(Be.length==1?"0"+Be:Be)});ae=ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ae.charAt(0)==`
`&&(ae="=0D"+ae.slice(1)),ae=ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var oe=[],le=ae.split(`\r
`),ce=0;ce<le.length;++ce){var ge=le[ce];if(ge.length==0){oe.push("");continue}for(var Me=0;Me<ge.length;){var qe=76,ke=ge.slice(Me,Me+qe);ke.charAt(qe-1)=="="?qe--:ke.charAt(qe-2)=="="?qe-=2:ke.charAt(qe-3)=="="&&(qe-=3),ke=ge.slice(Me,Me+qe),Me+=qe,Me<ge.length&&(ke+="="),oe.push(ke)}}return oe.join(`\r
`)}function On(J){for(var ae=[],oe=0;oe<J.length;++oe){for(var le=J[oe];oe<=J.length&&le.charAt(le.length-1)=="=";)le=le.slice(0,le.length-1)+J[++oe];ae.push(le)}for(var ce=0;ce<ae.length;++ce)ae[ce]=ae[ce].replace(/[=][0-9A-Fa-f]{2}/g,function(ge){return String.fromCharCode(parseInt(ge.slice(1),16))});return Ds(ae.join(`\r
`))}function Hi(J,ae,oe){for(var le="",ce="",ge="",Me,qe=0;qe<10;++qe){var ke=ae[qe];if(!ke||ke.match(/^\s*$/))break;var Pe=ke.match(/^(.*?):\s*([^\s].*)$/);if(Pe)switch(Pe[1].toLowerCase()){case"content-location":le=Pe[2].trim();break;case"content-type":ge=Pe[2].trim();break;case"content-transfer-encoding":ce=Pe[2].trim();break}}switch(++qe,ce.toLowerCase()){case"base64":Me=Ds(Bs(ae.slice(qe).join("")));break;case"quoted-printable":Me=On(ae.slice(qe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ce)}var Be=Ei(J,le.slice(oe.length),Me,{unsafe:!0});ge&&(Be.ctype=ge)}function Na(J,ae){if(Ce(J.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var oe=ae&&ae.root||"",le=(xr&&Buffer.isBuffer(J)?J.toString("binary"):Ce(J)).split(`\r
`),ce=0,ge="";for(ce=0;ce<le.length;++ce)if(ge=le[ce],!!/^Content-Location:/i.test(ge)&&(ge=ge.slice(ge.indexOf("file")),oe||(oe=ge.slice(0,ge.lastIndexOf("/")+1)),ge.slice(0,oe.length)!=oe))for(;oe.length>0&&(oe=oe.slice(0,oe.length-1),oe=oe.slice(0,oe.lastIndexOf("/")+1),ge.slice(0,oe.length)!=oe););var Me=(le[1]||"").match(/boundary="(.*?)"/);if(!Me)throw new Error("MAD cannot find boundary");var qe="--"+(Me[1]||""),ke=[],Pe=[],Be={FileIndex:ke,FullPaths:Pe};L(Be);var rt,st=0;for(ce=0;ce<le.length;++ce){var lt=le[ce];lt!==qe&&lt!==qe+"--"||(st++&&Hi(Be,le.slice(rt,ce),oe),rt=ce)}return Be}function qr(J,ae){var oe=ae||{},le=oe.boundary||"SheetJS";le="------="+le;for(var ce=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+le.slice(2)+'"',"","",""],ge=J.FullPaths[0],Me=ge,qe=J.FileIndex[0],ke=1;ke<J.FullPaths.length;++ke)if(Me=J.FullPaths[ke].slice(ge.length),qe=J.FileIndex[ke],!(!qe.size||!qe.content||Me=="Sh33tJ5")){Me=Me.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Tt){return"_x"+Tt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Tt){return"_u"+Tt.charCodeAt(0).toString(16)+"_"});for(var Pe=qe.content,Be=xr&&Buffer.isBuffer(Pe)?Pe.toString("binary"):Ce(Pe),rt=0,st=Math.min(1024,Be.length),lt=0,ut=0;ut<=st;++ut)(lt=Be.charCodeAt(ut))>=32&&lt<128&&++rt;var gt=rt>=st*4/5;ce.push(le),ce.push("Content-Location: "+(oe.root||"file:///C:/SheetJS/")+Me),ce.push("Content-Transfer-Encoding: "+(gt?"quoted-printable":"base64")),ce.push("Content-Type: "+$i(qe,Me)),ce.push(""),ce.push(gt?Us(Be):Wn(Be))}return ce.push(le+`--\r
`),ce.join(`\r
`)}function fl(J){var ae={};return L(ae,J),ae}function Ei(J,ae,oe,le){var ce=le&&le.unsafe;ce||L(J);var ge=!ce&&Ut.find(J,ae);if(!ge){var Me=J.FullPaths[0];ae.slice(0,Me.length)==Me?Me=ae:(Me.slice(-1)!="/"&&(Me+="/"),Me=(Me+ae).replace("//","/")),ge={name:i(ae),type:2},J.FileIndex.push(ge),J.FullPaths.push(Me),ce||Ut.utils.cfb_gc(J)}return ge.content=oe,ge.size=oe?oe.length:0,le&&(le.CLSID&&(ge.clsid=le.CLSID),le.mt&&(ge.mt=le.mt),le.ct&&(ge.ct=le.ct)),ge}function Ga(J,ae){L(J);var oe=Ut.find(J,ae);if(oe){for(var le=0;le<J.FileIndex.length;++le)if(J.FileIndex[le]==oe)return J.FileIndex.splice(le,1),J.FullPaths.splice(le,1),!0}return!1}function qn(J,ae,oe){L(J);var le=Ut.find(J,ae);if(le){for(var ce=0;ce<J.FileIndex.length;++ce)if(J.FileIndex[ce]==le)return J.FileIndex[ce].name=i(oe),J.FullPaths[ce]=oe,!0}return!1}function ka(J){U(J,!0)}return e.find=K,e.read=ee,e.parse=y,e.write=ht,e.writeFile=ot,e.utils={cfb_new:fl,cfb_add:Ei,cfb_del:Ga,cfb_mov:qn,cfb_gc:ka,ReadShift:ad,CheckField:nN,prep_blob:ca,bconcat:Ki,use_zlib:Z,_deflateRaw:It,_inflateRaw:Ha,consts:Ae},e})();function XG(t){return typeof t=="string"?Fp(t):Array.isArray(t)?yG(t):t}function l1(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Fp(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?$o(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([XG(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=t,l.href=a,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var f=File(t);return f.open("w"),f.encoding="binary",Array.isArray(e)&&(e=du(e)),f.write(e),f.close(),e}catch(m){if(!m.message||!m.message.match(/onstruct/))throw m}throw new Error("cannot save file "+t)}function YG(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function oi(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function _3(t,e){for(var r=[],n=oi(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function Bp(t){for(var e=[],r=oi(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Up(t){for(var e=[],r=oi(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function KG(t){for(var e=[],r=oi(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var Fm=new Date(1899,11,30,0,0,0);function ji(t,e){var r=t.getTime(),n=Fm.getTime()+(t.getTimezoneOffset()-Fm.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var F8=new Date,QG=Fm.getTime()+(F8.getTimezoneOffset()-Fm.getTimezoneOffset())*6e4,E3=F8.getTimezoneOffset();function Vp(t){var e=new Date;return e.setTime(t*24*60*60*1e3+QG),e.getTimezoneOffset()!==E3&&e.setTime(e.getTime()+(e.getTimezoneOffset()-E3)*6e4),e}function $G(t){var e=0,r=0,n=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(i[a],10)}return e}var w3=new Date("2017-02-19T19:06:09.000Z"),P8=isNaN(w3.getFullYear())?new Date("2/19/17"):w3,ZG=P8.getFullYear()==2017;function kn(t,e){var r=new Date(t);if(ZG)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(P8.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function sf(t,e){if(xr&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return $o(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return $o(A8(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return $o(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return $o(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Dn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Dn(t[r]));return e}function ni(t,e){for(var r="";r.length<e;)r+=t;return r}function Co(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var JG=["january","february","march","april","may","june","july","august","september","october","november","december"];function O0(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&JG.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var eW=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(t||typeof n=="string")return r.split(n);for(var a=r.split(n),l=[a[0]],f=1;f<a.length;++f)l.push(i),l.push(a[f]);return l}})();function B8(t){return t?t.content&&t.type?sf(t.content,!0):t.data?Yh(t.data):t.asNodeBuffer&&xr?Yh(t.asNodeBuffer().toString("binary")):t.asBinary?Yh(t.asBinary()):t._data&&t._data.getContent?Yh(sf(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function U8(t){if(!t)return null;if(t.data)return u3(t.data);if(t.asNodeBuffer&&xr)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?u3(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function tW(t){return t&&t.name.slice(-4)===".bin"?U8(t):B8(t)}function ro(t,e){for(var r=t.FullPaths||oi(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var l=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==l||i==l)return t.files?t.files[r[a]]:t.FileIndex[a]}return null}function mE(t,e){var r=ro(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function Ii(t,e,r){if(!r)return tW(mE(t,e));if(!e)return null;try{return Ii(t,e)}catch{return null}}function Os(t,e,r){if(!r)return B8(mE(t,e));if(!e)return null;try{return Os(t,e)}catch{return null}}function rW(t,e,r){return U8(mE(t,e))}function T3(t){for(var e=t.FullPaths||oi(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function dr(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return xr?n=tc(r):n=_G(r),Ut.utils.cfb_add(t,e,n)}Ut.utils.cfb_add(t,e,r)}else t.file(e,r)}function pE(){return Ut.utils.cfb_new()}function V8(t,e){switch(e.type){case"base64":return Ut.read(t,{type:"base64"});case"binary":return Ut.read(t,{type:"binary"});case"buffer":case"array":return Ut.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Qh(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var yi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,nW=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,A3=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,iW=/<[^>]*>/g,Ra=yi.match(A3)?A3:iW,aW=/<\w*:/,sW=/<(\/?)\w+:/;function Qt(t,e,r){for(var n={},i=0,a=0;i!==t.length&&!((a=t.charCodeAt(i))===32||a===10||a===13);++i);if(e||(n[0]=t.slice(0,i)),i===t.length)return n;var l=t.match(nW),f=0,m="",g=0,y="",E="",A=1;if(l)for(g=0;g!=l.length;++g){for(E=l[g],a=0;a!=E.length&&E.charCodeAt(a)!==61;++a);for(y=E.slice(0,a).trim();E.charCodeAt(a+1)==32;)++a;for(A=(i=E.charCodeAt(a+1))==34||i==39?1:0,m=E.slice(a+1+A,E.length-A),f=0;f!=y.length&&y.charCodeAt(f)!==58;++f);if(f===y.length)y.indexOf("_")>0&&(y=y.slice(0,y.indexOf("_"))),n[y]=m,n[y.toLowerCase()]=m;else{var C=(f===5&&y.slice(0,5)==="xmlns"?"xmlns":"")+y.slice(f+1);if(n[C]&&y.slice(f-3,f)=="ext")continue;n[C]=m,n[C.toLowerCase()]=m}}return n}function cl(t){return t.replace(sW,"<$1")}var j8={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},xE=Bp(j8),Lr=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(t,function(f,m){return j8[f]||String.fromCharCode(parseInt(m,f.indexOf("x")>-1?16:10))||f}).replace(e,function(f,m){return String.fromCharCode(parseInt(m,16))});var l=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,l)+r(i.slice(l+3))}})(),vE=/[&<>'"]/g,oW=/[\u0000-\u0008\u000b-\u001f]/g;function on(t){var e=t+"";return e.replace(vE,function(r){return xE[r]}).replace(oW,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function S3(t){return on(t).replace(/ /g,"_x0020_")}var z8=/[\u0000-\u001f]/g;function yE(t){var e=t+"";return e.replace(vE,function(r){return xE[r]}).replace(/\n/g,"<br/>").replace(z8,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function lW(t){var e=t+"";return e.replace(vE,function(r){return xE[r]}).replace(z8,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var C3=(function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}})();function cW(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function In(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function _v(t){for(var e="",r=0,n=0,i=0,a=0,l=0,f=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=i&63,e+=String.fromCharCode(l);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}l=t.charCodeAt(r++),f=((n&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(f>>>10&1023)),e+=String.fromCharCode(56320+(f&1023))}return e}function b3(t){var e=nu(2*t.length),r,n,i=1,a=0,l=0,f;for(n=0;n<t.length;n+=i)i=1,(f=t.charCodeAt(n))<128?r=f:f<224?(r=(f&31)*64+(t.charCodeAt(n+1)&63),i=2):f<240?(r=(f&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(f&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(e[a++]=l&255,e[a++]=l>>>8,l=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function I3(t){return tc(t,"binary").toString("utf8")}var Lg="foo bar baz",xn=xr&&(I3(Lg)==_v(Lg)&&I3||b3(Lg)==_v(Lg)&&b3)||_v,$o=xr?function(t){return tc(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},kd=(function(){var t={};return function(r,n){var i=r+"|"+(n||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),H8=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}})(),uW=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),fW=/<\/?(?:vt:)?variant>/g,hW=/<(?:vt:)([^>]*)>([\s\S]*)</;function R3(t,e){var r=Qt(t),n=t.match(uW(r.baseType))||[],i=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(a){var l=a.replace(fW,"").match(hW);l&&i.push({v:xn(l[2]),t:l[1]})}),i}var G8=/(^\s|\s$|\n)/;function fa(t,e){return"<"+t+(e.match(G8)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Dd(t){return oi(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function xt(t,e,r){return"<"+t+(r!=null?Dd(r):"")+(e!=null?(e.match(G8)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function yy(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function dW(t,e){switch(typeof t){case"string":var r=xt("vt:lpwstr",on(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return xt((t|0)==t?"vt:i4":"vt:r8",on(String(t)));case"boolean":return xt("vt:bool",t?"true":"false")}if(t instanceof Date)return xt("vt:filetime",yy(t));throw new Error("Unable to serialize "+t)}function _E(t){if(xr&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return xn(du(hE(t)));throw new Error("Bad input format: expected Buffer or string")}var Od=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Ui={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},mf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],bs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function gW(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function mW(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,l=n?-e:e;isFinite(l)?l==0?i=a=0:(i=Math.floor(Math.log(l)/Math.LN2),a=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var f=0;f<=5;++f,a/=256)t[r+f]=a&255;t[r+6]=(i&15)<<4|a&15,t[r+7]=i>>4|n}var N3=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,a=t[0][n].length;i<a;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},k3=xr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:tc(e)})):N3(t)}:N3,D3=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(Ul(t,i)));return n.join("").replace(za,"")},EE=xr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(za,""):D3(t,e,r)}:D3,O3=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},W8=xr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):O3(t,e,r)}:O3,M3=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(f0(t,i)));return n.join("")},c1=xr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):M3(e,r,n)}:M3,q8=function(t,e){var r=Is(t,e);return r>0?c1(t,e+4,e+4+r-1):""},X8=q8,Y8=function(t,e){var r=Is(t,e);return r>0?c1(t,e+4,e+4+r-1):""},K8=Y8,Q8=function(t,e){var r=2*Is(t,e);return r>0?c1(t,e+4,e+4+r-1):""},$8=Q8,Z8=function(e,r){var n=Is(e,r);return n>0?EE(e,r+4,r+4+n):""},J8=Z8,eN=function(t,e){var r=Is(t,e);return r>0?c1(t,e+4,e+4+r):""},tN=eN,rN=function(t,e){return gW(t,e)},Pm=rN,wE=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};xr&&(X8=function(e,r){if(!Buffer.isBuffer(e))return q8(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},K8=function(e,r){if(!Buffer.isBuffer(e))return Y8(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},$8=function(e,r){if(!Buffer.isBuffer(e))return Q8(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},J8=function(e,r){if(!Buffer.isBuffer(e))return Z8(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},tN=function(e,r){if(!Buffer.isBuffer(e))return eN(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Pm=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):rN(e,r)},wE=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var f0=function(t,e){return t[e]},Ul=function(t,e){return t[e+1]*256+t[e]},pW=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Is=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Vu=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},xW=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function ad(t,e){var r="",n,i,a=[],l,f,m,g;switch(e){case"dbcs":if(g=this.l,xr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(m=0;m<t;++m)r+=String.fromCharCode(Ul(this,g)),g+=2;t*=2;break;case"utf8":r=c1(this,this.l,this.l+t);break;case"utf16le":t*=2,r=EE(this,this.l,this.l+t);break;case"wstr":return ad.call(this,t,"dbcs");case"lpstr-ansi":r=X8(this,this.l),t=4+Is(this,this.l);break;case"lpstr-cp":r=K8(this,this.l),t=4+Is(this,this.l);break;case"lpwstr":r=$8(this,this.l),t=4+2*Is(this,this.l);break;case"lpp4":t=4+Is(this,this.l),r=J8(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Is(this,this.l),r=tN(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(l=f0(this,this.l+t++))!==0;)a.push(Mg(l));r=a.join("");break;case"_wstr":for(t=0,r="";(l=Ul(this,this.l+t))!==0;)a.push(Mg(l)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",g=this.l,m=0;m<t;++m){if(this.lens&&this.lens.indexOf(g)!==-1)return l=f0(this,g),this.l=g+1,f=ad.call(this,t-m,l?"dbcs-cont":"sbcs-cont"),a.join("")+f;a.push(Mg(Ul(this,g))),g+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",g=this.l,m=0;m!=t;++m){if(this.lens&&this.lens.indexOf(g)!==-1)return l=f0(this,g),this.l=g+1,f=ad.call(this,t-m,l?"dbcs-cont":"sbcs-cont"),a.join("")+f;a.push(Mg(f0(this,g))),g+=1}r=a.join("");break;default:switch(t){case 1:return n=f0(this,this.l),this.l++,n;case 2:return n=(e==="i"?pW:Ul)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?Vu:xW)(this,this.l),this.l+=4,n):(i=Is(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Pm(this,this.l):i=Pm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=W8(this,this.l,t);break}}return this.l+=t,r}var vW=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},yW=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},_W=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function EW(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)_W(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var l=e.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,vW(this,e,this.l);break;case 8:if(n=8,r==="f"){mW(this,e,this.l);break}case 16:break;case-4:n=4,yW(this,e,this.l);break}return this.l+=n,this}function nN(t,e){var r=W8(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function ca(t,e){t.l=e,t.read_shift=ad,t.chk=nN,t.write_shift=EW}function Ia(t,e){t.l+=e}function Ye(t){var e=nu(t);return ca(e,0),e}function rc(t,e,r){if(t){var n,i,a;ca(t,t.l||0);for(var l=t.length,f=0,m=0;t.l<l;){f=t.read_shift(1),f&128&&(f=(f&127)+((t.read_shift(1)&127)<<7));var g=Ud[f]||Ud[65535];for(n=t.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=t.read_shift(1))&127)<<7*i;m=t.l+a;var y=g.f&&g.f(t,a,r);if(t.l=m,e(y,g,f))return}}}function us(){var t=[],e=xr?256:2048,r=function(g){var y=Ye(g);return ca(y,0),y},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(g){return n&&g<n.length-n.l?n:(i(),n=r(Math.max(g+1,e)))},l=function(){return i(),Ki(t)},f=function(g){i(),n=g,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:f,end:l,_bufs:t}}function it(t,e,r,n){var i=+e,a;if(!isNaN(i)){n||(n=Ud[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var l=t.next(a);i<=127?l.write_shift(1,i):(l.write_shift(1,(i&127)+128),l.write_shift(1,i>>7));for(var f=0;f!=4;++f)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&wE(r)&&t.push(r)}}function sd(t,e,r){var n=Dn(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function L3(t,e,r){var n=Dn(t);return n.s=sd(n.s,e.s,r),n.e=sd(n.e,e.s,r),n}function od(t,e){if(t.cRel&&t.c<0)for(t=Dn(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Dn(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Xt(t);return!t.cRel&&t.cRel!=null&&(r=AW(r)),!t.rRel&&t.rRel!=null&&(r=wW(r)),r}function Ev(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+zn(t.s.c)+":"+(t.e.cRel?"":"$")+zn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+xi(t.s.r)+":"+(t.e.rRel?"":"$")+xi(t.e.r):od(t.s,e.biff)+":"+od(t.e,e.biff)}function TE(t){return parseInt(TW(t),10)-1}function xi(t){return""+(t+1)}function wW(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function TW(t){return t.replace(/\$(\d+)$/,"$1")}function AE(t){for(var e=SW(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function zn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function AW(t){return t.replace(/^([A-Z])/,"$$$1")}function SW(t){return t.replace(/^\$([A-Z])/,"$1")}function CW(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Hn(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Xt(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function hs(t){var e=t.indexOf(":");return e==-1?{s:Hn(t),e:Hn(t)}:{s:Hn(t.slice(0,e)),e:Hn(t.slice(e+1))}}function ur(t,e){return typeof e>"u"||typeof e=="number"?ur(t.s,t.e):(typeof t!="string"&&(t=Xt(t)),typeof e!="string"&&(e=Xt(e)),t==e?t:t+":"+e)}function Fr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=t.length;for(r=0;n<a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function F3(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=co(t.z,r?ji(e):e)}catch{}try{return t.w=co((t.XF||{}).numFmtId||(r?14:0),r?ji(e):e)}catch{return""+e}}function Jl(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?nc[t.v]||t.v:e==null?F3(t,t.v):F3(t,e))}function gu(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function iN(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,a=t||(i?[]:{}),l=0,f=0;if(a&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var m=typeof n.origin=="string"?Hn(n.origin):n.origin;l=m.r,f=m.c}a["!ref"]||(a["!ref"]="A1:A1")}var g={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var y=Fr(a["!ref"]);g.s.c=y.s.c,g.s.r=y.s.r,g.e.c=Math.max(g.e.c,y.e.c),g.e.r=Math.max(g.e.r,y.e.r),l==-1&&(g.e.r=l=y.e.r+1)}for(var E=0;E!=e.length;++E)if(e[E]){if(!Array.isArray(e[E]))throw new Error("aoa_to_sheet expects an array of arrays");for(var A=0;A!=e[E].length;++A)if(!(typeof e[E][A]>"u")){var C={v:e[E][A]},N=l+E,b=f+A;if(g.s.r>N&&(g.s.r=N),g.s.c>b&&(g.s.c=b),g.e.r<N&&(g.e.r=N),g.e.c<b&&(g.e.c=b),e[E][A]&&typeof e[E][A]=="object"&&!Array.isArray(e[E][A])&&!(e[E][A]instanceof Date))C=e[E][A];else if(Array.isArray(C.v)&&(C.f=e[E][A][1],C.v=C.v[0]),C.v===null)if(C.f)C.t="n";else if(n.nullError)C.t="e",C.v=0;else if(n.sheetStubs)C.t="z";else continue;else typeof C.v=="number"?C.t="n":typeof C.v=="boolean"?C.t="b":C.v instanceof Date?(C.z=n.dateNF||Gt[14],n.cellDates?(C.t="d",C.w=co(C.z,ji(C.v))):(C.t="n",C.v=ji(C.v),C.w=co(C.z,C.v))):C.t="s";if(i)a[N]||(a[N]=[]),a[N][b]&&a[N][b].z&&(C.z=a[N][b].z),a[N][b]=C;else{var D=Xt({c:b,r:N});a[D]&&a[D].z&&(C.z=a[D].z),a[D]=C}}}return g.s.c<1e7&&(a["!ref"]=ur(g)),a}function Y0(t,e){return iN(null,t,e)}function bW(t){return t.read_shift(4,"i")}function bo(t,e){return e||(e=Ye(4)),e.write_shift(4,t),e}function Ca(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Qi(t,e){var r=!1;return e==null&&(r=!0,e=Ye(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function IW(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function RW(t,e){return e||(e=Ye(4)),e.write_shift(2,0),e.write_shift(2,0),e}function SE(t,e){var r=t.l,n=t.read_shift(1),i=Ca(t),a=[],l={t:i,h:i};if((n&1)!==0){for(var f=t.read_shift(4),m=0;m!=f;++m)a.push(IW(t));l.r=a}else l.r=[{ich:0,ifnt:0}];return t.l=r+e,l}function NW(t,e){var r=!1;return e==null&&(r=!0,e=Ye(15+4*t.t.length)),e.write_shift(1,0),Qi(t.t,e),r?e.slice(0,e.l):e}var kW=SE;function DW(t,e){var r=!1;return e==null&&(r=!0,e=Ye(23+4*t.t.length)),e.write_shift(1,1),Qi(t.t,e),e.write_shift(4,1),RW({},e),r?e.slice(0,e.l):e}function fo(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function pf(t,e){return e==null&&(e=Ye(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function xf(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function vf(t,e){return e==null&&(e=Ye(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var OW=Ca,aN=Qi;function CE(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Bm(t,e){var r=!1;return e==null&&(r=!0,e=Ye(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var MW=Ca,_y=CE,bE=Bm;function IE(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?Pm([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Vu(e,0)>>2;return r?i/100:i}function sN(t,e){e==null&&(e=Ye(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function oN(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function LW(t,e){return e||(e=Ye(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var yf=oN,K0=LW;function Sa(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function of(t,e){return(e||Ye(8)).write_shift(8,t,"f")}function FW(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),l=t.read_shift(1),f=t.read_shift(1),m=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var g=qu[i];g&&(e.rgb=Ld(g));break;case 2:e.rgb=Ld([l,f,m]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function Um(t,e){if(e||(e=Ye(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function PW(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function BW(t,e){e||(e=Ye(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}function lN(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function UW(t){return lN(t,1)}function VW(t){return lN(t,2)}var RE=2,ss=3,Fg=11,P3=12,Vm=19,Pg=64,jW=65,zW=71,HW=4108,GW=4126,Yi=80,cN=81,WW=[Yi,cN],Ey={1:{n:"CodePage",t:RE},2:{n:"Category",t:Yi},3:{n:"PresentationFormat",t:Yi},4:{n:"ByteCount",t:ss},5:{n:"LineCount",t:ss},6:{n:"ParagraphCount",t:ss},7:{n:"SlideCount",t:ss},8:{n:"NoteCount",t:ss},9:{n:"HiddenCount",t:ss},10:{n:"MultimediaClipCount",t:ss},11:{n:"ScaleCrop",t:Fg},12:{n:"HeadingPairs",t:HW},13:{n:"TitlesOfParts",t:GW},14:{n:"Manager",t:Yi},15:{n:"Company",t:Yi},16:{n:"LinksUpToDate",t:Fg},17:{n:"CharacterCount",t:ss},19:{n:"SharedDoc",t:Fg},22:{n:"HyperlinksChanged",t:Fg},23:{n:"AppVersion",t:ss,p:"version"},24:{n:"DigSig",t:jW},26:{n:"ContentType",t:Yi},27:{n:"ContentStatus",t:Yi},28:{n:"Language",t:Yi},29:{n:"Version",t:Yi},255:{},2147483648:{n:"Locale",t:Vm},2147483651:{n:"Behavior",t:Vm},1919054434:{}},wy={1:{n:"CodePage",t:RE},2:{n:"Title",t:Yi},3:{n:"Subject",t:Yi},4:{n:"Author",t:Yi},5:{n:"Keywords",t:Yi},6:{n:"Comments",t:Yi},7:{n:"Template",t:Yi},8:{n:"LastAuthor",t:Yi},9:{n:"RevNumber",t:Yi},10:{n:"EditTime",t:Pg},11:{n:"LastPrinted",t:Pg},12:{n:"CreatedDate",t:Pg},13:{n:"ModifiedDate",t:Pg},14:{n:"PageCount",t:ss},15:{n:"WordCount",t:ss},16:{n:"CharCount",t:ss},17:{n:"Thumbnail",t:zW},18:{n:"Application",t:Yi},19:{n:"DocSecurity",t:ss},255:{},2147483648:{n:"Locale",t:Vm},2147483651:{n:"Behavior",t:Vm},1919054434:{}},B3={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},qW=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function XW(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var YW=XW([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),qu=Dn(YW),nc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},uN={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Ty={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Bg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function NE(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function KW(t){var e=NE();if(!t||!t.match)return e;var r={};if((t.match(Ra)||[]).forEach(function(n){var i=Qt(n);switch(i[0].replace(aW,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":e[Ty[i.ContentType]]!==void 0&&e[Ty[i.ContentType]].push(i.PartName);break}}),e.xmlns!==Ui.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}function fN(t,e){var r=KG(Ty),n=[],i;n[n.length]=yi,n[n.length]=xt("Types",null,{xmlns:Ui.CT,"xmlns:xsd":Ui.xsd,"xmlns:xsi":Ui.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(m){return xt("Default",null,{Extension:m[0],ContentType:m[1]})}));var a=function(m){t[m]&&t[m].length>0&&(i=t[m][0],n[n.length]=xt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Bg[m][e.bookType]||Bg[m].xlsx}))},l=function(m){(t[m]||[]).forEach(function(g){n[n.length]=xt("Override",null,{PartName:(g[0]=="/"?"":"/")+g,ContentType:Bg[m][e.bookType]||Bg[m].xlsx})})},f=function(m){(t[m]||[]).forEach(function(g){n[n.length]=xt("Override",null,{PartName:(g[0]=="/"?"":"/")+g,ContentType:r[m][0]})})};return a("workbooks"),l("sheets"),l("charts"),f("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(f),f("vba"),f("comments"),f("threadedcomments"),f("drawings"),l("metadata"),f("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var vr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Md(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function ld(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(Ra)||[]).forEach(function(i){var a=Qt(i);if(a[0]==="<Relationship"){var l={};l.Type=a.Type,l.Target=a.Target,l.Id=a.Id,a.TargetMode&&(l.TargetMode=a.TargetMode);var f=a.TargetMode==="External"?a.Target:Qh(a.Target,e);r[f]=l,n[a.Id]=l}}),r["!id"]=n,r}function T0(t){var e=[yi,xt("Relationships",null,{xmlns:Ui.RELS})];return oi(t["!id"]).forEach(function(r){e[e.length]=xt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function sn(t,e,r,n,i,a){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[vr.HLINK,vr.XPATH,vr.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var QW="application/vnd.oasis.opendocument.spreadsheet";function $W(t,e){for(var r=_E(t),n,i;n=Od.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=Qt(n[0],!1),i.path=="/"&&i.type!==QW)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}function ZW(t){var e=[yi];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function U3(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function JW(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function eq(t){var e=[yi];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(U3(t[r][0],t[r][1])),e.push(JW("",t[r][0]));return e.push(U3("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function hN(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Dm.version+"</meta:generator></office:meta></office:document-meta>"}var oo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],tq=(function(){for(var t=new Array(oo.length),e=0;e<oo.length;++e){var r=oo[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t})();function dN(t){var e={};t=xn(t);for(var r=0;r<oo.length;++r){var n=oo[r],i=t.match(tq[r]);i!=null&&i.length>0&&(e[n[1]]=Lr(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=kn(e[n[1]]))}return e}function wv(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=on(e),n[n.length]=r?xt(t,e,r):fa(t,e))}function gN(t,e){var r=e||{},n=[yi,xt("cp:coreProperties",null,{"xmlns:cp":Ui.CORE_PROPS,"xmlns:dc":Ui.dc,"xmlns:dcterms":Ui.dcterms,"xmlns:dcmitype":Ui.dcmitype,"xmlns:xsi":Ui.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&wv("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:yy(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&wv("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:yy(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=oo.length;++a){var l=oo[a],f=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:t?t[l[1]]:null;f===!0?f="1":f===!1?f="0":typeof f=="number"&&(f=String(f)),f!=null&&wv(l[0],f,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Xu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],mN=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function pN(t,e,r,n){var i=[];if(typeof t=="string")i=R3(t,n);else for(var a=0;a<t.length;++a)i=i.concat(t[a].map(function(y){return{v:y}}));var l=typeof e=="string"?R3(e,n).map(function(y){return y.v}):e,f=0,m=0;if(l.length>0)for(var g=0;g!==i.length;g+=2){switch(m=+i[g+1].v,i[g].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=m,r.SheetNames=l.slice(f,f+m);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=m,r.DefinedNames=l.slice(f,f+m);break;case"Charts":case"Diagramme":r.Chartsheets=m,r.ChartNames=l.slice(f,f+m);break}f+=m}}function rq(t,e,r){var n={};return e||(e={}),t=xn(t),Xu.forEach(function(i){var a=(t.match(kd(i[0]))||[])[1];switch(i[2]){case"string":a&&(e[i[1]]=Lr(a));break;case"bool":e[i[1]]=a==="true";break;case"raw":var l=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));l&&l.length>0&&(n[i[1]]=l[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&pN(n.HeadingPairs,n.TitlesOfParts,e,r),e}function xN(t){var e=[],r=xt;return t||(t={}),t.Application="SheetJS",e[e.length]=yi,e[e.length]=xt("Properties",null,{xmlns:Ui.EXT_PROPS,"xmlns:vt":Ui.vt}),Xu.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=on(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+on(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var nq=/<[^>]+>[^<]*/g;function iq(t,e){var r={},n="",i=t.match(nq);if(i)for(var a=0;a!=i.length;++a){var l=i[a],f=Qt(l);switch(f[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Lr(f.name);break;case"</property>":n=null;break;default:if(l.indexOf("<vt:")===0){var m=l.split(">"),g=m[0].slice(4),y=m[1];switch(g){case"lpstr":case"bstr":case"lpwstr":r[n]=Lr(y);break;case"bool":r[n]=In(y);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(y,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(y);break;case"filetime":case"date":r[n]=kn(y);break;case"cy":case"error":r[n]=Lr(y);break;default:if(g.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",l,g,m)}}else if(l.slice(0,2)!=="</"){if(e.WTF)throw new Error(l)}}}return r}function vN(t){var e=[yi,xt("Properties",null,{xmlns:Ui.CUST_PROPS,"xmlns:vt":Ui.vt})];if(!t)return e.join("");var r=1;return oi(t).forEach(function(i){++r,e[e.length]=xt("property",dW(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:on(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Ay={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Tv;function aq(t,e,r){Tv||(Tv=Bp(Ay)),e=Tv[e]||e,t[e]=r}function sq(t,e){var r=[];return oi(Ay).map(function(n){for(var i=0;i<oo.length;++i)if(oo[i][1]==n)return oo[i];for(i=0;i<Xu.length;++i)if(Xu[i][1]==n)return Xu[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(fa(Ay[n[1]]||n[1],i))}}),xt("DocumentProperties",r.join(""),{xmlns:bs.o})}function oq(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&oi(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var l=0;l<oo.length;++l)if(a==oo[l][1])return;for(l=0;l<Xu.length;++l)if(a==Xu[l][1])return;for(l=0;l<r.length;++l)if(a==r[l])return;var f=t[a],m="string";typeof f=="number"?(m="float",f=String(f)):f===!0||f===!1?(m="boolean",f=f?"1":"0"):f=String(f),i.push(xt(S3(a),f,{"dt:dt":m}))}}),e&&oi(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var l=e[a],f="string";typeof l=="number"?(f="float",l=String(l)):l===!0||l===!1?(f="boolean",l=l?"1":"0"):l instanceof Date?(f="dateTime.tz",l=l.toISOString()):l=String(l),i.push(xt(S3(a),l,{"dt:dt":f}))}}),"<"+n+' xmlns="'+bs.o+'">'+i.join("")+"</"+n+">"}function kE(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function lq(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var l=Ye(8);return l.write_shift(4,n),l.write_shift(4,i),l}function yN(t,e,r){var n=t.l,i=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return i}function _N(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function EN(t,e,r){return e===31?_N(t):yN(t,e,r)}function Sy(t,e,r){return EN(t,e,r===!1?0:4)}function cq(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return EN(t,e,0)}function uq(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var i=t.l;r[n]=t.read_shift(0,"lpwstr").replace(za,""),t.l-i&2&&(t.l+=2)}return r}function fq(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(za,"");return r}function hq(t){var e=t.l,r=jm(t,cN);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=jm(t,ss);return[r,n]}function dq(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(hq(t));return r}function V3(t,e){for(var r=t.read_shift(4),n={},i=0;i!=r;++i){var a=t.read_shift(4),l=t.read_shift(4);n[a]=t.read_shift(l,e===1200?"utf16le":"utf8").replace(za,"").replace(Kh,"!"),e===1200&&l%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function wN(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function gq(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function jm(t,e,r){var n=t.read_shift(2),i,a=r||{};if(t.l+=2,e!==P3&&n!==e&&WW.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===P3?n:e){case 2:return i=t.read_shift(2,"i"),a.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return yN(t,n,4).replace(za,"");case 31:return _N(t);case 64:return kE(t);case 65:return wN(t);case 71:return gq(t);case 80:return Sy(t,n,!a.raw).replace(za,"");case 81:return cq(t,n).replace(za,"");case 4108:return dq(t);case 4126:case 4127:return n==4127?uq(t):fq(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function j3(t,e){var r=Ye(4),n=Ye(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Ye(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=lq(e);break;case 31:case 80:for(n=Ye(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Ki([r,n])}function z3(t,e){var r=t.l,n=t.read_shift(4),i=t.read_shift(4),a=[],l=0,f=0,m=-1,g={};for(l=0;l!=i;++l){var y=t.read_shift(4),E=t.read_shift(4);a[l]=[y,E+r]}a.sort(function(G,B){return G[1]-B[1]});var A={};for(l=0;l!=i;++l){if(t.l!==a[l][1]){var C=!0;if(l>0&&e)switch(e[a[l-1][0]].t){case 2:t.l+2===a[l][1]&&(t.l+=2,C=!1);break;case 80:t.l<=a[l][1]&&(t.l=a[l][1],C=!1);break;case 4108:t.l<=a[l][1]&&(t.l=a[l][1],C=!1);break}if((!e||l==0)&&t.l<=a[l][1]&&(C=!1,t.l=a[l][1]),C)throw new Error("Read Error: Expected address "+a[l][1]+" at "+t.l+" :"+l)}if(e){var N=e[a[l][0]];if(A[N.n]=jm(t,N.t,{raw:!0}),N.p==="version"&&(A[N.n]=String(A[N.n]>>16)+"."+("0000"+String(A[N.n]&65535)).slice(-4)),N.n=="CodePage")switch(A[N.n]){case 0:A[N.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Ao(f=A[N.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+A[N.n])}}else if(a[l][0]===1){if(f=A.CodePage=jm(t,RE),Ao(f),m!==-1){var b=t.l;t.l=a[m][1],g=V3(t,f),t.l=b}}else if(a[l][0]===0){if(f===0){m=l,t.l=a[l+1][1];continue}g=V3(t,f)}else{var D=g[a[l][0]],P;switch(t[t.l]){case 65:t.l+=4,P=wN(t);break;case 30:t.l+=4,P=Sy(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,P=Sy(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,P=t.read_shift(4,"i");break;case 19:t.l+=4,P=t.read_shift(4);break;case 5:t.l+=4,P=t.read_shift(8,"f");break;case 11:t.l+=4,P=mi(t,4);break;case 64:t.l+=4,P=kn(kE(t));break;default:throw new Error("unparsed value: "+t[t.l])}A[D]=P}}return t.l=r+n,A}var TN=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function mq(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function H3(t,e,r){var n=Ye(8),i=[],a=[],l=8,f=0,m=Ye(8),g=Ye(8);if(m.write_shift(4,2),m.write_shift(4,1200),g.write_shift(4,1),a.push(m),i.push(g),l+=8+m.length,!e){g=Ye(8),g.write_shift(4,0),i.unshift(g);var y=[Ye(4)];for(y[0].write_shift(4,t.length),f=0;f<t.length;++f){var E=t[f][0];for(m=Ye(8+2*(E.length+1)+(E.length%2?0:2)),m.write_shift(4,f+2),m.write_shift(4,E.length+1),m.write_shift(0,E,"dbcs");m.l!=m.length;)m.write_shift(1,0);y.push(m)}m=Ki(y),a.unshift(m),l+=8+m.length}for(f=0;f<t.length;++f)if(!(e&&!e[t[f][0]])&&!(TN.indexOf(t[f][0])>-1||mN.indexOf(t[f][0])>-1)&&t[f][1]!=null){var A=t[f][1],C=0;if(e){C=+e[t[f][0]];var N=r[C];if(N.p=="version"&&typeof A=="string"){var b=A.split(".");A=(+b[0]<<16)+(+b[1]||0)}m=j3(N.t,A)}else{var D=mq(A);D==-1&&(D=31,A=String(A)),m=j3(D,A)}a.push(m),g=Ye(8),g.write_shift(4,e?C:2+f),i.push(g),l+=8+m.length}var P=8*(a.length+1);for(f=0;f<a.length;++f)i[f].write_shift(4,P),P+=a[f].length;return n.write_shift(4,l),n.write_shift(4,a.length),Ki([n].concat(i).concat(a))}function G3(t,e,r){var n=t.content;if(!n)return{};ca(n,0);var i,a,l,f,m=0;n.chk("feff","Byte Order: "),n.read_shift(2);var g=n.read_shift(4),y=n.read_shift(16);if(y!==Ut.utils.consts.HEADER_CLSID&&y!==r)throw new Error("Bad PropertySet CLSID "+y);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),f=n.read_shift(4),i===1&&f!==n.l)throw new Error("Length mismatch: "+f+" !== "+n.l);i===2&&(l=n.read_shift(16),m=n.read_shift(4));var E=z3(n,e),A={SystemIdentifier:g};for(var C in E)A[C]=E[C];if(A.FMTID=a,i===1)return A;if(m-n.l==2&&(n.l+=2),n.l!==m)throw new Error("Length mismatch 2: "+n.l+" !== "+m);var N;try{N=z3(n,null)}catch{}for(C in N)A[C]=N[C];return A.FMTID=[a,l],A}function W3(t,e,r,n,i,a){var l=Ye(i?68:48),f=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,Ut.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,i?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,i?68:48);var m=H3(t,r,n);if(f.push(m),i){var g=H3(i,null,null);l.write_shift(16,a,"hex"),l.write_shift(4,68+m.length),f.push(g)}return Ki(f)}function Dc(t,e){return t.read_shift(e),null}function pq(t,e){e||(e=Ye(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function xq(t,e,r){for(var n=[],i=t.l+e;t.l<i;)n.push(r(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return n}function mi(t,e){return t.read_shift(e)===1}function Ba(t,e){return e||(e=Ye(2)),e.write_shift(2,+!!t),e}function Ri(t){return t.read_shift(2,"u")}function no(t,e){return e||(e=Ye(2)),e.write_shift(2,t),e}function AN(t,e){return xq(t,e,Ri)}function vq(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function SN(t,e,r){return r||(r=Ye(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function u1(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var l=n?t.read_shift(n,i):"";return l}function yq(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,i=r&8,a=1+(r&1),l=0,f,m={};i&&(l=t.read_shift(2)),n&&(f=t.read_shift(4));var g=a==2?"dbcs-cont":"sbcs-cont",y=e===0?"":t.read_shift(e,g);return i&&(t.l+=4*l),n&&(t.l+=f),m.t=y,i||(m.raw="<t>"+m.t+"</t>",m.r=m.t),m}function _q(t){var e=t.t||"",r=Ye(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Ye(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return Ki(i)}function lf(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function f1(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):lf(t,n,r)}function _f(t,e,r){if(r.biff>5)return f1(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function CN(t,e,r){return r||(r=Ye(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function Eq(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function wq(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var i=t.read_shift((n?e-24:e)>>1,"utf16le").replace(za,"");return n&&(t.l+=24),i}function Tq(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var a=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var l=t.read_shift(a>>1,"utf16le").replace(za,"");return r+l}function Aq(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return wq(t);case"0303000000000000c000000000000046":return Tq(t);default:throw new Error("Unsupported Moniker "+r)}}function Ug(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(za,""):"";return r}function q3(t,e){e||(e=Ye(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function Sq(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=t.read_shift(2);t.l+=2;var a,l,f,m,g="",y,E;i&16&&(a=Ug(t,r-t.l)),i&128&&(l=Ug(t,r-t.l)),(i&257)===257&&(f=Ug(t,r-t.l)),(i&257)===1&&(m=Aq(t,r-t.l)),i&8&&(g=Ug(t,r-t.l)),i&32&&(y=t.read_shift(16)),i&64&&(E=kE(t)),t.l=r;var A=l||f||m||"";A&&g&&(A+="#"+g),A||(A="#"+g),i&2&&A.charAt(0)=="/"&&A.charAt(1)!="/"&&(A="file://"+A);var C={Target:A};return y&&(C.guid=y),E&&(C.time=E),a&&(C.Tooltip=a),C}function Cq(t){var e=Ye(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)e.write_shift(4,l[r]);if(a==28)n=n.slice(1),q3(n,e);else if(a&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)e.write_shift(1,parseInt(l[r],16));var f=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(f.length+1)),r=0;r<f.length;++r)e.write_shift(2,f.charCodeAt(r));e.write_shift(2,0),a&8&&q3(i>-1?n.slice(i+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)e.write_shift(1,parseInt(l[r],16));for(var m=0;n.slice(m*3,m*3+3)=="../"||n.slice(m*3,m*3+3)=="..\\";)++m;for(e.write_shift(2,m),e.write_shift(4,n.length-3*m+1),r=0;r<n.length-3*m;++r)e.write_shift(1,n.charCodeAt(r+3*m)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function bN(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),i=t.read_shift(1);return[e,r,n,i]}function IN(t,e){var r=bN(t);return r[3]=0,r}function ul(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function cf(t,e,r,n){return n||(n=Ye(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function bq(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function Iq(t,e,r){return e===0?"":_f(t,e,r)}function Rq(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),a=t.read_shift(n,"i"),l=t.read_shift(n,"i");return[i,a,l]}function RN(t){var e=t.read_shift(2),r=IE(t);return[e,r]}function Nq(t,e,r){t.l+=4,e-=4;var n=t.l+e,i=u1(t,e,r),a=t.read_shift(2);if(n-=t.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return t.l+=a,i}function jp(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function NN(t,e){return e||(e=Ye(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function kN(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),i=t.read_shift(1);return{s:{c:n,r:e},e:{c:i,r}}}var kq=kN;function DN(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function Dq(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function Oq(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function va(t){t.l+=2,t.l+=t.read_shift(2)}var Mq={0:va,4:va,5:va,6:va,7:Oq,8:va,9:va,10:va,11:va,12:va,13:Dq,14:va,15:va,16:va,17:va,18:va,19:va,20:va,21:DN};function Lq(t,e){for(var r=t.l+e,n=[];t.l<r;){var i=t.read_shift(2);t.l-=2;try{n.push(Mq[i](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function Vg(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function DE(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Ye(i);return a.write_shift(2,n),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function Fq(t,e){return e===0||t.read_shift(2),1200}function Pq(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,i=_f(t,0,r);return t.read_shift(e+n-t.l),i}function Bq(t,e){var r=!e||e.biff==8,n=Ye(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Uq(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Vq(t,e,r){var n=t.read_shift(4),i=t.read_shift(1)&3,a=t.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var l=u1(t,0,r);return l.length===0&&(l="Sheet1"),{pos:n,hs:i,dt:a,name:l}}function jq(t,e){var r=!e||e.biff>=8?2:1,n=Ye(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function zq(t,e){for(var r=t.l+e,n=t.read_shift(4),i=t.read_shift(4),a=[],l=0;l!=i&&t.l<r;++l)a.push(yq(t));return a.Count=n,a.Unique=i,a}function Hq(t,e){var r=Ye(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=_q(t[i]);var a=Ki([r].concat(n));return a.parts=[r.length].concat(n.map(function(l){return l.length})),a}function Gq(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function Wq(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function qq(t){var e=bq(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function Xq(t){return t.read_shift(2),t.read_shift(4)}function X3(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var i=t.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function Yq(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),l=t.read_shift(2),f=t.read_shift(2),m=t.read_shift(2),g=t.read_shift(2);return{Pos:[e,r],Dim:[n,i],Flags:a,CurTab:l,FirstTab:f,Selected:m,TabRatio:g}}function Kq(){var t=Ye(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Qq(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function $q(t){var e=Ye(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function Zq(){}function Jq(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=u1(t,0,r),n}function eX(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,a=Ye(i);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function tX(t){var e=ul(t);return e.isst=t.read_shift(4),e}function rX(t,e,r,n){var i=Ye(10);return cf(t,e,n,i),i.write_shift(4,r),i}function nX(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,i=ul(t);r.biff==2&&t.l++;var a=f1(t,n-t.l,r);return i.val=a,i}function iX(t,e,r,n,i){var a=!i||i.biff==8,l=Ye(8+ +a+(1+a)*r.length);return cf(t,e,n,l),l.write_shift(2,r.length),a&&l.write_shift(1,1),l.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),l}function aX(t,e,r){var n=t.read_shift(2),i=_f(t,0,r);return[n,i]}function sX(t,e,r,n){var i=r&&r.biff==5;n||(n=Ye(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}var oX=_f;function Y3(t,e,r){var n=t.l+e,i=r.biff==8||!r.biff?4:2,a=t.read_shift(i),l=t.read_shift(i),f=t.read_shift(2),m=t.read_shift(2);return t.l=n,{s:{r:a,c:f},e:{r:l,c:m}}}function lX(t,e){var r=e.biff==8||!e.biff?4:2,n=Ye(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function cX(t){var e=t.read_shift(2),r=t.read_shift(2),n=RN(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function uX(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),a=[];t.l<r;)a.push(RN(t));if(t.l!==r)throw new Error("MulRK read error");var l=t.read_shift(2);if(a.length!=l-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:l,rkrec:a}}function fX(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),a=[];t.l<r;)a.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var l=t.read_shift(2);if(a.length!=l-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:l,ixfe:a}}function hX(t,e,r,n){var i={},a=t.read_shift(4),l=t.read_shift(4),f=t.read_shift(4),m=t.read_shift(2);return i.patternType=qW[f>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=l&15,i.dgRight=l>>4&15,i.dgTop=l>>8&15,i.dgBottom=l>>12&15,i.icvLeft=l>>16&127,i.icvRight=l>>23&127,i.grbitDiag=l>>30&3,i.icvTop=f&127,i.icvBottom=f>>7&127,i.icvDiag=f>>14&127,i.dgDiag=f>>21&15,i.icvFore=m&127,i.icvBack=m>>7&127,i.fsxButton=m>>14&1),i}function dX(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=hX(t,e,n.fStyle,r),n}function K3(t,e,r,n){var i=r&&r.biff==5;n||(n=Ye(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function gX(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function mX(t){var e=Ye(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function Q3(t,e,r){var n=ul(t);(r.biff==2||e==9)&&++t.l;var i=vq(t);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function pX(t,e,r,n,i,a){var l=Ye(8);return cf(t,e,n,l),SN(r,a,l),l}function xX(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=ul(t),i=Sa(t);return n.val=i,n}function vX(t,e,r,n){var i=Ye(14);return cf(t,e,n,i),of(r,i),i}var $3=Iq;function yX(t,e,r){var n=t.l+e,i=t.read_shift(2),a=t.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var l=lf(t,a),f=[];n>t.l;)f.push(f1(t));return[a,i,l,f]}function Z3(t,e,r){var n=t.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=Nq(t,e-2,r)),a.body=i||t.read_shift(e-2),typeof i=="string"&&(a.Name=i),a}var _X=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function J3(t,e,r){var n=t.l+e,i=t.read_shift(2),a=t.read_shift(1),l=t.read_shift(1),f=t.read_shift(r&&r.biff==2?1:2),m=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),m=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var g=lf(t,l,r);i&32&&(g=_X[g.charCodeAt(0)]);var y=n-t.l;r&&r.biff==2&&--y;var E=n==t.l||f===0||!(y>0)?[]:L$(t,y,r,f);return{chKey:a,Name:g,itab:m,rgce:E}}function ON(t,e,r){if(r.biff<8)return EX(t,e,r);for(var n=[],i=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(Rq(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function EX(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=u1(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function wX(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),i=t.read_shift(2),a=lf(t,n,r),l=lf(t,i,r);return[a,l]}function TX(t,e,r){var n=kN(t);t.l++;var i=t.read_shift(1);return e-=8,[F$(t,e,r),i,n]}function eb(t,e,r){var n=kq(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,O$(t,e,r)]}function AX(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function SX(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),l=t.read_shift(2),f=_f(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:i},f,l,a]}}function CX(t,e,r){return SX(t,e,r)}function bX(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(jp(t));return r}function IX(t){var e=Ye(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)NN(t[r],e);return e}function RX(t,e,r){if(r&&r.biff<8)return kX(t,e,r);var n=DN(t),i=Lq(t,e-22,n[1]);return{cmo:n,ft:i}}var NX={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=r,{fmt:n}}};function kX(t,e,r){t.l+=4;var n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var l=[];return l.push((NX[n]||Ia)(t,e,r)),{cmo:[i,n,a],ft:l}}function DX(t,e,r){var n=t.l,i="";try{t.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],l;[0,5,7,11,12,14].indexOf(a)==-1?t.l+=6:l=Eq(t,6,r);var f=t.read_shift(2);t.read_shift(2),Ri(t,2);var m=t.read_shift(2);t.l+=m;for(var g=1;g<t.lens.length-1;++g){if(t.l-n!=t.lens[g])throw new Error("TxO: bad continue record");var y=t[t.l],E=lf(t,t.lens[g+1]-t.lens[g]-1);if(i+=E,i.length>=(y?f:2*f))break}if(i.length!==f&&i.length!==f*2)throw new Error("cchText: "+f+" != "+i.length);return t.l=n+e,{t:i}}catch{return t.l=n+e,{t:i}}}function OX(t,e){var r=jp(t);t.l+=16;var n=Sq(t,e-24);return[r,n]}function MX(t){var e=Ye(24),r=Hn(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return Ki([e,Cq(t[1])])}function LX(t,e){t.read_shift(2);var r=jp(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(za,""),[r,n]}function FX(t){var e=t[1].Tooltip,r=Ye(10+2*(e.length+1));r.write_shift(2,2048);var n=Hn(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function PX(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=B3[r]||r,r=t.read_shift(2),e[1]=B3[r]||r,e}function BX(t){return t||(t=Ye(4)),t.write_shift(2,1),t.write_shift(2,1),t}function UX(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(IN(t));return r}function VX(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(IN(t));return r}function jX(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function MN(t,e,r){if(!r.cellStyles)return Ia(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),a=t.read_shift(n),l=t.read_shift(n),f=t.read_shift(n),m=t.read_shift(2);n==2&&(t.l+=2);var g={s:i,e:a,w:l,ixfe:f,flags:m};return(r.biff>=5||!r.biff)&&(g.level=m>>8&7),g}function zX(t,e){var r=Ye(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function HX(t,e){var r={};return e<32||(t.l+=16,r.header=Sa(t),r.footer=Sa(t),t.l+=2),r}function GX(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var i=t.read_shift(1);return t.l+=3,i&16&&(n.area=!0),n}function WX(t){for(var e=Ye(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}var qX=ul,XX=AN,YX=f1;function KX(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,i}function QX(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=ul(t);++t.l;var i=_f(t,e-7,r);return n.t="str",n.val=i,n}function $X(t){var e=ul(t);++t.l;var r=Sa(t);return e.t="n",e.val=r,e}function ZX(t,e,r){var n=Ye(15);return m1(n,t,e),n.write_shift(8,r,"f"),n}function JX(t){var e=ul(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function eY(t,e,r){var n=Ye(9);return m1(n,t,e),n.write_shift(2,r),n}function tY(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function rY(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function nY(t,e,r){var n=t.l+e,i=ul(t),a=t.read_shift(2),l=lf(t,a,r);return t.l=n,i.t="str",i.val=l,i}var iY=[2,3,48,49,131,139,140,245],Cy=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Bp({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(f,m){var g=[],y=nu(1);switch(m.type){case"base64":y=Ds(Bs(f));break;case"binary":y=Ds(f);break;case"buffer":case"array":y=f;break}ca(y,0);var E=y.read_shift(1),A=!!(E&136),C=!1,N=!1;switch(E){case 2:break;case 3:break;case 48:C=!0,A=!0;break;case 49:C=!0,A=!0;break;case 131:break;case 139:break;case 140:N=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+E.toString(16))}var b=0,D=521;E==2&&(b=y.read_shift(2)),y.l+=3,E!=2&&(b=y.read_shift(4)),b>1048576&&(b=1e6),E!=2&&(D=y.read_shift(2));var P=y.read_shift(2),G=m.codepage||1252;E!=2&&(y.l+=16,y.read_shift(1),y[y.l]!==0&&(G=t[y[y.l]]),y.l+=1,y.l+=2),N&&(y.l+=36);for(var B=[],Y={},te=Math.min(y.length,E==2?521:D-10-(C?264:0)),ee=N?32:11;y.l<te&&y[y.l]!=13;)switch(Y={},Y.name=Id.utils.decode(G,y.slice(y.l,y.l+ee)).replace(/[\u0000\r\n].*$/g,""),y.l+=ee,Y.type=String.fromCharCode(y.read_shift(1)),E!=2&&!N&&(Y.offset=y.read_shift(4)),Y.len=y.read_shift(1),E==2&&(Y.offset=y.read_shift(2)),Y.dec=y.read_shift(1),Y.name.length&&B.push(Y),E!=2&&(y.l+=N?13:14),Y.type){case"B":(!C||Y.len!=8)&&m.WTF&&console.log("Skipping "+Y.name+":"+Y.type);break;case"G":case"P":m.WTF&&console.log("Skipping "+Y.name+":"+Y.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+Y.type)}if(y[y.l]!==13&&(y.l=D-1),y.read_shift(1)!==13)throw new Error("DBF Terminator not found "+y.l+" "+y[y.l]);y.l=D;var L=0,j=0;for(g[0]=[],j=0;j!=B.length;++j)g[0][j]=B[j].name;for(;b-- >0;){if(y[y.l]===42){y.l+=P;continue}for(++y.l,g[++L]=[],j=0,j=0;j!=B.length;++j){var U=y.slice(y.l,y.l+B[j].len);y.l+=B[j].len,ca(U,0);var q=Id.utils.decode(G,U);switch(B[j].type){case"C":q.trim().length&&(g[L][j]=q.replace(/\s+$/,""));break;case"D":q.length===8?g[L][j]=new Date(+q.slice(0,4),+q.slice(4,6)-1,+q.slice(6,8)):g[L][j]=q;break;case"F":g[L][j]=parseFloat(q.trim());break;case"+":case"I":g[L][j]=N?U.read_shift(-4,"i")^2147483648:U.read_shift(4,"i");break;case"L":switch(q.trim().toUpperCase()){case"Y":case"T":g[L][j]=!0;break;case"N":case"F":g[L][j]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+q+"|")}break;case"M":if(!A)throw new Error("DBF Unexpected MEMO for type "+E.toString(16));g[L][j]="##MEMO##"+(N?parseInt(q.trim(),10):U.read_shift(4));break;case"N":q=q.replace(/\u0000/g,"").trim(),q&&q!="."&&(g[L][j]=+q||0);break;case"@":g[L][j]=new Date(U.read_shift(-8,"f")-621356832e5);break;case"T":g[L][j]=new Date((U.read_shift(4)-2440588)*864e5+U.read_shift(4));break;case"Y":g[L][j]=U.read_shift(4,"i")/1e4+U.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":g[L][j]=-U.read_shift(-8,"f");break;case"B":if(C&&B[j].len==8){g[L][j]=U.read_shift(8,"f");break}case"G":case"P":U.l+=B[j].len;break;case"0":if(B[j].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+B[j].type)}}}if(E!=2&&y.l<y.length&&y[y.l++]!=26)throw new Error("DBF EOF Marker missing "+(y.l-1)+" of "+y.length+" "+y[y.l-1].toString(16));return m&&m.sheetRows&&(g=g.slice(0,m.sheetRows)),m.DBF=B,g}function n(f,m){var g=m||{};g.dateNF||(g.dateNF="yyyymmdd");var y=Y0(r(f,g),g);return y["!cols"]=g.DBF.map(function(E){return{wch:E.len,DBF:E}}),delete g.DBF,y}function i(f,m){try{return gu(n(f,m),m)}catch(g){if(m&&m.WTF)throw g}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function l(f,m){var g=m||{};if(+g.codepage>=0&&Ao(+g.codepage),g.type=="string")throw new Error("Cannot write DBF to JS string");var y=us(),E=Gm(f,{header:1,raw:!0,cellDates:!0}),A=E[0],C=E.slice(1),N=f["!cols"]||[],b=0,D=0,P=0,G=1;for(b=0;b<A.length;++b){if(((N[b]||{}).DBF||{}).name){A[b]=N[b].DBF.name,++P;continue}if(A[b]!=null){if(++P,typeof A[b]=="number"&&(A[b]=A[b].toString(10)),typeof A[b]!="string")throw new Error("DBF Invalid column name "+A[b]+" |"+typeof A[b]+"|");if(A.indexOf(A[b])!==b){for(D=0;D<1024;++D)if(A.indexOf(A[b]+"_"+D)==-1){A[b]+="_"+D;break}}}}var B=Fr(f["!ref"]),Y=[],te=[],ee=[];for(b=0;b<=B.e.c-B.s.c;++b){var L="",j="",U=0,q=[];for(D=0;D<C.length;++D)C[D][b]!=null&&q.push(C[D][b]);if(q.length==0||A[b]==null){Y[b]="?";continue}for(D=0;D<q.length;++D){switch(typeof q[D]){case"number":j="B";break;case"string":j="C";break;case"boolean":j="L";break;case"object":j=q[D]instanceof Date?"D":"C";break;default:j="C"}U=Math.max(U,String(q[D]).length),L=L&&L!=j?"C":j}U>250&&(U=250),j=((N[b]||{}).DBF||{}).type,j=="C"&&N[b].DBF.len>U&&(U=N[b].DBF.len),L=="B"&&j=="N"&&(L="N",ee[b]=N[b].DBF.dec,U=N[b].DBF.len),te[b]=L=="C"||j=="N"?U:a[L]||0,G+=te[b],Y[b]=L}var K=y.next(32);for(K.write_shift(4,318902576),K.write_shift(4,C.length),K.write_shift(2,296+32*P),K.write_shift(2,G),b=0;b<4;++b)K.write_shift(4,0);for(K.write_shift(4,0|(+e[T8]||3)<<8),b=0,D=0;b<A.length;++b)if(A[b]!=null){var M=y.next(32),Q=(A[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,Q,"sbcs"),M.write_shift(1,Y[b]=="?"?"C":Y[b],"sbcs"),M.write_shift(4,D),M.write_shift(1,te[b]||a[Y[b]]||0),M.write_shift(1,ee[b]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),D+=te[b]||a[Y[b]]||0}var be=y.next(264);for(be.write_shift(4,13),b=0;b<65;++b)be.write_shift(4,0);for(b=0;b<C.length;++b){var xe=y.next(G);for(xe.write_shift(1,0),D=0;D<A.length;++D)if(A[D]!=null)switch(Y[D]){case"L":xe.write_shift(1,C[b][D]==null?63:C[b][D]?84:70);break;case"B":xe.write_shift(8,C[b][D]||0,"f");break;case"N":var _e="0";for(typeof C[b][D]=="number"&&(_e=C[b][D].toFixed(ee[D]||0)),P=0;P<te[D]-_e.length;++P)xe.write_shift(1,32);xe.write_shift(1,_e,"sbcs");break;case"D":C[b][D]?(xe.write_shift(4,("0000"+C[b][D].getFullYear()).slice(-4),"sbcs"),xe.write_shift(2,("00"+(C[b][D].getMonth()+1)).slice(-2),"sbcs"),xe.write_shift(2,("00"+C[b][D].getDate()).slice(-2),"sbcs")):xe.write_shift(8,"00000000","sbcs");break;case"C":var Ae=String(C[b][D]!=null?C[b][D]:"").slice(0,te[D]);for(xe.write_shift(1,Ae,"sbcs"),P=0;P<te[D]-Ae.length;++P)xe.write_shift(1,32);break}}return y.next(1).write_shift(1,26),y.end()}return{to_workbook:i,to_sheet:n,from_sheet:l}})(),LN=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+oi(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(A,C){var N=t[C];return typeof N=="number"?f3(N):N},n=function(A,C,N){var b=C.charCodeAt(0)-32<<4|N.charCodeAt(0)-48;return b==59?A:f3(b)};t["|"]=254;function i(A,C){switch(C.type){case"base64":return a(Bs(A),C);case"binary":return a(A,C);case"buffer":return a(xr&&Buffer.isBuffer(A)?A.toString("binary"):du(A),C);case"array":return a(sf(A),C)}throw new Error("Unrecognized type "+C.type)}function a(A,C){var N=A.split(/[\n\r]+/),b=-1,D=-1,P=0,G=0,B=[],Y=[],te=null,ee={},L=[],j=[],U=[],q=0,K;for(+C.codepage>=0&&Ao(+C.codepage);P!==N.length;++P){q=0;var M=N[P].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),Q=M.replace(/;;/g,"\0").split(";").map(function(fe){return fe.replace(/\u0000/g,";")}),be=Q[0],xe;if(M.length>0)switch(be){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Q[1].charAt(0)=="P"&&Y.push(M.slice(3).replace(/;;/g,";"));break;case"C":var _e=!1,Ae=!1,ot=!1,Ce=!1,ht=-1,ve=-1;for(G=1;G<Q.length;++G)switch(Q[G].charAt(0)){case"A":break;case"X":D=parseInt(Q[G].slice(1))-1,Ae=!0;break;case"Y":for(b=parseInt(Q[G].slice(1))-1,Ae||(D=0),K=B.length;K<=b;++K)B[K]=[];break;case"K":xe=Q[G].slice(1),xe.charAt(0)==='"'?xe=xe.slice(1,xe.length-1):xe==="TRUE"?xe=!0:xe==="FALSE"?xe=!1:isNaN(Co(xe))?isNaN(O0(xe).getDate())||(xe=kn(xe)):(xe=Co(xe),te!==null&&q0(te)&&(xe=Vp(xe))),_e=!0;break;case"E":Ce=!0;var Z=A0(Q[G].slice(1),{r:b,c:D});B[b][D]=[B[b][D],Z];break;case"S":ot=!0,B[b][D]=[B[b][D],"S5S"];break;case"G":break;case"R":ht=parseInt(Q[G].slice(1))-1;break;case"C":ve=parseInt(Q[G].slice(1))-1;break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+M)}if(_e&&(B[b][D]&&B[b][D].length==2?B[b][D][0]=xe:B[b][D]=xe,te=null),ot){if(Ce)throw new Error("SYLK shared formula cannot have own formula");var he=ht>-1&&B[ht][ve];if(!he||!he[1])throw new Error("SYLK shared formula cannot find base");B[b][D][1]=JN(he[1],{r:b-ht,c:D-ve})}break;case"F":var ie=0;for(G=1;G<Q.length;++G)switch(Q[G].charAt(0)){case"X":D=parseInt(Q[G].slice(1))-1,++ie;break;case"Y":for(b=parseInt(Q[G].slice(1))-1,K=B.length;K<=b;++K)B[K]=[];break;case"M":q=parseInt(Q[G].slice(1))/20;break;case"F":break;case"G":break;case"P":te=Y[parseInt(Q[G].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(U=Q[G].slice(1).split(" "),K=parseInt(U[0],10);K<=parseInt(U[1],10);++K)q=parseInt(U[2],10),j[K-1]=q===0?{hidden:!0}:{wch:q},iu(j[K-1]);break;case"C":D=parseInt(Q[G].slice(1))-1,j[D]||(j[D]={});break;case"R":b=parseInt(Q[G].slice(1))-1,L[b]||(L[b]={}),q>0?(L[b].hpt=q,L[b].hpx=L0(q)):q===0&&(L[b].hidden=!0);break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+M)}ie<1&&(te=null);break;default:if(C&&C.WTF)throw new Error("SYLK bad record "+M)}}return L.length>0&&(ee["!rows"]=L),j.length>0&&(ee["!cols"]=j),C&&C.sheetRows&&(B=B.slice(0,C.sheetRows)),[B,ee]}function l(A,C){var N=i(A,C),b=N[0],D=N[1],P=Y0(b,C);return oi(D).forEach(function(G){P[G]=D[G]}),P}function f(A,C){return gu(l(A,C),C)}function m(A,C,N,b){var D="C;Y"+(N+1)+";X"+(b+1)+";K";switch(A.t){case"n":D+=A.v||0,A.f&&!A.F&&(D+=";E"+BE(A.f,{r:N,c:b}));break;case"b":D+=A.v?"TRUE":"FALSE";break;case"e":D+=A.w||A.v;break;case"d":D+='"'+(A.w||A.v)+'"';break;case"s":D+='"'+A.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return D}function g(A,C){C.forEach(function(N,b){var D="F;W"+(b+1)+" "+(b+1)+" ";N.hidden?D+="0":(typeof N.width=="number"&&!N.wpx&&(N.wpx=Fd(N.width)),typeof N.wpx=="number"&&!N.wch&&(N.wch=Pd(N.wpx)),typeof N.wch=="number"&&(D+=Math.round(N.wch))),D.charAt(D.length-1)!=" "&&A.push(D)})}function y(A,C){C.forEach(function(N,b){var D="F;";N.hidden?D+="M0;":N.hpt?D+="M"+20*N.hpt+";":N.hpx&&(D+="M"+20*Bd(N.hpx)+";"),D.length>2&&A.push(D+"R"+(b+1))})}function E(A,C){var N=["ID;PWXL;N;E"],b=[],D=Fr(A["!ref"]),P,G=Array.isArray(A),B=`\r
`;N.push("P;PGeneral"),N.push("F;P0;DG0G8;M255"),A["!cols"]&&g(N,A["!cols"]),A["!rows"]&&y(N,A["!rows"]),N.push("B;Y"+(D.e.r-D.s.r+1)+";X"+(D.e.c-D.s.c+1)+";D"+[D.s.c,D.s.r,D.e.c,D.e.r].join(" "));for(var Y=D.s.r;Y<=D.e.r;++Y)for(var te=D.s.c;te<=D.e.c;++te){var ee=Xt({r:Y,c:te});P=G?(A[Y]||[])[te]:A[ee],!(!P||P.v==null&&(!P.f||P.F))&&b.push(m(P,A,Y,te))}return N.join(B)+B+b.join(B)+B+"E"+B}return{to_workbook:f,to_sheet:l,from_sheet:E}})(),FN=(function(){function t(a,l){switch(l.type){case"base64":return e(Bs(a),l);case"binary":return e(a,l);case"buffer":return e(xr&&Buffer.isBuffer(a)?a.toString("binary"):du(a),l);case"array":return e(sf(a),l)}throw new Error("Unrecognized type "+l.type)}function e(a,l){for(var f=a.split(`
`),m=-1,g=-1,y=0,E=[];y!==f.length;++y){if(f[y].trim()==="BOT"){E[++m]=[],g=0;continue}if(!(m<0)){var A=f[y].trim().split(","),C=A[0],N=A[1];++y;for(var b=f[y]||"";(b.match(/["]/g)||[]).length&1&&y<f.length-1;)b+=`
`+f[++y];switch(b=b.trim(),+C){case-1:if(b==="BOT"){E[++m]=[],g=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?E[m][g]=!0:b==="FALSE"?E[m][g]=!1:isNaN(Co(N))?isNaN(O0(N).getDate())?E[m][g]=N:E[m][g]=kn(N):E[m][g]=Co(N),++g;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),E[m][g++]=b!==""?b:null;break}if(b==="EOD")break}}return l&&l.sheetRows&&(E=E.slice(0,l.sheetRows)),E}function r(a,l){return Y0(t(a,l),l)}function n(a,l){return gu(r(a,l),l)}var i=(function(){var a=function(m,g,y,E,A){m.push(g),m.push(y+","+E),m.push('"'+A.replace(/"/g,'""')+'"')},l=function(m,g,y,E){m.push(g+","+y),m.push(g==1?'"'+E.replace(/"/g,'""')+'"':E)};return function(m){var g=[],y=Fr(m["!ref"]),E,A=Array.isArray(m);a(g,"TABLE",0,1,"sheetjs"),a(g,"VECTORS",0,y.e.r-y.s.r+1,""),a(g,"TUPLES",0,y.e.c-y.s.c+1,""),a(g,"DATA",0,0,"");for(var C=y.s.r;C<=y.e.r;++C){l(g,-1,0,"BOT");for(var N=y.s.c;N<=y.e.c;++N){var b=Xt({r:C,c:N});if(E=A?(m[C]||[])[N]:m[b],!E){l(g,1,0,"");continue}switch(E.t){case"n":var D=E.w;!D&&E.v!=null&&(D=E.v),D==null?E.f&&!E.F?l(g,1,0,"="+E.f):l(g,1,0,""):l(g,0,D,"V");break;case"b":l(g,0,E.v?1:0,E.v?"TRUE":"FALSE");break;case"s":l(g,1,0,isNaN(E.v)?E.v:'="'+E.v+'"');break;case"d":E.w||(E.w=co(E.z||Gt[14],ji(kn(E.v)))),l(g,0,E.w,"V");break;default:l(g,1,0,"")}}}l(g,-1,0,"EOD");var P=`\r
`,G=g.join(P);return G}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),PN=(function(){function t(E){return E.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(E){return E.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(E,A){for(var C=E.split(`
`),N=-1,b=-1,D=0,P=[];D!==C.length;++D){var G=C[D].trim().split(":");if(G[0]==="cell"){var B=Hn(G[1]);if(P.length<=B.r)for(N=P.length;N<=B.r;++N)P[N]||(P[N]=[]);switch(N=B.r,b=B.c,G[2]){case"t":P[N][b]=t(G[3]);break;case"v":P[N][b]=+G[3];break;case"vtf":var Y=G[G.length-1];case"vtc":switch(G[3]){case"nl":P[N][b]=!!+G[4];break;default:P[N][b]=+G[4];break}G[2]=="vtf"&&(P[N][b]=[P[N][b],Y])}}}return A&&A.sheetRows&&(P=P.slice(0,A.sheetRows)),P}function n(E,A){return Y0(r(E,A),A)}function i(E,A){return gu(n(E,A),A)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,f=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),m="--SocialCalcSpreadsheetControlSave--";function g(E){if(!E||!E["!ref"])return"";for(var A=[],C=[],N,b="",D=hs(E["!ref"]),P=Array.isArray(E),G=D.s.r;G<=D.e.r;++G)for(var B=D.s.c;B<=D.e.c;++B)if(b=Xt({r:G,c:B}),N=P?(E[G]||[])[B]:E[b],!(!N||N.v==null||N.t==="z")){switch(C=["cell",b,"t"],N.t){case"s":case"str":C.push(e(N.v));break;case"n":N.f?(C[2]="vtf",C[3]="n",C[4]=N.v,C[5]=e(N.f)):(C[2]="v",C[3]=N.v);break;case"b":C[2]="vt"+(N.f?"f":"c"),C[3]="nl",C[4]=N.v?"1":"0",C[5]=e(N.f||(N.v?"TRUE":"FALSE"));break;case"d":var Y=ji(kn(N.v));C[2]="vtc",C[3]="nd",C[4]=""+Y,C[5]=N.w||co(N.z||Gt[14],Y);break;case"e":continue}A.push(C.join(":"))}return A.push("sheet:c:"+(D.e.c-D.s.c+1)+":r:"+(D.e.r-D.s.r+1)+":tvf:1"),A.push("valueformat:1:text-wiki"),A.join(`
`)}function y(E){return[a,l,f,l,g(E),m].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:y}})(),M0=(function(){function t(y,E,A,C,N){N.raw?E[A][C]=y:y===""||(y==="TRUE"?E[A][C]=!0:y==="FALSE"?E[A][C]=!1:isNaN(Co(y))?isNaN(O0(y).getDate())?E[A][C]=y:E[A][C]=kn(y):E[A][C]=Co(y))}function e(y,E){var A=E||{},C=[];if(!y||y.length===0)return C;for(var N=y.split(/[\r\n]/),b=N.length-1;b>=0&&N[b].length===0;)--b;for(var D=10,P=0,G=0;G<=b;++G)P=N[G].indexOf(" "),P==-1?P=N[G].length:P++,D=Math.max(D,P);for(G=0;G<=b;++G){C[G]=[];var B=0;for(t(N[G].slice(0,D).trim(),C,G,B,A),B=1;B<=(N[G].length-D)/10+1;++B)t(N[G].slice(D+(B-1)*10,D+B*10).trim(),C,G,B,A)}return A.sheetRows&&(C=C.slice(0,A.sheetRows)),C}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(y){for(var E={},A=!1,C=0,N=0;C<y.length;++C)(N=y.charCodeAt(C))==34?A=!A:!A&&N in r&&(E[N]=(E[N]||0)+1);N=[];for(C in E)Object.prototype.hasOwnProperty.call(E,C)&&N.push([E[C],C]);if(!N.length){E=n;for(C in E)Object.prototype.hasOwnProperty.call(E,C)&&N.push([E[C],C])}return N.sort(function(b,D){return b[0]-D[0]||n[b[1]]-n[D[1]]}),r[N.pop()[1]]||44}function a(y,E){var A=E||{},C="",N=A.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};y.slice(0,4)=="sep="?y.charCodeAt(5)==13&&y.charCodeAt(6)==10?(C=y.charAt(4),y=y.slice(7)):y.charCodeAt(5)==13||y.charCodeAt(5)==10?(C=y.charAt(4),y=y.slice(6)):C=i(y.slice(0,1024)):A&&A.FS?C=A.FS:C=i(y.slice(0,1024));var D=0,P=0,G=0,B=0,Y=0,te=C.charCodeAt(0),ee=!1,L=0,j=y.charCodeAt(0);y=y.replace(/\r\n/mg,`
`);var U=A.dateNF!=null?GG(A.dateNF):null;function q(){var K=y.slice(B,Y),M={};if(K.charAt(0)=='"'&&K.charAt(K.length-1)=='"'&&(K=K.slice(1,-1).replace(/""/g,'"')),K.length===0)M.t="z";else if(A.raw)M.t="s",M.v=K;else if(K.trim().length===0)M.t="s",M.v=K;else if(K.charCodeAt(0)==61)K.charCodeAt(1)==34&&K.charCodeAt(K.length-1)==34?(M.t="s",M.v=K.slice(2,-1).replace(/""/g,'"')):yQ(K)?(M.t="n",M.f=K.slice(1)):(M.t="s",M.v=K);else if(K=="TRUE")M.t="b",M.v=!0;else if(K=="FALSE")M.t="b",M.v=!1;else if(!isNaN(G=Co(K)))M.t="n",A.cellText!==!1&&(M.w=K),M.v=G;else if(!isNaN(O0(K).getDate())||U&&K.match(U)){M.z=A.dateNF||Gt[14];var Q=0;U&&K.match(U)&&(K=WG(K,A.dateNF,K.match(U)||[]),Q=1),A.cellDates?(M.t="d",M.v=kn(K,Q)):(M.t="n",M.v=ji(kn(K,Q))),A.cellText!==!1&&(M.w=co(M.z,M.v instanceof Date?ji(M.v):M.v)),A.cellNF||delete M.z}else M.t="s",M.v=K;if(M.t=="z"||(A.dense?(N[D]||(N[D]=[]),N[D][P]=M):N[Xt({c:P,r:D})]=M),B=Y+1,j=y.charCodeAt(B),b.e.c<P&&(b.e.c=P),b.e.r<D&&(b.e.r=D),L==te)++P;else if(P=0,++D,A.sheetRows&&A.sheetRows<=D)return!0}e:for(;Y<y.length;++Y)switch(L=y.charCodeAt(Y)){case 34:j===34&&(ee=!ee);break;case te:case 10:case 13:if(!ee&&q())break e;break}return Y-B>0&&q(),N["!ref"]=ur(b),N}function l(y,E){return!(E&&E.PRN)||E.FS||y.slice(0,4)=="sep="||y.indexOf("	")>=0||y.indexOf(",")>=0||y.indexOf(";")>=0?a(y,E):Y0(e(y,E),E)}function f(y,E){var A="",C=E.type=="string"?[0,0,0,0]:qE(y,E);switch(E.type){case"base64":A=Bs(y);break;case"binary":A=y;break;case"buffer":E.codepage==65001?A=y.toString("utf8"):E.codepage&&typeof Id<"u"||(A=xr&&Buffer.isBuffer(y)?y.toString("binary"):du(y));break;case"array":A=sf(y);break;case"string":A=y;break;default:throw new Error("Unrecognized type "+E.type)}return C[0]==239&&C[1]==187&&C[2]==191?A=xn(A.slice(3)):E.type!="string"&&E.type!="buffer"&&E.codepage==65001?A=xn(A):E.type=="binary"&&typeof Id<"u",A.slice(0,19)=="socialcalc:version:"?PN.to_sheet(E.type=="string"?A:xn(A),E):l(A,E)}function m(y,E){return gu(f(y,E),E)}function g(y){for(var E=[],A=Fr(y["!ref"]),C,N=Array.isArray(y),b=A.s.r;b<=A.e.r;++b){for(var D=[],P=A.s.c;P<=A.e.c;++P){var G=Xt({r:b,c:P});if(C=N?(y[b]||[])[P]:y[G],!C||C.v==null){D.push("          ");continue}for(var B=(C.w||(Jl(C),C.w)||"").slice(0,10);B.length<10;)B+=" ";D.push(B+(P===0?" ":""))}E.push(D.join(""))}return E.join(`
`)}return{to_workbook:m,to_sheet:f,from_sheet:g}})();function aY(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var i=LN.to_workbook(t,r);return r.WTF=n,i}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return M0.to_workbook(t,e)}}var Yu=(function(){function t(Z,he,ie){if(Z){ca(Z,Z.l||0);for(var fe=ie.Enum||ht;Z.l<Z.length;){var ye=Z.read_shift(2),Ie=fe[ye]||fe[65535],je=Z.read_shift(2),Ve=Z.l+je,$e=Ie.f&&Ie.f(Z,je,ie);if(Z.l=Ve,he($e,Ie,ye))return}}}function e(Z,he){switch(he.type){case"base64":return r(Ds(Bs(Z)),he);case"binary":return r(Ds(Z),he);case"buffer":case"array":return r(Z,he)}throw"Unsupported type "+he.type}function r(Z,he){if(!Z)return Z;var ie=he||{},fe=ie.dense?[]:{},ye="Sheet1",Ie="",je=0,Ve={},$e=[],_t=[],me={s:{r:0,c:0},e:{r:0,c:0}},wt=ie.sheetRows||0;if(Z[2]==0&&(Z[3]==8||Z[3]==9)&&Z.length>=16&&Z[14]==5&&Z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(Z[2]==2)ie.Enum=ht,t(Z,function(ct,Ot,Ct){switch(Ct){case 0:ie.vers=ct,ct>=4096&&(ie.qpro=!0);break;case 6:me=ct;break;case 204:ct&&(Ie=ct);break;case 222:Ie=ct;break;case 15:case 51:ie.qpro||(ct[1].v=ct[1].v.slice(1));case 13:case 14:case 16:Ct==14&&(ct[2]&112)==112&&(ct[2]&15)>1&&(ct[2]&15)<15&&(ct[1].z=ie.dateNF||Gt[14],ie.cellDates&&(ct[1].t="d",ct[1].v=Vp(ct[1].v))),ie.qpro&&ct[3]>je&&(fe["!ref"]=ur(me),Ve[ye]=fe,$e.push(ye),fe=ie.dense?[]:{},me={s:{r:0,c:0},e:{r:0,c:0}},je=ct[3],ye=Ie||"Sheet"+(je+1),Ie="");var ln=ie.dense?(fe[ct[0].r]||[])[ct[0].c]:fe[Xt(ct[0])];if(ln){ln.t=ct[1].t,ln.v=ct[1].v,ct[1].z!=null&&(ln.z=ct[1].z),ct[1].f!=null&&(ln.f=ct[1].f);break}ie.dense?(fe[ct[0].r]||(fe[ct[0].r]=[]),fe[ct[0].r][ct[0].c]=ct[1]):fe[Xt(ct[0])]=ct[1];break}},ie);else if(Z[2]==26||Z[2]==14)ie.Enum=ve,Z[2]==14&&(ie.qpro=!0,Z.l=0),t(Z,function(ct,Ot,Ct){switch(Ct){case 204:ye=ct;break;case 22:ct[1].v=ct[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ct[3]>je&&(fe["!ref"]=ur(me),Ve[ye]=fe,$e.push(ye),fe=ie.dense?[]:{},me={s:{r:0,c:0},e:{r:0,c:0}},je=ct[3],ye="Sheet"+(je+1)),wt>0&&ct[0].r>=wt)break;ie.dense?(fe[ct[0].r]||(fe[ct[0].r]=[]),fe[ct[0].r][ct[0].c]=ct[1]):fe[Xt(ct[0])]=ct[1],me.e.c<ct[0].c&&(me.e.c=ct[0].c),me.e.r<ct[0].r&&(me.e.r=ct[0].r);break;case 27:ct[14e3]&&(_t[ct[14e3][0]]=ct[14e3][1]);break;case 1537:_t[ct[0]]=ct[1],ct[0]==je&&(ye=ct[1]);break}},ie);else throw new Error("Unrecognized LOTUS BOF "+Z[2]);if(fe["!ref"]=ur(me),Ve[Ie||ye]=fe,$e.push(Ie||ye),!_t.length)return{SheetNames:$e,Sheets:Ve};for(var kt={},Wt=[],jt=0;jt<_t.length;++jt)Ve[$e[jt]]?(Wt.push(_t[jt]||$e[jt]),kt[_t[jt]]=Ve[_t[jt]]||Ve[$e[jt]]):(Wt.push(_t[jt]),kt[_t[jt]]={"!ref":"A1"});return{SheetNames:Wt,Sheets:kt}}function n(Z,he){var ie=he||{};if(+ie.codepage>=0&&Ao(+ie.codepage),ie.type=="string")throw new Error("Cannot write WK1 to JS string");var fe=us(),ye=Fr(Z["!ref"]),Ie=Array.isArray(Z),je=[];yt(fe,0,a(1030)),yt(fe,6,m(ye));for(var Ve=Math.min(ye.e.r,8191),$e=ye.s.r;$e<=Ve;++$e)for(var _t=xi($e),me=ye.s.c;me<=ye.e.c;++me){$e===ye.s.r&&(je[me]=zn(me));var wt=je[me]+_t,kt=Ie?(Z[$e]||[])[me]:Z[wt];if(!(!kt||kt.t=="z"))if(kt.t=="n")(kt.v|0)==kt.v&&kt.v>=-32768&&kt.v<=32767?yt(fe,13,C($e,me,kt.v)):yt(fe,14,b($e,me,kt.v));else{var Wt=Jl(kt);yt(fe,15,E($e,me,Wt.slice(0,239)))}}return yt(fe,1),fe.end()}function i(Z,he){var ie=he||{};if(+ie.codepage>=0&&Ao(+ie.codepage),ie.type=="string")throw new Error("Cannot write WK3 to JS string");var fe=us();yt(fe,0,l(Z));for(var ye=0,Ie=0;ye<Z.SheetNames.length;++ye)(Z.Sheets[Z.SheetNames[ye]]||{})["!ref"]&&yt(fe,27,Ce(Z.SheetNames[ye],Ie++));var je=0;for(ye=0;ye<Z.SheetNames.length;++ye){var Ve=Z.Sheets[Z.SheetNames[ye]];if(!(!Ve||!Ve["!ref"])){for(var $e=Fr(Ve["!ref"]),_t=Array.isArray(Ve),me=[],wt=Math.min($e.e.r,8191),kt=$e.s.r;kt<=wt;++kt)for(var Wt=xi(kt),jt=$e.s.c;jt<=$e.e.c;++jt){kt===$e.s.r&&(me[jt]=zn(jt));var ct=me[jt]+Wt,Ot=_t?(Ve[kt]||[])[jt]:Ve[ct];if(!(!Ot||Ot.t=="z"))if(Ot.t=="n")yt(fe,23,q(kt,jt,je,Ot.v));else{var Ct=Jl(Ot);yt(fe,22,L(kt,jt,je,Ct.slice(0,239)))}}++je}}return yt(fe,1),fe.end()}function a(Z){var he=Ye(2);return he.write_shift(2,Z),he}function l(Z){var he=Ye(26);he.write_shift(2,4096),he.write_shift(2,4),he.write_shift(4,0);for(var ie=0,fe=0,ye=0,Ie=0;Ie<Z.SheetNames.length;++Ie){var je=Z.SheetNames[Ie],Ve=Z.Sheets[je];if(!(!Ve||!Ve["!ref"])){++ye;var $e=hs(Ve["!ref"]);ie<$e.e.r&&(ie=$e.e.r),fe<$e.e.c&&(fe=$e.e.c)}}return ie>8191&&(ie=8191),he.write_shift(2,ie),he.write_shift(1,ye),he.write_shift(1,fe),he.write_shift(2,0),he.write_shift(2,0),he.write_shift(1,1),he.write_shift(1,2),he.write_shift(4,0),he.write_shift(4,0),he}function f(Z,he,ie){var fe={s:{c:0,r:0},e:{c:0,r:0}};return he==8&&ie.qpro?(fe.s.c=Z.read_shift(1),Z.l++,fe.s.r=Z.read_shift(2),fe.e.c=Z.read_shift(1),Z.l++,fe.e.r=Z.read_shift(2),fe):(fe.s.c=Z.read_shift(2),fe.s.r=Z.read_shift(2),he==12&&ie.qpro&&(Z.l+=2),fe.e.c=Z.read_shift(2),fe.e.r=Z.read_shift(2),he==12&&ie.qpro&&(Z.l+=2),fe.s.c==65535&&(fe.s.c=fe.e.c=fe.s.r=fe.e.r=0),fe)}function m(Z){var he=Ye(8);return he.write_shift(2,Z.s.c),he.write_shift(2,Z.s.r),he.write_shift(2,Z.e.c),he.write_shift(2,Z.e.r),he}function g(Z,he,ie){var fe=[{c:0,r:0},{t:"n",v:0},0,0];return ie.qpro&&ie.vers!=20768?(fe[0].c=Z.read_shift(1),fe[3]=Z.read_shift(1),fe[0].r=Z.read_shift(2),Z.l+=2):(fe[2]=Z.read_shift(1),fe[0].c=Z.read_shift(2),fe[0].r=Z.read_shift(2)),fe}function y(Z,he,ie){var fe=Z.l+he,ye=g(Z,he,ie);if(ye[1].t="s",ie.vers==20768){Z.l++;var Ie=Z.read_shift(1);return ye[1].v=Z.read_shift(Ie,"utf8"),ye}return ie.qpro&&Z.l++,ye[1].v=Z.read_shift(fe-Z.l,"cstr"),ye}function E(Z,he,ie){var fe=Ye(7+ie.length);fe.write_shift(1,255),fe.write_shift(2,he),fe.write_shift(2,Z),fe.write_shift(1,39);for(var ye=0;ye<fe.length;++ye){var Ie=ie.charCodeAt(ye);fe.write_shift(1,Ie>=128?95:Ie)}return fe.write_shift(1,0),fe}function A(Z,he,ie){var fe=g(Z,he,ie);return fe[1].v=Z.read_shift(2,"i"),fe}function C(Z,he,ie){var fe=Ye(7);return fe.write_shift(1,255),fe.write_shift(2,he),fe.write_shift(2,Z),fe.write_shift(2,ie,"i"),fe}function N(Z,he,ie){var fe=g(Z,he,ie);return fe[1].v=Z.read_shift(8,"f"),fe}function b(Z,he,ie){var fe=Ye(13);return fe.write_shift(1,255),fe.write_shift(2,he),fe.write_shift(2,Z),fe.write_shift(8,ie,"f"),fe}function D(Z,he,ie){var fe=Z.l+he,ye=g(Z,he,ie);if(ye[1].v=Z.read_shift(8,"f"),ie.qpro)Z.l=fe;else{var Ie=Z.read_shift(2);Y(Z.slice(Z.l,Z.l+Ie),ye),Z.l+=Ie}return ye}function P(Z,he,ie){var fe=he&32768;return he&=-32769,he=(fe?Z:0)+(he>=8192?he-16384:he),(fe?"":"$")+(ie?zn(he):xi(he))}var G={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},B=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function Y(Z,he){ca(Z,0);for(var ie=[],fe=0,ye="",Ie="",je="",Ve="";Z.l<Z.length;){var $e=Z[Z.l++];switch($e){case 0:ie.push(Z.read_shift(8,"f"));break;case 1:Ie=P(he[0].c,Z.read_shift(2),!0),ye=P(he[0].r,Z.read_shift(2),!1),ie.push(Ie+ye);break;case 2:{var _t=P(he[0].c,Z.read_shift(2),!0),me=P(he[0].r,Z.read_shift(2),!1);Ie=P(he[0].c,Z.read_shift(2),!0),ye=P(he[0].r,Z.read_shift(2),!1),ie.push(_t+me+":"+Ie+ye)}break;case 3:if(Z.l<Z.length){console.error("WK1 premature formula end");return}break;case 4:ie.push("("+ie.pop()+")");break;case 5:ie.push(Z.read_shift(2));break;case 6:{for(var wt="";$e=Z[Z.l++];)wt+=String.fromCharCode($e);ie.push('"'+wt.replace(/"/g,'""')+'"')}break;case 8:ie.push("-"+ie.pop());break;case 23:ie.push("+"+ie.pop());break;case 22:ie.push("NOT("+ie.pop()+")");break;case 20:case 21:Ve=ie.pop(),je=ie.pop(),ie.push(["AND","OR"][$e-20]+"("+je+","+Ve+")");break;default:if($e<32&&B[$e])Ve=ie.pop(),je=ie.pop(),ie.push(je+B[$e]+Ve);else if(G[$e]){if(fe=G[$e][1],fe==69&&(fe=Z[Z.l++]),fe>ie.length){console.error("WK1 bad formula parse 0x"+$e.toString(16)+":|"+ie.join("|")+"|");return}var kt=ie.slice(-fe);ie.length-=fe,ie.push(G[$e][0]+"("+kt.join(",")+")")}else return $e<=7?console.error("WK1 invalid opcode "+$e.toString(16)):$e<=24?console.error("WK1 unsupported op "+$e.toString(16)):$e<=30?console.error("WK1 invalid opcode "+$e.toString(16)):$e<=115?console.error("WK1 unsupported function opcode "+$e.toString(16)):console.error("WK1 unrecognized opcode "+$e.toString(16))}}ie.length==1?he[1].f=""+ie[0]:console.error("WK1 bad formula parse |"+ie.join("|")+"|")}function te(Z){var he=[{c:0,r:0},{t:"n",v:0},0];return he[0].r=Z.read_shift(2),he[3]=Z[Z.l++],he[0].c=Z[Z.l++],he}function ee(Z,he){var ie=te(Z);return ie[1].t="s",ie[1].v=Z.read_shift(he-4,"cstr"),ie}function L(Z,he,ie,fe){var ye=Ye(6+fe.length);ye.write_shift(2,Z),ye.write_shift(1,ie),ye.write_shift(1,he),ye.write_shift(1,39);for(var Ie=0;Ie<fe.length;++Ie){var je=fe.charCodeAt(Ie);ye.write_shift(1,je>=128?95:je)}return ye.write_shift(1,0),ye}function j(Z,he){var ie=te(Z);ie[1].v=Z.read_shift(2);var fe=ie[1].v>>1;if(ie[1].v&1)switch(fe&7){case 0:fe=(fe>>3)*5e3;break;case 1:fe=(fe>>3)*500;break;case 2:fe=(fe>>3)/20;break;case 3:fe=(fe>>3)/200;break;case 4:fe=(fe>>3)/2e3;break;case 5:fe=(fe>>3)/2e4;break;case 6:fe=(fe>>3)/16;break;case 7:fe=(fe>>3)/64;break}return ie[1].v=fe,ie}function U(Z,he){var ie=te(Z),fe=Z.read_shift(4),ye=Z.read_shift(4),Ie=Z.read_shift(2);if(Ie==65535)return fe===0&&ye===3221225472?(ie[1].t="e",ie[1].v=15):fe===0&&ye===3489660928?(ie[1].t="e",ie[1].v=42):ie[1].v=0,ie;var je=Ie&32768;return Ie=(Ie&32767)-16446,ie[1].v=(1-je*2)*(ye*Math.pow(2,Ie+32)+fe*Math.pow(2,Ie)),ie}function q(Z,he,ie,fe){var ye=Ye(14);if(ye.write_shift(2,Z),ye.write_shift(1,ie),ye.write_shift(1,he),fe==0)return ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(2,65535),ye;var Ie=0,je=0,Ve=0,$e=0;return fe<0&&(Ie=1,fe=-fe),je=Math.log2(fe)|0,fe/=Math.pow(2,je-31),$e=fe>>>0,($e&2147483648)==0&&(fe/=2,++je,$e=fe>>>0),fe-=$e,$e|=2147483648,$e>>>=0,fe*=Math.pow(2,32),Ve=fe>>>0,ye.write_shift(4,Ve),ye.write_shift(4,$e),je+=16383+(Ie?32768:0),ye.write_shift(2,je),ye}function K(Z,he){var ie=U(Z);return Z.l+=he-14,ie}function M(Z,he){var ie=te(Z),fe=Z.read_shift(4);return ie[1].v=fe>>6,ie}function Q(Z,he){var ie=te(Z),fe=Z.read_shift(8,"f");return ie[1].v=fe,ie}function be(Z,he){var ie=Q(Z);return Z.l+=he-10,ie}function xe(Z,he){return Z[Z.l+he-1]==0?Z.read_shift(he,"cstr"):""}function _e(Z,he){var ie=Z[Z.l++];ie>he-1&&(ie=he-1);for(var fe="";fe.length<ie;)fe+=String.fromCharCode(Z[Z.l++]);return fe}function Ae(Z,he,ie){if(!(!ie.qpro||he<21)){var fe=Z.read_shift(1);Z.l+=17,Z.l+=1,Z.l+=2;var ye=Z.read_shift(he-21,"cstr");return[fe,ye]}}function ot(Z,he){for(var ie={},fe=Z.l+he;Z.l<fe;){var ye=Z.read_shift(2);if(ye==14e3){for(ie[ye]=[0,""],ie[ye][0]=Z.read_shift(2);Z[Z.l];)ie[ye][1]+=String.fromCharCode(Z[Z.l]),Z.l++;Z.l++}}return ie}function Ce(Z,he){var ie=Ye(5+Z.length);ie.write_shift(2,14e3),ie.write_shift(2,he);for(var fe=0;fe<Z.length;++fe){var ye=Z.charCodeAt(fe);ie[ie.l++]=ye>127?95:ye}return ie[ie.l++]=0,ie}var ht={0:{n:"BOF",f:Ri},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:A},14:{n:"NUMBER",f:N},15:{n:"LABEL",f:y},16:{n:"FORMULA",f:D},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:y},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:xe},222:{n:"SHEETNAMELP",f:_e},65535:{n:""}},ve={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ee},23:{n:"NUMBER17",f:U},24:{n:"NUMBER18",f:j},25:{n:"FORMULA19",f:K},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ot},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:Q},40:{n:"FORMULA28",f:be},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:xe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ae},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})();function sY(t){var e={},r=t.match(Ra),n=0,i=!1;if(r)for(;n!=r.length;++n){var a=Qt(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=cE[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return e}var oY=(function(){var t=kd("t"),e=kd("rPr");function r(a){var l=a.match(t);if(!l)return{t:"s",v:""};var f={t:"s",v:Lr(l[1])},m=a.match(e);return m&&(f.s=sY(m[1])),f}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(l){return l.replace(n,"").split(i).map(r).filter(function(f){return f.v})}})(),lY=(function(){var e=/(\r\n|\n)/g;function r(i,a,l){var f=[];i.u&&f.push("text-decoration: underline;"),i.uval&&f.push("text-underline-style:"+i.uval+";"),i.sz&&f.push("font-size:"+i.sz+"pt;"),i.outline&&f.push("text-effect: outline;"),i.shadow&&f.push("text-shadow: auto;"),a.push('<span style="'+f.join("")+'">'),i.b&&(a.push("<b>"),l.push("</b>")),i.i&&(a.push("<i>"),l.push("</i>")),i.strike&&(a.push("<s>"),l.push("</s>"));var m=i.valign||"";return m=="superscript"||m=="super"?m="sup":m=="subscript"&&(m="sub"),m!=""&&(a.push("<"+m+">"),l.push("</"+m+">")),l.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}})(),cY=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,uY=/<(?:\w+:)?r>/,fY=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function OE(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Lr(xn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=xn(t),r&&(n.h=yE(n.t))):t.match(uY)&&(n.r=xn(t),n.t=Lr(xn((t.replace(fY,"").match(cY)||[]).join("").replace(Ra,""))),r&&(n.h=lY(oY(n.r)))),n):{t:""}}var hY=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,dY=/<(?:\w+:)?(?:si|sstItem)>/g,gY=/<\/(?:\w+:)?(?:si|sstItem)>/;function mY(t,e){var r=[],n="";if(!t)return r;var i=t.match(hY);if(i){n=i[2].replace(dY,"").split(gY);for(var a=0;a!=n.length;++a){var l=OE(n[a].trim(),e);l!=null&&(r[r.length]=l)}i=Qt(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}var pY=/^\s|\s$|[\t\n\r]/;function BN(t,e){if(!e.bookSST)return"";var r=[yi];r[r.length]=xt("sst",null,{xmlns:mf[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(pY)&&(a+=' xml:space="preserve"'),a+=">"+on(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function xY(t){return[t.read_shift(4),t.read_shift(4)]}function vY(t,e){var r=[],n=!1;return rc(t,function(a,l,f){switch(f){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(l.T,!n||e.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}),r}function yY(t,e){return e||(e=Ye(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var _Y=NW;function EY(t){var e=us();it(e,159,yY(t));for(var r=0;r<t.length;++r)it(e,19,_Y(t[r]));return it(e,160),e.end()}function UN(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function Wl(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function wY(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Wl(t,4),e.U=Wl(t,4),e.W=Wl(t,4),e}function TY(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},i=t.read_shift(4),a=[];i-- >0;)a.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=a,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function AY(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(TY(t));return e}function SY(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function CY(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Wl(t,4),e.U=Wl(t,4),e.W=Wl(t,4),e}function bY(t){var e=CY(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function VN(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function jN(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function IY(t){var e=Wl(t);switch(e.Minor){case 2:return[e.Minor,RY(t)];case 3:return[e.Minor,NY()];case 4:return[e.Minor,kY(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function RY(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=VN(t,r),i=jN(t,t.length-t.l);return{t:"Std",h:n,v:i}}function NY(){throw new Error("File is password-protected: ECMA-376 Extensible")}function kY(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(Ra,function(a){var l=Qt(a);switch(cl(l[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(f){n[f]=l[f]});break;case"<dataIntegrity":n.encryptedHmacKey=l.encryptedHmacKey,n.encryptedHmacValue=l.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=l.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(l);break;default:throw l[0]}}),n}function DY(t,e){var r={},n=r.EncryptionVersionInfo=Wl(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,r.EncryptionHeader=VN(t,i),e-=i,r.EncryptionVerifier=jN(t,e),r}function OY(t){var e={},r=e.EncryptionVersionInfo=Wl(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function ME(t){var e=0,r,n=UN(t),i=n.length+1,a,l,f,m,g;for(r=nu(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)l=r[a],f=(e&16384)===0?0:1,m=e<<1&32767,g=f|m,e=g^l;return e^52811}var zN=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(l){return(l/2|l*128)&255},i=function(l,f){return n(l^f)},a=function(l){for(var f=e[l.length-1],m=104,g=l.length-1;g>=0;--g)for(var y=l[g],E=0;E!=7;++E)y&64&&(f^=r[m]),y*=2,--m;return f};return function(l){for(var f=UN(l),m=a(f),g=f.length,y=nu(16),E=0;E!=16;++E)y[E]=0;var A,C,N;for((g&1)===1&&(A=m>>8,y[g]=i(t[0],A),--g,A=m&255,C=f[f.length-1],y[g]=i(C,A));g>0;)--g,A=m>>8,y[g]=i(f[g],A),--g,A=m&255,y[g]=i(f[g],A);for(g=15,N=15-f.length;N>0;)A=m>>8,y[g]=i(t[N],A),--g,--N,A=m&255,y[g]=i(f[g],A),--g,--N;return y}})(),MY=function(t,e,r,n,i){i||(i=e),n||(n=zN(t));var a,l;for(a=0;a!=e.length;++a)l=e[a],l^=n[r],l=(l>>5|l<<3)&255,i[a]=l,++r;return[i,r,n]},LY=function(t){var e=0,r=zN(t);return function(n){var i=MY("",n,e,r);return e=i[1],i[0]}};function FY(t,e,r,n){var i={key:Ri(t),verificationBytes:Ri(t)};return r.password&&(i.verifier=ME(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=LY(r.password)),i}function PY(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=OY(t):n.Data=DY(t,e),n}function BY(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?PY(t,e-2,n):FY(t,r.biff>=8?e:e-2,r,n),n}var HN=(function(){function t(i,a){switch(a.type){case"base64":return e(Bs(i),a);case"binary":return e(i,a);case"buffer":return e(xr&&Buffer.isBuffer(i)?i.toString("binary"):du(i),a);case"array":return e(sf(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var l=a||{},f=l.dense?[]:{},m=i.match(/\\trowd.*?\\row\b/g);if(!m.length)throw new Error("RTF missing table");var g={s:{c:0,r:0},e:{c:0,r:m.length-1}};return m.forEach(function(y,E){Array.isArray(f)&&(f[E]=[]);for(var A=/\\\w+\b/g,C=0,N,b=-1;N=A.exec(y);){switch(N[0]){case"\\cell":var D=y.slice(C,A.lastIndex-N[0].length);if(D[0]==" "&&(D=D.slice(1)),++b,D.length){var P={v:D,t:"s"};Array.isArray(f)?f[E][b]=P:f[Xt({r:E,c:b})]=P}break}C=A.lastIndex}b>g.e.c&&(g.e.c=b)}),f["!ref"]=ur(g),f}function r(i,a){return gu(t(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],l=Fr(i["!ref"]),f,m=Array.isArray(i),g=l.s.r;g<=l.e.r;++g){a.push("\\trowd\\trautofit1");for(var y=l.s.c;y<=l.e.c;++y)a.push("\\cellx"+(y+1));for(a.push("\\pard\\intbl"),y=l.s.c;y<=l.e.c;++y){var E=Xt({r:g,c:y});f=m?(i[g]||[])[y]:i[E],!(!f||f.v==null&&(!f.f||f.F))&&(a.push(" "+(f.w||(Jl(f),f.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function UY(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Ld(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function VY(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(e,r,n),a=Math.min(e,r,n),l=i-a;if(l===0)return[0,0,e];var f=0,m=0,g=i+a;switch(m=l/(g>1?2-g:g),i){case e:f=((r-n)/l+6)%6;break;case r:f=(n-e)/l+2;break;case n:f=(e-r)/l+4;break}return[f/6,m,g/2]}function jY(t){var e=t[0],r=t[1],n=t[2],i=r*2*(n<.5?n:1-n),a=n-i/2,l=[a,a,a],f=6*e,m;if(r!==0)switch(f|0){case 0:case 6:m=i*f,l[0]+=i,l[1]+=m;break;case 1:m=i*(2-f),l[0]+=m,l[1]+=i;break;case 2:m=i*(f-2),l[1]+=i,l[2]+=m;break;case 3:m=i*(4-f),l[1]+=m,l[2]+=i;break;case 4:m=i*(f-4),l[2]+=i,l[0]+=m;break;case 5:m=i*(6-f),l[2]+=m,l[0]+=i;break}for(var g=0;g!=3;++g)l[g]=Math.round(l[g]*255);return l}function zm(t,e){if(e===0)return t;var r=VY(UY(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),Ld(jY(r))}var GN=6,zY=15,HY=1,Aa=GN;function Fd(t){return Math.floor((t+Math.round(128/Aa)/256)*Aa)}function Pd(t){return Math.floor((t-5)/Aa*100+.5)/100}function Hm(t){return Math.round((t*Aa+5)/Aa*256)/256}function Av(t){return Hm(Pd(Fd(t)))}function LE(t){var e=Math.abs(t-Av(t)),r=Aa;if(e>.005)for(Aa=HY;Aa<zY;++Aa)Math.abs(t-Av(t))<=e&&(e=Math.abs(t-Av(t)),r=Aa);Aa=r}function iu(t){t.width?(t.wpx=Fd(t.width),t.wch=Pd(t.wpx),t.MDW=Aa):t.wpx?(t.wch=Pd(t.wpx),t.width=Hm(t.wch),t.MDW=Aa):typeof t.wch=="number"&&(t.width=Hm(t.wch),t.wpx=Fd(t.width),t.MDW=Aa),t.customWidth&&delete t.customWidth}var GY=96,WN=GY;function Bd(t){return t*96/WN}function L0(t){return t*WN/96}var WY={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function qY(t,e,r,n){e.Borders=[];var i={},a=!1;(t[0].match(Ra)||[]).forEach(function(l){var f=Qt(l);switch(cl(f[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},f.diagonalUp&&(i.diagonalUp=In(f.diagonalUp)),f.diagonalDown&&(i.diagonalDown=In(f.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+f[0]+" in borders")}})}function XY(t,e,r,n){e.Fills=[];var i={},a=!1;(t[0].match(Ra)||[]).forEach(function(l){var f=Qt(l);switch(cl(f[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":f.patternType&&(i.patternType=f.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),f.indexed&&(i.bgColor.indexed=parseInt(f.indexed,10)),f.theme&&(i.bgColor.theme=parseInt(f.theme,10)),f.tint&&(i.bgColor.tint=parseFloat(f.tint)),f.rgb&&(i.bgColor.rgb=f.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),f.theme&&(i.fgColor.theme=parseInt(f.theme,10)),f.tint&&(i.fgColor.tint=parseFloat(f.tint)),f.rgb!=null&&(i.fgColor.rgb=f.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+f[0]+" in fills")}})}function YY(t,e,r,n){e.Fonts=[];var i={},a=!1;(t[0].match(Ra)||[]).forEach(function(l){var f=Qt(l);switch(cl(f[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":f.val&&(i.name=xn(f.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=f.val?In(f.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=f.val?In(f.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(f.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=f.val?In(f.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=f.val?In(f.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=f.val?In(f.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=f.val?In(f.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=f.val?In(f.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":f.val&&(i.sz=+f.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":f.val&&(i.vertAlign=f.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":f.val&&(i.family=parseInt(f.val,10));break;case"<family/>":case"</family>":break;case"<scheme":f.val&&(i.scheme=f.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(f.val=="1")break;f.codepage=cE[parseInt(f.val,10)];break;case"<color":if(i.color||(i.color={}),f.auto&&(i.color.auto=In(f.auto)),f.rgb)i.color.rgb=f.rgb.slice(-6);else if(f.indexed){i.color.index=parseInt(f.indexed,10);var m=qu[i.color.index];i.color.index==81&&(m=qu[1]),m||(m=qu[1]),i.color.rgb=m[0].toString(16)+m[1].toString(16)+m[2].toString(16)}else f.theme&&(i.color.theme=parseInt(f.theme,10),f.tint&&(i.color.tint=parseFloat(f.tint)),f.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=zm(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+f[0]+" in fonts")}})}function KY(t,e,r){e.NumberFmt=[];for(var n=oi(Gt),i=0;i<n.length;++i)e.NumberFmt[n[i]]=Gt[n[i]];var a=t[0].match(Ra);if(a)for(i=0;i<a.length;++i){var l=Qt(a[i]);switch(cl(l[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var f=Lr(xn(l.formatCode)),m=parseInt(l.numFmtId,10);if(e.NumberFmt[m]=f,m>0){if(m>392){for(m=392;m>60&&e.NumberFmt[m]!=null;--m);e.NumberFmt[m]=f}Gl(f,m)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+l[0]+" in numFmts")}}}function QY(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=xt("numFmt",null,{numFmtId:n,formatCode:on(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=xt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var jg=["numFmtId","fillId","fontId","borderId","xfId"],zg=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function $Y(t,e,r){e.CellXf=[];var n,i=!1;(t[0].match(Ra)||[]).forEach(function(a){var l=Qt(a),f=0;switch(cl(l[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=l,delete n[0],f=0;f<jg.length;++f)n[jg[f]]&&(n[jg[f]]=parseInt(n[jg[f]],10));for(f=0;f<zg.length;++f)n[zg[f]]&&(n[zg[f]]=In(n[zg[f]]));if(e.NumberFmt&&n.numFmtId>392){for(f=392;f>60;--f)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[f]){n.numFmtId=f;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var m={};l.vertical&&(m.vertical=l.vertical),l.horizontal&&(m.horizontal=l.horizontal),l.textRotation!=null&&(m.textRotation=l.textRotation),l.indent&&(m.indent=l.indent),l.wrapText&&(m.wrapText=In(l.wrapText)),n.alignment=m;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+l[0]+" in cellXfs")}})}function ZY(t){var e=[];return e[e.length]=xt("cellXfs",null),t.forEach(function(r){e[e.length]=xt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=xt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var JY=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(f,m,g){var y={};if(!f)return y;f=f.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var E;return(E=f.match(e))&&KY(E,y,g),(E=f.match(i))&&YY(E,y,m,g),(E=f.match(n))&&XY(E,y,m,g),(E=f.match(a))&&qY(E,y,m,g),(E=f.match(r))&&$Y(E,y,g),y}})();function qN(t,e){var r=[yi,xt("styleSheet",null,{xmlns:mf[0],"xmlns:vt":Ui.vt})],n;return t.SSF&&(n=QY(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=ZY(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function eK(t,e){var r=t.read_shift(2),n=Ca(t);return[r,n]}function tK(t,e,r){r||(r=Ye(6+4*e.length)),r.write_shift(2,t),Qi(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function rK(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=PW(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(n.underline=l);var f=t.read_shift(1);f>0&&(n.family=f);var m=t.read_shift(1);switch(m>0&&(n.charset=m),t.l++,n.color=FW(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ca(t),n}function nK(t,e){e||(e=Ye(153)),e.write_shift(2,t.sz*20),BW(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Um(t.color,e);var n=0;return n=2,e.write_shift(1,n),Qi(t.name,e),e.length>e.l?e.slice(0,e.l):e}var iK=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Sv,aK=Ia;function tb(t,e){e||(e=Ye(84)),Sv||(Sv=Bp(iK));var r=Sv[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(Um({auto:1},e),Um({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function sK(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function XN(t,e,r){r||(r=Ye(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Ph(t,e){return e||(e=Ye(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var oK=Ia;function lK(t,e){return e||(e=Ye(51)),e.write_shift(1,0),Ph(null,e),Ph(null,e),Ph(null,e),Ph(null,e),Ph(null,e),e.length>e.l?e.slice(0,e.l):e}function cK(t,e){return e||(e=Ye(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Bm(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function uK(t,e,r){var n=Ye(2052);return n.write_shift(4,t),Bm(e,n),Bm(r,n),n.length>n.l?n.slice(0,n.l):n}function fK(t,e,r){var n={};n.NumberFmt=[];for(var i in Gt)n.NumberFmt[i]=Gt[i];n.CellXf=[],n.Fonts=[];var a=[],l=!1;return rc(t,function(m,g,y){switch(y){case 44:n.NumberFmt[m[0]]=m[1],Gl(m[1],m[0]);break;case 43:n.Fonts.push(m),m.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(m.color.rgb=zm(e.themeElements.clrScheme[m.color.theme].rgb,m.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(m);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:a.push(y),l=!0;break;case 38:a.pop(),l=!1;break;default:if(g.T>0)a.push(y);else if(g.T<0)a.pop();else if(!l||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+y.toString(16))}}),n}function hK(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(it(t,615,bo(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&it(t,44,tK(i,e[i]))}),it(t,616))}}function dK(t){var e=1;it(t,611,bo(e)),it(t,43,nK({sz:12,color:{theme:1},name:"Calibri",family:2})),it(t,612)}function gK(t){var e=2;it(t,603,bo(e)),it(t,45,tb({patternType:"none"})),it(t,45,tb({patternType:"gray125"})),it(t,604)}function mK(t){var e=1;it(t,613,bo(e)),it(t,46,lK()),it(t,614)}function pK(t){var e=1;it(t,626,bo(e)),it(t,47,XN({numFmtId:0},65535)),it(t,627)}function xK(t,e){it(t,617,bo(e.length)),e.forEach(function(r){it(t,47,XN(r,0))}),it(t,618)}function vK(t){var e=1;it(t,619,bo(e)),it(t,48,cK({xfId:0,name:"Normal"})),it(t,620)}function yK(t){var e=0;it(t,505,bo(e)),it(t,506)}function _K(t){var e=0;it(t,508,uK(e,"TableStyleMedium9","PivotStyleMedium4")),it(t,509)}function EK(t,e){var r=us();return it(r,278),hK(r,t.SSF),dK(r),gK(r),mK(r),pK(r),xK(r,e.cellXfs),vK(r),yK(r),_K(r),it(r,279),r.end()}var wK=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function TK(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(Ra)||[]).forEach(function(i){var a=Qt(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[wK.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function AK(){}function SK(){}var CK=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,bK=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,IK=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function RK(t,e,r){e.themeElements={};var n;[["clrScheme",CK,TK],["fontScheme",bK,AK],["fmtScheme",IK,SK]].forEach(function(i){if(!(n=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,r)})}var NK=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function YN(t,e){(!t||t.length===0)&&(t=FE());var r,n={};if(!(r=t.match(NK)))throw new Error("themeElements not found in theme");return RK(r[0],n,e),n.raw=t,n}function FE(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[yi];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function kK(t,e,r){var n=t.l+e,i=t.read_shift(4);if(i!==124226){if(!r.cellStyles){t.l=n;return}var a=t.slice(t.l);t.l=n;var l;try{l=V8(a,{type:"array"})}catch{return}var f=Os(l,"theme/theme/theme1.xml",!0);if(f)return YN(f,r)}}function DK(t){return t.read_shift(4)}function OK(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=MK(t,4);break;case 2:e.xclrValue=bN(t);break;case 3:e.xclrValue=DK(t);break;case 4:t.l+=4;break}return t.l+=8,e}function MK(t,e){return Ia(t,e)}function LK(t,e){return Ia(t,e)}function FK(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=OK(t);break;case 6:n[1]=LK(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function PK(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),a=[];i-- >0;)a.push(FK(t,r-t.l));return{ixfe:n,ext:a}}function BK(t,e){e.forEach(function(r){r[0]})}function UK(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ca(t)}}function VK(t){var e=Ye(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Qi(t.name,e),e.slice(0,e.l)}function jK(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function zK(t){var e=Ye(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function HK(t,e){var r=Ye(8+2*e.length);return r.write_shift(4,t),Qi(e,r),r.slice(0,r.l)}function GK(t){return t.l+=4,t.read_shift(4)!=0}function WK(t,e){var r=Ye(8);return r.write_shift(4,t),r.write_shift(4,1),r}function qK(t,e,r){var n={Types:[],Cell:[],Value:[]},i=r||{},a=[],l=!1,f=2;return rc(t,function(m,g,y){switch(y){case 335:n.Types.push({name:m.name});break;case 51:m.forEach(function(E){f==1?n.Cell.push({type:n.Types[E[0]-1].name,index:E[1]}):f==0&&n.Value.push({type:n.Types[E[0]-1].name,index:E[1]})});break;case 337:f=m?1:0;break;case 338:f=2;break;case 35:a.push(y),l=!0;break;case 36:a.pop(),l=!1;break;default:if(!g.T){if(!l||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+y.toString(16))}}}),n}function XK(){var t=us();return it(t,332),it(t,334,bo(1)),it(t,335,VK({name:"XLDAPR",version:12e4,flags:3496657072})),it(t,336),it(t,339,HK(1,"XLDAPR")),it(t,52),it(t,35,bo(514)),it(t,4096,bo(0)),it(t,4097,no(1)),it(t,36),it(t,53),it(t,340),it(t,337,WK(1)),it(t,51,zK([[1,0]])),it(t,338),it(t,333),t.end()}function YK(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var i=!1,a=2,l;return t.replace(Ra,function(f){var m=Qt(f);switch(cl(m[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:m.name});break;case"</metadataType>":break;case"<futureMetadata":for(var g=0;g<n.Types.length;++g)n.Types[g].name==m.name&&(l=n.Types[g]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[m.t-1].name,index:+m.v}):a==0&&n.Value.push({type:n.Types[m.t-1].name,index:+m.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!l)break;l.offsets||(l.offsets=[]),l.offsets.push(+m.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+m[0]+" in metadata")}return f}),n}function KN(){var t=[yi];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function KK(t){var e=[];if(!t)return e;var r=1;return(t.match(Ra)||[]).forEach(function(n){var i=Qt(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,e.push(i);break}}),e}function QK(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Xt(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function $K(t,e,r){var n=[];return rc(t,function(a,l,f){switch(f){case 63:n.push(a);break;default:if(!l.T)throw new Error("Unexpected record 0x"+f.toString(16))}}),n}function ZK(t,e,r,n){if(!t)return t;var i=n||{},a=!1;rc(t,function(f,m,g){switch(g){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!m.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+g.toString(16))}}},i)}function JK(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}var g0=1024;function QN(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[xt("xml",null,{"xmlns:v":bs.v,"xmlns:o":bs.o,"xmlns:x":bs.x,"xmlns:mv":bs.mv}).replace(/\/>/,">"),xt("o:shapelayout",xt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),xt("v:shapetype",[xt("v:stroke",null,{joinstyle:"miter"}),xt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];g0<t*1e3;)g0+=1e3;return e.forEach(function(a){var l=Hn(a[0]),f={color2:"#BEFF82",type:"gradient"};f.type=="gradient"&&(f.angle="-180");var m=f.type=="gradient"?xt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,g=xt("v:fill",m,f),y={on:"t",obscured:"t"};++g0,i=i.concat(["<v:shape"+Dd({id:"_x0000_s"+g0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",g,xt("v:shadow",null,y),xt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",fa("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),fa("x:AutoFill","False"),fa("x:Row",String(l.r)),fa("x:Column",String(l.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function rb(t,e,r,n){var i=Array.isArray(t),a;e.forEach(function(l){var f=Hn(l.ref);if(i?(t[f.r]||(t[f.r]=[]),a=t[f.r][f.c]):a=t[l.ref],!a){a={t:"z"},i?t[f.r][f.c]=a:t[l.ref]=a;var m=Fr(t["!ref"]||"BDWGO1000001:A1");m.s.r>f.r&&(m.s.r=f.r),m.e.r<f.r&&(m.e.r=f.r),m.s.c>f.c&&(m.s.c=f.c),m.e.c<f.c&&(m.e.c=f.c);var g=ur(m);g!==t["!ref"]&&(t["!ref"]=g)}a.c||(a.c=[]);var y={a:l.author,t:l.t,r:l.r,T:r};l.h&&(y.h=l.h);for(var E=a.c.length-1;E>=0;--E){if(!r&&a.c[E].T)return;r&&!a.c[E].T&&a.c.splice(E,1)}if(r&&n){for(E=0;E<n.length;++E)if(y.a==n[E].id){y.a=n[E].name||y.a;break}}a.c.push(y)})}function eQ(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(l){if(!(l===""||l.trim()==="")){var f=l.match(/<(?:\w+:)?author[^>]*>(.*)/);f&&r.push(f[1])}});var a=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(l){if(!(l===""||l.trim()==="")){var f=l.match(/<(?:\w+:)?comment[^>]*>/);if(f){var m=Qt(f[0]),g={author:m.authorId&&r[m.authorId]||"sheetjsghost",ref:m.ref,guid:m.guid},y=Hn(m.ref);if(!(e.sheetRows&&e.sheetRows<=y.r)){var E=l.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),A=!!E&&!!E[1]&&OE(E[1])||{r:"",t:"",h:""};g.r=A.r,A.r=="<t></t>"&&(A.t=A.h=""),g.t=(A.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(g.h=A.h),n.push(g)}}}}),n}function $N(t){var e=[yi,xt("comments",null,{xmlns:mf[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var a=on(i.a);r.indexOf(a)==-1&&(r.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(m){m.a&&(i=r.indexOf(on(m.a))),a.push(m.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(fa("t",on(a[0]||"")));else{for(var l=`Comment:
    `+a[0]+`
`,f=1;f<a.length;++f)l+=`Reply:
    `+a[f]+`
`;e.push(fa("t",on(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function tQ(t,e){var r=[],n=!1,i={},a=0;return t.replace(Ra,function(f,m){var g=Qt(f);switch(cl(g[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:g.personId,guid:g.id,ref:g.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=m+f.length;break;case"</text>":i.t=t.slice(a,m).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+g[0]+" in threaded comments")}return f}),r}function rQ(t,e,r){var n=[yi,xt("ThreadedComments",null,{xmlns:Ui.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var a="";(i[1]||[]).forEach(function(l,f){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var m={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};f==0?a=m.id:m.parentId=a,l.ID=m.id,l.a&&(m.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),n.push(xt("threadedComment",fa("text",l.t||""),m))})}),n.push("</ThreadedComments>"),n.join("")}function nQ(t,e){var r=[],n=!1;return t.replace(Ra,function(a){var l=Qt(a);switch(cl(l[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:l.displayname,id:l.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return a}),r}function iQ(t){var e=[yi,xt("personList",null,{xmlns:Ui.TCMNT,"xmlns:x":mf[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(xt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function aQ(t){var e={};e.iauthor=t.read_shift(4);var r=yf(t);return e.rfx=r.s,e.ref=Xt(r.s),t.l+=16,e}function sQ(t,e){return e==null&&(e=Ye(36)),e.write_shift(4,t[1].iauthor),K0(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var oQ=Ca;function lQ(t){return Qi(t.slice(0,54))}function cQ(t,e){var r=[],n=[],i={},a=!1;return rc(t,function(f,m,g){switch(g){case 632:n.push(f);break;case 635:i=f;break;case 637:i.t=f.t,i.h=f.h,i.r=f.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!m.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+g.toString(16))}}}),r}function uQ(t){var e=us(),r=[];return it(e,628),it(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),it(e,632,lQ(i.a)))})}),it(e,631),it(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:Hn(n[0]),e:Hn(n[0])};it(e,635,sQ([a,i])),i.t&&i.t.length>0&&it(e,637,DW(i)),it(e,636),delete i.iauthor})}),it(e,634),it(e,629),e.end()}var fQ="application/vnd.ms-office.vbaProject";function hQ(t){var e=Ut.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ut.utils.cfb_add(e,i,t.FileIndex[n].content)}}),Ut.write(e)}function dQ(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Ut.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var ZN=["xlsb","xlsm","xlam","biff8","xla"];function gQ(){return{"!type":"dialog"}}function mQ(){return{"!type":"dialog"}}function pQ(){return{"!type":"macro"}}function xQ(){return{"!type":"macro"}}var A0=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,a,l){var f=!1,m=!1;a.length==0?m=!0:a.charAt(0)=="["&&(m=!0,a=a.slice(1,-1)),l.length==0?f=!0:l.charAt(0)=="["&&(f=!0,l=l.slice(1,-1));var g=a.length>0?parseInt(a,10)|0:0,y=l.length>0?parseInt(l,10)|0:0;return f?y+=e.c:--y,m?g+=e.r:--g,i+(f?"":"$")+zn(y)+(m?"":"$")+xi(g)}return function(i,a){return e=a,i.replace(t,r)}})(),PE=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,BE=(function(){return function(e,r){return e.replace(PE,function(n,i,a,l,f,m){var g=AE(l)-(a?0:r.c),y=TE(m)-(f?0:r.r),E=y==0?"":f?y+1:"["+y+"]",A=g==0?"":a?g+1:"["+g+"]";return i+"R"+E+"C"+A})}})();function JN(t,e){return t.replace(PE,function(r,n,i,a,l,f){return n+(i=="$"?i+a:zn(AE(a)+e.c))+(l=="$"?l+f:xi(TE(f)+e.r))})}function vQ(t,e,r){var n=hs(e),i=n.s,a=Hn(r),l={r:a.r-i.r,c:a.c-i.c};return JN(t,l)}function yQ(t){return t.length!=1}function nb(t){return t.replace(/_xlfn\./g,"")}function Ci(t){t.l+=1}function au(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function ek(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return tk(t);r.biff==12&&(n=4)}var i=t.read_shift(n),a=t.read_shift(n),l=au(t),f=au(t);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:a,c:f[0],cRel:f[1],rRel:f[2]}}}function tk(t){var e=au(t),r=au(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function _Q(t,e,r){if(r.biff<8)return tk(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),a=au(t),l=au(t);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function rk(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return EQ(t);var n=t.read_shift(r&&r.biff==12?4:2),i=au(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function EQ(t){var e=au(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function wQ(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function TQ(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return AQ(t);var i=t.read_shift(n>=12?4:2),a=t.read_shift(2),l=(a&16384)>>14,f=(a&32768)>>15;if(a&=16383,f==1)for(;i>524287;)i-=1048576;if(l==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:l,rRel:f}}function AQ(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function SQ(t,e,r){var n=(t[t.l++]&96)>>5,i=ek(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function CQ(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var l=ek(t,a,r);return[n,i,l]}function bQ(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function IQ(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,i]}function RQ(t,e,r){var n=(t[t.l++]&96)>>5,i=_Q(t,e-1,r);return[n,i]}function NQ(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function ib(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function kQ(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function DQ(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function OQ(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function MQ(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function LQ(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function nk(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function FQ(t){return t.read_shift(2),nk(t)}function PQ(t){return t.read_shift(2),nk(t)}function BQ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=rk(t,0,r);return[n,i]}function UQ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=TQ(t,0,r);return[n,i]}function VQ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=rk(t,0,r);return[n,i,a]}function jQ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[G$[i],sk[i],n]}function zQ(t,e,r){var n=t[t.l++],i=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:HQ(t);return[i,(a[0]===0?sk:H$)[a[1]]]}function HQ(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function GQ(t,e,r){t.l+=r&&r.biff==2?3:4}function WQ(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function qQ(t){return t.l++,nc[t.read_shift(1)]}function XQ(t){return t.l++,t.read_shift(2)}function YQ(t){return t.l++,t.read_shift(1)!==0}function KQ(t){return t.l++,Sa(t)}function QQ(t,e,r){return t.l++,u1(t,e-1,r)}function $Q(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=mi(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=nc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Sa(t);break;case 2:r[1]=_f(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function ZQ(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?yf:jp)(t));return i}function JQ(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,l=[];a!=n&&(l[a]=[]);++a)for(var f=0;f!=i;++f)l[a][f]=$Q(t,r.biff);return l}function e$(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function t$(t,e,r){if(r.biff==5)return r$(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[n,i,a]}function r$(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function n$(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function i$(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function a$(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function s$(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,i]}var o$=Ia,l$=Ia,c$=Ia;function h1(t,e,r){return t.l+=2,[wQ(t)]}function UE(t){return t.l+=6,[]}var u$=h1,f$=UE,h$=UE,d$=h1;function ik(t){return t.l+=2,[Ri(t),t.read_shift(2)&1]}var g$=h1,m$=ik,p$=UE,x$=h1,v$=h1,y$=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function _$(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),l=y$[r>>2&31];return{ixti:e,coltype:r&3,rt:l,idx:n,c:i,C:a}}function E$(t){return t.l+=2,[t.read_shift(4)]}function w$(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function T$(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function A$(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function S$(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function C$(t){return t.l+=4,[0,0]}var ab={1:{n:"PtgExp",f:WQ},2:{n:"PtgTbl",f:c$},3:{n:"PtgAdd",f:Ci},4:{n:"PtgSub",f:Ci},5:{n:"PtgMul",f:Ci},6:{n:"PtgDiv",f:Ci},7:{n:"PtgPower",f:Ci},8:{n:"PtgConcat",f:Ci},9:{n:"PtgLt",f:Ci},10:{n:"PtgLe",f:Ci},11:{n:"PtgEq",f:Ci},12:{n:"PtgGe",f:Ci},13:{n:"PtgGt",f:Ci},14:{n:"PtgNe",f:Ci},15:{n:"PtgIsect",f:Ci},16:{n:"PtgUnion",f:Ci},17:{n:"PtgRange",f:Ci},18:{n:"PtgUplus",f:Ci},19:{n:"PtgUminus",f:Ci},20:{n:"PtgPercent",f:Ci},21:{n:"PtgParen",f:Ci},22:{n:"PtgMissArg",f:Ci},23:{n:"PtgStr",f:QQ},26:{n:"PtgSheet",f:w$},27:{n:"PtgEndSheet",f:T$},28:{n:"PtgErr",f:qQ},29:{n:"PtgBool",f:YQ},30:{n:"PtgInt",f:XQ},31:{n:"PtgNum",f:KQ},32:{n:"PtgArray",f:NQ},33:{n:"PtgFunc",f:jQ},34:{n:"PtgFuncVar",f:zQ},35:{n:"PtgName",f:e$},36:{n:"PtgRef",f:BQ},37:{n:"PtgArea",f:SQ},38:{n:"PtgMemArea",f:n$},39:{n:"PtgMemErr",f:o$},40:{n:"PtgMemNoMem",f:l$},41:{n:"PtgMemFunc",f:i$},42:{n:"PtgRefErr",f:a$},43:{n:"PtgAreaErr",f:bQ},44:{n:"PtgRefN",f:UQ},45:{n:"PtgAreaN",f:RQ},46:{n:"PtgMemAreaN",f:A$},47:{n:"PtgMemNoMemN",f:S$},57:{n:"PtgNameX",f:t$},58:{n:"PtgRef3d",f:VQ},59:{n:"PtgArea3d",f:CQ},60:{n:"PtgRefErr3d",f:s$},61:{n:"PtgAreaErr3d",f:IQ},255:{}},b$={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},I$={1:{n:"PtgElfLel",f:ik},2:{n:"PtgElfRw",f:x$},3:{n:"PtgElfCol",f:u$},6:{n:"PtgElfRwV",f:v$},7:{n:"PtgElfColV",f:d$},10:{n:"PtgElfRadical",f:g$},11:{n:"PtgElfRadicalS",f:p$},13:{n:"PtgElfColS",f:f$},15:{n:"PtgElfColSV",f:h$},16:{n:"PtgElfRadicalLel",f:m$},25:{n:"PtgList",f:_$},29:{n:"PtgSxName",f:E$},255:{}},R$={0:{n:"PtgAttrNoop",f:C$},1:{n:"PtgAttrSemi",f:LQ},2:{n:"PtgAttrIf",f:OQ},4:{n:"PtgAttrChoose",f:kQ},8:{n:"PtgAttrGoto",f:DQ},16:{n:"PtgAttrSum",f:GQ},32:{n:"PtgAttrBaxcel",f:ib},33:{n:"PtgAttrBaxcel",f:ib},64:{n:"PtgAttrSpace",f:FQ},65:{n:"PtgAttrSpaceSemi",f:PQ},128:{n:"PtgAttrIfError",f:MQ},255:{}};function d1(t,e,r,n){if(n.biff<8)return Ia(t,e);for(var i=t.l+e,a=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=JQ(t,0,n),a.push(r[l][1]);break;case"PtgMemArea":r[l][2]=ZQ(t,r[l][1],n),a.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=t.read_shift(4),a.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return e=i-t.l,e!==0&&a.push(Ia(t,e)),a}function g1(t,e,r){for(var n=t.l+e,i,a,l=[];n!=t.l;)e=n-t.l,a=t[t.l],i=ab[a]||ab[b$[a]],(a===24||a===25)&&(i=(a===24?I$:R$)[t[t.l+1]]),!i||!i.f?Ia(t,e):l.push([i.n,i.f(t,e,r)]);return l}function N$(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],a=0;a<n.length;++a){var l=n[a];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var k$={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function D$(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function ak(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function sb(t,e,r){var n=ak(t,e,r);return n=="#REF"?n:D$(n,r)}function wa(t,e,r,n,i){var a=i&&i.biff||8,l={s:{c:0,r:0}},f=[],m,g,y,E=0,A=0,C,N="";if(!t[0]||!t[0][0])return"";for(var b=-1,D="",P=0,G=t[0].length;P<G;++P){var B=t[0][P];switch(B[0]){case"PtgUminus":f.push("-"+f.pop());break;case"PtgUplus":f.push("+"+f.pop());break;case"PtgPercent":f.push(f.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(m=f.pop(),g=f.pop(),b>=0){switch(t[0][b][1][0]){case 0:D=ni(" ",t[0][b][1][1]);break;case 1:D=ni("\r",t[0][b][1][1]);break;default:if(D="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}g=g+D,b=-1}f.push(g+k$[B[0]]+m);break;case"PtgIsect":m=f.pop(),g=f.pop(),f.push(g+" "+m);break;case"PtgUnion":m=f.pop(),g=f.pop(),f.push(g+","+m);break;case"PtgRange":m=f.pop(),g=f.pop(),f.push(g+":"+m);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":y=sd(B[1][1],l,i),f.push(od(y,a));break;case"PtgRefN":y=r?sd(B[1][1],r,i):B[1][1],f.push(od(y,a));break;case"PtgRef3d":E=B[1][1],y=sd(B[1][2],l,i),N=sb(n,E,i),f.push(N+"!"+od(y,a));break;case"PtgFunc":case"PtgFuncVar":var Y=B[1][0],te=B[1][1];Y||(Y=0),Y&=127;var ee=Y==0?[]:f.slice(-Y);f.length-=Y,te==="User"&&(te=ee.shift()),f.push(te+"("+ee.join(",")+")");break;case"PtgBool":f.push(B[1]?"TRUE":"FALSE");break;case"PtgInt":f.push(B[1]);break;case"PtgNum":f.push(String(B[1]));break;case"PtgStr":f.push('"'+B[1].replace(/"/g,'""')+'"');break;case"PtgErr":f.push(B[1]);break;case"PtgAreaN":C=L3(B[1][1],r?{s:r}:l,i),f.push(Ev(C,i));break;case"PtgArea":C=L3(B[1][1],l,i),f.push(Ev(C,i));break;case"PtgArea3d":E=B[1][1],C=B[1][2],N=sb(n,E,i),f.push(N+"!"+Ev(C,i));break;case"PtgAttrSum":f.push("SUM("+f.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":A=B[1][2];var L=(n.names||[])[A-1]||(n[0]||[])[A],j=L?L.Name:"SH33TJSNAME"+String(A);j&&j.slice(0,6)=="_xlfn."&&!i.xlfn&&(j=j.slice(6)),f.push(j);break;case"PtgNameX":var U=B[1][1];A=B[1][2];var q;if(i.biff<=5)U<0&&(U=-U),n[U]&&(q=n[U][A]);else{var K="";if(((n[U]||[])[0]||[])[0]==14849||(((n[U]||[])[0]||[])[0]==1025?n[U][A]&&n[U][A].itab>0&&(K=n.SheetNames[n[U][A].itab-1]+"!"):K=n.SheetNames[A-1]+"!"),n[U]&&n[U][A])K+=n[U][A].Name;else if(n[0]&&n[0][A])K+=n[0][A].Name;else{var M=(ak(n,U,i)||"").split(";;");M[A-1]?K=M[A-1]:K+="SH33TJSERRX"}f.push(K);break}q||(q={Name:"SH33TJSERRY"}),f.push(q.Name);break;case"PtgParen":var Q="(",be=")";if(b>=0){switch(D="",t[0][b][1][0]){case 2:Q=ni(" ",t[0][b][1][1])+Q;break;case 3:Q=ni("\r",t[0][b][1][1])+Q;break;case 4:be=ni(" ",t[0][b][1][1])+be;break;case 5:be=ni("\r",t[0][b][1][1])+be;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}b=-1}f.push(Q+f.pop()+be);break;case"PtgRefErr":f.push("#REF!");break;case"PtgRefErr3d":f.push("#REF!");break;case"PtgExp":y={c:B[1][1],r:B[1][0]};var xe={c:r.c,r:r.r};if(n.sharedf[Xt(y)]){var _e=n.sharedf[Xt(y)];f.push(wa(_e,l,xe,n,i))}else{var Ae=!1;for(m=0;m!=n.arrayf.length;++m)if(g=n.arrayf[m],!(y.c<g[0].s.c||y.c>g[0].e.c)&&!(y.r<g[0].s.r||y.r>g[0].e.r)){f.push(wa(g[1],l,xe,n,i)),Ae=!0;break}Ae||f.push(B[1])}break;case"PtgArray":f.push("{"+N$(B[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=P;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":f.push("");break;case"PtgAreaErr":f.push("#REF!");break;case"PtgAreaErr3d":f.push("#REF!");break;case"PtgList":f.push("Table"+B[1].idx+"[#"+B[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(B));default:throw new Error("Unrecognized Formula Token: "+String(B))}var ot=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&ot.indexOf(t[0][P][0])==-1){B=t[0][b];var Ce=!0;switch(B[1][0]){case 4:Ce=!1;case 0:D=ni(" ",B[1][1]);break;case 5:Ce=!1;case 1:D=ni("\r",B[1][1]);break;default:if(D="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+B[1][0])}f.push((Ce?D:"")+f.pop()+(Ce?"":D)),b=-1}}if(f.length>1&&i.WTF)throw new Error("bad formula stack");return f[0]}function O$(t,e,r){var n=t.l+e,i=r.biff==2?1:2,a,l=t.read_shift(i);if(l==65535)return[[],Ia(t,e-2)];var f=g1(t,l,r);return e!==l+i&&(a=d1(t,e-l-i,f,r)),t.l=n,[f,a]}function M$(t,e,r){var n=t.l+e,i=r.biff==2?1:2,a,l=t.read_shift(i);if(l==65535)return[[],Ia(t,e-2)];var f=g1(t,l,r);return e!==l+i&&(a=d1(t,e-l-i,f,r)),t.l=n,[f,a]}function L$(t,e,r,n){var i=t.l+e,a=g1(t,n,r),l;return i!==t.l&&(l=d1(t,i-t.l,a,r)),[a,l]}function F$(t,e,r){var n=t.l+e,i,a=t.read_shift(2),l=g1(t,a,r);return a==65535?[[],Ia(t,e-2)]:(e!==a+2&&(i=d1(t,n-a-2,l,r)),[l,i])}function P$(t){var e;if(Ul(t,t.l+6)!==65535)return[Sa(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function B$(t){if(t==null){var e=Ye(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return of(t);return of(0)}function Cv(t,e,r){var n=t.l+e,i=ul(t);r.biff==2&&++t.l;var a=P$(t),l=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var f=M$(t,n-t.l,r);return{cell:i,val:a[0],formula:f,shared:l>>3&1,tt:a[1]}}function U$(t,e,r,n,i){var a=cf(e,r,i),l=B$(t.v),f=Ye(6),m=33;f.write_shift(2,m),f.write_shift(4,0);for(var g=Ye(t.bf.length),y=0;y<t.bf.length;++y)g[y]=t.bf[y];var E=Ki([a,l,f,g]);return E}function zp(t,e,r){var n=t.read_shift(4),i=g1(t,n,r),a=t.read_shift(4),l=a>0?d1(t,a,i,r):null;return[i,l]}var V$=zp,Hp=zp,j$=zp,z$=zp,H$={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},sk={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},G$={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ob(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function W$(t){var e="of:="+t.replace(PE,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function bv(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function q$(t){return t.replace(/\./,"!")}var cd={},S0={},ud=typeof Map<"u";function VE(t,e,r){var n=0,i=t.length;if(r){if(ud?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var a=ud?r.get(e):r[e];n<a.length;++n)if(t[a[n]].t===e)return t.Count++,a[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(ud?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function Gp(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Aa=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Pd(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=Hm(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function Ku(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function mu(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,a=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){Gl(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=a;++i)if(t[i].numFmtId===n)return i;return t[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function ok(t,e,r,n,i,a){try{n.cellNF&&(t.z=Gt[e])}catch(f){if(n.WTF)throw f}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=kn(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(Gt[e]==null&&Gl(HG[e]||"General",e),t.t==="e")t.w=t.w||nc[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Nd(t.v);else if(t.t==="d"){var l=ji(t.v);(l|0)===l?t.w=l.toString(10):t.w=Nd(l)}else{if(t.v===void 0)return"";t.w=af(t.v,S0)}else t.t==="d"?t.w=co(e,ji(t.v),S0):t.w=co(e,t.v,S0)}catch(f){if(n.WTF)throw f}if(n.cellStyles&&r!=null)try{t.s=a.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=zm(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=zm(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(f){if(n.WTF&&a.Fills)throw f}}}function X$(t,e,r){if(t&&t["!ref"]){var n=Fr(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function Y$(t,e){var r=Fr(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=ur(r))}var K$=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Q$=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,$$=/<(?:\w:)?hyperlink [^>]*>/mg,Z$=/"(\w*:\w*)"/,J$=/<(?:\w:)?col\b[^>]*[\/]?>/g,eZ=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,tZ=/<(?:\w:)?pageMargins[^>]*\/>/g,lk=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,rZ=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,nZ=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function iZ(t,e,r,n,i,a,l){if(!t)return t;n||(n={"!id":{}});var f=e.dense?[]:{},m={s:{r:2e6,c:2e6},e:{r:0,c:0}},g="",y="",E=t.match(Q$);E?(g=t.slice(0,E.index),y=t.slice(E.index+E[0].length)):g=y=t;var A=g.match(lk);A?jE(A[0],f,i,r):(A=g.match(rZ))&&sZ(A[0],A[1]||"",f,i,r);var C=(g.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(C>0){var N=g.slice(C,C+50).match(Z$);N&&Y$(f,N[1])}var b=g.match(nZ);b&&b[1]&&yZ(b[1],i);var D=[];if(e.cellStyles){var P=g.match(J$);P&&gZ(D,P)}E&&wZ(E[1],f,e,m,a,l);var G=y.match(eZ);G&&(f["!autofilter"]=pZ(G[0]));var B=[],Y=y.match(K$);if(Y)for(C=0;C!=Y.length;++C)B[C]=Fr(Y[C].slice(Y[C].indexOf('"')+1));var te=y.match($$);te&&fZ(f,te,n);var ee=y.match(tZ);if(ee&&(f["!margins"]=hZ(Qt(ee[0]))),!f["!ref"]&&m.e.c>=m.s.c&&m.e.r>=m.s.r&&(f["!ref"]=ur(m)),e.sheetRows>0&&f["!ref"]){var L=Fr(f["!ref"]);e.sheetRows<=+L.e.r&&(L.e.r=e.sheetRows-1,L.e.r>m.e.r&&(L.e.r=m.e.r),L.e.r<L.s.r&&(L.s.r=L.e.r),L.e.c>m.e.c&&(L.e.c=m.e.c),L.e.c<L.s.c&&(L.s.c=L.e.c),f["!fullref"]=f["!ref"],f["!ref"]=ur(L))}return D.length>0&&(f["!cols"]=D),B.length>0&&(f["!merges"]=B),f}function aZ(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+ur(t[r])+'"/>';return e+"</mergeCells>"}function jE(t,e,r,n){var i=Qt(t);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=Lr(xn(i.codeName)))}function sZ(t,e,r,n,i){jE(t.slice(0,t.indexOf(">")),r,n,i)}function oZ(t,e,r,n,i){var a=!1,l={},f=null;if(n.bookType!=="xlsx"&&e.vbaraw){var m=e.SheetNames[r];try{e.Workbook&&(m=e.Workbook.Sheets[r].CodeName||m)}catch{}a=!0,l.codeName=$o(on(m))}if(t&&t["!outline"]){var g={summaryBelow:1,summaryRight:1};t["!outline"].above&&(g.summaryBelow=0),t["!outline"].left&&(g.summaryRight=0),f=(f||"")+xt("outlinePr",null,g)}!a&&!f||(i[i.length]=xt("sheetPr",f,l))}var lZ=["objects","scenarios","selectLockedCells","selectUnlockedCells"],cZ=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function uZ(t){var e={sheet:1};return lZ.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),cZ.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=ME(t.password).toString(16).toUpperCase()),xt("sheetProtection",null,e)}function fZ(t,e,r){for(var n=Array.isArray(t),i=0;i!=e.length;++i){var a=Qt(xn(e[i]),!0);if(!a.ref)return;var l=((r||{})["!id"]||[])[a.id];l?(a.Target=l.Target,a.location&&(a.Target+="#"+Lr(a.location))):(a.Target="#"+Lr(a.location),l={Target:a.Target,TargetMode:"Internal"}),a.Rel=l,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var f=Fr(a.ref),m=f.s.r;m<=f.e.r;++m)for(var g=f.s.c;g<=f.e.c;++g){var y=Xt({c:g,r:m});n?(t[m]||(t[m]=[]),t[m][g]||(t[m][g]={t:"z",v:void 0}),t[m][g].l=a):(t[y]||(t[y]={t:"z",v:void 0}),t[y].l=a)}}}function hZ(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function dZ(t){return Ku(t),xt("pageMargins",null,t)}function gZ(t,e){for(var r=!1,n=0;n!=e.length;++n){var i=Qt(e[n],!0);i.hidden&&(i.hidden=In(i.hidden));var a=parseInt(i.min,10)-1,l=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,LE(i.width)),iu(i);a<=l;)t[a++]=Dn(i)}}function mZ(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=xt("col",null,Gp(i,n)));return r[r.length]="</cols>",r.join("")}function pZ(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function xZ(t,e,r,n){var i=typeof t.ref=="string"?t.ref:ur(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,l=hs(i);l.s.r==l.e.r&&(l.e.r=hs(e["!ref"]).e.r,i=ur(l));for(var f=0;f<a.length;++f){var m=a[f];if(m.Name=="_xlnm._FilterDatabase"&&m.Sheet==n){m.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return f==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),xt("autoFilter",null,{ref:i})}var vZ=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function yZ(t,e){e.Views||(e.Views=[{}]),(t.match(vZ)||[]).forEach(function(r,n){var i=Qt(r);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),In(i.rightToLeft)&&(e.Views[n].RTL=!0)})}function _Z(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),xt("sheetViews",xt("sheetView",null,i),{})}function EZ(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",a=t.t,l=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=nc[t.v];break;case"d":n&&n.cellDates?i=kn(t.v,-1).toISOString():(t=Dn(t),t.t="n",i=""+(t.v=ji(kn(t.v)))),typeof t.z>"u"&&(t.z=Gt[14]);break;default:i=t.v;break}var f=fa("v",on(i)),m={r:e},g=mu(n.cellXfs,t,n);switch(g!==0&&(m.s=g),t.t){case"n":break;case"d":m.t="d";break;case"b":m.t="b";break;case"e":m.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){f=fa("v",""+VE(n.Strings,t.v,n.revStrings)),m.t="s";break}m.t="str";break}if(t.t!=a&&(t.t=a,t.v=l),typeof t.f=="string"&&t.f){var y=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;f=xt("f",on(t.f),y)+(t.v!=null?f:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(m.cm=1),xt("c",f,m)}var wZ=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=kd("v"),l=kd("f");return function(m,g,y,E,A,C){for(var N=0,b="",D=[],P=[],G=0,B=0,Y=0,te="",ee,L,j=0,U=0,q,K,M=0,Q=0,be=Array.isArray(C.CellXf),xe,_e=[],Ae=[],ot=Array.isArray(g),Ce=[],ht={},ve=!1,Z=!!y.sheetStubs,he=m.split(e),ie=0,fe=he.length;ie!=fe;++ie){b=he[ie].trim();var ye=b.length;if(ye!==0){var Ie=0;e:for(N=0;N<ye;++N)switch(b[N]){case">":if(b[N-1]!="/"){++N;break e}if(y&&y.cellStyles){if(L=Qt(b.slice(Ie,N),!0),j=L.r!=null?parseInt(L.r,10):j+1,U=-1,y.sheetRows&&y.sheetRows<j)continue;ht={},ve=!1,L.ht&&(ve=!0,ht.hpt=parseFloat(L.ht),ht.hpx=L0(ht.hpt)),L.hidden=="1"&&(ve=!0,ht.hidden=!0),L.outlineLevel!=null&&(ve=!0,ht.level=+L.outlineLevel),ve&&(Ce[j-1]=ht)}break;case"<":Ie=N;break}if(Ie>=N)break;if(L=Qt(b.slice(Ie,N),!0),j=L.r!=null?parseInt(L.r,10):j+1,U=-1,!(y.sheetRows&&y.sheetRows<j)){E.s.r>j-1&&(E.s.r=j-1),E.e.r<j-1&&(E.e.r=j-1),y&&y.cellStyles&&(ht={},ve=!1,L.ht&&(ve=!0,ht.hpt=parseFloat(L.ht),ht.hpx=L0(ht.hpt)),L.hidden=="1"&&(ve=!0,ht.hidden=!0),L.outlineLevel!=null&&(ve=!0,ht.level=+L.outlineLevel),ve&&(Ce[j-1]=ht)),D=b.slice(N).split(t);for(var je=0;je!=D.length&&D[je].trim().charAt(0)=="<";++je);for(D=D.slice(je),N=0;N!=D.length;++N)if(b=D[N].trim(),b.length!==0){if(P=b.match(r),G=N,B=0,Y=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,P!=null&&P.length===2){for(G=0,te=P[1],B=0;B!=te.length&&!((Y=te.charCodeAt(B)-64)<1||Y>26);++B)G=26*G+Y;--G,U=G}else++U;for(B=0;B!=b.length&&b.charCodeAt(B)!==62;++B);if(++B,L=Qt(b.slice(0,B),!0),L.r||(L.r=Xt({r:j-1,c:U})),te=b.slice(B),ee={t:""},(P=te.match(a))!=null&&P[1]!==""&&(ee.v=Lr(P[1])),y.cellFormula){if((P=te.match(l))!=null&&P[1]!==""){if(ee.f=Lr(xn(P[1])).replace(/\r\n/g,`
`),y.xlfn||(ee.f=nb(ee.f)),P[0].indexOf('t="array"')>-1)ee.F=(te.match(i)||[])[1],ee.F.indexOf(":")>-1&&_e.push([Fr(ee.F),ee.F]);else if(P[0].indexOf('t="shared"')>-1){K=Qt(P[0]);var Ve=Lr(xn(P[1]));y.xlfn||(Ve=nb(Ve)),Ae[parseInt(K.si,10)]=[K,Ve,L.r]}}else(P=te.match(/<f[^>]*\/>/))&&(K=Qt(P[0]),Ae[K.si]&&(ee.f=vQ(Ae[K.si][1],Ae[K.si][2],L.r)));var $e=Hn(L.r);for(B=0;B<_e.length;++B)$e.r>=_e[B][0].s.r&&$e.r<=_e[B][0].e.r&&$e.c>=_e[B][0].s.c&&$e.c<=_e[B][0].e.c&&(ee.F=_e[B][1])}if(L.t==null&&ee.v===void 0)if(ee.f||ee.F)ee.v=0,ee.t="n";else if(Z)ee.t="z";else continue;else ee.t=L.t||"n";switch(E.s.c>U&&(E.s.c=U),E.e.c<U&&(E.e.c=U),ee.t){case"n":if(ee.v==""||ee.v==null){if(!Z)continue;ee.t="z"}else ee.v=parseFloat(ee.v);break;case"s":if(typeof ee.v>"u"){if(!Z)continue;ee.t="z"}else q=cd[parseInt(ee.v,10)],ee.v=q.t,ee.r=q.r,y.cellHTML&&(ee.h=q.h);break;case"str":ee.t="s",ee.v=ee.v!=null?xn(ee.v):"",y.cellHTML&&(ee.h=yE(ee.v));break;case"inlineStr":P=te.match(n),ee.t="s",P!=null&&(q=OE(P[1]))?(ee.v=q.t,y.cellHTML&&(ee.h=q.h)):ee.v="";break;case"b":ee.v=In(ee.v);break;case"d":y.cellDates?ee.v=kn(ee.v,1):(ee.v=ji(kn(ee.v,1)),ee.t="n");break;case"e":(!y||y.cellText!==!1)&&(ee.w=ee.v),ee.v=uN[ee.v];break}if(M=Q=0,xe=null,be&&L.s!==void 0&&(xe=C.CellXf[L.s],xe!=null&&(xe.numFmtId!=null&&(M=xe.numFmtId),y.cellStyles&&xe.fillId!=null&&(Q=xe.fillId))),ok(ee,M,Q,y,A,C),y.cellDates&&be&&ee.t=="n"&&q0(Gt[M])&&(ee.t="d",ee.v=Vp(ee.v)),L.cm&&y.xlmeta){var _t=(y.xlmeta.Cell||[])[+L.cm-1];_t&&_t.type=="XLDAPR"&&(ee.D=!0)}if(ot){var me=Hn(L.r);g[me.r]||(g[me.r]=[]),g[me.r][me.c]=ee}else g[L.r]=ee}}}}Ce.length>0&&(g["!rows"]=Ce)}})();function TZ(t,e,r,n){var i=[],a=[],l=Fr(t["!ref"]),f="",m,g="",y=[],E=0,A=0,C=t["!rows"],N=Array.isArray(t),b={r:g},D,P=-1;for(A=l.s.c;A<=l.e.c;++A)y[A]=zn(A);for(E=l.s.r;E<=l.e.r;++E){for(a=[],g=xi(E),A=l.s.c;A<=l.e.c;++A){m=y[A]+g;var G=N?(t[E]||[])[A]:t[m];G!==void 0&&(f=EZ(G,m,t,e))!=null&&a.push(f)}(a.length>0||C&&C[E])&&(b={r:g},C&&C[E]&&(D=C[E],D.hidden&&(b.hidden=1),P=-1,D.hpx?P=Bd(D.hpx):D.hpt&&(P=D.hpt),P>-1&&(b.ht=P,b.customHeight=1),D.level&&(b.outlineLevel=D.level)),i[i.length]=xt("row",a.join(""),b))}if(C)for(;E<C.length;++E)C&&C[E]&&(b={r:E+1},D=C[E],D.hidden&&(b.hidden=1),P=-1,D.hpx?P=Bd(D.hpx):D.hpt&&(P=D.hpt),P>-1&&(b.ht=P,b.customHeight=1),D.level&&(b.outlineLevel=D.level),i[i.length]=xt("row","",b));return i.join("")}function ck(t,e,r,n){var i=[yi,xt("worksheet",null,{xmlns:mf[0],"xmlns:r":Ui.r})],a=r.SheetNames[t],l=0,f="",m=r.Sheets[a];m==null&&(m={});var g=m["!ref"]||"A1",y=Fr(g);if(y.e.c>16383||y.e.r>1048575){if(e.WTF)throw new Error("Range "+g+" exceeds format limit A1:XFD1048576");y.e.c=Math.min(y.e.c,16383),y.e.r=Math.min(y.e.c,1048575),g=ur(y)}n||(n={}),m["!comments"]=[];var E=[];oZ(m,r,t,e,i),i[i.length]=xt("dimension",null,{ref:g}),i[i.length]=_Z(m,e,t,r),e.sheetFormat&&(i[i.length]=xt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),m["!cols"]!=null&&m["!cols"].length>0&&(i[i.length]=mZ(m,m["!cols"])),i[l=i.length]="<sheetData/>",m["!links"]=[],m["!ref"]!=null&&(f=TZ(m,e),f.length>0&&(i[i.length]=f)),i.length>l+1&&(i[i.length]="</sheetData>",i[l]=i[l].replace("/>",">")),m["!protect"]&&(i[i.length]=uZ(m["!protect"])),m["!autofilter"]!=null&&(i[i.length]=xZ(m["!autofilter"],m,r,t)),m["!merges"]!=null&&m["!merges"].length>0&&(i[i.length]=aZ(m["!merges"]));var A=-1,C,N=-1;return m["!links"].length>0&&(i[i.length]="<hyperlinks>",m["!links"].forEach(function(b){b[1].Target&&(C={ref:b[0]},b[1].Target.charAt(0)!="#"&&(N=sn(n,-1,on(b[1].Target).replace(/#.*$/,""),vr.HLINK),C["r:id"]="rId"+N),(A=b[1].Target.indexOf("#"))>-1&&(C.location=on(b[1].Target.slice(A+1))),b[1].Tooltip&&(C.tooltip=on(b[1].Tooltip)),i[i.length]=xt("hyperlink",null,C))}),i[i.length]="</hyperlinks>"),delete m["!links"],m["!margins"]!=null&&(i[i.length]=dZ(m["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=fa("ignoredErrors",xt("ignoredError",null,{numberStoredAsText:1,sqref:g}))),E.length>0&&(N=sn(n,-1,"../drawings/drawing"+(t+1)+".xml",vr.DRAW),i[i.length]=xt("drawing",null,{"r:id":"rId"+N}),m["!drawing"]=E),m["!comments"].length>0&&(N=sn(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",vr.VML),i[i.length]=xt("legacyDrawing",null,{"r:id":"rId"+N}),m["!legacy"]=N),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function AZ(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function SZ(t,e,r){var n=Ye(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var a=320;i.hpx?a=Bd(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var l=0;i.level&&(l|=i.level),i.hidden&&(l|=16),(i.hpx||i.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var f=0,m=n.l;n.l+=4;for(var g={r:t,c:0},y=0;y<16;++y)if(!(e.s.c>y+1<<10||e.e.c<y<<10)){for(var E=-1,A=-1,C=y<<10;C<y+1<<10;++C){g.c=C;var N=Array.isArray(r)?(r[g.r]||[])[g.c]:r[Xt(g)];N&&(E<0&&(E=C),A=C)}E<0||(++f,n.write_shift(4,E),n.write_shift(4,A))}var b=n.l;return n.l=m,n.write_shift(4,f),n.l=b,n.length>n.l?n.slice(0,n.l):n}function CZ(t,e,r,n){var i=SZ(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&it(t,0,i)}var bZ=yf,IZ=K0;function RZ(){}function NZ(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=OW(t),r}function kZ(t,e,r){r==null&&(r=Ye(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return Um({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),aN(t,r),r.slice(0,r.l)}function DZ(t){var e=fo(t);return[e]}function OZ(t,e,r){return r==null&&(r=Ye(8)),pf(e,r)}function MZ(t){var e=xf(t);return[e]}function LZ(t,e,r){return r==null&&(r=Ye(4)),vf(e,r)}function FZ(t){var e=fo(t),r=t.read_shift(1);return[e,r,"b"]}function PZ(t,e,r){return r==null&&(r=Ye(9)),pf(e,r),r.write_shift(1,t.v?1:0),r}function BZ(t){var e=xf(t),r=t.read_shift(1);return[e,r,"b"]}function UZ(t,e,r){return r==null&&(r=Ye(5)),vf(e,r),r.write_shift(1,t.v?1:0),r}function VZ(t){var e=fo(t),r=t.read_shift(1);return[e,r,"e"]}function jZ(t,e,r){return r==null&&(r=Ye(9)),pf(e,r),r.write_shift(1,t.v),r}function zZ(t){var e=xf(t),r=t.read_shift(1);return[e,r,"e"]}function HZ(t,e,r){return r==null&&(r=Ye(8)),vf(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function GZ(t){var e=fo(t),r=t.read_shift(4);return[e,r,"s"]}function WZ(t,e,r){return r==null&&(r=Ye(12)),pf(e,r),r.write_shift(4,e.v),r}function qZ(t){var e=xf(t),r=t.read_shift(4);return[e,r,"s"]}function XZ(t,e,r){return r==null&&(r=Ye(8)),vf(e,r),r.write_shift(4,e.v),r}function YZ(t){var e=fo(t),r=Sa(t);return[e,r,"n"]}function KZ(t,e,r){return r==null&&(r=Ye(16)),pf(e,r),of(t.v,r),r}function uk(t){var e=xf(t),r=Sa(t);return[e,r,"n"]}function QZ(t,e,r){return r==null&&(r=Ye(12)),vf(e,r),of(t.v,r),r}function $Z(t){var e=fo(t),r=IE(t);return[e,r,"n"]}function ZZ(t,e,r){return r==null&&(r=Ye(12)),pf(e,r),sN(t.v,r),r}function JZ(t){var e=xf(t),r=IE(t);return[e,r,"n"]}function eJ(t,e,r){return r==null&&(r=Ye(8)),vf(e,r),sN(t.v,r),r}function tJ(t){var e=fo(t),r=SE(t);return[e,r,"is"]}function rJ(t){var e=fo(t),r=Ca(t);return[e,r,"str"]}function nJ(t,e,r){return r==null&&(r=Ye(12+4*t.v.length)),pf(e,r),Qi(t.v,r),r.length>r.l?r.slice(0,r.l):r}function iJ(t){var e=xf(t),r=Ca(t);return[e,r,"str"]}function aJ(t,e,r){return r==null&&(r=Ye(8+4*t.v.length)),vf(e,r),Qi(t.v,r),r.length>r.l?r.slice(0,r.l):r}function sJ(t,e,r){var n=t.l+e,i=fo(t);i.r=r["!row"];var a=t.read_shift(1),l=[i,a,"b"];if(r.cellFormula){t.l+=2;var f=Hp(t,n-t.l,r);l[3]=wa(f,null,i,r.supbooks,r)}else t.l=n;return l}function oJ(t,e,r){var n=t.l+e,i=fo(t);i.r=r["!row"];var a=t.read_shift(1),l=[i,a,"e"];if(r.cellFormula){t.l+=2;var f=Hp(t,n-t.l,r);l[3]=wa(f,null,i,r.supbooks,r)}else t.l=n;return l}function lJ(t,e,r){var n=t.l+e,i=fo(t);i.r=r["!row"];var a=Sa(t),l=[i,a,"n"];if(r.cellFormula){t.l+=2;var f=Hp(t,n-t.l,r);l[3]=wa(f,null,i,r.supbooks,r)}else t.l=n;return l}function cJ(t,e,r){var n=t.l+e,i=fo(t);i.r=r["!row"];var a=Ca(t),l=[i,a,"str"];if(r.cellFormula){t.l+=2;var f=Hp(t,n-t.l,r);l[3]=wa(f,null,i,r.supbooks,r)}else t.l=n;return l}var uJ=yf,fJ=K0;function hJ(t,e){return e==null&&(e=Ye(4)),e.write_shift(4,t),e}function dJ(t,e){var r=t.l+e,n=yf(t),i=CE(t),a=Ca(t),l=Ca(t),f=Ca(t);t.l=r;var m={rfx:n,relId:i,loc:a,display:f};return l&&(m.Tooltip=l),m}function gJ(t,e){var r=Ye(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));K0({s:Hn(t[0]),e:Hn(t[0])},r),bE("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Qi(i||"",r),Qi(t[1].Tooltip||"",r),Qi("",r),r.slice(0,r.l)}function mJ(){}function pJ(t,e,r){var n=t.l+e,i=oN(t),a=t.read_shift(1),l=[i];if(l[2]=a,r.cellFormula){var f=V$(t,n-t.l,r);l[1]=f}else t.l=n;return l}function xJ(t,e,r){var n=t.l+e,i=yf(t),a=[i];if(r.cellFormula){var l=z$(t,n-t.l,r);a[1]=l,t.l=n}else t.l=n;return a}function vJ(t,e,r){r==null&&(r=Ye(18));var n=Gp(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var fk=["left","right","top","bottom","header","footer"];function yJ(t){var e={};return fk.forEach(function(r){e[r]=Sa(t)}),e}function _J(t,e){return e==null&&(e=Ye(48)),Ku(t),fk.forEach(function(r){of(t[r],e)}),e}function EJ(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function wJ(t,e,r){r==null&&(r=Ye(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function TJ(t){var e=Ye(24);return e.write_shift(4,4),e.write_shift(4,1),K0(t,e),e}function AJ(t,e){return e==null&&(e=Ye(66)),e.write_shift(2,t.password?ME(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function SJ(){}function CJ(){}function bJ(t,e,r,n,i,a,l){if(!t)return t;var f=e||{};n||(n={"!id":{}});var m=f.dense?[]:{},g,y={s:{r:2e6,c:2e6},e:{r:0,c:0}},E=!1,A=!1,C,N,b,D,P,G,B,Y,te,ee=[];f.biff=12,f["!row"]=0;var L=0,j=!1,U=[],q={},K=f.supbooks||i.supbooks||[[]];if(K.sharedf=q,K.arrayf=U,K.SheetNames=i.SheetNames||i.Sheets.map(function(ot){return ot.name}),!f.supbooks&&(f.supbooks=K,i.Names))for(var M=0;M<i.Names.length;++M)K[0][M+1]=i.Names[M];var Q=[],be=[],xe=!1;Ud[16]={n:"BrtShortReal",f:uk};var _e;if(rc(t,function(Ce,ht,ve){if(!A)switch(ve){case 148:g=Ce;break;case 0:C=Ce,f.sheetRows&&f.sheetRows<=C.r&&(A=!0),Y=xi(D=C.r),f["!row"]=C.r,(Ce.hidden||Ce.hpt||Ce.level!=null)&&(Ce.hpt&&(Ce.hpx=L0(Ce.hpt)),be[Ce.r]=Ce);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(N={t:Ce[2]},Ce[2]){case"n":N.v=Ce[1];break;case"s":B=cd[Ce[1]],N.v=B.t,N.r=B.r;break;case"b":N.v=!!Ce[1];break;case"e":N.v=Ce[1],f.cellText!==!1&&(N.w=nc[N.v]);break;case"str":N.t="s",N.v=Ce[1];break;case"is":N.t="s",N.v=Ce[1].t;break}if((b=l.CellXf[Ce[0].iStyleRef])&&ok(N,b.numFmtId,null,f,a,l),P=Ce[0].c==-1?P+1:Ce[0].c,f.dense?(m[D]||(m[D]=[]),m[D][P]=N):m[zn(P)+Y]=N,f.cellFormula){for(j=!1,L=0;L<U.length;++L){var Z=U[L];C.r>=Z[0].s.r&&C.r<=Z[0].e.r&&P>=Z[0].s.c&&P<=Z[0].e.c&&(N.F=ur(Z[0]),j=!0)}!j&&Ce.length>3&&(N.f=Ce[3])}if(y.s.r>C.r&&(y.s.r=C.r),y.s.c>P&&(y.s.c=P),y.e.r<C.r&&(y.e.r=C.r),y.e.c<P&&(y.e.c=P),f.cellDates&&b&&N.t=="n"&&q0(Gt[b.numFmtId])){var he=zu(N.v);he&&(N.t="d",N.v=new Date(he.y,he.m-1,he.d,he.H,he.M,he.S,he.u))}_e&&(_e.type=="XLDAPR"&&(N.D=!0),_e=void 0);break;case 1:case 12:if(!f.sheetStubs||E)break;N={t:"z",v:void 0},P=Ce[0].c==-1?P+1:Ce[0].c,f.dense?(m[D]||(m[D]=[]),m[D][P]=N):m[zn(P)+Y]=N,y.s.r>C.r&&(y.s.r=C.r),y.s.c>P&&(y.s.c=P),y.e.r<C.r&&(y.e.r=C.r),y.e.c<P&&(y.e.c=P),_e&&(_e.type=="XLDAPR"&&(N.D=!0),_e=void 0);break;case 176:ee.push(Ce);break;case 49:_e=((f.xlmeta||{}).Cell||[])[Ce-1];break;case 494:var ie=n["!id"][Ce.relId];for(ie?(Ce.Target=ie.Target,Ce.loc&&(Ce.Target+="#"+Ce.loc),Ce.Rel=ie):Ce.relId==""&&(Ce.Target="#"+Ce.loc),D=Ce.rfx.s.r;D<=Ce.rfx.e.r;++D)for(P=Ce.rfx.s.c;P<=Ce.rfx.e.c;++P)f.dense?(m[D]||(m[D]=[]),m[D][P]||(m[D][P]={t:"z",v:void 0}),m[D][P].l=Ce):(G=Xt({c:P,r:D}),m[G]||(m[G]={t:"z",v:void 0}),m[G].l=Ce);break;case 426:if(!f.cellFormula)break;U.push(Ce),te=f.dense?m[D][P]:m[zn(P)+Y],te.f=wa(Ce[1],y,{r:C.r,c:P},K,f),te.F=ur(Ce[0]);break;case 427:if(!f.cellFormula)break;q[Xt(Ce[0].s)]=Ce[1],te=f.dense?m[D][P]:m[zn(P)+Y],te.f=wa(Ce[1],y,{r:C.r,c:P},K,f);break;case 60:if(!f.cellStyles)break;for(;Ce.e>=Ce.s;)Q[Ce.e--]={width:Ce.w/256,hidden:!!(Ce.flags&1),level:Ce.level},xe||(xe=!0,LE(Ce.w/256)),iu(Q[Ce.e+1]);break;case 161:m["!autofilter"]={ref:ur(Ce)};break;case 476:m["!margins"]=Ce;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),Ce.name&&(i.Sheets[r].CodeName=Ce.name),(Ce.above||Ce.left)&&(m["!outline"]={above:Ce.above,left:Ce.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),Ce.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:E=!0;break;case 36:E=!1;break;case 37:E=!0;break;case 38:E=!1;break;default:if(!ht.T){if(!E||f.WTF)throw new Error("Unexpected record 0x"+ve.toString(16))}}},f),delete f.supbooks,delete f["!row"],!m["!ref"]&&(y.s.r<2e6||g&&(g.e.r>0||g.e.c>0||g.s.r>0||g.s.c>0))&&(m["!ref"]=ur(g||y)),f.sheetRows&&m["!ref"]){var Ae=Fr(m["!ref"]);f.sheetRows<=+Ae.e.r&&(Ae.e.r=f.sheetRows-1,Ae.e.r>y.e.r&&(Ae.e.r=y.e.r),Ae.e.r<Ae.s.r&&(Ae.s.r=Ae.e.r),Ae.e.c>y.e.c&&(Ae.e.c=y.e.c),Ae.e.c<Ae.s.c&&(Ae.s.c=Ae.e.c),m["!fullref"]=m["!ref"],m["!ref"]=ur(Ae))}return ee.length>0&&(m["!merges"]=ee),Q.length>0&&(m["!cols"]=Q),be.length>0&&(m["!rows"]=be),m}function IJ(t,e,r,n,i,a,l){if(e.v===void 0)return!1;var f="";switch(e.t){case"b":f=e.v?"1":"0";break;case"d":e=Dn(e),e.z=e.z||Gt[14],e.v=ji(kn(e.v)),e.t="n";break;case"n":case"e":f=""+e.v;break;default:f=e.v;break}var m={r,c:n};switch(m.s=mu(i.cellXfs,e,i),e.l&&a["!links"].push([Xt(m),e.l]),e.c&&a["!comments"].push([Xt(m),e.c]),e.t){case"s":case"str":return i.bookSST?(f=VE(i.Strings,e.v,i.revStrings),m.t="s",m.v=f,l?it(t,18,XZ(e,m)):it(t,7,WZ(e,m))):(m.t="str",l?it(t,17,aJ(e,m)):it(t,6,nJ(e,m))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?it(t,13,eJ(e,m)):it(t,2,ZZ(e,m)):l?it(t,16,QZ(e,m)):it(t,5,KZ(e,m)),!0;case"b":return m.t="b",l?it(t,15,UZ(e,m)):it(t,4,PZ(e,m)),!0;case"e":return m.t="e",l?it(t,14,HZ(e,m)):it(t,3,jZ(e,m)),!0}return l?it(t,12,LZ(e,m)):it(t,1,OZ(e,m)),!0}function RJ(t,e,r,n){var i=Fr(e["!ref"]||"A1"),a,l="",f=[];it(t,145);var m=Array.isArray(e),g=i.e.r;e["!rows"]&&(g=Math.max(i.e.r,e["!rows"].length-1));for(var y=i.s.r;y<=g;++y){l=xi(y),CZ(t,e,i,y);var E=!1;if(y<=i.e.r)for(var A=i.s.c;A<=i.e.c;++A){y===i.s.r&&(f[A]=zn(A)),a=f[A]+l;var C=m?(e[y]||[])[A]:e[a];if(!C){E=!1;continue}E=IJ(t,C,y,A,n,e,E)}}it(t,146)}function NJ(t,e){!e||!e["!merges"]||(it(t,177,hJ(e["!merges"].length)),e["!merges"].forEach(function(r){it(t,176,fJ(r))}),it(t,178))}function kJ(t,e){!e||!e["!cols"]||(it(t,390),e["!cols"].forEach(function(r,n){r&&it(t,60,vJ(n,r))}),it(t,391))}function DJ(t,e){!e||!e["!ref"]||(it(t,648),it(t,649,TJ(Fr(e["!ref"]))),it(t,650))}function OJ(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=sn(r,-1,n[1].Target.replace(/#.*$/,""),vr.HLINK);it(t,494,gJ(n,i))}}),delete e["!links"]}function MJ(t,e,r,n){if(e["!comments"].length>0){var i=sn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",vr.VML);it(t,551,bE("rId"+i)),e["!legacy"]=i}}function LJ(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:ur(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,f=hs(a);f.s.r==f.e.r&&(f.e.r=hs(e["!ref"]).e.r,a=ur(f));for(var m=0;m<l.length;++m){var g=l[m];if(g.Name=="_xlnm._FilterDatabase"&&g.Sheet==n){g.Ref="'"+r.SheetNames[n]+"'!"+a;break}}m==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),it(t,161,K0(Fr(a))),it(t,162)}}function FJ(t,e,r){it(t,133),it(t,137,wJ(e,r)),it(t,138),it(t,134)}function PJ(t,e){e["!protect"]&&it(t,535,AJ(e["!protect"]))}function BJ(t,e,r,n){var i=us(),a=r.SheetNames[t],l=r.Sheets[a]||{},f=a;try{r&&r.Workbook&&(f=r.Workbook.Sheets[t].CodeName||f)}catch{}var m=Fr(l["!ref"]||"A1");if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],it(i,129),(r.vbaraw||l["!outline"])&&it(i,147,kZ(f,l["!outline"])),it(i,148,IZ(m)),FJ(i,l,r.Workbook),kJ(i,l),RJ(i,l,t,e),PJ(i,l),LJ(i,l,r,t),NJ(i,l),OJ(i,l,n),l["!margins"]&&it(i,476,_J(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&DJ(i,l),MJ(i,l,t,n),it(i,130),i.end()}function UJ(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var l=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);l&&(e[+l[1]]=r?+l[2]:l[2])});var i=Lr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[e,i,n]}function VJ(t,e,r,n,i,a){var l=a||{"!type":"chart"};if(!t)return a;var f=0,m=0,g="A",y={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(E){var A=UJ(E);y.s.r=y.s.c=0,y.e.c=f,g=zn(f),A[0].forEach(function(C,N){l[g+xi(N)]={t:"n",v:C,z:A[1]},m=N}),y.e.r<m&&(y.e.r=m),++f}),f>0&&(l["!ref"]=ur(y)),l}function jJ(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},l,f=t.match(lk);return f&&jE(f[0],a,i,r),(l=t.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=l[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function zJ(t,e){t.l+=10;var r=Ca(t);return{name:r}}function HJ(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},l=!1;return rc(t,function(m,g,y){switch(y){case 550:a["!rel"]=m;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),m.name&&(i.Sheets[r].CodeName=m.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!(g.T>0)){if(!(g.T<0)){if(!l||e.WTF)throw new Error("Unexpected record 0x"+y.toString(16))}}}},e),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var zE=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],GJ=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],WJ=[],qJ=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function lb(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],i=0;i!=e.length;++i){var a=e[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=In(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function cb(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=In(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function hk(t){cb(t.WBProps,zE),cb(t.CalcPr,qJ),lb(t.WBView,GJ),lb(t.Sheets,WJ),S0.date1904=In(t.WBProps.date1904)}function XJ(t){return!t.Workbook||!t.Workbook.WBProps?"false":In(t.Workbook.WBProps.date1904)?"true":"false"}var YJ="][*?/\\".split("");function dk(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return YJ.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function KJ(t,e,r){t.forEach(function(n,i){dk(n);for(var a=0;a<i;++a)if(n==t[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var l=e&&e[i]&&e[i].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function QJ(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];KJ(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)X$(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}var $J=/<\w+:workbook/;function ZJ(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},l=0;if(t.replace(Ra,function(m,g){var y=Qt(m);switch(cl(y[0])){case"<?xml":break;case"<workbook":m.match($J)&&(i="xmlns"+m.match(/<(\w+):/)[1]),r.xmlns=y[i];break;case"</workbook>":break;case"<fileVersion":delete y[0],r.AppVersion=y;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":zE.forEach(function(E){if(y[E[0]]!=null)switch(E[2]){case"bool":r.WBProps[E[0]]=In(y[E[0]]);break;case"int":r.WBProps[E[0]]=parseInt(y[E[0]],10);break;default:r.WBProps[E[0]]=y[E[0]]}}),y.codeName&&(r.WBProps.CodeName=xn(y.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete y[0],r.WBView.push(y);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(y.state){case"hidden":y.Hidden=1;break;case"veryHidden":y.Hidden=2;break;default:y.Hidden=0}delete y.state,y.name=Lr(xn(y.name)),delete y[0],r.Sheets.push(y);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=xn(y.name),y.comment&&(a.Comment=y.comment),y.localSheetId&&(a.Sheet=+y.localSheetId),In(y.hidden||"0")&&(a.Hidden=!0),l=g+m.length;break;case"</definedName>":a.Ref=Lr(xn(t.slice(l,g))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete y[0],r.CalcPr=y;break;case"<calcPr/>":delete y[0],r.CalcPr=y;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+y[0]+" in workbook")}return m}),mf.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return hk(r),r}function gk(t){var e=[yi];e[e.length]=xt("workbook",null,{xmlns:mf[0],"xmlns:r":Ui.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(zE.forEach(function(f){t.Workbook.WBProps[f[0]]!=null&&t.Workbook.WBProps[f[0]]!=f[1]&&(n[f[0]]=t.Workbook.WBProps[f[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=xt("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var l={name:on(t.SheetNames[a].slice(0,31))};if(l.sheetId=""+(a+1),l["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=xt("sheet",null,l)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(f){var m={name:f.Name};f.Comment&&(m.comment=f.Comment),f.Sheet!=null&&(m.localSheetId=""+f.Sheet),f.Hidden&&(m.hidden="1"),f.Ref&&(e[e.length]=xt("definedName",on(f.Ref),m))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function JJ(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=_y(t),r.name=Ca(t),r}function eee(t,e){return e||(e=Ye(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),bE(t.strRelID,e),Qi(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function tee(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Ca(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function ree(t,e){e||(e=Ye(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),aN(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function nee(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function iee(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=MW(t),l=j$(t,0,r),f=CE(t);t.l=n;var m={Name:a,Ptg:l};return i<268435455&&(m.Sheet=i),f&&(m.Comment=f),m}function aee(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var a=[],l=[[]];return l.SheetNames=[],l.XTI=[],Ud[16]={n:"BrtFRTArchID$",f:nee},rc(t,function(m,g,y){switch(y){case 156:l.SheetNames.push(m.name),r.Sheets.push(m);break;case 153:r.WBProps=m;break;case 39:m.Sheet!=null&&(e.SID=m.Sheet),m.Ref=wa(m.Ptg,null,null,l,e),delete e.SID,delete m.Ptg,a.push(m);break;case 1036:break;case 357:case 358:case 355:case 667:l[0].length?l.push([y,m]):l[0]=[y,m],l[l.length-1].XTI=[];break;case 362:l.length===0&&(l[0]=[],l[0].XTI=[]),l[l.length-1].XTI=l[l.length-1].XTI.concat(m),l.XTI=l.XTI.concat(m);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(y),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(y),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!g.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+y.toString(16))}}},e),hk(r),r.Names=a,r.supbooks=l,r}function see(t,e){it(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};it(t,156,eee(i))}it(t,144)}function oee(t,e){e||(e=Ye(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Qi("SheetJS",e),Qi(Dm.version,e),Qi(Dm.version,e),Qi("7262",e),e.length>e.l?e.slice(0,e.l):e}function lee(t,e){e||(e=Ye(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function cee(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(it(t,135),it(t,158,lee(i)),it(t,136))}}function uee(t,e){var r=us();return it(r,131),it(r,128,oee()),it(r,153,ree(t.Workbook&&t.Workbook.WBProps||null)),cee(r,t),see(r,t),it(r,132),r.end()}function fee(t,e,r){return e.slice(-4)===".bin"?aee(t,r):ZJ(t,r)}function hee(t,e,r,n,i,a,l,f){return e.slice(-4)===".bin"?bJ(t,n,r,i,a,l,f):iZ(t,n,r,i,a,l,f)}function dee(t,e,r,n,i,a,l,f){return e.slice(-4)===".bin"?HJ(t,n,r,i,a):jJ(t,n,r,i,a)}function gee(t,e,r,n,i,a,l,f){return e.slice(-4)===".bin"?pQ():xQ()}function mee(t,e,r,n,i,a,l,f){return e.slice(-4)===".bin"?gQ():mQ()}function pee(t,e,r,n){return e.slice(-4)===".bin"?fK(t,r,n):JY(t,r,n)}function xee(t,e,r){return YN(t,r)}function vee(t,e,r){return e.slice(-4)===".bin"?vY(t,r):mY(t,r)}function yee(t,e,r){return e.slice(-4)===".bin"?cQ(t,r):eQ(t,r)}function _ee(t,e,r){return e.slice(-4)===".bin"?$K(t):KK(t)}function Eee(t,e,r,n){return r.slice(-4)===".bin"?ZK(t,e,r,n):void 0}function wee(t,e,r){return e.slice(-4)===".bin"?qK(t,e,r):YK(t,e,r)}function Tee(t,e,r){return(e.slice(-4)===".bin"?uee:gk)(t)}function Aee(t,e,r,n,i){return(e.slice(-4)===".bin"?BJ:ck)(t,r,n,i)}function See(t,e,r){return(e.slice(-4)===".bin"?EK:qN)(t,r)}function Cee(t,e,r){return(e.slice(-4)===".bin"?EY:BN)(t,r)}function bee(t,e,r){return(e.slice(-4)===".bin"?uQ:$N)(t)}function Iee(t){return(t.slice(-4)===".bin"?XK:KN)()}var mk=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,pk=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Eo(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=t.match(mk),a,l,f,m;if(i)for(m=0;m!=i.length;++m)a=i[m].match(pk),(l=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?f="xmlns"+a[1].slice(6):f=a[1].slice(l+1),n[f]=a[2].slice(1,a[2].length-1));return n}function Ree(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(mk),i,a,l,f;if(n)for(f=0;f!=n.length;++f)i=n[f].match(pk),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?l="xmlns"+i[1].slice(6):l=i[1].slice(a+1),r[l]=i[2].slice(1,i[2].length-1));return r}var fd;function Nee(t,e){var r=fd[t]||Lr(t);return r==="General"?af(e):co(r,e)}function kee(t,e,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=In(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=kn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[Lr(e)]=i}function Dee(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||nc[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Nd(t.v):t.w=af(t.v):t.w=Nee(e||"General",t.v)}catch(a){if(r.WTF)throw a}try{var n=fd[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&q0(n)){var i=zu(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function Oee(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=WY[n.Pattern]||n.Pattern)}t[e.ID]=e}function Mee(t,e,r,n,i,a,l,f,m,g){var y="General",E=n.StyleID,A={};g=g||{};var C=[],N=0;for(E===void 0&&f&&(E=f.StyleID),E===void 0&&l&&(E=l.StyleID);a[E]!==void 0&&(a[E].nf&&(y=a[E].nf),a[E].Interior&&C.push(a[E].Interior),!!a[E].Parent);)E=a[E].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=In(t);break;case"String":n.t="s",n.r=C3(Lr(t)),n.v=t.indexOf("<")>-1?Lr(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(kn(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Lr(t):n.v<60&&(n.v=n.v-1),(!y||y=="General")&&(y="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=uN[t],g.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=C3(e||t));break}if(Dee(n,y,g),g.cellFormula!==!1)if(n.Formula){var b=Lr(n.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),n.f=A0(b,i),delete n.Formula,n.ArrayRange=="RC"?n.F=A0("RC:RC",i):n.ArrayRange&&(n.F=A0(n.ArrayRange,i),m.push([Fr(n.F),n.F]))}else for(N=0;N<m.length;++N)i.r>=m[N][0].s.r&&i.r<=m[N][0].e.r&&i.c>=m[N][0].s.c&&i.c<=m[N][0].e.c&&(n.F=m[N][1]);g.cellStyles&&(C.forEach(function(D){!A.patternType&&D.patternType&&(A.patternType=D.patternType)}),n.s=A),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Lee(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function Iv(t,e){var r=e||{};X0();var n=Yh(_E(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=xn(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var l=Dn(r);return l.type="string",M0.to_workbook(n,l)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ot){i.indexOf("<"+Ot)>=0&&(a=!0)}),a)return _te(n,r);fd={"General Number":"General","General Date":Gt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Gt[15],"Short Date":Gt[14],"Long Time":Gt[19],"Medium Time":Gt[18],"Short Time":Gt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Gt[2],Standard:Gt[4],Percent:Gt[10],Scientific:Gt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var f,m=[],g,y={},E=[],A=r.dense?[]:{},C="",N={},b={},D=Eo('<Data ss:Type="String">'),P=0,G=0,B=0,Y={s:{r:2e6,c:2e6},e:{r:0,c:0}},te={},ee={},L="",j=0,U=[],q={},K={},M=0,Q=[],be=[],xe={},_e=[],Ae,ot=!1,Ce=[],ht=[],ve={},Z=0,he=0,ie={Sheets:[],WBProps:{date1904:!1}},fe={};Od.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ye="";f=Od.exec(n);)switch(f[3]=(ye=f[3]).toLowerCase()){case"data":if(ye=="data"){if(f[1]==="/"){if((g=m.pop())[0]!==f[3])throw new Error("Bad state: "+g.join("|"))}else f[0].charAt(f[0].length-2)!=="/"&&m.push([f[3],!0]);break}if(m[m.length-1][1])break;f[1]==="/"?Mee(n.slice(P,f.index),L,D,m[m.length-1][0]=="comment"?xe:N,{c:G,r:B},te,_e[G],b,Ce,r):(L="",D=Eo(f[0]),P=f.index+f[0].length);break;case"cell":if(f[1]==="/")if(be.length>0&&(N.c=be),(!r.sheetRows||r.sheetRows>B)&&N.v!==void 0&&(r.dense?(A[B]||(A[B]=[]),A[B][G]=N):A[zn(G)+xi(B)]=N),N.HRef&&(N.l={Target:Lr(N.HRef)},N.HRefScreenTip&&(N.l.Tooltip=N.HRefScreenTip),delete N.HRef,delete N.HRefScreenTip),(N.MergeAcross||N.MergeDown)&&(Z=G+(parseInt(N.MergeAcross,10)|0),he=B+(parseInt(N.MergeDown,10)|0),U.push({s:{c:G,r:B},e:{c:Z,r:he}})),!r.sheetStubs)N.MergeAcross?G=Z+1:++G;else if(N.MergeAcross||N.MergeDown){for(var Ie=G;Ie<=Z;++Ie)for(var je=B;je<=he;++je)(Ie>G||je>B)&&(r.dense?(A[je]||(A[je]=[]),A[je][Ie]={t:"z"}):A[zn(Ie)+xi(je)]={t:"z"});G=Z+1}else++G;else N=Ree(f[0]),N.Index&&(G=+N.Index-1),G<Y.s.c&&(Y.s.c=G),G>Y.e.c&&(Y.e.c=G),f[0].slice(-2)==="/>"&&++G,be=[];break;case"row":f[1]==="/"||f[0].slice(-2)==="/>"?(B<Y.s.r&&(Y.s.r=B),B>Y.e.r&&(Y.e.r=B),f[0].slice(-2)==="/>"&&(b=Eo(f[0]),b.Index&&(B=+b.Index-1)),G=0,++B):(b=Eo(f[0]),b.Index&&(B=+b.Index-1),ve={},(b.AutoFitHeight=="0"||b.Height)&&(ve.hpx=parseInt(b.Height,10),ve.hpt=Bd(ve.hpx),ht[B]=ve),b.Hidden=="1"&&(ve.hidden=!0,ht[B]=ve));break;case"worksheet":if(f[1]==="/"){if((g=m.pop())[0]!==f[3])throw new Error("Bad state: "+g.join("|"));E.push(C),Y.s.r<=Y.e.r&&Y.s.c<=Y.e.c&&(A["!ref"]=ur(Y),r.sheetRows&&r.sheetRows<=Y.e.r&&(A["!fullref"]=A["!ref"],Y.e.r=r.sheetRows-1,A["!ref"]=ur(Y))),U.length&&(A["!merges"]=U),_e.length>0&&(A["!cols"]=_e),ht.length>0&&(A["!rows"]=ht),y[C]=A}else Y={s:{r:2e6,c:2e6},e:{r:0,c:0}},B=G=0,m.push([f[3],!1]),g=Eo(f[0]),C=Lr(g.Name),A=r.dense?[]:{},U=[],Ce=[],ht=[],fe={name:C,Hidden:0},ie.Sheets.push(fe);break;case"table":if(f[1]==="/"){if((g=m.pop())[0]!==f[3])throw new Error("Bad state: "+g.join("|"))}else{if(f[0].slice(-2)=="/>")break;m.push([f[3],!1]),_e=[],ot=!1}break;case"style":f[1]==="/"?Oee(te,ee,r):ee=Eo(f[0]);break;case"numberformat":ee.nf=Lr(Eo(f[0]).Format||"General"),fd[ee.nf]&&(ee.nf=fd[ee.nf]);for(var Ve=0;Ve!=392&&Gt[Ve]!=ee.nf;++Ve);if(Ve==392){for(Ve=57;Ve!=392;++Ve)if(Gt[Ve]==null){Gl(ee.nf,Ve);break}}break;case"column":if(m[m.length-1][0]!=="table")break;if(Ae=Eo(f[0]),Ae.Hidden&&(Ae.hidden=!0,delete Ae.Hidden),Ae.Width&&(Ae.wpx=parseInt(Ae.Width,10)),!ot&&Ae.wpx>10){ot=!0,Aa=GN;for(var $e=0;$e<_e.length;++$e)_e[$e]&&iu(_e[$e])}ot&&iu(Ae),_e[Ae.Index-1||_e.length]=Ae;for(var _t=0;_t<+Ae.Span;++_t)_e[_e.length]=Dn(Ae);break;case"namedrange":if(f[1]==="/")break;ie.Names||(ie.Names=[]);var me=Qt(f[0]),wt={Name:me.Name,Ref:A0(me.RefersTo.slice(1),{r:0,c:0})};ie.Sheets.length>0&&(wt.Sheet=ie.Sheets.length-1),ie.Names.push(wt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(f[0].slice(-2)==="/>")break;f[1]==="/"?L+=n.slice(j,f.index):j=f.index+f[0].length;break;case"interior":if(!r.cellStyles)break;ee.Interior=Eo(f[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(f[0].slice(-2)==="/>")break;f[1]==="/"?aq(q,ye,n.slice(M,f.index)):M=f.index+f[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(f[1]==="/"){if((g=m.pop())[0]!==f[3])throw new Error("Bad state: "+g.join("|"))}else m.push([f[3],!1]);break;case"comment":if(f[1]==="/"){if((g=m.pop())[0]!==f[3])throw new Error("Bad state: "+g.join("|"));Lee(xe),be.push(xe)}else m.push([f[3],!1]),g=Eo(f[0]),xe={a:g.Author};break;case"autofilter":if(f[1]==="/"){if((g=m.pop())[0]!==f[3])throw new Error("Bad state: "+g.join("|"))}else if(f[0].charAt(f[0].length-2)!=="/"){var kt=Eo(f[0]);A["!autofilter"]={ref:A0(kt.Range).replace(/\$/g,"")},m.push([f[3],!0])}break;case"name":break;case"datavalidation":if(f[1]==="/"){if((g=m.pop())[0]!==f[3])throw new Error("Bad state: "+g.join("|"))}else f[0].charAt(f[0].length-2)!=="/"&&m.push([f[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(f[1]==="/"){if((g=m.pop())[0]!==f[3])throw new Error("Bad state: "+g.join("|"))}else f[0].charAt(f[0].length-2)!=="/"&&m.push([f[3],!0]);break;case"null":break;default:if(m.length==0&&f[3]=="document"||m.length==0&&f[3]=="uof")return gb(n,r);var Wt=!0;switch(m[m.length-1][0]){case"officedocumentsettings":switch(f[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Wt=!1}break;case"componentoptions":switch(f[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Wt=!1}break;case"excelworkbook":switch(f[3]){case"date1904":ie.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Wt=!1}break;case"workbookoptions":switch(f[3]){case"owcversion":break;case"height":break;case"width":break;default:Wt=!1}break;case"worksheetoptions":switch(f[3]){case"visible":if(f[0].slice(-2)!=="/>")if(f[1]==="/")switch(n.slice(M,f.index)){case"SheetHidden":fe.Hidden=1;break;case"SheetVeryHidden":fe.Hidden=2;break}else M=f.index+f[0].length;break;case"header":A["!margins"]||Ku(A["!margins"]={},"xlml"),isNaN(+Qt(f[0]).Margin)||(A["!margins"].header=+Qt(f[0]).Margin);break;case"footer":A["!margins"]||Ku(A["!margins"]={},"xlml"),isNaN(+Qt(f[0]).Margin)||(A["!margins"].footer=+Qt(f[0]).Margin);break;case"pagemargins":var jt=Qt(f[0]);A["!margins"]||Ku(A["!margins"]={},"xlml"),isNaN(+jt.Top)||(A["!margins"].top=+jt.Top),isNaN(+jt.Left)||(A["!margins"].left=+jt.Left),isNaN(+jt.Right)||(A["!margins"].right=+jt.Right),isNaN(+jt.Bottom)||(A["!margins"].bottom=+jt.Bottom);break;case"displayrighttoleft":ie.Views||(ie.Views=[]),ie.Views[0]||(ie.Views[0]={}),ie.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":A["!outline"]||(A["!outline"]={}),A["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":A["!outline"]||(A["!outline"]={}),A["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Wt=!1}break;case"pivottable":case"pivotcache":switch(f[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Wt=!1}break;case"pagebreaks":switch(f[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Wt=!1}break;case"autofilter":switch(f[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Wt=!1}break;case"querytable":switch(f[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Wt=!1}break;case"datavalidation":switch(f[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Wt=!1}break;case"sorting":case"conditionalformatting":switch(f[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Wt=!1}break;case"mapinfo":case"schema":case"data":switch(f[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Wt=!1}break;case"smarttags":break;default:Wt=!1;break}if(Wt||f[3].match(/!\[CDATA/))break;if(!m[m.length-1][1])throw"Unrecognized tag: "+f[3]+"|"+m.join("|");if(m[m.length-1][0]==="customdocumentproperties"){if(f[0].slice(-2)==="/>")break;f[1]==="/"?kee(K,ye,Q,n.slice(M,f.index)):(Q=f,M=f.index+f[0].length);break}if(r.WTF)throw"Unrecognized tag: "+f[3]+"|"+m.join("|")}var ct={};return!r.bookSheets&&!r.bookProps&&(ct.Sheets=y),ct.SheetNames=E,ct.Workbook=ie,ct.SSF=Dn(Gt),ct.Props=q,ct.Custprops=K,ct}function by(t,e){switch(GE(e=e||{}),e.type||"base64"){case"base64":return Iv(Bs(t),e);case"binary":case"buffer":case"file":return Iv(t,e);case"array":return Iv(du(t),e)}}function Fee(t,e){var r=[];return t.Props&&r.push(sq(t.Props,e)),t.Custprops&&r.push(oq(t.Props,t.Custprops)),r.join("")}function Pee(){return""}function Bee(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var a=[];a.push(xt("NumberFormat",null,{"ss:Format":on(Gt[n.numFmtId])}));var l={"ss:ID":"s"+(21+i)};r.push(xt("Style",a.join(""),l))}),xt("Styles",r.join(""))}function xk(t){return xt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+BE(t.Ref,{r:0,c:0})})}function Uee(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(xk(i)))}return xt("Names",r.join(""))}function Vee(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],l=0;l<i.length;++l){var f=i[l];f.Sheet==r&&(f.Name.match(/^_xlfn\./)||a.push(xk(f)))}return a.join("")}function jee(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(xt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(xt("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(xt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(xt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(fa("ProtectContents","True")),t["!protect"].objects&&i.push(fa("ProtectObjects","True")),t["!protect"].scenarios&&i.push(fa("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(fa("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(fa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){t["!protect"][l[0]]&&i.push("<"+l[1]+"/>")})),i.length==0?"":xt("WorksheetOptions",i.join(""),{xmlns:bs.x})}function zee(t){return t.map(function(e){var r=cW(e.t||""),n=xt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return xt("Comment",n,{"ss:Author":e.a})}).join("")}function Hee(t,e,r,n,i,a,l){if(!t||t.v==null&&t.f==null)return"";var f={};if(t.f&&(f["ss:Formula"]="="+on(BE(t.f,l))),t.F&&t.F.slice(0,e.length)==e){var m=Hn(t.F.slice(e.length+1));f["ss:ArrayRange"]="RC:R"+(m.r==l.r?"":"["+(m.r-l.r)+"]")+"C"+(m.c==l.c?"":"["+(m.c-l.c)+"]")}if(t.l&&t.l.Target&&(f["ss:HRef"]=on(t.l.Target),t.l.Tooltip&&(f["x:HRefScreenTip"]=on(t.l.Tooltip))),r["!merges"])for(var g=r["!merges"],y=0;y!=g.length;++y)g[y].s.c!=l.c||g[y].s.r!=l.r||(g[y].e.c>g[y].s.c&&(f["ss:MergeAcross"]=g[y].e.c-g[y].s.c),g[y].e.r>g[y].s.r&&(f["ss:MergeDown"]=g[y].e.r-g[y].s.r));var E="",A="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":E="Number",A=String(t.v);break;case"b":E="Boolean",A=t.v?"1":"0";break;case"e":E="Error",A=nc[t.v];break;case"d":E="DateTime",A=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Gt[14]);break;case"s":E="String",A=lW(t.v||"");break}var C=mu(n.cellXfs,t,n);f["ss:StyleID"]="s"+(21+C),f["ss:Index"]=l.c+1;var N=t.v!=null?A:"",b=t.t=="z"?"":'<Data ss:Type="'+E+'">'+N+"</Data>";return(t.c||[]).length>0&&(b+=zee(t.c)),xt("Cell",b,f)}function Gee(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=L0(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Wee(t,e,r,n){if(!t["!ref"])return"";var i=Fr(t["!ref"]),a=t["!merges"]||[],l=0,f=[];t["!cols"]&&t["!cols"].forEach(function(D,P){iu(D);var G=!!D.width,B=Gp(P,D),Y={"ss:Index":P+1};G&&(Y["ss:Width"]=Fd(B.width)),D.hidden&&(Y["ss:Hidden"]="1"),f.push(xt("Column",null,Y))});for(var m=Array.isArray(t),g=i.s.r;g<=i.e.r;++g){for(var y=[Gee(g,(t["!rows"]||[])[g])],E=i.s.c;E<=i.e.c;++E){var A=!1;for(l=0;l!=a.length;++l)if(!(a[l].s.c>E)&&!(a[l].s.r>g)&&!(a[l].e.c<E)&&!(a[l].e.r<g)){(a[l].s.c!=E||a[l].s.r!=g)&&(A=!0);break}if(!A){var C={r:g,c:E},N=Xt(C),b=m?(t[g]||[])[E]:t[N];y.push(Hee(b,N,t,e,r,n,C))}}y.push("</Row>"),y.length>2&&f.push(y.join(""))}return f.join("")}function qee(t,e,r){var n=[],i=r.SheetNames[t],a=r.Sheets[i],l=a?Vee(a,e,t,r):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=a?Wee(a,e,t,r):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(jee(a,e,t,r)),n.join("")}function Xee(t,e){e||(e={}),t.SSF||(t.SSF=Dn(Gt)),t.SSF&&(X0(),Pp(t.SSF),e.revssf=Up(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],mu(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Fee(t,e)),r.push(Pee()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(xt("Worksheet",qee(n,e,t),{"ss:Name":on(t.SheetNames[n])}));return r[2]=Bee(t,e),r[3]=Uee(t),yi+xt("Workbook",r.join(""),{xmlns:bs.ss,"xmlns:o":bs.o,"xmlns:x":bs.x,"xmlns:ss":bs.ss,"xmlns:dt":bs.dt,"xmlns:html":bs.html})}function Yee(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=UW(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=VW(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var Kee=[60,1084,2066,2165,2175];function Qee(t,e,r,n,i){var a=n,l=[],f=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&f.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(f)}l.push(f),r.l+=a;for(var m=Ul(r,r.l),g=Iy[m],y=0;g!=null&&Kee.indexOf(m)>-1;)a=Ul(r,r.l+2),y=r.l+4,m==2066?y+=4:(m==2165||m==2175)&&(y+=12),f=r.slice(y,r.l+4+a),l.push(f),r.l+=4+a,g=Iy[m=Ul(r,r.l)];var E=Ki(l);ca(E,0);var A=0;E.lens=[];for(var C=0;C<l.length;++C)E.lens.push(A),A+=l[C].length;if(E.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+E.length+" < "+n;return e.f(E,E.length,i)}function jo(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Gt[n])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||nc[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Nd(t.v):t.w=af(t.v):t.w=co(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&n&&t.t=="n"&&q0(Gt[n]||String(n))){var i=zu(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Hg(t,e,r){return{v:t,ixfe:e,t:r}}function $ee(t,e){var r={opts:{}},n={},i=e.dense?[]:{},a={},l={},f=null,m=[],g="",y={},E,A="",C,N,b,D,P={},G=[],B,Y,te=[],ee=[],L={Sheets:[],WBProps:{date1904:!1},Views:[{}]},j={},U=function(It){return It<8?qu[It]:It<64&&ee[It-8]||qu[It]},q=function(It,zt,Wr){var Nt=zt.XF.data;if(!(!Nt||!Nt.patternType||!Wr||!Wr.cellStyles)){zt.s={},zt.s.patternType=Nt.patternType;var Je;(Je=Ld(U(Nt.icvFore)))&&(zt.s.fgColor={rgb:Je}),(Je=Ld(U(Nt.icvBack)))&&(zt.s.bgColor={rgb:Je})}},K=function(It,zt,Wr){if(!(ve>1)&&!(Wr.sheetRows&&It.r>=Wr.sheetRows)){if(Wr.cellStyles&&zt.XF&&zt.XF.data&&q(It,zt,Wr),delete zt.ixfe,delete zt.XF,E=It,A=Xt(It),(!l||!l.s||!l.e)&&(l={s:{r:0,c:0},e:{r:0,c:0}}),It.r<l.s.r&&(l.s.r=It.r),It.c<l.s.c&&(l.s.c=It.c),It.r+1>l.e.r&&(l.e.r=It.r+1),It.c+1>l.e.c&&(l.e.c=It.c+1),Wr.cellFormula&&zt.f){for(var Nt=0;Nt<G.length;++Nt)if(!(G[Nt][0].s.c>It.c||G[Nt][0].s.r>It.r)&&!(G[Nt][0].e.c<It.c||G[Nt][0].e.r<It.r)){zt.F=ur(G[Nt][0]),(G[Nt][0].s.c!=It.c||G[Nt][0].s.r!=It.r)&&delete zt.f,zt.f&&(zt.f=""+wa(G[Nt][1],l,It,Ce,M));break}}Wr.dense?(i[It.r]||(i[It.r]=[]),i[It.r][It.c]=zt):i[A]=zt}},M={enc:!1,sbcch:0,snames:[],sharedf:P,arrayf:G,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(M.password=e.password);var Q,be=[],xe=[],_e=[],Ae=[],ot=!1,Ce=[];Ce.SheetNames=M.snames,Ce.sharedf=M.sharedf,Ce.arrayf=M.arrayf,Ce.names=[],Ce.XTI=[];var ht=0,ve=0,Z=0,he=[],ie=[],fe;M.codepage=1200,Ao(1200);for(var ye=!1;t.l<t.length-1;){var Ie=t.l,je=t.read_shift(2);if(je===0&&ht===10)break;var Ve=t.l===t.length?0:t.read_shift(2),$e=Iy[je];if($e&&$e.f){if(e.bookSheets&&ht===133&&je!==133)break;if(ht=je,$e.r===2||$e.r==12){var _t=t.read_shift(2);if(Ve-=2,!M.enc&&_t!==je&&((_t&255)<<8|_t>>8)!==je)throw new Error("rt mismatch: "+_t+"!="+je);$e.r==12&&(t.l+=10,Ve-=10)}var me={};if(je===10?me=$e.f(t,Ve,M):me=Qee(je,$e,t,Ve,M),ve==0&&[9,521,1033,2057].indexOf(ht)===-1)continue;switch(je){case 34:r.opts.Date1904=L.WBProps.date1904=me;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(M.enc||(t.l=0),M.enc=me,!e.password)throw new Error("File is password-protected");if(me.valid==null)throw new Error("Encryption scheme unsupported");if(!me.valid)throw new Error("Password is incorrect");break;case 92:M.lastuser=me;break;case 66:var wt=Number(me);switch(wt){case 21010:wt=1200;break;case 32768:wt=1e4;break;case 32769:wt=1252;break}Ao(M.codepage=wt),ye=!0;break;case 317:M.rrtabid=me;break;case 25:M.winlocked=me;break;case 439:r.opts.RefreshAll=me;break;case 12:r.opts.CalcCount=me;break;case 16:r.opts.CalcDelta=me;break;case 17:r.opts.CalcIter=me;break;case 13:r.opts.CalcMode=me;break;case 14:r.opts.CalcPrecision=me;break;case 95:r.opts.CalcSaveRecalc=me;break;case 15:M.CalcRefMode=me;break;case 2211:r.opts.FullCalc=me;break;case 129:me.fDialog&&(i["!type"]="dialog"),me.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),me.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:te.push(me);break;case 430:Ce.push([me]),Ce[Ce.length-1].XTI=[];break;case 35:case 547:Ce[Ce.length-1].push(me);break;case 24:case 536:fe={Name:me.Name,Ref:wa(me.rgce,l,null,Ce,M)},me.itab>0&&(fe.Sheet=me.itab-1),Ce.names.push(fe),Ce[0]||(Ce[0]=[],Ce[0].XTI=[]),Ce[Ce.length-1].push(me),me.Name=="_xlnm._FilterDatabase"&&me.itab>0&&me.rgce&&me.rgce[0]&&me.rgce[0][0]&&me.rgce[0][0][0]=="PtgArea3d"&&(ie[me.itab-1]={ref:ur(me.rgce[0][0][1][2])});break;case 22:M.ExternCount=me;break;case 23:Ce.length==0&&(Ce[0]=[],Ce[0].XTI=[]),Ce[Ce.length-1].XTI=Ce[Ce.length-1].XTI.concat(me),Ce.XTI=Ce.XTI.concat(me);break;case 2196:if(M.biff<8)break;fe!=null&&(fe.Comment=me[1]);break;case 18:i["!protect"]=me;break;case 19:me!==0&&M.WTF&&console.error("Password verifier: "+me);break;case 133:a[me.pos]=me,M.snames.push(me.name);break;case 10:{if(--ve)break;if(l.e){if(l.e.r>0&&l.e.c>0){if(l.e.r--,l.e.c--,i["!ref"]=ur(l),e.sheetRows&&e.sheetRows<=l.e.r){var kt=l.e.r;l.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=ur(l),l.e.r=kt}l.e.r++,l.e.c++}be.length>0&&(i["!merges"]=be),xe.length>0&&(i["!objects"]=xe),_e.length>0&&(i["!cols"]=_e),Ae.length>0&&(i["!rows"]=Ae),L.Sheets.push(j)}g===""?y=i:n[g]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(M.biff===8&&(M.biff={9:2,521:3,1033:4}[je]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[me.BIFFVer]||8),M.biffguess=me.BIFFVer==0,me.BIFFVer==0&&me.dt==4096&&(M.biff=5,ye=!0,Ao(M.codepage=28591)),M.biff==8&&me.BIFFVer==0&&me.dt==16&&(M.biff=2),ve++)break;if(i=e.dense?[]:{},M.biff<8&&!ye&&(ye=!0,Ao(M.codepage=e.codepage||1252)),M.biff<5||me.BIFFVer==0&&me.dt==4096){g===""&&(g="Sheet1"),l={s:{r:0,c:0},e:{r:0,c:0}};var Wt={pos:t.l-Ve,name:g};a[Wt.pos]=Wt,M.snames.push(g)}else g=(a[Ie]||{name:""}).name;me.dt==32&&(i["!type"]="chart"),me.dt==64&&(i["!type"]="macro"),be=[],xe=[],M.arrayf=G=[],_e=[],Ae=[],ot=!1,j={Hidden:(a[Ie]||{hs:0}).hs,name:g}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[me.r]||[])[me.c]:i[Xt({c:me.c,r:me.r})])&&++me.c,B={ixfe:me.ixfe,XF:te[me.ixfe]||{},v:me.val,t:"n"},Z>0&&(B.z=he[B.ixfe>>8&63]),jo(B,e,r.opts.Date1904),K({c:me.c,r:me.r},B,e);break;case 5:case 517:B={ixfe:me.ixfe,XF:te[me.ixfe],v:me.val,t:me.t},Z>0&&(B.z=he[B.ixfe>>8&63]),jo(B,e,r.opts.Date1904),K({c:me.c,r:me.r},B,e);break;case 638:B={ixfe:me.ixfe,XF:te[me.ixfe],v:me.rknum,t:"n"},Z>0&&(B.z=he[B.ixfe>>8&63]),jo(B,e,r.opts.Date1904),K({c:me.c,r:me.r},B,e);break;case 189:for(var jt=me.c;jt<=me.C;++jt){var ct=me.rkrec[jt-me.c][0];B={ixfe:ct,XF:te[ct],v:me.rkrec[jt-me.c][1],t:"n"},Z>0&&(B.z=he[B.ixfe>>8&63]),jo(B,e,r.opts.Date1904),K({c:jt,r:me.r},B,e)}break;case 6:case 518:case 1030:{if(me.val=="String"){f=me;break}if(B=Hg(me.val,me.cell.ixfe,me.tt),B.XF=te[B.ixfe],e.cellFormula){var Ot=me.formula;if(Ot&&Ot[0]&&Ot[0][0]&&Ot[0][0][0]=="PtgExp"){var Ct=Ot[0][0][1][0],ln=Ot[0][0][1][1],vt=Xt({r:Ct,c:ln});P[vt]?B.f=""+wa(me.formula,l,me.cell,Ce,M):B.F=((e.dense?(i[Ct]||[])[ln]:i[vt])||{}).F}else B.f=""+wa(me.formula,l,me.cell,Ce,M)}Z>0&&(B.z=he[B.ixfe>>8&63]),jo(B,e,r.opts.Date1904),K(me.cell,B,e),f=me}break;case 7:case 519:if(f)f.val=me,B=Hg(me,f.cell.ixfe,"s"),B.XF=te[B.ixfe],e.cellFormula&&(B.f=""+wa(f.formula,l,f.cell,Ce,M)),Z>0&&(B.z=he[B.ixfe>>8&63]),jo(B,e,r.opts.Date1904),K(f.cell,B,e),f=null;else throw new Error("String record expects Formula");break;case 33:case 545:{G.push(me);var _i=Xt(me[0].s);if(C=e.dense?(i[me[0].s.r]||[])[me[0].s.c]:i[_i],e.cellFormula&&C){if(!f||!_i||!C)break;C.f=""+wa(me[1],l,me[0],Ce,M),C.F=ur(me[0])}}break;case 1212:{if(!e.cellFormula)break;if(A){if(!f)break;P[Xt(f.cell)]=me[0],C=e.dense?(i[f.cell.r]||[])[f.cell.c]:i[Xt(f.cell)],(C||{}).f=""+wa(me[0],l,E,Ce,M)}}break;case 253:B=Hg(m[me.isst].t,me.ixfe,"s"),m[me.isst].h&&(B.h=m[me.isst].h),B.XF=te[B.ixfe],Z>0&&(B.z=he[B.ixfe>>8&63]),jo(B,e,r.opts.Date1904),K({c:me.c,r:me.r},B,e);break;case 513:e.sheetStubs&&(B={ixfe:me.ixfe,XF:te[me.ixfe],t:"z"},Z>0&&(B.z=he[B.ixfe>>8&63]),jo(B,e,r.opts.Date1904),K({c:me.c,r:me.r},B,e));break;case 190:if(e.sheetStubs)for(var Oi=me.c;Oi<=me.C;++Oi){var rr=me.ixfe[Oi-me.c];B={ixfe:rr,XF:te[rr],t:"z"},Z>0&&(B.z=he[B.ixfe>>8&63]),jo(B,e,r.opts.Date1904),K({c:Oi,r:me.r},B,e)}break;case 214:case 516:case 4:B=Hg(me.val,me.ixfe,"s"),B.XF=te[B.ixfe],Z>0&&(B.z=he[B.ixfe>>8&63]),jo(B,e,r.opts.Date1904),K({c:me.c,r:me.r},B,e);break;case 0:case 512:ve===1&&(l=me);break;case 252:m=me;break;case 1054:if(M.biff==4){he[Z++]=me[1];for(var ci=0;ci<Z+163&&Gt[ci]!=me[1];++ci);ci>=163&&Gl(me[1],Z+163)}else Gl(me[1],me[0]);break;case 30:{he[Z++]=me;for(var or=0;or<Z+163&&Gt[or]!=me;++or);or>=163&&Gl(me,Z+163)}break;case 229:be=be.concat(me);break;case 93:xe[me.cmo[0]]=M.lastobj=me;break;case 438:M.lastobj.TxO=me;break;case 127:M.lastobj.ImData=me;break;case 440:for(D=me[0].s.r;D<=me[0].e.r;++D)for(b=me[0].s.c;b<=me[0].e.c;++b)C=e.dense?(i[D]||[])[b]:i[Xt({c:b,r:D})],C&&(C.l=me[1]);break;case 2048:for(D=me[0].s.r;D<=me[0].e.r;++D)for(b=me[0].s.c;b<=me[0].e.c;++b)C=e.dense?(i[D]||[])[b]:i[Xt({c:b,r:D})],C&&C.l&&(C.l.Tooltip=me[1]);break;case 28:{if(M.biff<=5&&M.biff>=2)break;C=e.dense?(i[me[0].r]||[])[me[0].c]:i[Xt(me[0])];var Gr=xe[me[2]];C||(e.dense?(i[me[0].r]||(i[me[0].r]=[]),C=i[me[0].r][me[0].c]={t:"z"}):C=i[Xt(me[0])]={t:"z"},l.e.r=Math.max(l.e.r,me[0].r),l.s.r=Math.min(l.s.r,me[0].r),l.e.c=Math.max(l.e.c,me[0].c),l.s.c=Math.min(l.s.c,me[0].c)),C.c||(C.c=[]),N={a:me[1],t:Gr.TxO.t},C.c.push(N)}break;case 2173:BK(te[me.ixfe],me.ext);break;case 125:{if(!M.cellStyles)break;for(;me.e>=me.s;)_e[me.e--]={width:me.w/256,level:me.level||0,hidden:!!(me.flags&1)},ot||(ot=!0,LE(me.w/256)),iu(_e[me.e+1])}break;case 520:{var yr={};me.level!=null&&(Ae[me.r]=yr,yr.level=me.level),me.hidden&&(Ae[me.r]=yr,yr.hidden=!0),me.hpt&&(Ae[me.r]=yr,yr.hpt=me.hpt,yr.hpx=L0(me.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Ku(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[je]]=me;break;case 161:i["!margins"]||Ku(i["!margins"]={}),i["!margins"].header=me.header,i["!margins"].footer=me.footer;break;case 574:me.RTL&&(L.Views[0].RTL=!0);break;case 146:ee=me;break;case 2198:Q=me;break;case 140:Y=me;break;case 442:g?j.CodeName=me||j.name:L.WBProps.CodeName=me||"ThisWorkbook";break}}else $e||console.error("Missing Info for XLS Record 0x"+je.toString(16)),t.l+=Ve}return r.SheetNames=oi(a).sort(function(Nr,It){return Number(Nr)-Number(It)}).map(function(Nr){return a[Nr].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&y["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=y)):r.Preamble=y,r.Sheets&&ie.forEach(function(Nr,It){r.Sheets[r.SheetNames[It]]["!autofilter"]=Nr}),r.Strings=m,r.SSF=Dn(Gt),M.enc&&(r.Encryption=M.enc),Q&&(r.Themes=Q),r.Metadata={},Y!==void 0&&(r.Metadata.Country=Y),Ce.names.length>0&&(L.Names=Ce.names),r.Workbook=L,r}var hd={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Zee(t,e,r){var n=Ut.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=G3(n,Ey,hd.DSI);for(var a in i)e[a]=i[a]}catch(g){if(r.WTF)throw g}var l=Ut.find(t,"/!SummaryInformation");if(l&&l.size>0)try{var f=G3(l,wy,hd.SI);for(var m in f)e[m]==null&&(e[m]=f[m])}catch(g){if(r.WTF)throw g}e.HeadingPairs&&e.TitlesOfParts&&(pN(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function Jee(t,e){var r=[],n=[],i=[],a=0,l,f=_3(Ey,"n"),m=_3(wy,"n");if(t.Props)for(l=oi(t.Props),a=0;a<l.length;++a)(Object.prototype.hasOwnProperty.call(f,l[a])?r:Object.prototype.hasOwnProperty.call(m,l[a])?n:i).push([l[a],t.Props[l[a]]]);if(t.Custprops)for(l=oi(t.Custprops),a=0;a<l.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},l[a])||(Object.prototype.hasOwnProperty.call(f,l[a])?r:Object.prototype.hasOwnProperty.call(m,l[a])?n:i).push([l[a],t.Custprops[l[a]]]);var g=[];for(a=0;a<i.length;++a)TN.indexOf(i[a][0])>-1||mN.indexOf(i[a][0])>-1||i[a][1]!=null&&g.push(i[a]);n.length&&Ut.utils.cfb_add(e,"/SummaryInformation",W3(n,hd.SI,m,wy)),(r.length||g.length)&&Ut.utils.cfb_add(e,"/DocumentSummaryInformation",W3(r,hd.DSI,f,Ey,g.length?g:null,hd.UDI))}function vk(t,e){e||(e={}),GE(e),fE(),e.codepage&&uE(e.codepage);var r,n;if(t.FullPaths){if(Ut.find(t,"/encryption"))throw new Error("File is password-protected");r=Ut.find(t,"!CompObj"),n=Ut.find(t,"/Workbook")||Ut.find(t,"/Book")}else{switch(e.type){case"base64":t=Ds(Bs(t));break;case"binary":t=Ds(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}ca(t,0),n={content:t}}var i,a;if(r&&Yee(r),e.bookProps&&!e.bookSheets)i={};else{var l=xr?"buffer":"array";if(n&&n.content)i=$ee(n.content,e);else if((a=Ut.find(t,"PerfectOffice_MAIN"))&&a.content)i=Yu.to_workbook(a.content,(e.type=l,e));else if((a=Ut.find(t,"NativeContent_MAIN"))&&a.content)i=Yu.to_workbook(a.content,(e.type=l,e));else throw(a=Ut.find(t,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Ut.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=hQ(t))}var f={};return t.FullPaths&&Zee(t,f,e),i.Props=i.Custprops=f,e.bookFiles&&(i.cfb=t),i}function ete(t,e){var r=e||{},n=Ut.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Ut.utils.cfb_add(n,i,yk(t,r)),r.biff==8&&(t.Props||t.Custprops)&&Jee(t,n),r.biff==8&&t.vbaraw&&dQ(n,Ut.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var Ud={0:{f:AZ},1:{f:DZ},2:{f:$Z},3:{f:VZ},4:{f:FZ},5:{f:YZ},6:{f:rJ},7:{f:GZ},8:{f:cJ},9:{f:lJ},10:{f:sJ},11:{f:oJ},12:{f:MZ},13:{f:JZ},14:{f:zZ},15:{f:BZ},16:{f:uk},17:{f:iJ},18:{f:qZ},19:{f:SE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:iee},40:{},42:{},43:{f:rK},44:{f:eK},45:{f:aK},46:{f:oK},47:{f:sK},48:{},49:{f:bW},50:{},51:{f:jK},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:MN},62:{f:tJ},63:{f:QK},64:{f:SJ},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ia,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:EJ},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:NZ},148:{f:bZ,p:16},151:{f:mJ},152:{},153:{f:tee},154:{},155:{},156:{f:JJ},157:{},158:{},159:{T:1,f:xY},160:{T:-1},161:{T:1,f:yf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:uJ},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:UK},336:{T:-1},337:{f:GK,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:_y},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ON},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:pJ},427:{f:xJ},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:yJ},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:RZ},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:dJ},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:_y},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:oQ},633:{T:1},634:{T:-1},635:{T:1,f:aQ},636:{T:-1},637:{f:kW},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:zJ},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:CJ},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Iy={6:{f:Cv},10:{f:Dc},12:{f:Ri},13:{f:Ri},14:{f:mi},15:{f:mi},16:{f:Sa},17:{f:mi},18:{f:mi},19:{f:Ri},20:{f:$3},21:{f:$3},23:{f:ON},24:{f:J3},25:{f:mi},26:{},27:{},28:{f:CX},29:{},34:{f:mi},35:{f:Z3},38:{f:Sa},39:{f:Sa},40:{f:Sa},41:{f:Sa},42:{f:mi},43:{f:mi},47:{f:BY},49:{f:Jq},51:{f:Ri},60:{},61:{f:Yq},64:{f:mi},65:{f:Zq},66:{f:Ri},77:{},80:{},81:{},82:{},85:{f:Ri},89:{},90:{},91:{},92:{f:Pq},93:{f:RX},94:{},95:{f:mi},96:{},97:{},99:{f:mi},125:{f:MN},128:{f:gX},129:{f:Uq},130:{f:Ri},131:{f:mi},132:{f:mi},133:{f:Vq},134:{},140:{f:PX},141:{f:Ri},144:{},146:{f:VX},151:{},152:{},153:{},154:{},155:{},156:{f:Ri},157:{},158:{},160:{f:XX},161:{f:HX},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:uX},190:{f:fX},193:{f:Dc},197:{},198:{},199:{},200:{},201:{},202:{f:mi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ri},220:{},221:{f:mi},222:{},224:{f:dX},225:{f:Fq},226:{f:Dc},227:{},229:{f:bX},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:zq},253:{f:tX},255:{f:Gq},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:AN},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:mi},353:{f:Dc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:yX},431:{f:mi},432:{},433:{},434:{},437:{},438:{f:DX},439:{f:mi},440:{f:OX},441:{},442:{f:f1},443:{},444:{f:Ri},445:{},446:{},448:{f:Dc},449:{f:Xq,r:2},450:{f:Dc},512:{f:Y3},513:{f:qX},515:{f:xX},516:{f:nX},517:{f:Q3},519:{f:YX},520:{f:Wq},523:{},545:{f:eb},549:{f:X3},566:{},574:{f:Qq},638:{f:cX},659:{},1048:{},1054:{f:aX},1084:{},1212:{f:TX},2048:{f:LX},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Vg},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Dc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:jX,r:12},2173:{f:PK,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:mi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:wX,r:12},2197:{},2198:{f:kK,r:12},2199:{},2200:{},2201:{},2202:{f:AX,r:12},2203:{f:Dc},2204:{},2205:{},2206:{},2207:{},2211:{f:qq},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ri},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:GX},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:UX},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Y3},1:{},2:{f:JX},3:{f:$X},4:{f:QX},5:{f:Q3},7:{f:tY},8:{},9:{f:Vg},11:{},22:{f:Ri},30:{f:oX},31:{},32:{},33:{f:eb},36:{},37:{f:X3},50:{f:rY},62:{},52:{},67:{},68:{f:Ri},69:{},86:{},126:{},127:{f:KX},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:nY},223:{},234:{},354:{},421:{},518:{f:Cv},521:{f:Vg},536:{f:J3},547:{f:Z3},561:{},579:{},1030:{f:Cv},1033:{f:Vg},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function yt(t,e,r,n){var i=e;if(!isNaN(i)){var a=n||(r||[]).length||0,l=t.next(4);l.write_shift(2,i),l.write_shift(2,a),a>0&&wE(r)&&t.push(r)}}function tte(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return yt(t,e,r,i);var a=e;if(!isNaN(a)){for(var l=r.parts||[],f=0,m=0,g=0;g+(l[f]||8224)<=8224;)g+=l[f]||8224,f++;var y=t.next(4);for(y.write_shift(2,a),y.write_shift(2,g),t.push(r.slice(m,m+g)),m+=g;m<i;){for(y=t.next(4),y.write_shift(2,60),g=0;g+(l[f]||8224)<=8224;)g+=l[f]||8224,f++;y.write_shift(2,g),t.push(r.slice(m,m+g)),m+=g}}}function m1(t,e,r){return t||(t=Ye(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function rte(t,e,r,n){var i=Ye(9);return m1(i,t,e),SN(r,n||"b",i),i}function nte(t,e,r){var n=Ye(8+2*r.length);return m1(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function ite(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?ji(kn(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?yt(t,2,eY(r,n,i)):yt(t,3,ZX(r,n,i));return;case"b":case"e":yt(t,5,rte(r,n,e.v,e.t));return;case"s":case"str":yt(t,4,nte(r,n,(e.v||"").slice(0,255)));return}yt(t,1,m1(null,r,n))}function ate(t,e,r,n){var i=Array.isArray(e),a=Fr(e["!ref"]||"A1"),l,f="",m=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),l=ur(a)}for(var g=a.s.r;g<=a.e.r;++g){f=xi(g);for(var y=a.s.c;y<=a.e.c;++y){g===a.s.r&&(m[y]=zn(y)),l=m[y]+f;var E=i?(e[g]||[])[y]:e[l];E&&ite(t,E,g,y)}}}function ste(t,e){for(var r=e||{},n=us(),i=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return yt(n,r.biff==4?1033:r.biff==3?521:9,DE(t,16,r)),ate(n,t.Sheets[t.SheetNames[i]],i,r),yt(n,10),n.end()}function ote(t,e,r){yt(t,49,eX({sz:12,name:"Arial"},r))}function lte(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&yt(t,1054,sX(i,e[i],r))})}function cte(t,e){var r=Ye(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),yt(t,2151,r),r=Ye(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),NN(Fr(e["!ref"]||"A1"),r),r.write_shift(4,4),yt(t,2152,r)}function ute(t,e){for(var r=0;r<16;++r)yt(t,224,K3({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){yt(t,224,K3(n,0,e))})}function fte(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];yt(t,440,MX(n)),n[1].Tooltip&&yt(t,2048,FX(n))}delete e["!links"]}function hte(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&yt(t,125,zX(Gp(i,n),i))})}}function dte(t,e,r,n,i){var a=16+mu(i.cellXfs,e,i);if(e.v==null&&!e.bf){yt(t,513,cf(r,n,a));return}if(e.bf)yt(t,6,U$(e,r,n,i,a));else switch(e.t){case"d":case"n":var l=e.t=="d"?ji(kn(e.v)):e.v;yt(t,515,vX(r,n,l,a));break;case"b":case"e":yt(t,517,pX(r,n,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var f=VE(i.Strings,e.v,i.revStrings);yt(t,253,rX(r,n,f,a))}else yt(t,516,iX(r,n,(e.v||"").slice(0,255),a,i));break;default:yt(t,513,cf(r,n,a))}}function gte(t,e,r){var n=us(),i=r.SheetNames[t],a=r.Sheets[i]||{},l=(r||{}).Workbook||{},f=(l.Sheets||[])[t]||{},m=Array.isArray(a),g=e.biff==8,y,E="",A=[],C=Fr(a["!ref"]||"A1"),N=g?65536:16384;if(C.e.c>255||C.e.r>=N){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");C.e.c=Math.min(C.e.c,255),C.e.r=Math.min(C.e.c,N-1)}yt(n,2057,DE(r,16,e)),yt(n,13,no(1)),yt(n,12,no(100)),yt(n,15,Ba(!0)),yt(n,17,Ba(!1)),yt(n,16,of(.001)),yt(n,95,Ba(!0)),yt(n,42,Ba(!1)),yt(n,43,Ba(!1)),yt(n,130,no(1)),yt(n,128,mX()),yt(n,131,Ba(!1)),yt(n,132,Ba(!1)),g&&hte(n,a["!cols"]),yt(n,512,lX(C,e)),g&&(a["!links"]=[]);for(var b=C.s.r;b<=C.e.r;++b){E=xi(b);for(var D=C.s.c;D<=C.e.c;++D){b===C.s.r&&(A[D]=zn(D)),y=A[D]+E;var P=m?(a[b]||[])[D]:a[y];P&&(dte(n,P,b,D,e),g&&P.l&&a["!links"].push([y,P.l]))}}var G=f.CodeName||f.name||i;return g&&yt(n,574,$q((l.Views||[])[0])),g&&(a["!merges"]||[]).length&&yt(n,229,IX(a["!merges"])),g&&fte(n,a),yt(n,442,CN(G)),g&&cte(n,a),yt(n,10),n.end()}function mte(t,e,r){var n=us(),i=(t||{}).Workbook||{},a=i.Sheets||[],l=i.WBProps||{},f=r.biff==8,m=r.biff==5;if(yt(n,2057,DE(t,5,r)),r.bookType=="xla"&&yt(n,135),yt(n,225,f?no(1200):null),yt(n,193,pq(2)),m&&yt(n,191),m&&yt(n,192),yt(n,226),yt(n,92,Bq("SheetJS",r)),yt(n,66,no(f?1200:1252)),f&&yt(n,353,no(0)),f&&yt(n,448),yt(n,317,WX(t.SheetNames.length)),f&&t.vbaraw&&yt(n,211),f&&t.vbaraw){var g=l.CodeName||"ThisWorkbook";yt(n,442,CN(g))}yt(n,156,no(17)),yt(n,25,Ba(!1)),yt(n,18,Ba(!1)),yt(n,19,no(0)),f&&yt(n,431,Ba(!1)),f&&yt(n,444,no(0)),yt(n,61,Kq()),yt(n,64,Ba(!1)),yt(n,141,no(0)),yt(n,34,Ba(XJ(t)=="true")),yt(n,14,Ba(!0)),f&&yt(n,439,Ba(!1)),yt(n,218,no(0)),ote(n,t,r),lte(n,t.SSF,r),ute(n,r),f&&yt(n,352,Ba(!1));var y=n.end(),E=us();f&&yt(E,140,BX()),f&&r.Strings&&tte(E,252,Hq(r.Strings)),yt(E,10);var A=E.end(),C=us(),N=0,b=0;for(b=0;b<t.SheetNames.length;++b)N+=(f?12:11)+(f?2:1)*t.SheetNames[b].length;var D=y.length+N+A.length;for(b=0;b<t.SheetNames.length;++b){var P=a[b]||{};yt(C,133,jq({pos:D,hs:P.Hidden||0,dt:0,name:t.SheetNames[b]},r)),D+=e[b].length}var G=C.end();if(N!=G.length)throw new Error("BS8 "+N+" != "+G.length);var B=[];return y.length&&B.push(y),G.length&&B.push(G),A.length&&B.push(A),Ki(B)}function pte(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Dn(Gt)),t&&t.SSF&&(X0(),Pp(t.SSF),r.revssf=Up(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,WE(r),r.cellXfs=[],mu(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=gte(i,r,t);return n.unshift(mte(t,n,r)),Ki(n)}function yk(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=hs(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return pte(t,e);case 4:case 3:case 2:return ste(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function ub(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=t.match(/<\/table/i),l=i.index,f=a&&a.index||t.length,m=eW(t.slice(l,f),/(:?<tr[^>]*>)/i,"<tr>"),g=-1,y=0,E=0,A=0,C={s:{r:1e7,c:1e7},e:{r:0,c:0}},N=[];for(l=0;l<m.length;++l){var b=m[l].trim(),D=b.slice(0,3).toLowerCase();if(D=="<tr"){if(++g,r.sheetRows&&r.sheetRows<=g){--g;break}y=0;continue}if(!(D!="<td"&&D!="<th")){var P=b.split(/<\/t[dh]>/i);for(f=0;f<P.length;++f){var G=P[f].trim();if(G.match(/<t[dh]/i)){for(var B=G,Y=0;B.charAt(0)=="<"&&(Y=B.indexOf(">"))>-1;)B=B.slice(Y+1);for(var te=0;te<N.length;++te){var ee=N[te];ee.s.c==y&&ee.s.r<g&&g<=ee.e.r&&(y=ee.e.c+1,te=-1)}var L=Qt(G.slice(0,G.indexOf(">")));A=L.colspan?+L.colspan:1,((E=+L.rowspan)>1||A>1)&&N.push({s:{r:g,c:y},e:{r:g+(E||1)-1,c:y+A-1}});var j=L.t||L["data-t"]||"";if(!B.length){y+=A;continue}if(B=H8(B),C.s.r>g&&(C.s.r=g),C.e.r<g&&(C.e.r=g),C.s.c>y&&(C.s.c=y),C.e.c<y&&(C.e.c=y),!B.length){y+=A;continue}var U={t:"s",v:B};r.raw||!B.trim().length||j=="s"||(B==="TRUE"?U={t:"b",v:!0}:B==="FALSE"?U={t:"b",v:!1}:isNaN(Co(B))?isNaN(O0(B).getDate())||(U={t:"d",v:kn(B)},r.cellDates||(U={t:"n",v:ji(U.v)}),U.z=r.dateNF||Gt[14]):U={t:"n",v:Co(B)}),r.dense?(n[g]||(n[g]=[]),n[g][y]=U):n[Xt({r:g,c:y})]=U,y+=A}}}}return n["!ref"]=ur(C),N.length&&(n["!merges"]=N),n}function xte(t,e,r,n){for(var i=t["!merges"]||[],a=[],l=e.s.c;l<=e.e.c;++l){for(var f=0,m=0,g=0;g<i.length;++g)if(!(i[g].s.r>r||i[g].s.c>l)&&!(i[g].e.r<r||i[g].e.c<l)){if(i[g].s.r<r||i[g].s.c<l){f=-1;break}f=i[g].e.r-i[g].s.r+1,m=i[g].e.c-i[g].s.c+1;break}if(!(f<0)){var y=Xt({r,c:l}),E=n.dense?(t[r]||[])[l]:t[y],A=E&&E.v!=null&&(E.h||yE(E.w||(Jl(E),E.w)||""))||"",C={};f>1&&(C.rowspan=f),m>1&&(C.colspan=m),n.editable?A='<span contenteditable="true">'+A+"</span>":E&&(C["data-t"]=E&&E.t||"z",E.v!=null&&(C["data-v"]=E.v),E.z!=null&&(C["data-z"]=E.z),E.l&&(E.l.Target||"#").charAt(0)!="#"&&(A='<a href="'+E.l.Target+'">'+A+"</a>")),C.id=(n.id||"sjs")+"-"+y,a.push(xt("td",A,C))}}var N="<tr>";return N+a.join("")+"</tr>"}var vte='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',yte="</body></html>";function _te(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return gu(ub(r[0],e),e);var n=YE();return r.forEach(function(i,a){KE(n,ub(i,e),"Sheet"+(a+1))}),n}function Ete(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function _k(t,e){var r=e||{},n=r.header!=null?r.header:vte,i=r.footer!=null?r.footer:yte,a=[n],l=hs(t["!ref"]);r.dense=Array.isArray(t),a.push(Ete(t,l,r));for(var f=l.s.r;f<=l.e.r;++f)a.push(xte(t,l,f,r));return a.push("</table>"+i),a.join("")}function Ek(t,e,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?Hn(n.origin):n.origin;i=l.r,a=l.c}var f=e.getElementsByTagName("tr"),m=Math.min(n.sheetRows||1e7,f.length),g={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var y=hs(t["!ref"]);g.s.r=Math.min(g.s.r,y.s.r),g.s.c=Math.min(g.s.c,y.s.c),g.e.r=Math.max(g.e.r,y.e.r),g.e.c=Math.max(g.e.c,y.e.c),i==-1&&(g.e.r=i=y.e.r+1)}var E=[],A=0,C=t["!rows"]||(t["!rows"]=[]),N=0,b=0,D=0,P=0,G=0,B=0;for(t["!cols"]||(t["!cols"]=[]);N<f.length&&b<m;++N){var Y=f[N];if(fb(Y)){if(n.display)continue;C[b]={hidden:!0}}var te=Y.children;for(D=P=0;D<te.length;++D){var ee=te[D];if(!(n.display&&fb(ee))){var L=ee.hasAttribute("data-v")?ee.getAttribute("data-v"):ee.hasAttribute("v")?ee.getAttribute("v"):H8(ee.innerHTML),j=ee.getAttribute("data-z")||ee.getAttribute("z");for(A=0;A<E.length;++A){var U=E[A];U.s.c==P+a&&U.s.r<b+i&&b+i<=U.e.r&&(P=U.e.c+1-a,A=-1)}B=+ee.getAttribute("colspan")||1,((G=+ee.getAttribute("rowspan")||1)>1||B>1)&&E.push({s:{r:b+i,c:P+a},e:{r:b+i+(G||1)-1,c:P+a+(B||1)-1}});var q={t:"s",v:L},K=ee.getAttribute("data-t")||ee.getAttribute("t")||"";L!=null&&(L.length==0?q.t=K||"z":n.raw||L.trim().length==0||K=="s"||(L==="TRUE"?q={t:"b",v:!0}:L==="FALSE"?q={t:"b",v:!1}:isNaN(Co(L))?isNaN(O0(L).getDate())||(q={t:"d",v:kn(L)},n.cellDates||(q={t:"n",v:ji(q.v)}),q.z=n.dateNF||Gt[14]):q={t:"n",v:Co(L)})),q.z===void 0&&j!=null&&(q.z=j);var M="",Q=ee.getElementsByTagName("A");if(Q&&Q.length)for(var be=0;be<Q.length&&!(Q[be].hasAttribute("href")&&(M=Q[be].getAttribute("href"),M.charAt(0)!="#"));++be);M&&M.charAt(0)!="#"&&(q.l={Target:M}),n.dense?(t[b+i]||(t[b+i]=[]),t[b+i][P+a]=q):t[Xt({c:P+a,r:b+i})]=q,g.e.c<P+a&&(g.e.c=P+a),P+=B}}++b}return E.length&&(t["!merges"]=(t["!merges"]||[]).concat(E)),g.e.r=Math.max(g.e.r,b-1+i),t["!ref"]=ur(g),b>=m&&(t["!fullref"]=ur((g.e.r=f.length-N+b-1+i,g))),t}function wk(t,e){var r=e||{},n=r.dense?[]:{};return Ek(n,t,e)}function wte(t,e){return gu(wk(t,e),e)}function fb(t){var e="",r=Tte(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function Tte(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Ate(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Lr(e.replace(/<[^>]*>/g,""));return[r]}var hb={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Tk(t,e){var r=e||{},n=_E(t),i=[],a,l,f={name:""},m="",g=0,y,E,A={},C=[],N=r.dense?[]:{},b,D,P={value:""},G="",B=0,Y=[],te=-1,ee=-1,L={s:{r:1e6,c:1e7},e:{r:0,c:0}},j=0,U={},q=[],K={},M=0,Q=0,be=[],xe=1,_e=1,Ae=[],ot={Names:[]},Ce={},ht=["",""],ve=[],Z={},he="",ie=0,fe=!1,ye=!1,Ie=0;for(Od.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=Od.exec(n);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"":b[1]==="/"?(L.e.c>=L.s.c&&L.e.r>=L.s.r?N["!ref"]=ur(L):N["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=L.e.r&&(N["!fullref"]=N["!ref"],L.e.r=r.sheetRows-1,N["!ref"]=ur(L)),q.length&&(N["!merges"]=q),be.length&&(N["!rows"]=be),y.name=y.||y.name,typeof JSON<"u"&&JSON.stringify(y),C.push(y.name),A[y.name]=N,ye=!1):b[0].charAt(b[0].length-2)!=="/"&&(y=Qt(b[0],!1),te=ee=-1,L.s.r=L.s.c=1e7,L.e.r=L.e.c=0,N=r.dense?[]:{},q=[],be=[],ye=!0);break;case"table-row-group":b[1]==="/"?--j:++j;break;case"table-row":case"":if(b[1]==="/"){te+=xe,xe=1;break}if(E=Qt(b[0],!1),E.?te=E.-1:te==-1&&(te=0),xe=+E["number-rows-repeated"]||1,xe<10)for(Ie=0;Ie<xe;++Ie)j>0&&(be[te+Ie]={level:j});ee=-1;break;case"covered-table-cell":b[1]!=="/"&&++ee,r.sheetStubs&&(r.dense?(N[te]||(N[te]=[]),N[te][ee]={t:"z"}):N[Xt({r:te,c:ee})]={t:"z"}),G="",Y=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++ee,P=Qt(b[0],!1),_e=parseInt(P["number-columns-repeated"]||"1",10),D={t:"z",v:null},P.formula&&r.cellFormula!=!1&&(D.f=ob(Lr(P.formula))),(P.||P["value-type"])=="string"&&(D.t="s",D.v=Lr(P["string-value"]||""),r.dense?(N[te]||(N[te]=[]),N[te][ee]=D):N[Xt({r:te,c:ee})]=D),ee+=_e-1;else if(b[1]!=="/"){++ee,G="",B=0,Y=[],_e=1;var je=xe?te+xe-1:te;if(ee>L.e.c&&(L.e.c=ee),ee<L.s.c&&(L.s.c=ee),te<L.s.r&&(L.s.r=te),je>L.e.r&&(L.e.r=je),P=Qt(b[0],!1),ve=[],Z={},D={t:P.||P["value-type"],v:null},r.cellFormula)if(P.formula&&(P.formula=Lr(P.formula)),P["number-matrix-columns-spanned"]&&P["number-matrix-rows-spanned"]&&(M=parseInt(P["number-matrix-rows-spanned"],10)||0,Q=parseInt(P["number-matrix-columns-spanned"],10)||0,K={s:{r:te,c:ee},e:{r:te+M-1,c:ee+Q-1}},D.F=ur(K),Ae.push([K,D.F])),P.formula)D.f=ob(P.formula);else for(Ie=0;Ie<Ae.length;++Ie)te>=Ae[Ie][0].s.r&&te<=Ae[Ie][0].e.r&&ee>=Ae[Ie][0].s.c&&ee<=Ae[Ie][0].e.c&&(D.F=Ae[Ie][1]);switch((P["number-columns-spanned"]||P["number-rows-spanned"])&&(M=parseInt(P["number-rows-spanned"],10)||0,Q=parseInt(P["number-columns-spanned"],10)||0,K={s:{r:te,c:ee},e:{r:te+M-1,c:ee+Q-1}},q.push(K)),P["number-columns-repeated"]&&(_e=parseInt(P["number-columns-repeated"],10)),D.t){case"boolean":D.t="b",D.v=In(P["boolean-value"]);break;case"float":D.t="n",D.v=parseFloat(P.value);break;case"percentage":D.t="n",D.v=parseFloat(P.value);break;case"currency":D.t="n",D.v=parseFloat(P.value);break;case"date":D.t="d",D.v=kn(P["date-value"]),r.cellDates||(D.t="n",D.v=ji(D.v)),D.z="m/d/yy";break;case"time":D.t="n",D.v=$G(P["time-value"])/86400,r.cellDates&&(D.t="d",D.v=Vp(D.v)),D.z="HH:MM:SS";break;case"number":D.t="n",D.v=parseFloat(P.);break;default:if(D.t==="string"||D.t==="text"||!D.t)D.t="s",P["string-value"]!=null&&(G=Lr(P["string-value"]),Y=[]);else throw new Error("Unsupported value type "+D.t)}}else{if(fe=!1,D.t==="s"&&(D.v=G||"",Y.length&&(D.R=Y),fe=B==0),Ce.Target&&(D.l=Ce),ve.length>0&&(D.c=ve,ve=[]),G&&r.cellText!==!1&&(D.w=G),fe&&(D.t="z",delete D.v),(!fe||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=te))for(var Ve=0;Ve<xe;++Ve){if(_e=parseInt(P["number-columns-repeated"]||"1",10),r.dense)for(N[te+Ve]||(N[te+Ve]=[]),N[te+Ve][ee]=Ve==0?D:Dn(D);--_e>0;)N[te+Ve][ee+_e]=Dn(D);else for(N[Xt({r:te+Ve,c:ee})]=D;--_e>0;)N[Xt({r:te+Ve,c:ee+_e})]=Dn(D);L.e.c<=ee&&(L.e.c=ee)}_e=parseInt(P["number-columns-repeated"]||"1",10),ee+=_e-1,_e=0,D={},G="",Y=[]}Ce={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((a=i.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((a=i.pop())[0]!==b[3])throw"Bad state: "+a;Z.t=G,Y.length&&(Z.R=Y),Z.a=he,ve.push(Z)}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);he="",ie=0,G="",B=0,Y=[];break;case"creator":b[1]==="/"?he=n.slice(ie,b.index):ie=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((a=i.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);G="",B=0,Y=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(U[f.name]=m,(a=i.pop())[0]!==b[3])throw"Bad state: "+a}else b[0].charAt(b[0].length-2)!=="/"&&(m="",f=Qt(b[0],!1),i.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":l=Qt(b[0],!1),m+=hb[b[3]][l.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":l=Qt(b[0],!1),m+=hb[b[3]][l.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":m+=n.slice(g,b.index);break}else g=b.index+b[0].length;break;case"named-range":l=Qt(b[0],!1),ht=bv(l["cell-range-address"]);var $e={Name:l.name,Ref:ht[0]+"!"+ht[1]};ye&&($e.Sheet=C.length),ot.Names.push($e);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(b[1]==="/"&&(!P||!P["string-value"])){var _t=Ate(n.slice(B,b.index));G=(G.length>0?G+`
`:"")+_t[0]}else Qt(b[0],!1),B=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{ht=bv(Qt(b[0])["target-range-address"]),A[ht[0]]["!autofilter"]={ref:ht[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(Ce=Qt(b[0],!1),!Ce.href)break;Ce.Target=Lr(Ce.href),delete Ce.href,Ce.Target.charAt(0)=="#"&&Ce.Target.indexOf(".")>-1?(ht=bv(Ce.Target.slice(1)),Ce.Target="#"+ht[0]+"!"+ht[1]):Ce.Target.match(/^\.\.[\\\/]/)&&(Ce.Target=Ce.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(b)}}var me={Sheets:A,SheetNames:C,Workbook:ot};return r.bookSheets&&delete me.Sheets,me}function db(t,e){e=e||{},ro(t,"META-INF/manifest.xml")&&$W(Ii(t,"META-INF/manifest.xml"),e);var r=Os(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=Tk(xn(r),e);return ro(t,"meta.xml")&&(n.Props=dN(Ii(t,"meta.xml"))),n}function gb(t,e){return Tk(t,e)}var Ste=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Dd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return yi+e}})(),mb=(function(){var t=function(a){return on(a).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,l,f){var m=[];m.push('      <table:table table:name="'+on(l.SheetNames[f])+`" table:style-name="ta1">
`);var g=0,y=0,E=hs(a["!ref"]||"A1"),A=a["!merges"]||[],C=0,N=Array.isArray(a);if(a["!cols"])for(y=0;y<=E.e.c;++y)m.push("        <table:table-column"+(a["!cols"][y]?' table:style-name="co'+a["!cols"][y].ods+'"':"")+`></table:table-column>
`);var b="",D=a["!rows"]||[];for(g=0;g<E.s.r;++g)b=D[g]?' table:style-name="ro'+D[g].ods+'"':"",m.push("        <table:table-row"+b+`></table:table-row>
`);for(;g<=E.e.r;++g){for(b=D[g]?' table:style-name="ro'+D[g].ods+'"':"",m.push("        <table:table-row"+b+`>
`),y=0;y<E.s.c;++y)m.push(e);for(;y<=E.e.c;++y){var P=!1,G={},B="";for(C=0;C!=A.length;++C)if(!(A[C].s.c>y)&&!(A[C].s.r>g)&&!(A[C].e.c<y)&&!(A[C].e.r<g)){(A[C].s.c!=y||A[C].s.r!=g)&&(P=!0),G["table:number-columns-spanned"]=A[C].e.c-A[C].s.c+1,G["table:number-rows-spanned"]=A[C].e.r-A[C].s.r+1;break}if(P){m.push(r);continue}var Y=Xt({r:g,c:y}),te=N?(a[g]||[])[y]:a[Y];if(te&&te.f&&(G["table:formula"]=on(W$(te.f)),te.F&&te.F.slice(0,Y.length)==Y)){var ee=hs(te.F);G["table:number-matrix-columns-spanned"]=ee.e.c-ee.s.c+1,G["table:number-matrix-rows-spanned"]=ee.e.r-ee.s.r+1}if(!te){m.push(e);continue}switch(te.t){case"b":B=te.v?"TRUE":"FALSE",G["office:value-type"]="boolean",G["office:boolean-value"]=te.v?"true":"false";break;case"n":B=te.w||String(te.v||0),G["office:value-type"]="float",G["office:value"]=te.v||0;break;case"s":case"str":B=te.v==null?"":te.v,G["office:value-type"]="string";break;case"d":B=te.w||kn(te.v).toISOString(),G["office:value-type"]="date",G["office:date-value"]=kn(te.v).toISOString(),G["table:style-name"]="ce1";break;default:m.push(e);continue}var L=t(B);if(te.l&&te.l.Target){var j=te.l.Target;j=j.charAt(0)=="#"?"#"+q$(j.slice(1)):j,j.charAt(0)!="#"&&!j.match(/^\w+:/)&&(j="../"+j),L=xt("text:a",L,{"xlink:href":j.replace(/&/g,"&amp;")})}m.push("          "+xt("table:table-cell",xt("text:p",L,{}),G)+`
`)}m.push(`        </table:table-row>
`)}return m.push(`      </table:table>
`),m.join("")},i=function(a,l){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var f=0;l.SheetNames.map(function(g){return l.Sheets[g]}).forEach(function(g){if(g&&g["!cols"]){for(var y=0;y<g["!cols"].length;++y)if(g["!cols"][y]){var E=g["!cols"][y];if(E.width==null&&E.wpx==null&&E.wch==null)continue;iu(E),E.ods=f;var A=g["!cols"][y].wpx+"px";a.push('  <style:style style:name="co'+f+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+A+`"/>
`),a.push(`  </style:style>
`),++f}}});var m=0;l.SheetNames.map(function(g){return l.Sheets[g]}).forEach(function(g){if(g&&g["!rows"]){for(var y=0;y<g["!rows"].length;++y)if(g["!rows"][y]){g["!rows"][y].ods=m;var E=g["!rows"][y].hpx+"px";a.push('  <style:style style:name="ro'+m+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+E+`"/>
`),a.push(`  </style:style>
`),++m}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(l,f){var m=[yi],g=Dd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),y=Dd({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});f.bookType=="fods"?(m.push("<office:document"+g+y+`>
`),m.push(hN().replace(/office:document-meta/g,"office:meta"))):m.push("<office:document-content"+g+`>
`),i(m,l),m.push(`  <office:body>
`),m.push(`    <office:spreadsheet>
`);for(var E=0;E!=l.SheetNames.length;++E)m.push(n(l.Sheets[l.SheetNames[E]],l,E));return m.push(`    </office:spreadsheet>
`),m.push(`  </office:body>
`),f.bookType=="fods"?m.push("</office:document>"):m.push("</office:document-content>"),m.join("")}})();function Ak(t,e){if(e.bookType=="fods")return mb(t,e);var r=pE(),n="",i=[],a=[];return n="mimetype",dr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",dr(r,n,mb(t,e)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",dr(r,n,Ste(t,e)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",dr(r,n,yi+hN()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",dr(r,n,eq(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",dr(r,n,ZW(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function uf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ry(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):xn(du(t))}function Cte(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Ds($o(t))}function bte(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function su(t){var e=t.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function pb(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function Ite(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,i=e+13;i>=e;--i)n=n*256+t[i];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function Rte(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)t[e+a]=i&255;t[e+15]|=r>=0?0:128}function Vd(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function nn(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function ai(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Vr(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=Vd(t,r),a=i&7;i=Math.floor(i/8);var l=0,f;if(i==0)break;switch(a){case 0:{for(var m=r[0];t[r[0]++]>=128;);f=t.slice(m,r[0])}break;case 5:l=4,f=t.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,f=t.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=Vd(t,r),f=t.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var g={data:f,type:a};e[i]==null?e[i]=[g]:e[i].push(g)}return e}function sa(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(nn(n*8+i.type)),i.type==2&&e.push(nn(i.data.length)),e.push(i.data))})}),su(e)}function HE(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function eo(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=Vd(t,n),a=Vr(t.slice(n[0],n[0]+i));n[0]+=i;var l={id:ai(a[1][0].data),messages:[]};a[2].forEach(function(f){var m=Vr(f.data),g=ai(m[3][0].data);l.messages.push({meta:m,data:t.slice(n[0],n[0]+g)}),n[0]+=g}),(e=a[3])!=null&&e[0]&&(l.merge=ai(a[3][0].data)>>>0>0),r.push(l)}return r}function a0(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:nn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:nn(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(l){i.push(l.data),l.meta[3]=[{type:0,data:nn(l.data.length)}],n[2].push({data:sa(l.meta),type:2})});var a=sa(n);e.push(nn(a.length)),e.push(a),i.forEach(function(l){return e.push(l)})}),su(e)}function Nte(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Vd(e,r),i=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var l=e[r[0]++]>>2;if(l<60)++l;else{var f=l-59;l=e[r[0]],f>1&&(l|=e[r[0]+1]<<8),f>2&&(l|=e[r[0]+2]<<16),f>3&&(l|=e[r[0]+3]<<24),l>>>=0,l++,r[0]+=f}i.push(e.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var m=0,g=0;if(a==1?(g=(e[r[0]]>>2&7)+4,m=(e[r[0]++]&224)<<3,m|=e[r[0]++]):(g=(e[r[0]++]>>2)+1,a==2?(m=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(m=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[su(i)],m==0)throw new Error("Invalid offset 0");if(m>i[0].length)throw new Error("Invalid offset beyond length");if(g>=m)for(i.push(i[0].slice(-m)),g-=m;g>=i[i.length-1].length;)i.push(i[i.length-1]),g-=i[i.length-1].length;i.push(i[0].slice(-m,-m+g))}}var y=su(i);if(y.length!=n)throw new Error("Unexpected length: ".concat(y.length," != ").concat(n));return y}function to(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(Nte(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return su(e)}function s0(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var a=nn(n),l=a.length;e.push(a),n<=60?(l++,e.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),l+=n,i[0]=0,i[1]=l&255,i[2]=l>>8&255,i[3]=l>>16&255,r+=n}return su(e)}function kte(t,e,r,n){var i=uf(t),a=i.getUint32(4,!0),l=(n>1?12:8)+pb(a&(n>1?3470:398))*4,f=-1,m=-1,g=NaN,y=new Date(2001,0,1);a&512&&(f=i.getUint32(l,!0),l+=4),l+=pb(a&(n>1?12288:4096))*4,a&16&&(m=i.getUint32(l,!0),l+=4),a&32&&(g=i.getFloat64(l,!0),l+=8),a&64&&(y.setTime(y.getTime()+i.getFloat64(l,!0)*1e3),l+=8);var E;switch(t[2]){case 0:break;case 2:E={t:"n",v:g};break;case 3:E={t:"s",v:e[m]};break;case 5:E={t:"d",v:y};break;case 6:E={t:"b",v:g>0};break;case 7:E={t:"n",v:g/86400};break;case 8:E={t:"e",v:0};break;case 9:if(f>-1)E={t:"s",v:r[f]};else if(m>-1)E={t:"s",v:e[m]};else if(!isNaN(g))E={t:"n",v:g};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return E}function Dte(t,e,r){var n=uf(t),i=n.getUint32(8,!0),a=12,l=-1,f=-1,m=NaN,g=NaN,y=new Date(2001,0,1);i&1&&(m=Ite(t,a),a+=16),i&2&&(g=n.getFloat64(a,!0),a+=8),i&4&&(y.setTime(y.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(f=n.getUint32(a,!0),a+=4),i&16&&(l=n.getUint32(a,!0),a+=4);var E;switch(t[1]){case 0:break;case 2:E={t:"n",v:m};break;case 3:E={t:"s",v:e[f]};break;case 5:E={t:"d",v:y};break;case 6:E={t:"b",v:g>0};break;case 7:E={t:"n",v:g/86400};break;case 8:E={t:"e",v:0};break;case 9:if(l>-1)E={t:"s",v:r[l]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:E={t:"n",v:m};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return E}function Rv(t,e){var r=new Uint8Array(32),n=uf(r),i=12,a=0;switch(r[0]=5,t.t){case"n":r[1]=2,Rte(r,i,t.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,a,!0),r.slice(0,i)}function Nv(t,e){var r=new Uint8Array(32),n=uf(r),i=12,a=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,a,!0),r.slice(0,i)}function Ote(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return kte(t,e,r,t[0]);case 5:return Dte(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Ea(t){var e=Vr(t);return Vd(e[1][0].data)}function xb(t,e){var r=Vr(e.data),n=ai(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(l){var f=Vr(l.data),m=ai(f[1][0].data)>>>0;switch(n){case 1:a[m]=Ry(f[3][0].data);break;case 8:{var g=t[Ea(f[9][0].data)][0],y=Vr(g.data),E=t[Ea(y[1][0].data)][0],A=ai(E.meta[1][0].data);if(A!=2001)throw new Error("2000 unexpected reference to ".concat(A));var C=Vr(E.data);a[m]=C[3].map(function(N){return Ry(N.data)}).join("")}break}}),a}function Mte(t,e){var r,n,i,a,l,f,m,g,y,E,A,C,N,b,D=Vr(t),P=ai(D[1][0].data)>>>0,G=ai(D[2][0].data)>>>0,B=((n=(r=D[8])==null?void 0:r[0])==null?void 0:n.data)&&ai(D[8][0].data)>0||!1,Y,te;if((a=(i=D[7])==null?void 0:i[0])!=null&&a.data&&e!=0)Y=(f=(l=D[7])==null?void 0:l[0])==null?void 0:f.data,te=(g=(m=D[6])==null?void 0:m[0])==null?void 0:g.data;else if((E=(y=D[4])==null?void 0:y[0])!=null&&E.data&&e!=1)Y=(C=(A=D[4])==null?void 0:A[0])==null?void 0:C.data,te=(b=(N=D[3])==null?void 0:N[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var ee=B?4:1,L=uf(Y),j=[],U=0;U<Y.length/2;++U){var q=L.getUint16(U*2,!0);q<65535&&j.push([U,q])}if(j.length!=G)throw"Expected ".concat(G," cells, found ").concat(j.length);var K=[];for(U=0;U<j.length-1;++U)K[j[U][0]]=te.subarray(j[U][1]*ee,j[U+1][1]*ee);return j.length>=1&&(K[j[j.length-1][0]]=te.subarray(j[j.length-1][1]*ee)),{R:P,cells:K}}function Lte(t,e){var r,n=Vr(e.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?ai(n[7][0].data)>>>0>0?1:0:-1,a=HE(n[5],function(l){return Mte(l,i)});return{nrows:ai(n[4][0].data)>>>0,data:a.reduce(function(l,f){return l[f.R]||(l[f.R]=[]),f.cells.forEach(function(m,g){if(l[f.R][g])throw new Error("Duplicate cell r=".concat(f.R," c=").concat(g));l[f.R][g]=m}),l},[])}}function Fte(t,e,r){var n,i=Vr(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(ai(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(ai(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=ur(a);var l=Vr(i[4][0].data),f=xb(t,t[Ea(l[4][0].data)][0]),m=(n=l[17])!=null&&n[0]?xb(t,t[Ea(l[17][0].data)][0]):[],g=Vr(l[3][0].data),y=0;g[1].forEach(function(E){var A=Vr(E.data),C=t[Ea(A[2][0].data)][0],N=ai(C.meta[1][0].data);if(N!=6002)throw new Error("6001 unexpected reference to ".concat(N));var b=Lte(t,C);b.data.forEach(function(D,P){D.forEach(function(G,B){var Y=Xt({r:y+P,c:B}),te=Ote(G,f,m);te&&(r[Y]=te)})}),y+=b.nrows})}function Pte(t,e){var r=Vr(e.data),n={"!ref":"A1"},i=t[Ea(r[2][0].data)],a=ai(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return Fte(t,i[0],n),n}function Bte(t,e){var r,n=Vr(e.data),i={name:(r=n[1])!=null&&r[0]?Ry(n[1][0].data):"",sheets:[]},a=HE(n[2],Ea);return a.forEach(function(l){t[l].forEach(function(f){var m=ai(f.meta[1][0].data);m==6e3&&i.sheets.push(Pte(t,f))})}),i}function Ute(t,e){var r=YE(),n=Vr(e.data),i=HE(n[1],Ea);if(i.forEach(function(a){t[a].forEach(function(l){var f=ai(l.meta[1][0].data);if(f==2){var m=Bte(t,l);m.sheets.forEach(function(g,y){KE(r,g,y==0?m.name:m.name+"_"+y,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function kv(t){var e,r,n,i,a={},l=[];if(t.FullPaths.forEach(function(m){if(m.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(m){if(m.name.match(/\.iwa$/)){var g;try{g=to(m.content)}catch(E){return console.log("?? "+m.content.length+" "+(E.message||E))}var y;try{y=eo(g)}catch(E){return console.log("## "+(E.message||E))}y.forEach(function(E){a[E.id]=E.messages,l.push(E.id)})}}),!l.length)throw new Error("File has no messages");var f=((i=(n=(r=(e=a==null?void 0:a[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&ai(a[1][0].meta[1][0].data)==1&&a[1][0];if(f||l.forEach(function(m){a[m].forEach(function(g){var y=ai(g.meta[1][0].data)>>>0;if(y==1)if(!f)f=g;else throw new Error("Document has multiple roots")})}),!f)throw new Error("Cannot find Document root");return Ute(a,f)}function Vte(t,e,r){var n,i,a,l;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var f=((l=(a=t[8])==null?void 0:a[0])==null?void 0:l.data)&&ai(t[8][0].data)>0||!1;if(f)throw"Math only works with normal offsets";for(var m=0,g=uf(t[7][0].data),y=0,E=[],A=uf(t[4][0].data),C=0,N=[],b=0;b<e.length;++b){if(e[b]==null){g.setUint16(b*2,65535,!0),A.setUint16(b*2,65535);continue}g.setUint16(b*2,y,!0),A.setUint16(b*2,C,!0);var D,P;switch(typeof e[b]){case"string":D=Rv({t:"s",v:e[b]},r),P=Nv({t:"s",v:e[b]},r);break;case"number":D=Rv({t:"n",v:e[b]},r),P=Nv({t:"n",v:e[b]},r);break;case"boolean":D=Rv({t:"b",v:e[b]},r),P=Nv({t:"b",v:e[b]},r);break;default:throw new Error("Unsupported value "+e[b])}E.push(D),y+=D.length,N.push(P),C+=P.length,++m}for(t[2][0].data=nn(m);b<t[7][0].data.length/2;++b)g.setUint16(b*2,65535,!0),A.setUint16(b*2,65535,!0);return t[6][0].data=su(E),t[3][0].data=su(N),m}function jte(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=hs(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ur(n)));var a=Gm(r,{range:n,header:1}),l=["~Sh33tJ5~"];a.forEach(function(he){return he.forEach(function(ie){typeof ie=="string"&&l.push(ie)})});var f={},m=[],g=Ut.read(e.numbers,{type:"base64"});g.FileIndex.map(function(he,ie){return[he,g.FullPaths[ie]]}).forEach(function(he){var ie=he[0],fe=he[1];if(ie.type==2&&ie.name.match(/\.iwa/)){var ye=ie.content,Ie=to(ye),je=eo(Ie);je.forEach(function(Ve){m.push(Ve.id),f[Ve.id]={deps:[],location:fe,type:ai(Ve.messages[0].meta[1][0].data)}})}}),m.sort(function(he,ie){return he-ie});var y=m.filter(function(he){return he>1}).map(function(he){return[he,nn(he)]});g.FileIndex.map(function(he,ie){return[he,g.FullPaths[ie]]}).forEach(function(he){var ie=he[0];if(he[1],!!ie.name.match(/\.iwa/)){var fe=eo(to(ie.content));fe.forEach(function(ye){ye.messages.forEach(function(Ie){y.forEach(function(je){ye.messages.some(function(Ve){return ai(Ve.meta[1][0].data)!=11006&&bte(Ve.data,je[1])})&&f[je[0]].deps.push(ye.id)})})})}});for(var E=Ut.find(g,f[1].location),A=eo(to(E.content)),C,N=0;N<A.length;++N){var b=A[N];b.id==1&&(C=b)}var D=Ea(Vr(C.messages[0].data)[1][0].data);for(E=Ut.find(g,f[D].location),A=eo(to(E.content)),N=0;N<A.length;++N)b=A[N],b.id==D&&(C=b);for(D=Ea(Vr(C.messages[0].data)[2][0].data),E=Ut.find(g,f[D].location),A=eo(to(E.content)),N=0;N<A.length;++N)b=A[N],b.id==D&&(C=b);for(D=Ea(Vr(C.messages[0].data)[2][0].data),E=Ut.find(g,f[D].location),A=eo(to(E.content)),N=0;N<A.length;++N)b=A[N],b.id==D&&(C=b);var P=Vr(C.messages[0].data);{P[6][0].data=nn(n.e.r+1),P[7][0].data=nn(n.e.c+1);var G=Ea(P[46][0].data),B=Ut.find(g,f[G].location),Y=eo(to(B.content));{for(var te=0;te<Y.length&&Y[te].id!=G;++te);if(Y[te].id!=G)throw"Bad ColumnRowUIDMapArchive";var ee=Vr(Y[te].messages[0].data);ee[1]=[],ee[2]=[],ee[3]=[];for(var L=0;L<=n.e.c;++L){var j=[];j[1]=j[2]=[{type:0,data:nn(L+420690)}],ee[1].push({type:2,data:sa(j)}),ee[2].push({type:0,data:nn(L)}),ee[3].push({type:0,data:nn(L)})}ee[4]=[],ee[5]=[],ee[6]=[];for(var U=0;U<=n.e.r;++U)j=[],j[1]=j[2]=[{type:0,data:nn(U+726270)}],ee[4].push({type:2,data:sa(j)}),ee[5].push({type:0,data:nn(U)}),ee[6].push({type:0,data:nn(U)});Y[te].messages[0].data=sa(ee)}B.content=s0(a0(Y)),B.size=B.content.length,delete P[46];var q=Vr(P[4][0].data);{q[7][0].data=nn(n.e.r+1);var K=Vr(q[1][0].data),M=Ea(K[2][0].data);B=Ut.find(g,f[M].location),Y=eo(to(B.content));{if(Y[0].id!=M)throw"Bad HeaderStorageBucket";var Q=Vr(Y[0].messages[0].data);for(U=0;U<a.length;++U){var be=Vr(Q[2][0].data);be[1][0].data=nn(U),be[4][0].data=nn(a[U].length),Q[2][U]={type:Q[2][0].type,data:sa(be)}}Y[0].messages[0].data=sa(Q)}B.content=s0(a0(Y)),B.size=B.content.length;var xe=Ea(q[2][0].data);B=Ut.find(g,f[xe].location),Y=eo(to(B.content));{if(Y[0].id!=xe)throw"Bad HeaderStorageBucket";for(Q=Vr(Y[0].messages[0].data),L=0;L<=n.e.c;++L)be=Vr(Q[2][0].data),be[1][0].data=nn(L),be[4][0].data=nn(n.e.r+1),Q[2][L]={type:Q[2][0].type,data:sa(be)};Y[0].messages[0].data=sa(Q)}B.content=s0(a0(Y)),B.size=B.content.length;var _e=Ea(q[4][0].data);(function(){for(var he=Ut.find(g,f[_e].location),ie=eo(to(he.content)),fe,ye=0;ye<ie.length;++ye){var Ie=ie[ye];Ie.id==_e&&(fe=Ie)}var je=Vr(fe.messages[0].data);{je[3]=[];var Ve=[];l.forEach(function(me,wt){Ve[1]=[{type:0,data:nn(wt)}],Ve[2]=[{type:0,data:nn(1)}],Ve[3]=[{type:2,data:Cte(me)}],je[3].push({type:2,data:sa(Ve)})})}fe.messages[0].data=sa(je);var $e=a0(ie),_t=s0($e);he.content=_t,he.size=he.content.length})();var Ae=Vr(q[3][0].data);{var ot=Ae[1][0];delete Ae[2];var Ce=Vr(ot.data);{var ht=Ea(Ce[2][0].data);(function(){for(var he=Ut.find(g,f[ht].location),ie=eo(to(he.content)),fe,ye=0;ye<ie.length;++ye){var Ie=ie[ye];Ie.id==ht&&(fe=Ie)}var je=Vr(fe.messages[0].data);{delete je[6],delete Ae[7];var Ve=new Uint8Array(je[5][0].data);je[5]=[];for(var $e=0,_t=0;_t<=n.e.r;++_t){var me=Vr(Ve);$e+=Vte(me,a[_t],l),me[1][0].data=nn(_t),je[5].push({data:sa(me),type:2})}je[1]=[{type:0,data:nn(n.e.c+1)}],je[2]=[{type:0,data:nn(n.e.r+1)}],je[3]=[{type:0,data:nn($e)}],je[4]=[{type:0,data:nn(n.e.r+1)}]}fe.messages[0].data=sa(je);var wt=a0(ie),kt=s0(wt);he.content=kt,he.size=he.content.length})()}ot.data=sa(Ce)}q[3][0].data=sa(Ae)}P[4][0].data=sa(q)}C.messages[0].data=sa(P);var ve=a0(A),Z=s0(ve);return E.content=Z,E.size=E.content.length,g}function Sk(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function GE(t){Sk([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function WE(t){Sk([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function zte(t){return vr.WS.indexOf(t)>-1?"sheet":t==vr.CS?"chart":t==vr.DS?"dialog":t==vr.MS?"macro":t&&t.length?t:"sheet"}function Hte(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,zte(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function Gte(t,e,r,n,i,a,l,f,m,g,y,E){try{a[n]=ld(Os(t,r,!0),e);var A=Ii(t,e),C;switch(f){case"sheet":C=hee(A,e,i,m,a[n],g,y,E);break;case"chart":if(C=dee(A,e,i,m,a[n],g,y,E),!C||!C["!drawel"])break;var N=Qh(C["!drawel"].Target,e),b=Md(N),D=JK(Os(t,N,!0),ld(Os(t,b,!0),N)),P=Qh(D,N),G=Md(P);C=VJ(Os(t,P,!0),P,m,ld(Os(t,G,!0),P),g,C);break;case"macro":C=gee(A,e,i,m,a[n],g,y,E);break;case"dialog":C=mee(A,e,i,m,a[n],g,y,E);break;default:throw new Error("Unrecognized sheet type "+f)}l[n]=C;var B=[];a&&a[n]&&oi(a[n]).forEach(function(Y){var te="";if(a[n][Y].Type==vr.CMNT){te=Qh(a[n][Y].Target,e);var ee=yee(Ii(t,te,!0),te,m);if(!ee||!ee.length)return;rb(C,ee,!1)}a[n][Y].Type==vr.TCMNT&&(te=Qh(a[n][Y].Target,e),B=B.concat(tQ(Ii(t,te,!0),m)))}),B&&B.length&&rb(C,B,!0,m.people||[])}catch(Y){if(m.WTF)throw Y}}function Zs(t){return t.charAt(0)=="/"?t.slice(1):t}function Wte(t,e){if(X0(),e=e||{},GE(e),ro(t,"META-INF/manifest.xml")||ro(t,"objectdata.xml"))return db(t,e);if(ro(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof kv<"u"){if(t.FileIndex)return kv(t);var r=Ut.utils.cfb_new();return T3(t).forEach(function(be){dr(r,be,rW(t,be))}),kv(r)}throw new Error("Unsupported NUMBERS file")}if(!ro(t,"[Content_Types].xml"))throw ro(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ro(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=T3(t),i=KW(Os(t,"[Content_Types].xml")),a=!1,l,f;if(i.workbooks.length===0&&(f="xl/workbook.xml",Ii(t,f,!0)&&i.workbooks.push(f)),i.workbooks.length===0){if(f="xl/workbook.bin",!Ii(t,f,!0))throw new Error("Could not find workbook");i.workbooks.push(f),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var m={},g={};if(!e.bookSheets&&!e.bookProps){if(cd=[],i.sst)try{cd=vee(Ii(t,Zs(i.sst)),i.sst,e)}catch(be){if(e.WTF)throw be}e.cellStyles&&i.themes.length&&(m=xee(Os(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(g=pee(Ii(t,Zs(i.style)),i.style,m,e))}i.links.map(function(be){try{var xe=ld(Os(t,Md(Zs(be))),be);return Eee(Ii(t,Zs(be)),xe,be,e)}catch{}});var y=fee(Ii(t,Zs(i.workbooks[0])),i.workbooks[0],e),E={},A="";i.coreprops.length&&(A=Ii(t,Zs(i.coreprops[0]),!0),A&&(E=dN(A)),i.extprops.length!==0&&(A=Ii(t,Zs(i.extprops[0]),!0),A&&rq(A,E,e)));var C={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(A=Os(t,Zs(i.custprops[0]),!0),A&&(C=iq(A,e)));var N={};if((e.bookSheets||e.bookProps)&&(y.Sheets?l=y.Sheets.map(function(xe){return xe.name}):E.Worksheets&&E.SheetNames.length>0&&(l=E.SheetNames),e.bookProps&&(N.Props=E,N.Custprops=C),e.bookSheets&&typeof l<"u"&&(N.SheetNames=l),e.bookSheets?N.SheetNames:e.bookProps))return N;l={};var b={};e.bookDeps&&i.calcchain&&(b=_ee(Ii(t,Zs(i.calcchain)),i.calcchain));var D=0,P={},G,B;{var Y=y.Sheets;E.Worksheets=Y.length,E.SheetNames=[];for(var te=0;te!=Y.length;++te)E.SheetNames[te]=Y[te].name}var ee=a?"bin":"xml",L=i.workbooks[0].lastIndexOf("/"),j=(i.workbooks[0].slice(0,L+1)+"_rels/"+i.workbooks[0].slice(L+1)+".rels").replace(/^\//,"");ro(t,j)||(j="xl/_rels/workbook."+ee+".rels");var U=ld(Os(t,j,!0),j.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=wee(Ii(t,Zs(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=nQ(Ii(t,Zs(i.people[0])),e)),U&&(U=Hte(U,y.Sheets));var q=Ii(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(D=0;D!=E.Worksheets;++D){var K="sheet";if(U&&U[D]?(G="xl/"+U[D][1].replace(/[\/]?xl\//,""),ro(t,G)||(G=U[D][1]),ro(t,G)||(G=j.replace(/_rels\/.*$/,"")+U[D][1]),K=U[D][2]):(G="xl/worksheets/sheet"+(D+1-q)+"."+ee,G=G.replace(/sheet0\./,"sheet.")),B=G.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(D!=e.sheets)continue e;break;case"string":if(E.SheetNames[D].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var M=!1,Q=0;Q!=e.sheets.length;++Q)typeof e.sheets[Q]=="number"&&e.sheets[Q]==D&&(M=1),typeof e.sheets[Q]=="string"&&e.sheets[Q].toLowerCase()==E.SheetNames[D].toLowerCase()&&(M=1);if(!M)continue e}}Gte(t,G,B,E.SheetNames[D],D,P,l,K,e,y,m,g)}return N={Directory:i,Workbook:y,Props:E,Custprops:C,Deps:b,Sheets:l,SheetNames:E.SheetNames,Strings:cd,Styles:g,Themes:m,SSF:Dn(Gt)},e&&e.bookFiles&&(t.files?(N.keys=n,N.files=t.files):(N.keys=[],N.files={},t.FullPaths.forEach(function(be,xe){be=be.replace(/^Root Entry[\/]/,""),N.keys.push(be),N.files[be]=t.FileIndex[xe]}))),e&&e.bookVBA&&(i.vba.length>0?N.vbaraw=Ii(t,Zs(i.vba[0]),!0):i.defaults&&i.defaults.bin===fQ&&(N.vbaraw=Ii(t,"xl/vbaProject.bin",!0))),N}function qte(t,e){var r=e||{},n="Workbook",i=Ut.find(t,n);try{if(n="/!DataSpaces/Version",i=Ut.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(wY(i.content),n="/!DataSpaces/DataSpaceMap",i=Ut.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=AY(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Ut.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var l=SY(i.content);if(l.length!=1||l[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Ut.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);bY(i.content)}catch{}if(n="/EncryptionInfo",i=Ut.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var f=IY(i.content);if(n="/EncryptedPackage",i=Ut.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(f[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(f[1],i.content,r.password||"",r);if(f[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(f[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function Xte(t,e){return e.bookType=="ods"?Ak(t,e):e.bookType=="numbers"?jte(t,e):e.bookType=="xlsb"?Yte(t,e):Kte(t,e)}function Yte(t,e){g0=1024,t&&!t.SSF&&(t.SSF=Dn(Gt)),t&&t.SSF&&(X0(),Pp(t.SSF),e.revssf=Up(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ud?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=ZN.indexOf(e.bookType)>-1,i=NE();WE(e=e||{});var a=pE(),l="",f=0;if(e.cellXfs=[],mu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",dr(a,l,gN(t.Props,e)),i.coreprops.push(l),sn(e.rels,2,l,vr.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var m=[],g=0;g<t.SheetNames.length;++g)(t.Workbook.Sheets[g]||{}).Hidden!=2&&m.push(t.SheetNames[g]);t.Props.SheetNames=m}for(t.Props.Worksheets=t.Props.SheetNames.length,dr(a,l,xN(t.Props)),i.extprops.push(l),sn(e.rels,3,l,vr.EXT_PROPS),t.Custprops!==t.Props&&oi(t.Custprops||{}).length>0&&(l="docProps/custom.xml",dr(a,l,vN(t.Custprops)),i.custprops.push(l),sn(e.rels,4,l,vr.CUST_PROPS)),f=1;f<=t.SheetNames.length;++f){var y={"!id":{}},E=t.Sheets[t.SheetNames[f-1]],A=(E||{})["!type"]||"sheet";switch(A){case"chart":default:l="xl/worksheets/sheet"+f+"."+r,dr(a,l,Aee(f-1,l,e,t,y)),i.sheets.push(l),sn(e.wbrels,-1,"worksheets/sheet"+f+"."+r,vr.WS[0])}if(E){var C=E["!comments"],N=!1,b="";C&&C.length>0&&(b="xl/comments"+f+"."+r,dr(a,b,bee(C,b)),i.comments.push(b),sn(y,-1,"../comments"+f+"."+r,vr.CMNT),N=!0),E["!legacy"]&&N&&dr(a,"xl/drawings/vmlDrawing"+f+".vml",QN(f,E["!comments"])),delete E["!comments"],delete E["!legacy"]}y["!id"].rId1&&dr(a,Md(l),T0(y))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+r,dr(a,l,Cee(e.Strings,l,e)),i.strs.push(l),sn(e.wbrels,-1,"sharedStrings."+r,vr.SST)),l="xl/workbook."+r,dr(a,l,Tee(t,l)),i.workbooks.push(l),sn(e.rels,1,l,vr.WB),l="xl/theme/theme1.xml",dr(a,l,FE(t.Themes,e)),i.themes.push(l),sn(e.wbrels,-1,"theme/theme1.xml",vr.THEME),l="xl/styles."+r,dr(a,l,See(t,l,e)),i.styles.push(l),sn(e.wbrels,-1,"styles."+r,vr.STY),t.vbaraw&&n&&(l="xl/vbaProject.bin",dr(a,l,t.vbaraw),i.vba.push(l),sn(e.wbrels,-1,"vbaProject.bin",vr.VBA)),l="xl/metadata."+r,dr(a,l,Iee(l)),i.metadata.push(l),sn(e.wbrels,-1,"metadata."+r,vr.XLMETA),dr(a,"[Content_Types].xml",fN(i,e)),dr(a,"_rels/.rels",T0(e.rels)),dr(a,"xl/_rels/workbook."+r+".rels",T0(e.wbrels)),delete e.revssf,delete e.ssf,a}function Kte(t,e){g0=1024,t&&!t.SSF&&(t.SSF=Dn(Gt)),t&&t.SSF&&(X0(),Pp(t.SSF),e.revssf=Up(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ud?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=ZN.indexOf(e.bookType)>-1,i=NE();WE(e=e||{});var a=pE(),l="",f=0;if(e.cellXfs=[],mu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",dr(a,l,gN(t.Props,e)),i.coreprops.push(l),sn(e.rels,2,l,vr.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var m=[],g=0;g<t.SheetNames.length;++g)(t.Workbook.Sheets[g]||{}).Hidden!=2&&m.push(t.SheetNames[g]);t.Props.SheetNames=m}t.Props.Worksheets=t.Props.SheetNames.length,dr(a,l,xN(t.Props)),i.extprops.push(l),sn(e.rels,3,l,vr.EXT_PROPS),t.Custprops!==t.Props&&oi(t.Custprops||{}).length>0&&(l="docProps/custom.xml",dr(a,l,vN(t.Custprops)),i.custprops.push(l),sn(e.rels,4,l,vr.CUST_PROPS));var y=["SheetJ5"];for(e.tcid=0,f=1;f<=t.SheetNames.length;++f){var E={"!id":{}},A=t.Sheets[t.SheetNames[f-1]],C=(A||{})["!type"]||"sheet";switch(C){case"chart":default:l="xl/worksheets/sheet"+f+"."+r,dr(a,l,ck(f-1,e,t,E)),i.sheets.push(l),sn(e.wbrels,-1,"worksheets/sheet"+f+"."+r,vr.WS[0])}if(A){var N=A["!comments"],b=!1,D="";if(N&&N.length>0){var P=!1;N.forEach(function(G){G[1].forEach(function(B){B.T==!0&&(P=!0)})}),P&&(D="xl/threadedComments/threadedComment"+f+"."+r,dr(a,D,rQ(N,y,e)),i.threadedcomments.push(D),sn(E,-1,"../threadedComments/threadedComment"+f+"."+r,vr.TCMNT)),D="xl/comments"+f+"."+r,dr(a,D,$N(N)),i.comments.push(D),sn(E,-1,"../comments"+f+"."+r,vr.CMNT),b=!0}A["!legacy"]&&b&&dr(a,"xl/drawings/vmlDrawing"+f+".vml",QN(f,A["!comments"])),delete A["!comments"],delete A["!legacy"]}E["!id"].rId1&&dr(a,Md(l),T0(E))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+r,dr(a,l,BN(e.Strings,e)),i.strs.push(l),sn(e.wbrels,-1,"sharedStrings."+r,vr.SST)),l="xl/workbook."+r,dr(a,l,gk(t)),i.workbooks.push(l),sn(e.rels,1,l,vr.WB),l="xl/theme/theme1.xml",dr(a,l,FE(t.Themes,e)),i.themes.push(l),sn(e.wbrels,-1,"theme/theme1.xml",vr.THEME),l="xl/styles."+r,dr(a,l,qN(t,e)),i.styles.push(l),sn(e.wbrels,-1,"styles."+r,vr.STY),t.vbaraw&&n&&(l="xl/vbaProject.bin",dr(a,l,t.vbaraw),i.vba.push(l),sn(e.wbrels,-1,"vbaProject.bin",vr.VBA)),l="xl/metadata."+r,dr(a,l,KN()),i.metadata.push(l),sn(e.wbrels,-1,"metadata."+r,vr.XLMETA),y.length>1&&(l="xl/persons/person.xml",dr(a,l,iQ(y)),i.people.push(l),sn(e.wbrels,-1,"persons/person.xml",vr.PEOPLE)),dr(a,"[Content_Types].xml",fN(i,e)),dr(a,"_rels/.rels",T0(e.rels)),dr(a,"xl/_rels/workbook."+r+".rels",T0(e.wbrels)),delete e.revssf,delete e.ssf,a}function qE(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Bs(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Qte(t,e){return Ut.find(t,"EncryptedPackage")?qte(t,e):vk(t,e)}function $te(t,e){var r,n=t,i=e||{};return i.type||(i.type=xr&&Buffer.isBuffer(t)?"buffer":"base64"),r=V8(n,i),Wte(r,i)}function Ck(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return by(t.slice(r),e);default:break e}return M0.to_workbook(t,e)}function Zte(t,e){var r="",n=qE(t,e);switch(e.type){case"base64":r=Bs(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=sf(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=xn(r)),e.type="binary",Ck(r,e)}function Jte(t,e){var r=t;return e.type=="base64"&&(r=Bs(r)),r=Id.utils.decode(1200,r.slice(2),"str"),e.type="binary",Ck(r,e)}function ere(t){return t.match(/[^\x00-\x7F]/)?$o(t):t}function Dv(t,e,r,n){return n?(r.type="string",M0.to_workbook(t,r)):M0.to_workbook(e,r)}function Ny(t,e){fE();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return Ny(new Uint8Array(t),(r=Dn(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),S0={},r.dateNF&&(S0.dateNF=r.dateNF),r.type||(r.type=xr&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=xr?"buffer":"binary",n=YG(t),typeof Uint8Array<"u"&&!xr&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=ere(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var l=new ArrayBuffer(3),f=new Uint8Array(l);if(f.foo="bar",!f.foo)return r=Dn(r),r.type="array",Ny(hE(n),r)}switch((i=qE(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return Qte(Ut.read(n,r),r);break;case 9:if(i[1]<=8)return vk(n,r);break;case 60:return by(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return aY(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return FN.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?$te(n,r):Dv(t,n,r,a);case 239:return i[3]===60?by(n,r):Dv(t,n,r,a);case 255:if(i[1]===254)return Jte(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return Yu.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Yu.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return Cy.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return HN.to_workbook(n,r);break;case 10:case 13:case 32:return Zte(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return iY.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?Cy.to_workbook(n,r):Dv(t,n,r,a)}function bk(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return l1(e.file,Ut.write(t,{type:xr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Ut.write(t,e)}function tre(t,e){var r=Dn(e||{}),n=Xte(t,r);return rre(n,r)}function rre(t,e){var r={},n=xr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Ut.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Fp(i))}return e.password&&typeof encrypt_agile<"u"?bk(encrypt_agile(i,e.password),e):e.type==="file"?l1(e.file,i):e.type=="string"?xn(i):i}function nre(t,e){var r=e||{},n=ete(t,r);return bk(n,r)}function Go(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Rd($o(n));case"binary":return $o(n);case"string":return t;case"file":return l1(e.file,n,"utf8");case"buffer":return xr?tc(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Go(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function ire(t,e){switch(e.type){case"base64":return Rd(t);case"binary":return t;case"string":return t;case"file":return l1(e.file,t,"binary");case"buffer":return xr?tc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Gg(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Rd(r):e.type=="string"?xn(r):r;case"file":return l1(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function Ik(t,e){fE(),QJ(t);var r=Dn(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=Ik(t,r);return r.type="array",Fp(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Go(Xee(t,r),r);case"slk":case"sylk":return Go(LN.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return Go(_k(t.Sheets[t.SheetNames[i]],r),r);case"txt":return ire(Rk(t.Sheets[t.SheetNames[i]],r),r);case"csv":return Go(XE(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return Go(FN.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return Gg(Cy.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return Go(M0.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return Go(HN.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return Go(PN.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return Go(Ak(t,r),r);case"wk1":return Gg(Yu.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return Gg(Yu.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Gg(yk(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),nre(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return tre(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function are(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function ky(t,e,r){var n={};return n.type="file",n.file=e,are(n),Ik(t,n)}function sre(t,e,r,n,i,a,l,f){var m=xi(r),g=f.defval,y=f.raw||!Object.prototype.hasOwnProperty.call(f,"raw"),E=!0,A=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(A,"__rowNum__",{value:r,enumerable:!1})}catch{A.__rowNum__=r}else A.__rowNum__=r;if(!l||t[r])for(var C=e.s.c;C<=e.e.c;++C){var N=l?t[r][C]:t[n[C]+m];if(N===void 0||N.t===void 0){if(g===void 0)continue;a[C]!=null&&(A[a[C]]=g);continue}var b=N.v;switch(N.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+N.t)}if(a[C]!=null){if(b==null)if(N.t=="e"&&b===null)A[a[C]]=null;else if(g!==void 0)A[a[C]]=g;else if(y&&b===null)A[a[C]]=null;else continue;else A[a[C]]=y&&(N.t!=="n"||N.t==="n"&&f.rawNumbers!==!1)?b:Jl(N,b,f);b!=null&&(E=!1)}}return{row:A,isempty:E}}function Gm(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],l=0,f="",m={s:{r:0,c:0},e:{r:0,c:0}},g=e||{},y=g.range!=null?g.range:t["!ref"];switch(g.header===1?n=1:g.header==="A"?n=2:Array.isArray(g.header)?n=3:g.header==null&&(n=0),typeof y){case"string":m=Fr(y);break;case"number":m=Fr(t["!ref"]),m.s.r=y;break;default:m=y}n>0&&(i=0);var E=xi(m.s.r),A=[],C=[],N=0,b=0,D=Array.isArray(t),P=m.s.r,G=0,B={};D&&!t[P]&&(t[P]=[]);var Y=g.skipHidden&&t["!cols"]||[],te=g.skipHidden&&t["!rows"]||[];for(G=m.s.c;G<=m.e.c;++G)if(!(Y[G]||{}).hidden)switch(A[G]=zn(G),r=D?t[P][G]:t[A[G]+E],n){case 1:a[G]=G-m.s.c;break;case 2:a[G]=A[G];break;case 3:a[G]=g.header[G-m.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),f=l=Jl(r,null,g),b=B[l]||0,!b)B[l]=1;else{do f=l+"_"+b++;while(B[f]);B[l]=b,B[f]=1}a[G]=f}for(P=m.s.r+i;P<=m.e.r;++P)if(!(te[P]||{}).hidden){var ee=sre(t,m,P,A,n,a,D,g);(ee.isempty===!1||(n===1?g.blankrows!==!1:g.blankrows))&&(C[N++]=ee.row)}return C.length=N,C}var vb=/"/g;function ore(t,e,r,n,i,a,l,f){for(var m=!0,g=[],y="",E=xi(r),A=e.s.c;A<=e.e.c;++A)if(n[A]){var C=f.dense?(t[r]||[])[A]:t[n[A]+E];if(C==null)y="";else if(C.v!=null){m=!1,y=""+(f.rawNumbers&&C.t=="n"?C.v:Jl(C,null,f));for(var N=0,b=0;N!==y.length;++N)if((b=y.charCodeAt(N))===i||b===a||b===34||f.forceQuotes){y='"'+y.replace(vb,'""')+'"';break}y=="ID"&&(y='"ID"')}else C.f!=null&&!C.F?(m=!1,y="="+C.f,y.indexOf(",")>=0&&(y='"'+y.replace(vb,'""')+'"')):y="";g.push(y)}return f.blankrows===!1&&m?null:g.join(l)}function XE(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=Fr(t["!ref"]),a=n.FS!==void 0?n.FS:",",l=a.charCodeAt(0),f=n.RS!==void 0?n.RS:`
`,m=f.charCodeAt(0),g=new RegExp((a=="|"?"\\|":a)+"+$"),y="",E=[];n.dense=Array.isArray(t);for(var A=n.skipHidden&&t["!cols"]||[],C=n.skipHidden&&t["!rows"]||[],N=i.s.c;N<=i.e.c;++N)(A[N]||{}).hidden||(E[N]=zn(N));for(var b=0,D=i.s.r;D<=i.e.r;++D)(C[D]||{}).hidden||(y=ore(t,i,D,E,l,m,a,n),y!=null&&(n.strip&&(y=y.replace(g,"")),(y||n.blankrows!==!1)&&r.push((b++?f:"")+y)));return delete n.dense,r.join("")}function Rk(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=XE(t,e);return r}function lre(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=Fr(t["!ref"]),a="",l=[],f,m=[],g=Array.isArray(t);for(f=i.s.c;f<=i.e.c;++f)l[f]=zn(f);for(var y=i.s.r;y<=i.e.r;++y)for(a=xi(y),f=i.s.c;f<=i.e.c;++f)if(e=l[f]+a,r=g?(t[y]||[])[f]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}m[m.length]=e+"="+n}return m}function Nk(t,e,r){var n=r||{},i=+!n.skipHeader,a=t||{},l=0,f=0;if(a&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var m=typeof n.origin=="string"?Hn(n.origin):n.origin;l=m.r,f=m.c}var g,y={s:{c:0,r:0},e:{c:f,r:l+e.length-1+i}};if(a["!ref"]){var E=Fr(a["!ref"]);y.e.c=Math.max(y.e.c,E.e.c),y.e.r=Math.max(y.e.r,E.e.r),l==-1&&(l=E.e.r+1,y.e.r=l+e.length-1+i)}else l==-1&&(l=0,y.e.r=e.length-1+i);var A=n.header||[],C=0;e.forEach(function(b,D){oi(b).forEach(function(P){(C=A.indexOf(P))==-1&&(A[C=A.length]=P);var G=b[P],B="z",Y="",te=Xt({c:f+C,r:l+D+i});g=jd(a,te),G&&typeof G=="object"&&!(G instanceof Date)?a[te]=G:(typeof G=="number"?B="n":typeof G=="boolean"?B="b":typeof G=="string"?B="s":G instanceof Date?(B="d",n.cellDates||(B="n",G=ji(G)),Y=n.dateNF||Gt[14]):G===null&&n.nullError&&(B="e",G=0),g?(g.t=B,g.v=G,delete g.w,delete g.R,Y&&(g.z=Y)):a[te]=g={t:B,v:G},Y&&(g.z=Y))})}),y.e.c=Math.max(y.e.c,f+A.length-1);var N=xi(l);if(i)for(C=0;C<A.length;++C)a[zn(C+f)+N]={t:"s",v:A[C]};return a["!ref"]=ur(y),a}function cre(t,e){return Nk(null,t,e)}function jd(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Hn(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?jd(t,Xt(e)):jd(t,Xt({r:e,c:r||0}))}function ure(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function YE(){return{SheetNames:[],Sheets:{}}}function KE(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var l=a&&a[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=l+i)!=-1;++i);}if(dk(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function fre(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=ure(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function hre(t,e){return t.z=e,t}function kk(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function dre(t,e,r){return kk(t,"#"+e,r)}function gre(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function mre(t,e,r,n){for(var i=typeof e!="string"?e:Fr(e),a=typeof e=="string"?e:ur(e),l=i.s.r;l<=i.e.r;++l)for(var f=i.s.c;f<=i.e.c;++f){var m=jd(t,l,f);m.t="n",m.F=a,delete m.v,l==i.s.r&&f==i.s.c&&(m.f=r,n&&(m.D=!0))}return t}var Ko={encode_col:zn,encode_row:xi,encode_cell:Xt,encode_range:ur,decode_col:AE,decode_row:TE,split_cell:CW,decode_cell:Hn,decode_range:hs,format_cell:Jl,sheet_add_aoa:iN,sheet_add_json:Nk,sheet_add_dom:Ek,aoa_to_sheet:Y0,json_to_sheet:cre,table_to_sheet:wk,table_to_book:wte,sheet_to_csv:XE,sheet_to_txt:Rk,sheet_to_json:Gm,sheet_to_html:_k,sheet_to_formulae:lre,sheet_to_row_object_array:Gm,sheet_get_cell:jd,book_new:YE,book_append_sheet:KE,book_set_sheet_visibility:fre,cell_set_number_format:hre,cell_set_hyperlink:kk,cell_set_internal_link:dre,cell_add_comment:gre,sheet_set_array_formula:mre,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function pre(){const{currentUser:t}=ds(),[e,r]=pe.useState("members"),[n,i]=pe.useState([]),[a,l]=pe.useState([]),[f,m]=pe.useState([]),[g,y]=pe.useState(!1),[E,A]=pe.useState({name:"",description:"",location:"",startDate:"",endDate:"",geofence:{latitude:"",longitude:"",radius:""}}),[C,N]=pe.useState(null),[b,D]=pe.useState([]),[P,G]=pe.useState(!1),[B,Y]=pe.useState(null),[te,ee]=pe.useState(!1),[L,j]=pe.useState(null);pe.useEffect(()=>{e==="members"?U():e==="sessions"?q():e==="dashboard"&&K()},[e]);const U=async()=>{try{const ie=Rn(pr,"members"),fe=Ua(ie,Bi("adminId","==",t.uid)),Ie=(await Va(fe)).docs.map(je=>({id:je.id,...je.data()}));i(Ie)}catch(ie){console.error("Error fetching members:",ie)}},q=async()=>{try{const ie=Rn(pr,"sessions"),fe=Ua(ie,Bi("adminId","==",t.uid)),Ie=(await Va(fe)).docs.map(je=>({id:je.id,...je.data()}));l(Ie)}catch(ie){console.error("Error fetching sessions:",ie)}},K=async()=>{try{const ie=Rn(pr,"attendanceLogs"),fe=Ua(ie,Bi("adminId","==",t.uid));return jR(fe,Ie=>{const je=Ie.docs.map(Ve=>({id:Ve.id,...Ve.data()}));m(je)})}catch(ie){console.error("Error fetching attendance logs:",ie)}},M=async ie=>{var fe,ye,Ie;ie.preventDefault(),y(!0);try{const je=`ses_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,Ve=`${window.location.origin}/session-checkin/${je}`,$e={...E,adminId:t.uid,sessionId:je,qrCodeValue:Ve,createdAt:new Date,isActive:!0,attendanceCount:0,geofence:{latitude:(fe=E.geofence)!=null&&fe.latitude?parseFloat(E.geofence.latitude):null,longitude:(ye=E.geofence)!=null&&ye.longitude?parseFloat(E.geofence.longitude):null,radius:(Ie=E.geofence)!=null&&Ie.radius?parseFloat(E.geofence.radius):null}};await tu(Rn(pr,"sessions"),$e),A({name:"",description:"",location:"",startDate:"",endDate:"",maxParticipants:"",geofence:{latitude:"",longitude:"",radius:""}}),q(),alert("Session created successfully with QR code!")}catch(je){console.error("Error creating session:",je),alert("Failed to create session")}finally{y(!1)}},Q=ie=>{const fe=ie.target.files[0];if(fe){N(fe);const ye=new FileReader;ye.onload=Ie=>{const je=Ie.target.result,Ve=Ny(je,{type:"binary"}),$e=Ve.SheetNames[0],_t=Ve.Sheets[$e],me=Ko.sheet_to_json(_t);D(me)},ye.readAsBinaryString(fe)}},be=async()=>{if(!b.length){alert("Please upload a CSV file first");return}y(!0);try{const ie=Rn(pr,"members"),fe=[],ye=[],Ie=new Set;for(let je=0;je<b.length;je++){const Ve=b[je],$e=Ve.name||Ve.Name,_t=Ve.email||Ve.Email||Ve.phone||Ve.Phone||Ve.contact||Ve.Contact;if(!$e||!_t){ye.push(`Row ${je+1}: Missing required field(s) - Name: ${$e||"missing"}, Email/Phone: ${_t||"missing"}`);continue}const me=_t.toLowerCase();if(Ie.has(me)){ye.push(`Row ${je+1}: Duplicate identifier '${_t}'`);continue}Ie.add(me);const wt={adminId:t.uid,name:$e,email:_t.toLowerCase(),phone:Ve.phone||Ve.Phone||"",contact:Ve.contact||Ve.Contact||"",uniqueIdentifier:me,createdAt:new Date,memberID:`mem_${Date.now()}_${Math.random().toString(36).substr(2,5)}`};fe.push(tu(ie,wt))}ye.length>0&&alert(`Validation errors found:
${ye.join(`
`)}

Only valid members will be registered.`),fe.length>0?(await Promise.all(fe),alert(`Successfully registered ${fe.length} members!`),U()):alert("No valid members to register."),D([]),N(null)}catch(ie){console.error("Error registering members:",ie),alert("Failed to register members")}finally{y(!1)}},xe=async(ie,fe)=>{try{const ye=Rn(pr,"attendanceLogs"),Ie=Ua(ye,Bi("sessionId","==",ie)),Ve=(await Va(Ie)).docs.map(me=>{var wt,kt;return{participantName:me.data().participantName,email:me.data().email,uniqueCode:me.data().uniqueCode,checkInTime:(kt=(wt=me.data().checkInTime)==null?void 0:wt.toDate())==null?void 0:kt.toLocaleString(),status:"Present"}});if(Ve.length===0){alert("No attendance data found for this session");return}const $e=Ko.json_to_sheet(Ve),_t=Ko.book_new();Ko.book_append_sheet(_t,$e,"Attendance"),ky(_t,`${fe}_Attendance.xlsx`)}catch(ye){console.error("Error exporting attendance:",ye),alert("Failed to export attendance data")}},_e=ie=>{Y(ie),G(!0)},Ae=()=>{G(!1),Y(null)},ot=ie=>{j(ie),ee(!0)},Ce=()=>{ee(!1),j(null)},ht=async()=>{if(L){y(!0);try{const ie=Ua(Rn(pr,"attendanceLogs"),Bi("sessionId","==",L.id)),ye=(await Va(ie)).docs.map(Ie=>Rm(Ie.ref));await Promise.all(ye),await Rm(ja(pr,"sessions",L.id)),q(),alert("Session and all associated attendance data deleted successfully!")}catch(ie){console.error("Error deleting session:",ie),alert("Failed to delete session")}finally{y(!1),Ce()}}},ve=()=>k.jsxs(k.Fragment,{children:[k.jsx("h2",{children:"Member Management"}),k.jsx("p",{children:"Register and manage members for attendance tracking."}),k.jsxs("div",{className:"user-stats-row",children:[k.jsxs("div",{className:"user-stat-card",children:[k.jsx("h3",{children:"Total Members"}),k.jsx("p",{children:n.length})]}),k.jsxs("div",{className:"user-stat-card",children:[k.jsx("h3",{children:"Registered This Month"}),k.jsx("p",{children:n.filter(ie=>{var fe;return new Date((fe=ie.createdAt)==null?void 0:fe.toDate()).getMonth()===new Date().getMonth()}).length})]})]}),k.jsx("div",{className:"admin-db-form-container",children:k.jsxs("div",{className:"admin-db-form",children:[k.jsx("h3",{children:"Register Members via CSV"}),k.jsx("p",{children:"Upload a CSV file with columns: Name, Email/Phone (required)"}),k.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:Q,style:{marginBottom:"10px"}}),b.length>0&&k.jsxs("p",{children:["Found ",b.length," rows in the uploaded file."]}),k.jsxs("div",{className:"admin-db-btns",children:[k.jsx("button",{onClick:be,disabled:!b.length||g,className:"admin-db-open-btn",children:g?"Registering...":"Register Members"}),k.jsx("button",{onClick:()=>{D([]),N(null)},className:"admin-db-delete-btn",children:"Clear Upload"})]})]})}),k.jsxs("div",{className:"members-list",children:[k.jsx("h3",{children:"Registered Members"}),n.length===0?k.jsx("p",{children:"No members registered yet."}):n.map(ie=>{var fe,ye;return k.jsx("div",{className:"member-item",children:k.jsxs("div",{className:"member-info",children:[k.jsx("h4",{children:ie.name}),k.jsxs("p",{children:[k.jsx("strong",{children:"Email/Phone:"})," ",ie.email]}),ie.contact&&k.jsxs("p",{children:[k.jsx("strong",{children:"Contact:"})," ",ie.contact]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Registered:"})," ",(ye=(fe=ie.createdAt)==null?void 0:fe.toDate())==null?void 0:ye.toLocaleDateString()]})]})},ie.id)})]})]}),Z=()=>{var ie,fe,ye;return k.jsxs(k.Fragment,{children:[k.jsx("h2",{children:"Session Management"}),k.jsx("p",{children:"Create and manage attendance sessions with pre-registered participants."}),k.jsx("div",{className:"admin-db-form-container",children:k.jsxs("div",{className:"admin-db-form",children:[k.jsx("h3",{children:"Create New Session"}),k.jsxs("form",{onSubmit:M,children:[k.jsx("label",{htmlFor:"sessionName",children:"Session Name:"}),k.jsx("input",{type:"text",id:"sessionName",value:E.name,onChange:Ie=>A({...E,name:Ie.target.value}),required:!0}),k.jsx("label",{htmlFor:"sessionDescription",children:"Description:"}),k.jsx("textarea",{id:"sessionDescription",value:E.description,onChange:Ie=>A({...E,description:Ie.target.value}),rows:"3"}),k.jsx("label",{htmlFor:"sessionLocation",children:"Location:"}),k.jsx("input",{type:"text",id:"sessionLocation",value:E.location,onChange:Ie=>A({...E,location:Ie.target.value})}),k.jsxs("div",{style:{display:"flex",gap:"10px"},children:[k.jsxs("div",{style:{flex:1},children:[k.jsx("label",{htmlFor:"startDate",children:"Start Date & Time:"}),k.jsx("input",{type:"datetime-local",id:"startDate",value:E.startDate,onChange:Ie=>A({...E,startDate:Ie.target.value}),required:!0})]}),k.jsxs("div",{style:{flex:1},children:[k.jsx("label",{htmlFor:"endDate",children:"End Date & Time:"}),k.jsx("input",{type:"datetime-local",id:"endDate",value:E.endDate,onChange:Ie=>A({...E,endDate:Ie.target.value}),required:!0})]})]}),k.jsx("label",{htmlFor:"maxParticipants",children:"Max Participants:"}),k.jsx("input",{type:"number",id:"maxParticipants",value:E.maxParticipants,onChange:Ie=>A({...E,maxParticipants:Ie.target.value})}),k.jsx("label",{style:{marginTop:"1.5rem",fontWeight:"bold",color:"#f44336"},children:"Geofence Settings (Optional)"}),k.jsxs("div",{style:{display:"flex",gap:"10px"},children:[k.jsxs("div",{style:{flex:1},children:[k.jsx("label",{htmlFor:"geofenceLat",children:"Latitude:"}),k.jsx("input",{type:"number",id:"geofenceLat",placeholder:"e.g., 40.7128",step:"0.0001",value:(ie=E.geofence)==null?void 0:ie.latitude,onChange:Ie=>A({...E,geofence:{...E.geofence,latitude:Ie.target.value}})})]}),k.jsxs("div",{style:{flex:1},children:[k.jsx("label",{htmlFor:"geofenceLng",children:"Longitude:"}),k.jsx("input",{type:"number",id:"geofenceLng",placeholder:"e.g., -74.0060",step:"0.0001",value:(fe=E.geofence)==null?void 0:fe.longitude,onChange:Ie=>A({...E,geofence:{...E.geofence,longitude:Ie.target.value}})})]}),k.jsxs("div",{style:{flex:1},children:[k.jsx("label",{htmlFor:"geofenceRadius",children:"Radius (meters):"}),k.jsx("input",{type:"number",id:"geofenceRadius",placeholder:"e.g., 100",value:(ye=E.geofence)==null?void 0:ye.radius,onChange:Ie=>A({...E,geofence:{...E.geofence,radius:Ie.target.value}})})]})]}),k.jsx("div",{className:"admin-db-btns",children:k.jsx("button",{type:"submit",className:"admin-db-open-btn",disabled:g,children:g?"Creating...":"Create Session"})})]})]})}),k.jsxs("div",{className:"sessions-list",children:[k.jsx("h3",{children:"Existing Sessions"}),a.length===0?k.jsx("p",{children:"No sessions created yet."}):a.map(Ie=>k.jsxs("div",{className:"session-item",children:[k.jsxs("div",{className:"session-info",children:[k.jsx("h4",{children:Ie.name}),k.jsx("p",{children:Ie.description}),k.jsxs("p",{children:[k.jsx("strong",{children:"Location:"})," ",Ie.location]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Start:"})," ",Ie.startDate?new Date(Ie.startDate).toLocaleString():"Not set"]}),k.jsxs("p",{children:[k.jsx("strong",{children:"End:"})," ",Ie.endDate?new Date(Ie.endDate).toLocaleString():"Not set"]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Status:"})," ",Ie.isActive?"Active":"Inactive"]})]}),k.jsxs("div",{className:"session-actions",children:[k.jsx("button",{onClick:()=>_e(Ie),className:"admin-db-open-btn",children:"View QR Code"}),k.jsx("button",{onClick:()=>xe(Ie.id,Ie.name),className:"admin-db-open-btn",children:"Export Attendance"}),k.jsx("button",{onClick:()=>ot(Ie),className:"admin-db-delete-btn",children:"Delete Session"})]})]},Ie.id))]})]})},he=()=>k.jsxs(k.Fragment,{children:[k.jsx("h2",{children:"Session Dashboard"}),k.jsx("p",{children:"Real-time monitoring of session attendance."}),k.jsxs("div",{className:"user-stats-row",children:[k.jsxs("div",{className:"user-stat-card",children:[k.jsx("h3",{children:"Total Sessions"}),k.jsx("p",{children:a.length})]}),k.jsxs("div",{className:"user-stat-card",children:[k.jsx("h3",{children:"Active Sessions"}),k.jsx("p",{children:a.filter(ie=>ie.isActive).length})]}),k.jsxs("div",{className:"user-stat-card",children:[k.jsx("h3",{children:"Total Check-ins Today"}),k.jsx("p",{children:f.filter(ie=>{var fe;return new Date((fe=ie.checkInTime)==null?void 0:fe.toDate()).toDateString()===new Date().toDateString()}).length})]})]}),k.jsxs("div",{className:"attendance-logs",children:[k.jsx("h3",{children:"Recent Check-ins"}),k.jsxs("div",{className:"logs-list",children:[f.slice(0,10).map(ie=>{var fe,ye;return k.jsxs("div",{className:"log-item",children:[k.jsxs("div",{className:"log-info",children:[k.jsx("strong",{children:ie.participantName}),k.jsx("p",{children:ie.email}),k.jsxs("p",{children:["Session: ",ie.sessionName]})]}),k.jsx("div",{className:"log-time",children:(ye=(fe=ie.checkInTime)==null?void 0:fe.toDate())==null?void 0:ye.toLocaleString()})]},ie.id)}),f.length===0&&k.jsx("p",{children:"No recent check-ins."})]})]})]});return k.jsxs("div",{children:[k.jsxs("div",{className:"tab-navigation",children:[k.jsx("button",{className:e==="members"?"active":"",onClick:()=>r("members"),children:"Member Management"}),k.jsx("button",{className:e==="sessions"?"active":"",onClick:()=>r("sessions"),children:"Session Management"}),k.jsx("button",{className:e==="dashboard"?"active":"",onClick:()=>r("dashboard"),children:"Session Dashboard"})]}),k.jsxs("div",{className:"tab-content",children:[e==="members"&&ve(),e==="sessions"&&Z(),e==="dashboard"&&he()]}),P&&B&&k.jsx("div",{className:"qr-modal-overlay",onClick:Ae,children:k.jsxs("div",{className:"qr-modal-content",onClick:ie=>ie.stopPropagation(),children:[k.jsxs("div",{className:"qr-modal-header",children:[k.jsxs("h2",{children:[B.name," - QR Code"]}),k.jsx("button",{className:"qr-modal-close",onClick:Ae,children:""})]}),k.jsxs("div",{className:"qr-modal-body",children:[k.jsx("div",{className:"qr-code-display",children:k.jsx(w8,{value:`${window.location.origin}/session-checkin/${B.id}`,size:200})}),k.jsxs("div",{className:"qr-details",children:[k.jsxs("p",{children:[k.jsx("strong",{children:"Session:"})," ",B.name]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Description:"})," ",B.description||"No description"]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Location:"})," ",B.location||"Not specified"]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Start:"})," ",B.startDate?new Date(B.startDate).toLocaleString():"Not set"]}),k.jsxs("p",{children:[k.jsx("strong",{children:"End:"})," ",B.endDate?new Date(B.endDate).toLocaleString():"Not set"]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Status:"})," ",B.isActive?"Active":"Inactive"]}),k.jsxs("p",{children:[k.jsx("strong",{children:"URL:"})," ",k.jsx("a",{href:`${window.location.origin}/session-checkin/${B.id}`,target:"_blank",rel:"noopener noreferrer",children:`${window.location.origin}/session-checkin/${B.id}`})]})]})]})]})}),te&&L&&k.jsx("div",{className:"qr-modal-overlay",onClick:Ce,children:k.jsxs("div",{className:"qr-modal-content",onClick:ie=>ie.stopPropagation(),children:[k.jsxs("div",{className:"qr-modal-header",children:[k.jsx("h2",{children:"Delete Session"}),k.jsx("button",{className:"qr-modal-close",onClick:Ce,children:""})]}),k.jsx("div",{className:"qr-modal-body",children:k.jsxs("div",{className:"delete-confirmation",children:[k.jsx("p",{children:k.jsx("strong",{children:"Are you sure you want to delete this session?"})}),k.jsxs("div",{className:"delete-session-details",children:[k.jsxs("p",{children:[k.jsx("strong",{children:"Session:"})," ",L.name]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Description:"})," ",L.description||"No description"]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Location:"})," ",L.location||"Not specified"]})]}),k.jsx("div",{className:"delete-warning",children:k.jsx("p",{style:{color:"red",fontWeight:"bold"},children:" Warning: This action cannot be undone. All attendance data associated with this session will also be permanently deleted."})}),k.jsxs("div",{className:"admin-db-btns",style:{marginTop:"20px"},children:[k.jsx("button",{onClick:Ce,className:"admin-db-open-btn",disabled:g,children:"Cancel"}),k.jsx("button",{onClick:ht,className:"admin-db-delete-btn",disabled:g,children:g?"Deleting...":"Delete Session"})]})]})})]})})]})}function xre(){const[t,e]=pe.useState([]),{currentUser:r}=ds(),[n,i]=pe.useState([]),[a,l]=pe.useState(!0),f=async(C,N)=>{try{if(!r){alert("You must be logged in to download reports.");return}const b=Rn(pr,"formSubmitData"),D=Ua(b,Bi("qrCodeId","==",C),Bi("adminId","==",r.uid)),G=(await Va(D)).docs.map(ee=>({...ee.data().formData,memberId:ee.data().memberId||"N/A",timestamp:ee.data().timestamp}));if(G.length===0){console.log("No responses found for QR Code"),alert("No responses found to download for this QR Code.");return}const B=Ko.json_to_sheet(G),Y=Ko.book_new();Ko.book_append_sheet(Y,B,"Responses");const te=`${N}_Responses.xlsx`;ky(Y,te)}catch(b){console.error("There was an error downloading the responses: ",b),alert("Failed to generate report.")}};pe.useEffect(()=>{m(),g()},[r]);const m=async()=>{try{if(!r){console.warn("No authenticated user found."),i([]);return}const C=Rn(pr,"qrGateReports"),N=Ua(C,Bi("adminId","==",r.uid)),D=(await Va(N)).docs.map(P=>({id:P.id,...P.data()}));i(D)}catch(C){console.error("Error fetching QR Gate reports:",C)}finally{l(!1)}},g=async()=>{try{if(!r)return;const C=Rn(pr,"sessions"),N=Ua(C,Bi("adminId","==",r.uid)),b=await Va(N),D=await Promise.all(b.docs.map(async P=>{const G=P.data(),B=Rn(pr,"attendanceRecords"),Y=Ua(B,Bi("sessionId","==",P.id)),te=await Va(Y),ee=new Set;return te.docs.forEach(L=>{ee.add(L.data().memberId)}),{id:P.id,...G,attendanceCount:te.size,uniqueMembersCount:ee.size}}));e(D)}catch(C){console.error("Error fetching sessions",C)}},y=async(C,N)=>{try{const b=Rn(pr,"attendanceRecords"),D=Ua(b,Bi("sessionId","==",C)),P=await Va(D);if(P.empty){alert("No attendance records found for this session");return}const G=P.docs.map(te=>{const ee=te.data();return{memberName:ee.memberName||"Unknown",memberId:ee.memberId||"N/A",deviceToken:ee.deviceToken||"N/A",checkInTime:ee.checkInTime?new Date(ee.checkInTime).toLocaleString():"N/A",status:ee.status||"present",location:ee.location?`${ee.location.latitude}, ${ee.location.longitude}`:"N/A"}}),B=Ko.json_to_sheet(G),Y=Ko.book_new();Ko.book_append_sheet(Y,B,"Attendance"),ky(Y,`${N}_Attendance.xlsx`)}catch(b){console.error("Error exporting attendance session:",b),alert("Failed to export attendance data")}},E=async(C,N)=>{if(!r||r.uid!==N){alert("You do not have permission to delete this report.");return}if(window.confirm("Are you sure you want to delete this QR-Gate report?"))try{await Rm(ja(pr,"qrGateReports",C)),m()}catch(b){console.error("Error deleting QR-Gate report:",b),alert("Failed to delete the report. Please try again.")}},A=async(C,N)=>{try{await eE(ja(pr,"qrGateReports",C),{isActive:!N}),m()}catch(b){console.error("Error updating QR-Gate report status:",b),alert("Failed to update status. Please try again.")}};return k.jsxs("div",{className:"admin-reports-container",children:[k.jsx("h2",{children:"Gate Report"}),k.jsx("p",{children:"View and manage QR-Gate reports for all created QR codes."}),a?k.jsx("div",{className:"loading-state",children:k.jsx("p",{children:"Loading QR-Gate reports..."})}):n.length===0?k.jsx("div",{className:"empty-state",children:k.jsx("p",{children:"No QR-Gate reports found. Create a QR code first to see reports here."})}):k.jsx("div",{className:"qr-gate-reports-list",children:n.map(C=>k.jsxs("div",{className:"qr-gate-report-item",children:[k.jsxs("div",{className:"report-info",children:[k.jsx("h3",{children:C.name}),k.jsxs("p",{children:[k.jsx("strong",{children:"Description:"})," ",C.description||"No description"]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Location:"})," ",C.location||"Not specified"]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Event Type:"})," ",C.eventType||"Not specified"]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Status:"})," ",C.isActive?"Active":"Inactive"]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Total Scans:"})," ",C.totalScans||0]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Created:"})," ",new Date(C.createdAt).toLocaleDateString()]}),C.lastScanAt&&k.jsxs("p",{children:[k.jsx("strong",{children:"Last Scan:"})," ",new Date(C.lastScanAt).toLocaleString()]}),C.requiresForm&&k.jsxs("div",{className:"form-fields-info",children:[k.jsx("strong",{children:"Form Fields:"}),k.jsx("ul",{children:C.formFields.map(N=>k.jsx("li",{children:N},N))})]})]}),k.jsxs("div",{className:"report-actions",children:[k.jsx("button",{className:"view-btn",onClick:()=>f(C.qrCodeId,C.name),children:"Download Responses"}),k.jsx("button",{className:"toggle-status-btn",onClick:()=>A(C.id,C.isActive),children:C.isActive?"Deactivate":"Activate"}),k.jsx("button",{className:"delete-btn",onClick:()=>E(C.id,C.adminId),disabled:(r==null?void 0:r.uid)!==C.adminId,title:(r==null?void 0:r.uid)!==C.adminId?"You do not have permission to delete this report.":"",children:"Delete"})]})]},C.id))}),k.jsx("div",{className:"admin-db-form-container",children:k.jsxs("div",{className:"admin-db-form",children:[k.jsx("h3",{children:"Generate Report"}),k.jsxs("div",{className:"db-date-fields",children:[k.jsxs("div",{className:"db-date-field",children:[k.jsx("label",{htmlFor:"startDate",children:"Start Date:"}),k.jsx("input",{type:"date",id:"startDate"})]}),k.jsxs("div",{className:"db-date-field",children:[k.jsx("label",{htmlFor:"endDate",children:"End Date:"}),k.jsx("input",{type:"date",id:"endDate"})]})]}),k.jsx("label",{htmlFor:"reportType",children:"Report Type:"}),k.jsxs("select",{id:"reportType",children:[k.jsx("option",{value:"attendance",children:"Attendance Report"}),k.jsx("option",{value:"user-activity",children:"User Activity"}),k.jsx("option",{value:"qr-usage",children:"QR Code Usage"})]}),k.jsxs("div",{className:"admin-db-btns",children:[k.jsx("button",{className:"admin-db-open-btn",children:"Generate Report"}),k.jsx("button",{className:"admin-db-delete-btn",children:"Export Data"})]})]})}),k.jsxs("div",{className:"db-section-spacing",children:[k.jsx("h3",{children:"Recent Activity"}),k.jsxs("table",{className:"attendance-table",children:[k.jsx("thead",{children:k.jsxs("tr",{children:[k.jsx("th",{children:"Date"}),k.jsx("th",{children:"User"}),k.jsx("th",{children:"Action"}),k.jsx("th",{children:"Status"})]})}),k.jsx("tbody",{children:k.jsx("tr",{children:k.jsx("td",{colSpan:"4",style:{textAlign:"center",color:"#666"},children:"No data available"})})})]})]}),k.jsxs("div",{className:"session-reports-section",children:[k.jsx("h3",{children:"Session Attendance Reports"}),k.jsx("p",{children:"Export attendance data for your pre-registered sessions."}),t.length===0?k.jsx("div",{className:"empty-state",children:k.jsx("p",{children:"No sessions found. Create a session first to see reports here."})}):k.jsx("div",{className:"session-reports-list",children:t.map(C=>{var N,b,D,P;return k.jsxs("div",{className:"session-report-item",children:[k.jsxs("div",{className:"session-info",children:[k.jsx("h4",{children:C.name}),k.jsxs("p",{children:[k.jsx("strong",{children:"Description:"})," ",C.description||"No description"]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Location:"})," ",C.location||"Not specified"]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Date Range:"})," ",new Date(C.startDate).toLocaleDateString()," - ",new Date(C.endDate).toLocaleDateString()]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Total Check-ins:"})," ",C.attendanceCount||0]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Unique Members:"})," ",C.uniqueMembersCount||0]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Status:"})," ",C.isActive?"Active":"Inactive"]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Created:"})," ",new Date(((b=(N=C.createdAt)==null?void 0:N.toDate)==null?void 0:b.call(N))||C.createdAt).toLocaleDateString()]}),((D=C.geofence)==null?void 0:D.latitude)&&((P=C.geofence)==null?void 0:P.longitude)&&k.jsxs("p",{children:[k.jsx("strong",{children:"Geofence:"})," Enabled (",C.geofence.radius,"m radius)"]})]}),k.jsx("div",{className:"session-actions",children:k.jsx("button",{className:"export-session-btn",onClick:()=>y(C.id,C.name),children:"Export Attendance"})})]},C.id)})})]})]})}const vre=[{key:"dashboard",label:"Dashboard",icon:""},{key:"qrcodes",label:"QR Codes",icon:""},{key:"users",label:"User Control",icon:""},{key:"reports",label:"Gate Report",icon:""}];function yre(){const[t,e]=pe.useState("dashboard"),[r,n]=pe.useState(!1),{currentUser:i}=ds(),a=f=>{e(f),n(!1)};pe.useEffect(()=>{const f=m=>{r&&!m.target.closest(".mobile-menu")&&!m.target.closest(".mobile-menu-button")&&n(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[r]);const l=()=>{switch(t){case"dashboard":return k.jsx(Z4,{});case"qrcodes":return k.jsx(mG,{});case"users":return k.jsx(pre,{});case"reports":return k.jsx(xre,{});default:return k.jsx(Z4,{})}};return k.jsxs("div",{className:"AdminContainer",children:[k.jsx(x8,{activeSection:t,onNavClick:a,logoText:"Admin Panel",navItems:vre,userDisplay:(i==null?void 0:i.displayName)||"Admin",logoutLink:"/"}),k.jsxs("main",{className:"AdminMain",children:[k.jsxs("header",{className:"Header-container",children:[k.jsx("h1",{children:t.charAt(0).toUpperCase()+t.slice(1)}),k.jsx("div",{className:"AdminUser",children:k.jsx("span",{children:"Admin"})})]}),k.jsx("section",{className:"AdminContent",children:l()})]})]})}function _re(){const[t,e]=pe.useState("member"),[r,n]=pe.useState(""),[i,a]=pe.useState(""),[l,f]=pe.useState(""),[m,g]=pe.useState(""),[y,E]=pe.useState(!1),{signup:A}=ds(),C=ol(),N=D=>{e(D),g("")},b=async D=>{D.preventDefault();try{g(""),E(!0),await A(r,i,l,t),C(t==="admin"?"/admin":"/member")}catch(P){console.error("Signup error:",P),P.code==="auth/email-already-in-use"?g("An account with this email already exists"):P.code==="auth/weak-password"?g("Password should be at least 6 characters"):P.code==="auth/invalid-email"?g("Invalid email address"):g("Failed to create account. Please try again in a few moments.")}finally{E(!1)}};return k.jsx("div",{className:"signup-bg",children:k.jsxs("div",{className:"signup-container",children:[k.jsx("h1",{className:"signup-title",children:"Create Account"}),k.jsx("p",{className:"signup-subtitle",children:"Sign up as a Member or Admin"}),k.jsxs("div",{className:"role-toggle-group",children:[k.jsx("button",{type:"button",className:`role-toggle${t==="member"?" active":""}`,onClick:()=>N("member"),disabled:y,children:"Member"}),k.jsx("button",{type:"button",className:`role-toggle${t==="admin"?" active":""}`,onClick:()=>N("admin"),disabled:y,children:"Admin"})]}),k.jsx("div",{className:"role-description",children:t==="member"?k.jsxs("span",{children:[k.jsx("b",{children:"Member:"})," Regular users who can clock in/out, view their attendance, and access personal reports."]}):k.jsxs("span",{children:[k.jsx("b",{children:"Admin:"})," Manage users, view reports, and configure system settings. Admins have full access to the dashboard."]})}),m&&k.jsx("div",{style:{width:"100%",marginBottom:"1rem",color:"#d32f2f",backgroundColor:"rgba(244, 67, 54, 0.1)",padding:"0.75rem",borderRadius:"4px",border:"1px solid rgba(244, 67, 54, 0.3)",fontSize:"0.9rem"},children:m}),k.jsxs("form",{className:"signup-form",onSubmit:b,children:[k.jsx("input",{type:"text",className:"signup-input",placeholder:"Full Name",value:l,onChange:D=>f(D.target.value),required:!0,disabled:y}),k.jsx("input",{type:"email",className:"signup-input",placeholder:"Email Address",value:r,onChange:D=>n(D.target.value),required:!0,disabled:y}),k.jsx("input",{type:"password",className:"signup-input",placeholder:"Password",value:i,onChange:D=>a(D.target.value),required:!0,disabled:y}),k.jsx("button",{type:"submit",className:"signup-btn",disabled:y,style:{opacity:y?.7:1,cursor:y?"not-allowed":"pointer"},children:y?"Creating Account...":"Sign Up"})]})]})})}function Ere(){const[t,e]=pe.useState(null),[r,n]=pe.useState(!1),i=pe.useRef(!1),a=pe.useRef(null),l=ol(),f=()=>{e(null),i.current=!1,n(!0)};return pe.useEffect(()=>{if(!r)return;const m=new m8("reader",{qrbox:{width:250,height:250},fps:7});a.current=m,m.render(g,y);function g(E){i.current||(i.current=!0,e(E),m.clear(),n(!1))}function y(){}return()=>{m.clear().catch(()=>{})}},[r]),k.jsx("div",{className:"member-bg",children:k.jsx("div",{className:"memberMain",children:k.jsxs("div",{className:"member-container",children:[k.jsx("h1",{className:"member-title",children:"Scan QR iiCode"}),k.jsxs("p",{className:"member-desc",children:["You can scan your QR code here!. To save your scan history and access more features, please ",k.jsx("span",{style:{color:"#2196f3",fontWeight:600,cursor:"pointer"},onClick:()=>l("/login"),children:"log in"})," or ",k.jsx("span",{style:{color:"#2196f3",fontWeight:600,cursor:"pointer"},onClick:()=>l("/signup"),children:"sign up"}),"."]}),k.jsx("img",{src:p8,alt:"QR Code Icon",className:"qr-code-icon"}),t?k.jsxs("div",{className:"scan-result success",children:[k.jsx("span",{children:"Result:"})," ",k.jsx("a",{href:t.startsWith("http")?t:"http://"+t,children:t})]}):k.jsxs(k.Fragment,{children:[!r&&k.jsx("button",{className:"scan-btn",onClick:f,children:"Start Scanning"}),r&&k.jsx("div",{id:"reader",className:"qr-reader-box"})]})]})})})}async function wre(){try{const t=[navigator.userAgent,navigator.platform,navigator.language,screen.width,screen.height,screen.colorDepth,Intl.DateTimeFormat().resolvedOptions().timeZone,navigator.hardwareConcurrency,navigator.deviceMemory].join("|"),e=new TextEncoder,r=await crypto.subtle.digest("SHA-256",e.encode(t));return Array.from(new Uint8Array(r)).map(i=>i.toString(16).padStart(2,"0")).join("")}catch(t){console.error("Error generating device fingerprint:",t);let e=0;const r=navigator.userAgent+navigator.platform+Date.now().toString();for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);e=(e<<5)-e+i,e=e&e}return Math.abs(e).toString(16)}}function Tre(){const{qrId:t}=bb();ol();const{currentUser:e}=ds(),[r,n]=pe.useState(null),[i,a]=pe.useState(!0),[l,f]=pe.useState(null),[m,g]=pe.useState({}),[y,E]=pe.useState(!1),[A,C]=pe.useState(!1);pe.useEffect(()=>{async function P(){if(!t){f("Invalid QR code"),a(!1);return}try{const G=Rn(pr,"customQRCodes"),Y=(await Va(G)).docs.find(j=>j.data().qrId===t);if(!Y){f("QR code not found"),a(!1);return}const te=Y.data();if(!te.isActive){f("This QR code is no longer active"),a(!1);return}const ee=new Date;if(te.validFrom&&te.validFrom.trim()!==""){const j=new Date(te.validFrom);if(ee<j){f("This QR code is not yet valid"),a(!1);return}}if(te.validUntil&&te.validUntil.trim()!==""){const j=new Date(te.validUntil);if(ee>j){f("This QR code has expired"),a(!1);return}}n(te);const L={};te.requiresForm&&te.formFields&&te.formFields.forEach(j=>{L[j]=""}),g(L)}catch(G){console.error("Error fetching QR code data:",G),f("Failed to load QR code data")}finally{a(!1)}}P()},[t]);const N=P=>{const{name:G,value:B}=P.target;g(Y=>({...Y,[G]:B}))},b=P=>{const G=P.toLowerCase();return G.includes("email")?"email":G.includes("phone")||G.includes("mobile")?"tel":G.includes("date")?"date":"text"},D=async P=>{P.preventDefault(),E(!0),f(null);try{console.log("Starting attendance submission...");const G=await wre();console.log("Device ID created:",G);const B=ja(pr,"formSubmitCheck",`${t}_${G}`);if((await Mp(B)).exists()){console.log("Multiple Submission Detected"),f("You cannot submit more than 1 response!"),E(!1);return}const te={qrCodeId:t,qrCodeName:r.name,adminId:r.adminId,timestamp:new Date().toISOString(),status:"clock-in",formData:r.requiresForm?m:null,location:r.location,eventType:r.eventType,...e&&{memberId:e.uid}};console.log("Submitting attendance record...");const ee=await tu(Rn(pr,"attendanceRecords"),te);if(console.log("Attendance record submitted successfully:",ee.id),r.requiresForm&&(console.log("Submitting form data..."),await Im(ja(pr,"formSubmitData",`${t}_${G}`),{attendanceRecordId:ee.id,qrCodeId:t,adminId:r.adminId,timestamp:new Date().toISOString(),formData:m,deviceId:G,...e&&{memberId:e.uid}}),console.log("Form data submitted successfully"),await Im(ja(pr,"formSubmitCheck",`${t}_${G}`),{qrCodeId:t,deviceId:G}),console.log("Duplicate check record added successfully")),e){console.log("Updating scan count...");const L=Rn(pr,"customQRCodes"),U=(await Va(L)).docs.find(q=>q.data().qrId===t);if(U){const q=U.data().scanCount||0;console.log("Current scan count:",q),await eE(ja(pr,"customQRCodes",U.id),{scanCount:q+1}),console.log("Scan count updated successfully")}else console.warn("QR code document not found for scan count update")}console.log("Attendance submission completed successfully"),C(!0)}catch(G){console.error("Error submitting attendance:",G),console.error("Error details:",{message:G.message,code:G.code,stack:G.stack}),f(`Failed to submit attendance: ${G.message||"Please try again."}`)}finally{E(!1)}};return i?k.jsx("div",{className:"member-bg",children:k.jsx("h1",{children:"Loading..."})}):l?k.jsxs("div",{className:"member-bg",children:[k.jsx("h1",{children:"Error"}),k.jsx("p",{children:l})]}):A?k.jsx("div",{className:"member-bg",children:k.jsx("h1",{children:"Attendance Recorded!"})}):k.jsx("div",{className:"member-bg",children:k.jsx("div",{className:"memberMain",children:k.jsx("div",{className:"member-container",children:k.jsxs("div",{className:"scan-form-container",children:[k.jsx("h1",{children:r.name}),k.jsx("p",{children:r.description}),r.requiresForm?k.jsxs("form",{onSubmit:D,className:"scan-form-form",children:[r.formFields.map(P=>k.jsxs("div",{className:"scan-form-group",children:[k.jsxs("label",{children:[P,P.toLowerCase().includes("name")||P.toLowerCase().includes("email")?" *":""]}),b(P)==="text"&&!P.toLowerCase().includes("reason")&&k.jsx("input",{type:"text",name:P,value:m[P]||"",onChange:N,required:P.toLowerCase().includes("name")||P.toLowerCase().includes("email"),placeholder:`Enter ${P}`,className:"scan-form-input"}),b(P)==="email"&&k.jsx("input",{type:"email",name:P,value:m[P]||"",onChange:N,required:!0,placeholder:`Enter ${P}`,className:"scan-form-input"}),b(P)==="tel"&&k.jsx("input",{type:"tel",name:P,value:m[P]||"",onChange:N,placeholder:`Enter ${P}`,className:"scan-form-input"}),P.toLowerCase().includes("reason")&&k.jsx("textarea",{name:P,value:m[P]||"",onChange:N,placeholder:`Enter ${P}`,className:"scan-form-textarea"})]},P)),k.jsx("div",{className:"submit-button-container",children:k.jsx("button",{type:"submit",disabled:y,children:y?"Submitting...":"Submit Attendance"})})]}):k.jsxs("div",{children:[k.jsx("p",{children:"This QR code does not require additional information."}),k.jsx("button",{onClick:D,children:"Record Attendance"})]})]})})})})}function Are(){const{sessionId:t}=bb(),e=ol(),[r,n]=pe.useState(null),[i,a]=pe.useState(!0),[l,f]=pe.useState({name:"",email:"",phone:""}),[m,g]=pe.useState(!1),[y,E]=pe.useState("");pe.useEffect(()=>{A()},[t]);const A=async()=>{try{const b=await Mp(ja(pr,"sessions",t));if(b.exists()){const D={id:b.id,...b.data()};n(D)}else E("Session not found")}catch(b){console.error("Error fetching session:",b),E("Error loading session")}finally{a(!1)}},C=async b=>{if(b.preventDefault(),!l.name||!l.email){E("Please fill in all required fields");return}g(!0),E("");try{const D=Ua(Rn(pr,"attendanceLogs"),Bi("sessionId","==",t),Bi("email","==",l.email.toLowerCase()));if(!(await Va(D)).empty){E("You have already checked in to this session");return}await tu(Rn(pr,"attendanceLogs"),{sessionId:t,sessionName:r.name,participantName:l.name,email:l.email.toLowerCase(),phone:l.phone||"",checkInTime:new Date,uniqueCode:N(),adminId:r.adminId}),E("Check-in successful! Welcome to the session."),f({name:"",email:"",phone:""})}catch(D){console.error("Error during check-in:",D),E("Check-in failed. Please try again.")}finally{g(!1)}},N=()=>Math.random().toString(36).substr(2,9).toUpperCase();return i?k.jsx("div",{className:"session-checkin-container",children:k.jsx("div",{className:"loading",children:"Loading session..."})}):r?k.jsx("div",{className:"session-checkin-container",children:k.jsxs("div",{className:"session-checkin-card",children:[k.jsx("h1",{children:r.name}),r.description&&k.jsx("p",{className:"session-description",children:r.description}),k.jsxs("div",{className:"session-details",children:[k.jsxs("div",{className:"detail-item",children:[k.jsx("strong",{children:"Location:"})," ",r.location||"Not specified"]}),k.jsxs("div",{className:"detail-item",children:[k.jsx("strong",{children:"Start:"})," ",r.startDate?new Date(r.startDate).toLocaleString():"Not set"]}),k.jsxs("div",{className:"detail-item",children:[k.jsx("strong",{children:"End:"})," ",r.endDate?new Date(r.endDate).toLocaleString():"Not set"]}),k.jsxs("div",{className:"detail-item",children:[k.jsx("strong",{children:"Status:"})," ",r.isActive?"Active":"Inactive"]})]}),!r.isActive&&k.jsx("div",{className:"inactive-session",children:"This session is currently inactive. Check-in is not available."}),r.isActive&&k.jsxs("form",{onSubmit:C,className:"checkin-form",children:[k.jsx("h2",{children:"Check In"}),k.jsxs("div",{className:"form-group",children:[k.jsx("label",{htmlFor:"name",children:"Full Name *"}),k.jsx("input",{type:"text",id:"name",value:l.name,onChange:b=>f({...l,name:b.target.value}),required:!0,placeholder:"Enter your full name"})]}),k.jsxs("div",{className:"form-group",children:[k.jsx("label",{htmlFor:"email",children:"Email *"}),k.jsx("input",{type:"email",id:"email",value:l.email,onChange:b=>f({...l,email:b.target.value}),required:!0,placeholder:"Enter your email"})]}),k.jsxs("div",{className:"form-group",children:[k.jsx("label",{htmlFor:"phone",children:"Phone (Optional)"}),k.jsx("input",{type:"tel",id:"phone",value:l.phone,onChange:b=>f({...l,phone:b.target.value}),placeholder:"Enter your phone number"})]}),k.jsx("button",{type:"submit",disabled:m,className:"checkin-btn",children:m?"Checking In...":"Check In"})]}),y&&k.jsx("div",{className:`message ${y.includes("successful")?"success":"error"}`,children:y}),k.jsx("button",{onClick:()=>e("/"),className:"back-btn",children:"Back to Home"})]})}):k.jsxs("div",{className:"session-checkin-container",children:[k.jsx("div",{className:"error-message",children:y}),k.jsx("button",{onClick:()=>e("/"),className:"back-btn",children:"Back to Home"})]})}function Sre(){const{currentUser:t}=ds(),[e,r]=pe.useState(!1),[n,i]=pe.useState(""),[a,l]=pe.useState(null),[f,m]=pe.useState(null),[g,y]=pe.useState(!1),E=new Date().toISOString().split("T")[0],A=pe.useRef(null),C=pe.useRef(null);pe.useEffect(()=>(N(),()=>{C.current&&C.current.clear().catch(console.error)}),[]);const N=async()=>{if(t)try{const Y=Rn(pr,"participants"),te=Ua(Y,Bi("email","==",t.email)),ee=await Va(te);if(!ee.empty){const L=ee.docs[0].data();if(l({id:ee.docs[0].id,...L}),L.sessionId){const j=await Mp(ja(pr,"sessions",L.sessionId));j.exists()&&m({id:j.id,...j.data()})}}}catch(Y){console.error("Error checking participant status:",Y)}},b=()=>{if(!a){alert("You are not registered for any session. Please contact your administrator.");return}r(!0),i(""),C.current=new m8("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1},!1),C.current.render(P,G)},D=()=>{r(!1),C.current&&C.current.clear().catch(console.error)},P=async Y=>{i(Y),r(!1),C.current&&C.current.clear().catch(console.error),await B(Y)},G=Y=>{console.log("Scan error:",Y)},B=async Y=>{y(!0);try{if(JSON.parse(Y).sessionId!==a.sessionId){alert("This QR code is not for your registered session.");return}const ee=Rn(pr,"attendanceLogs"),L=Ua(ee,Bi("participantId","==",a.id),Bi("sessionId","==",a.sessionId),Bi("logDate","==",E));if(!(await Va(L)).empty){alert("You have already checked in for this session.");return}await tu(Rn(pr,"attendanceLogs"),{participantId:a.id,sessionId:a.sessionId,participantName:a.name,email:a.email,uniqueCode:a.uniqueCode,checkInTime:new Date,adminId:f.adminId,sessionName:f.name,scannedData:Y,logDate:E}),alert(`Check-in successful! Welcome to ${f.name}, ${a.name}!`)}catch(te){console.error("Error processing scan:",te),alert("Failed to process check-in. Please try again.")}finally{y(!1)}};return a?k.jsxs("div",{className:"participant-scan-container",children:[k.jsx("h2",{children:"Session Check-in"}),k.jsxs("div",{className:"session-info-card",children:[k.jsx("h3",{children:(f==null?void 0:f.name)||"Session"}),k.jsxs("div",{className:"session-details",children:[k.jsxs("p",{children:[k.jsx("strong",{children:"Participant:"})," ",a.name]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Email:"})," ",a.email]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Unique Code:"})," ",a.uniqueCode]}),f&&k.jsxs(k.Fragment,{children:[k.jsxs("p",{children:[k.jsx("strong",{children:"Location:"})," ",f.location]}),k.jsxs("p",{children:[k.jsx("strong",{children:"Start:"})," ",new Date(f.startDate).toLocaleString()]}),k.jsxs("p",{children:[k.jsx("strong",{children:"End:"})," ",new Date(f.endDate).toLocaleString()]})]})]})]}),k.jsxs("div",{className:"scanner-section",children:[k.jsx("h3",{children:"Scan QR Code to Check-in"}),e?k.jsxs("div",{className:"scanner-container",children:[k.jsx("div",{id:"qr-reader",ref:A}),k.jsx("button",{className:"stop-scan-btn",onClick:D,children:"Stop Scanning"})]}):k.jsx("div",{className:"scan-controls",children:k.jsx("button",{className:"scan-btn",onClick:b,disabled:g,children:g?"Processing...":"Start Scanning"})}),n&&k.jsxs("div",{className:"scan-result",children:[k.jsx("h4",{children:"Scan Result:"}),k.jsx("p",{children:n})]})]}),k.jsxs("div",{className:"instructions",children:[k.jsx("h3",{children:"How to Check-in:"}),k.jsxs("ol",{children:[k.jsx("li",{children:"Make sure your camera is enabled"}),k.jsx("li",{children:'Click "Start Scanning" to activate the camera'}),k.jsx("li",{children:"Point your camera at the session QR code"}),k.jsx("li",{children:"Hold steady until the code is recognized"}),k.jsx("li",{children:"You'll receive confirmation once checked in"})]})]})]}):k.jsx("div",{className:"participant-scan-container",children:k.jsxs("div",{className:"not-registered",children:[k.jsx("h2",{children:"Session Check-in"}),k.jsxs("div",{className:"not-registered-content",children:[k.jsx("div",{className:"icon",children:""}),k.jsx("h3",{children:"Not Registered"}),k.jsx("p",{children:"You are not registered for any attendance session."}),k.jsx("p",{children:"Please contact your administrator to get registered."})]})]})})}const Cre=pI({palette:{primary:{main:"#2196F3"}}});function bre(){return k.jsx(z7,{theme:Cre,children:k.jsx(hH,{children:k.jsx(yO,{basename:"/ScanIn-Attendance",children:k.jsxs(Q5,{children:[k.jsx(zo,{path:"/",element:k.jsx(mH,{})}),k.jsx(zo,{path:"/login",element:k.jsx(dH,{})}),k.jsx(zo,{path:"/signup",element:k.jsx(_re,{})}),k.jsx(zo,{path:"/scan",element:k.jsx(Ere,{})}),k.jsx(zo,{path:"/scan-form/:qrId",element:k.jsx(Tre,{})}),k.jsx(zo,{path:"/participant-scan",element:k.jsx(Sre,{})}),k.jsx(zo,{path:"/session-checkin:sessionId",element:k.jsx(Are,{})}),k.jsx(zo,{path:"/member",element:k.jsx(L4,{requiredRole:"member",children:k.jsx(sG,{})})}),k.jsx(zo,{path:"/admin",element:k.jsx(L4,{requiredRole:"admin",children:k.jsx(yre,{})})})]})})})})}a5.createRoot(document.getElementById("root")).render(k.jsx(pe.StrictMode,{children:k.jsx(bre,{})}));
